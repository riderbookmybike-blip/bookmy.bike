@import 'tailwindcss';

/* Dark mode disabled - all dark: utilities are now no-ops (class-based, never activated) */
@variant dark (&:where(.dark, .dark *));

/* =============================================
   DESIGN SYSTEM TOKENS
   Premium Enterprise SaaS - AUMS
   ============================================= */

:root {
    /* Layout Metrics - Responsive */
    --header-h: 64px;
    --hero-offset: 20px;

    @media (min-width: 768px) {
        --header-h: 80px;
        --hero-offset: 32px;
    }

    /* Primary Brand (Cyber Yellow) */
    --color-primary-50: #fefce8;
    --color-primary-100: #fef9c3;
    --color-primary-200: #fef08a;
    --color-primary-300: #fde047;
    --color-primary-400: #facc15;
    --color-primary-500: #ffd700;
    /* Core Brand Color */
    --color-primary-600: #eab308;
    --color-primary-700: #ca8a04;
    --color-primary-800: #a16207;
    --color-primary-900: #854d0e;

    /* Success - Emerald */
    --color-success-50: #ecfdf5;
    --color-success-100: #d1fae5;
    --color-success-500: #10b981;
    --color-success-600: #059669;
    --color-success-700: #047857;

    /* Warning - Amber */
    --color-warning-50: #fffbeb;
    --color-warning-100: #fef3c7;
    --color-warning-500: #f59e0b;
    --color-warning-600: #d97706;
    --color-warning-700: #b45309;

    /* Error - Rose */
    --color-error-50: #fff1f2;
    --color-error-100: #ffe4e6;
    --color-error-500: #f43f5e;
    --color-error-600: #e11d48;
    --color-error-700: #be123c;

    /* Info - Sky */
    --color-info-50: #f0f9ff;
    --color-info-100: #e0f2fe;
    --color-info-500: #0ea5e9;
    --color-info-600: #0284c7;

    /* Neutral - Slate base */
    --color-neutral-50: #f8fafc;
    --color-neutral-100: #f1f5f9;
    --color-neutral-200: #e2e8f0;
    --color-neutral-300: #cbd5e1;
    --color-neutral-400: #94a3b8;
    --color-neutral-500: #64748b;
    --color-neutral-600: #475569;
    --color-neutral-700: #334155;
    --color-neutral-800: #1e293b;
    --color-neutral-900: #0f172a;
    --color-neutral-950: #020617;
}

@layer base {
    :root {
        /* Primary Brand (Cyber Yellow) */
        --color-primary-50: #fefce8;
        --color-primary-100: #fef9c3;
        --color-primary-200: #fef08a;
        --color-primary-300: #fde047;
        --color-primary-400: #facc15;
        --color-primary-500: #ffd700;
        /* Core Brand Color */
        --color-primary-600: #eab308;
        --color-primary-700: #ca8a04;
        --color-primary-800: #a16207;
        --color-primary-900: #854d0e;

        /* Success - Emerald */
        --color-success-50: #ecfdf5;
        --color-success-100: #d1fae5;
        --color-success-500: #10b981;
        --color-success-600: #059669;
        --color-success-700: #047857;

        /* Warning - Amber */
        --color-warning-50: #fffbeb;
        --color-warning-100: #fef3c7;
        --color-warning-500: #f59e0b;
        --color-warning-600: #d97706;
        --color-warning-700: #b45309;

        /* Error - Rose */
        --color-error-50: #fff1f2;
        --color-error-100: #ffe4e6;
        --color-error-500: #f43f5e;
        --color-error-600: #e11d48;
        --color-error-700: #be123c;

        /* Info - Sky */
        --color-info-50: #f0f9ff;
        --color-info-100: #e0f2fe;
        --color-info-500: #0ea5e9;
        --color-info-600: #0284c7;

        /* Neutral - Slate base */
        --color-neutral-50: #f8fafc;
        --color-neutral-100: #f1f5f9;
        --color-neutral-200: #e2e8f0;
        --color-neutral-300: #cbd5e1;
        --color-neutral-400: #94a3b8;
        --color-neutral-500: #64748b;
        --color-neutral-600: #475569;
        --color-neutral-700: #334155;
        --color-neutral-800: #1e293b;
        --color-neutral-900: #0f172a;
        --color-neutral-950: #020617;

        /* Backgrounds */
        --background: #ffffff;
        --background-secondary: #f8fafc;
        --foreground: #0f172a;
        --foreground-muted: #64748b;

        /* Borders */
        --border-default: #e2e8f0;
        --border-subtle: #f1f5f9;
    }

    /* Dark Mode */
    /* Dark Mode - Applied via .dark class */
    .dark {
        --background: #000000;
        --background-secondary: #050505;
        --foreground: #f8fafc;
        --foreground-muted: #94a3b8;
        --border-default: #1a1a1a;
        --border-subtle: #0f0f0f;
    }
}

@layer utilities {
    .glass-panel {
        @apply bg-white/5 backdrop-blur-xl border border-white/10 shadow-2xl;
    }

    .dark .glass-panel {
        @apply bg-black/60 backdrop-blur-2xl border-white/[0.08];
        box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.8);
    }

    .glass-card {
        @apply bg-white/[0.03] backdrop-blur-md border border-white/[0.08] hover:bg-white/[0.06] transition-all duration-300;
    }

    .dark .glass-card {
        @apply bg-white/[0.02] backdrop-blur-lg border-white/[0.05] hover:bg-white/[0.04];
    }

    .text-glow {
        text-shadow: 0 0 15px rgba(255, 255, 255, 0.3);
    }

    .page-container {
        @apply w-full max-w-[1440px] mx-auto px-5 md:px-6;
    }

    /* --- TFT SYNERGY: DIGITAL INSTRUMENT CLUSTER --- */
    :root {
        --tft-bg: #0a0a0a;
        --tft-glass: rgba(15, 15, 15, 0.85);
        --tft-orange: #ffd700;
        --tft-cyan: #ffd700;
        --tft-warning: #ffd700;
        --tft-critical: #ffd700;
        --tft-success: #ffd700;
        --tft-grid: rgba(255, 215, 0, 0.03);
    }

    .tft-viewport {
        background: var(--tft-bg);
        min-height: 100vh;
        color: white;
        overflow: hidden;
    }

    .tft-cluster-frame {
        @apply relative rounded-[32px] overflow-hidden border-[12px] border-[#1a1a1a];
        background: radial-gradient(circle at center, #151515 0%, #080808 100%);
        box-shadow:
            0 50px 100px -20px rgba(0, 0, 0, 0.8),
            inset 0 2px 10px rgba(255, 255, 255, 0.05);
    }

    .tft-glass-panel {
        @apply bg-[#0f0f0f]/80 backdrop-blur-2xl border border-white/5;
        box-shadow: inset 0 0 40px rgba(0, 0, 0, 0.4);
    }

    .tft-lcd-grid {
        background-image:
            linear-gradient(var(--tft-grid) 1px, transparent 1px),
            linear-gradient(90deg, var(--tft-grid) 1px, transparent 1px);
        background-size: 20px 20px;
    }

    .tft-indicator-glow {
        filter: drop-shadow(0 0 8px currentColor);
    }

    .tft-gauge-arc {
        stroke-dasharray: 1000;
        stroke-linecap: round;
        transition: stroke-dashoffset 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .tft-number {
        font-variant-numeric: tabular-nums;
        letter-spacing: -0.05em;
    }

    .tft-beveled {
        /* Arbitrary shadow values need underscores to replace spaces and comma pads */
        @apply border-white/5;
        box-shadow:
            inset 0 1px 1px rgba(255, 255, 255, 0.1),
            0 4px 6px -1px rgba(0, 0, 0, 0.4);
        background: linear-gradient(145deg, rgba(255, 255, 255, 0.02) 0%, transparent 100%);
    }
}

/* Tailwind Theme Inline */
@theme {
    --color-background: var(--background);
    --color-background-secondary: var(--background-secondary);
    --color-foreground: var(--foreground);
    --color-foreground-muted: var(--foreground-muted);

    /* Breakpoints (Tailwind v4 style) */
    --breakpoint-sm: 640px;
    --breakpoint-md: 768px;
    --breakpoint-lg: 900px;
    /* Reduced for 960x540 TV support */
    --breakpoint-xl: 1280px;
    --breakpoint-2xl: 1536px;

    /* Font Families */
    --font-sans: var(--font-inter), ui-sans-serif, system-ui, sans-serif;
    --font-mono: var(--font-jetbrains-mono), ui-monospace, monospace;
    --font-racing: 'Bruno Ace SC', cursive;
}

/* =============================================
   TV-SPECIFIC OVERRIDES (data-tv="1")
   Tuned for 960x540 lean-back viewport density
   ============================================= */

[data-tv='1'] .page-container {
    max-width: 1440px;
    --header-h: 56px;
    padding-left: 3rem !important;
    padding-right: 3rem !important;
    padding-top: 2rem !important;
}

@media (min-width: 768px) {
    [data-tv='1'] .page-container {
        padding-left: 1.5rem !important;
        padding-right: 1.5rem !important;
    }
}

[data-tv='1'] {
    --header-h: 64px;
}

[data-tv='1'] .lg\:hidden {
    display: none !important;
}

[data-tv='1'] .lg\:flex {
    display: flex !important;
}

[data-tv='1'] .lg\:block {
    display: block !important;
}

/* TV catalog density: desktop-like composition for 960x540 */
[data-tv='1'] .tv-catalog-grid {
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 2rem;
}

/* Reverting to 3 columns based on user feedback for better breathing room */
@media (min-width: 900px) {
    [data-tv='1'] .tv-catalog-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }
}

[data-tv='1'] [data-testid='catalog-product-card'] {
    min-height: 328px !important;
}

[data-tv='1'] [data-testid='catalog-product-card'] > div:first-child {
    height: 170px !important;
}

/* Ensure lg:grid-cols-3 also obeys the 3-column rule on TV if present */
@media (min-width: 900px) {
    [data-tv='1'] .lg\:grid-cols-3 {
        grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
        gap: 2rem !important;
    }
}

/* PDP vertical fit tuning for low-height TV viewports */
[data-tv='1'] .tv-pdp-shell {
    padding-top: 0.75rem !important;
}

[data-tv='1'] .tv-pdp-rail {
    height: min(66vh, 560px) !important;
    gap: 0.9rem !important;
}

/* =============================================
   BASE STYLES
   ============================================= */

body {
    background: var(--background);
    color: var(--foreground);
    font-family: var(--font-sans);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    transition:
        background-color 0.3s ease,
        color 0.3s ease;
}

/* Ensure color-scheme is correct for scrollbars/etc */
:root {
    color-scheme: light;
}

/* Dark mode safety net removed â€” project is light-only */

/* =============================================
   TYPOGRAPHY UTILITIES
   ============================================= */

/* Monospace for IDs, VINs, Chassis Numbers, Invoice refs */
.font-mono-display {
    font-family: var(--font-mono);
    font-feature-settings: 'tnum' 1;
    letter-spacing: 0.02em;
}

/* =============================================
   COMPONENT UTILITIES
   ============================================= */

/* Subtle zebra rows for tables */
.zebra-row:nth-child(even) {
    background-color: rgba(248, 250, 252, 0.5);
}

.dark .zebra-row:nth-child(even) {
    background-color: rgba(30, 41, 59, 0.3);
}

/* Scrollbar styling */
.scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: var(--color-neutral-300) transparent;
}

.dark .scrollbar-thin {
    scrollbar-color: var(--color-neutral-700) transparent;
}

.scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

.scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: var(--color-neutral-300);
    border-radius: 3px;
}

.dark .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: var(--color-neutral-700);
}

/* =============================================
   STATUS BADGE UTILITIES
   ============================================= */

.badge-success {
    background-color: var(--color-success-50);
    color: var(--color-success-700);
    border: 1px solid var(--color-success-100);
}

.dark .badge-success {
    background-color: rgba(16, 185, 129, 0.1);
    color: #34d399;
    border-color: rgba(16, 185, 129, 0.2);
}

.badge-warning {
    background-color: var(--color-warning-50);
    color: var(--color-warning-700);
    border: 1px solid var(--color-warning-100);
}

.dark .badge-warning {
    background-color: rgba(245, 158, 11, 0.1);
    color: #fbbf24;
    border-color: rgba(245, 158, 11, 0.2);
}

.badge-error {
    background-color: var(--color-error-50);
    color: var(--color-error-700);
    border: 1px solid var(--color-error-100);
}

.dark .badge-error {
    background-color: rgba(244, 63, 94, 0.1);
    color: #fb7185;
    border-color: rgba(244, 63, 94, 0.2);
}

.badge-info {
    background-color: var(--color-info-50);
    color: var(--color-info-600);
    border: 1px solid var(--color-info-100);
}

.dark .badge-info {
    background-color: rgba(14, 165, 233, 0.1);
    color: #38bdf8;
    border-color: rgba(14, 165, 233, 0.2);
}

.badge-neutral {
    background-color: var(--color-neutral-50);
    color: var(--color-neutral-600);
    border: 1px solid var(--color-neutral-100);
}

.dark .badge-neutral {
    background-color: rgba(100, 116, 139, 0.1);
    color: #94a3b8;
    border-color: rgba(100, 116, 139, 0.2);
}

/* =============================================
   ANIMATION UTILITIES
   ============================================= */
@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

@keyframes slideInRight {
    from {
        transform: translateX(100%);
        opacity: 0;
    }

    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.animate-fade-in {
    animation: fadeIn 0.3s ease-out;
}

.animate-slide-in-right {
    animation: slideInRight 0.3s ease-out;
}

@keyframes marquee {
    0% {
        transform: translateX(0);
    }

    100% {
        transform: translateX(-50%);
    }
}

.animate-marquee {
    animation: marquee 40s linear infinite;
}

.animate-marquee:hover {
    animation-play-state: paused;
}

@keyframes marquee-reverse {
    0% {
        transform: translateX(-50%);
    }

    100% {
        transform: translateX(0);
    }
}

.animate-marquee-reverse {
    animation: marquee-reverse 40s linear infinite;
}

.animate-marquee-reverse:hover {
    animation-play-state: paused;
}

/* =============================================
   FORM UTILITIES
   ============================================= */

/* Hide number input spinners (up/down arrows) system-wide */
input[type='number']::-webkit-inner-spin-button,
input[type='number']::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

input[type='number'] {
    -moz-appearance: textfield;
    appearance: textfield;
}
