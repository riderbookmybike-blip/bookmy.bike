(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[40218],{6552:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>l,C9:()=>o,i5:()=>s});var n=i(877293),r=i(670563),a=i(887261);const o=6,s=14,l=n.StyleSheet.create({parentView:{borderColor:r.Cf.fkBlueColor,minWidth:107,alignItems:"center"},parentViewKilos:{borderColor:r.Jy.butterCup_800,minWidth:107,alignItems:"center",borderWidth:1,borderRadius:4},parentViewBorder:{borderWidth:1,borderRadius:4},swatchView:{borderColor:r.Cf.fkBlueColor,minWidth:97,alignItems:"center"},addToBasketText:{color:r.Cf.fkBlueColor,textAlign:"center",textAlignVertical:"center",fontSize:s,fontFamily:a.$u,includeFontPadding:!1,minWidth:72,padding:o},counterButton:{width:31,flexDirection:"row",justifyContent:"center",alignItems:"center"},quantityText:{flex:22,borderTopWidth:1,borderBottomWidth:1,alignItems:"center",height:32,justifyContent:"center"},addToCartButton:{height:32,flex:1,paddingHorizontal:12,paddingVertical:4,borderWidth:1,borderRadius:2,borderColor:r.V9.borderBlue},minusText:{width:30,textAlign:"center",color:r.Cf.fkBlueColor,fontSize:22,marginBottom:15},verticalBar:{width:1,backgroundColor:r.Cf.fkBlueColor},counterText:{flex:1,textAlign:"center",color:r.Jy.lightBlack,fontSize:14,minWidth:40,fontFamily:a.$u,includeFontPadding:!1},counterTextKilos:{flex:1,textAlign:"center",color:r.Jy.butterCup_800,fontSize:14,minWidth:40,fontFamily:a.$u,includeFontPadding:!1},counterView:{height:32,flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end"},loaderStyle:{flex:1,minWidth:40},plusText:{width:36,textAlign:"center",color:r.Cf.fkBlueColor,fontSize:22},hBar:{width:12,height:2},vBarContainer:{position:"absolute",top:0,left:0,right:0,bottom:0,justifyContent:"center",alignItems:"center"},vBar:{height:12,width:2}})},6921:(e,t,i)=>{"use strict";i.d(t,{A:()=>p});var n,r=i(296540),a=i(302019),o=i(877293),s=i(45426),l=i(738221),d=i.n(l),c=i(1319),u=i(415283),h=i(672748);!function(e){e.OUTER_CONTAINER="OUTER_CONTAINER",e.ITEM_CONTAINER="ITEM_CONTAINER",e.SHOW_MORE_CONTAINER="SHOW_MORE_CONTAINER"}(n||(n={}));class p extends r.Component{constructor(e){super(e),this.itemsWithIndexAndWidth=[],this.itemContainerWidth=0,this.showMoreButtonWidth=0,this.itemAnimation=new o.Animated.Value(0),this.storeWidthAndCallUpdateFinalState=(e,t,i,r)=>{switch(e){case n.OUTER_CONTAINER:this.itemContainerWidth=t;break;case n.ITEM_CONTAINER:r&&(0,h.Et)(i)&&this.itemsWithIndexAndWidth.push({item:r,index:i,width:t});break;case n.SHOW_MORE_CONTAINER:this.showMoreButtonWidth=t}this.updateFinalState()},this.onButtonPress=e=>{e?this.updateState(!0,(()=>{this.startAnimation(1,500)})):this.startAnimation(0,0,(()=>{this.updateState(!1)})),this.expandUIAction()},this.updateState=(e,t)=>{this.setState({showRemainingItems:e},(()=>{null==t||t()}))},this.startAnimation=(e,t,i)=>{o.Animated.timing(this.itemAnimation,{toValue:e,duration:t,useNativeDriver:!0}).start((()=>{null==i||i()}))},this.state={showRemainingItems:!1,isFinalState:!1,maxItemsCount:0},this.updateFinalState=d()(this.updateFinalState,30)}updateFinalState(){const e=this.getMaxItemsToShowCount();this.setState(Object.assign(Object.assign({},this.state),{isFinalState:!0,maxItemsCount:e}))}getMaxItemsToShowCount(){let e=this.itemsWithIndexAndWidth.sort(((e,t)=>e.index-t.index)),t=0,i=0,n=this.itemContainerWidth,r=0,a=0;if(1===this.props.maxNumberOfLines){e.reduce(((e,t)=>e+t.width),0)>n&&(n-=this.showMoreButtonWidth)}for(;a<Math.min(this.props.maxNumberOfItems,e.length)&&i!==this.props.maxNumberOfLines;)if(e[a].width+r>n){if(i++,r=0,i===this.props.maxNumberOfLines-1){e.slice(a).reduce(((e,t)=>e+t.width),0)>n&&(n-=this.showMoreButtonWidth)}}else r+=e[a].width,a++;return t=a,0===t&&e.length>1&&1===this.props.maxNumberOfLines&&(t=1),t}renderItemsAndButtons(){const{showRemainingItems:e,maxItemsCount:t,isFinalState:i}=this.state,{items:s}=this.props,l=i?t:s.length;return s.map(((t,s)=>s<l?r.createElement(a.az,{key:s,opacity:i?1:0,onLayout:i?void 0:e=>this.storeWidthAndCallUpdateFinalState(n.ITEM_CONTAINER,e.nativeEvent.layout.width,s,t)},this.props.renderItem(t,s)):e?r.createElement(o.Animated.View,{key:s,style:{opacity:this.itemAnimation.interpolate({inputRange:[0,1],outputRange:[0,1]})}},this.props.renderItem(t,s)):null)).concat(e?r.createElement(a.az,{key:"showLessButton"},this.renderShowLess()):r.createElement(a.az,{key:"showMoreButton",opacity:i?1:0},this.renderShowMore()))}renderShowMore(){const{isFinalState:e,showRemainingItems:t,maxItemsCount:i}=this.state,{items:o,renderShowMoreCalloutButton:l}=this.props;return t||i===o.length?null:r.createElement(s.S,{onPress:()=>{this.onButtonPress(!0)}},r.createElement(a.az,{onLayout:e?void 0:e=>this.storeWidthAndCallUpdateFinalState(n.SHOW_MORE_CONTAINER,e.nativeEvent.layout.width)},l(o.length-i)))}renderShowLess(){const{showRemainingItems:e}=this.state,{renderShowLessCalloutButton:t}=this.props;return e?r.createElement(s.S,{onPress:()=>{this.onButtonPress(!1)}},r.createElement(a.az,null,t())):null}expandUIAction(){if("web"===o.Platform.OS){const e={type:c.J.ExpandAspectRatingPillItems};this.props.dispatchAction&&this.props.dispatchAction(u.Q3.EXPAND_ACTION,new c.Z(e))}}render(){return r.createElement(a.az,{width:"100%",onLayout:this.state.isFinalState?void 0:e=>this.storeWidthAndCallUpdateFinalState(n.OUTER_CONTAINER,e.nativeEvent.layout.width)},r.createElement(a.fI,{flexWrap:"wrap",alignItems:"center"},this.renderItemsAndButtons()))}}},9149:(e,t,i)=>{"use strict";i.r(t),i.d(t,{SingleQuestionQuizViewType:()=>A,default:()=>S});var n=i(52754),r=i(465420),a=i(296540),o=i(877293),s=i(723372),l=i(479892),d=i(857850),c=i(558931),u=i(408791),h=i(110941),p=i(229022),g=i(914944),m=i(716249),v=i(390437),_=i(352254),C=i(45426);class E extends m.A{constructor(e,t){super(e,t),this.pageHeight=this.props.appContext.uiContext.getPageFrame().height,this.pageWidth=this.props.appContext.uiContext.getPageFrame().width,this.widgetWidth=.55*this.pageWidth,this.QUESTION_IMAGE_DIMENSION=70,this.containerStyle=[l.C1.colFlexCenter,l.C1.border_radius_4,l.C1.backgroundWhite,{width:this.widgetWidth}],this.titleContainerStyle=[l.C1.alignItemCenter,l.C1.margin_bottom_8],this.headingContinerStyle=[l.C1.absolute_top_position,l.C1.margin_top_16,l.C1.margin_bottom_32],this.retryMessageStyle=[l.XT.fontMedium_14,l.XT.lineHeight_20],this.questionTextStyle=[l.C1.colWithoutFlex,l.C1.margin_horizontal_16,l.C1.margin_top_8],this.questionTextDefaultStyle=[l.C1.padding_horizontal_6,l.C1.padding_bottom_16,l.XT.alignTextCenterVertical,l.XT.alignTextCenter],this.optionsViewStyle=[l.C1.rowWithoutFlex,l.C1.wrap,l.C1.padding_vertical_12,l.C1.padding_horizontal_6],this.optionImageStyle=[l.C1.margin_horizontal_4],this.btnViewStyle=[l.C1.margin_bottom_8,{width:.8*this.widgetWidth},l.C1.justifyContentCenter],this.getBtnBorderColor=e=>{let t=l.PH.buttonWithoutShadow;return e.action&&e.action.url&&this.state.isCorrectOptionSelected&&(t=[l.PH.buttonWithoutShadow,{borderColor:d.Cf.fkGreen}]),e.action&&!e.action.url&&this.state.isWrongOptionSelected&&!this.state.isCorrectOptionSelected&&(t=l.PH.redButtonWithoutShadow,this.wrongOptionBtnTimer&&clearTimeout(this.wrongOptionBtnTimer),this.wrongOptionBtnTimer=setTimeout((()=>{this.setState({isWrongOptionSelected:!1})}),800)),t},this._renderOption=e=>{var t;const i=[this.getBtnBorderColor(e),this.btnViewStyle],n=[l.XT.buttonText,l.XT.alignTextCenter,l.C1.width_full],r=null===(t=e.value)||void 0===t?void 0:t.image;return r?a.createElement(C.S,{onPress:this._handleOptionTapped,onPressParam:e.action},a.createElement(_.A,{style:this.optionImageStyle,source:r.dynamicImageUrl,height:this.QUESTION_IMAGE_DIMENSION,width:this.QUESTION_IMAGE_DIMENSION,resizeMode:"contain"})):a.createElement(p.A,{btnData:e,btnViewStyle:i,btnTextStyle:n,onPress:this._handleOptionTapped,onPressParam:e.action})},this._canStartTransitions=()=>!1,this._onModalStateChange=e=>{},this._onClose=e=>{e&&this.dispatchAction(d.Q3.MAPI_ACTION,new g.rs(e)),this.trackDiscoveryWidgetEngagementEvent(v.O.CLOSE_STORY)},this.state=Object.assign(Object.assign({},this.state),{isCorrectOptionSelected:!1,isWrongOptionSelected:!1,showWrongAnswerTitle:!1,wrongAnswerText:"",wrongAnswerEmoji:""}),this._handleOptionTapped=this._handleOptionTapped.bind(this)}static getWidgetHeight(e){return e.appContext.uiContext.getPageFrame().height}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i)||this.state.isWrongOptionSelected!==t.isWrongOptionSelected||this.state.isCorrectOptionSelected!==t.isCorrectOptionSelected||this.state.showWrongAnswerTitle!==t.showWrongAnswerTitle}componentWillUnmount(){this.wrongOptionBtnTimer&&clearTimeout(this.wrongOptionBtnTimer),this.wrongOptionTitleTimer&&clearTimeout(this.wrongOptionTitleTimer)}renderWidget(){return this.state.showWrongAnswerTitle&&(this.wrongOptionTitleTimer&&clearTimeout(this.wrongOptionTitleTimer),this.wrongOptionTitleTimer=setTimeout((()=>{this.setState({showWrongAnswerTitle:!1})}),1200)),this.renderModalWidget()}renderModalWidget(){const e=(0,n.xH)(this.props.widgetSlotData);if(!e)return;const t=e.title,i=e.questionText,r=e.options,d=e.backgroundImage,u=this.widgetWidth,p=o.StyleSheet.flatten(this.headingContinerStyle),g=p.marginTop+p.marginBottom+2*(null==t?void 0:t.data[0].value.style.lineHeight);return a.createElement(c.A,{pageHeight:this.pageHeight,pageWidth:this.pageWidth,scrollProps:this.props.scrollProps,closeIcon:e.closeIcon,onModalStateChange:this._onModalStateChange,canStartTransitions:this._canStartTransitions,actionDispatcher:this.props.actionDispatcher,onClose:this._onClose,cardStyle:this.containerStyle,onCloseWithoutTransition:!0},a.createElement(o.View,{style:this.titleContainerStyle},d&&a.createElement(o.Image,{source:{uri:h.A.generateImageUrl(d,u,g)},style:{width:u,height:g},resizeMode:"stretch"}),a.createElement(o.View,{style:this.headingContinerStyle},!this.state.showWrongAnswerTitle&&t&&a.createElement(s.A,{style:l.C1.colWithoutFlex,messages:t}),this.state.showWrongAnswerTitle&&a.createElement(o.View,{style:l.C1.alignItemCenter},a.createElement(o.Text,{style:this.retryMessageStyle},this.state.wrongAnswerEmoji),a.createElement(o.Text,{style:this.retryMessageStyle},this.state.wrongAnswerText)))),i&&a.createElement(s.A,{imageHeight:this.QUESTION_IMAGE_DIMENSION,messages:i,style:this.questionTextStyle,textDefaultStyle:this.questionTextDefaultStyle}),r&&a.createElement(o.View,{style:this.optionsViewStyle},r.map(this._renderOption)))}_handleOptionTapped(e,t){t&&t.url&&this.props.actionDispatcher?(this.setState({isCorrectOptionSelected:!0,isWrongOptionSelected:!1,showWrongAnswerTitle:!1}),setTimeout((()=>{this.dispatchAction(d.Q3.MAPI_ACTION,new g.rs(t))}),800)):t&&(this.state.isCorrectOptionSelected||(this.setState({isWrongOptionSelected:!0,showWrongAnswerTitle:!0,wrongAnswerText:t.params.retryMessagePrefix||"",wrongAnswerEmoji:t.params.failureEmoji||""}),o.Vibration.vibrate(200)))}}const T=192;class f extends E{constructor(){super(...arguments),this._cardScale=new o.Animated.Value(0),this._cardOpacity=new o.Animated.Value(0),this._widgetOpacity=new o.Animated.Value(1),this._lottieHeight=.4*this.pageHeight,this.QUESTION_IMAGE_DIMENSION=70,this._gamifiedQuestionTextStyle=[l.C1.colWithoutFlex,l.C1.margin_horizontal_16,l.C1.margin_top_8,l.C1.margin_top_0],this._gamifiedOptionsViewStyle=[l.C1.rowWithoutFlex,l.C1.wrap,l.C1.padding_vertical_12,l.C1.justifyContentCenter],this._gamifiedContainerStyle=[l.C1.col,l.C1.border_radius_4,{width:T}],this._gamifiedRetryMessageStyle=[l.XT.fontMedium_14,l.XT.lineHeight_20],this._gamifiedQuestionTextDefaultStyle=[l.C1.padding_bottom_10],this._couponContainer={minHeight:250,opacity:this._cardOpacity,transform:[{scale:this._cardScale}]},this._textContainerStyle=[l.C1.alignItemCenter,l.C1.backgroundWhite,l.C1.padding_bottom_16,l.C1.padding_top_4,l.C1.border_bottom_radius_4],this._lottieStyle=[l.C1.positionAbsolute,l.C1.alignSelfCenter,{height:this._lottieHeight,aspectRatio:1}],this.optionImageStyle=[l.C1.margin_horizontal_4],this.gamifiedTitleContainerStyle=[{width:T},l.C1.alignItemCenter,l.C1.padding_vertical_20],this.gamifiedTitleStyle=[l.C1.colWithoutFlex,l.C1.alignItemCenter],this.btnViewStyle=[{width:163.2},l.C1.colWithoutFlex,l.C1.justifyContentCenter,l.C1.margin_bottom_8,l.C1.margin_left_0],this._handleOptionTapped=(e,t)=>{(null==t?void 0:t.url)&&this._fadeCard(),super._handleOptionTapped(e,t)},this._fadeCard=()=>{o.Animated.timing(this._widgetOpacity,{toValue:0,duration:800,useNativeDriver:!0,easing:o.Easing.ease}).start()},this._onAnimationFinish=()=>{o.Animated.parallel([o.Animated.timing(this._cardOpacity,{toValue:1,useNativeDriver:!0,easing:o.Easing.ease}),o.Animated.timing(this._cardScale,{toValue:1,duration:400,useNativeDriver:!0,easing:o.Easing.ease})]).start()}}renderModalWidget(){const e=(0,n.xH)(this.props.widgetSlotData);if(!e)return;const t=e.revealAnimation,i=e.title,r=e.questionText,p=e.options,g=e.backgroundColor||d.Jy.blackWithOpacity70;return a.createElement(o.View,{style:{backgroundColor:g}},a.createElement(o.Animated.View,{style:{opacity:this._widgetOpacity}},a.createElement(c.A,{pageHeight:this.pageHeight,pageWidth:this.pageWidth,scrollProps:this.props.scrollProps,closeIcon:e.closeIcon,onModalStateChange:this._onModalStateChange,canStartTransitions:this._canStartTransitions,actionDispatcher:this.props.actionDispatcher,onClose:this._onClose,onCloseWithoutTransition:!0,cardStyle:this._gamifiedContainerStyle},t&&a.createElement(o.View,{style:this._lottieStyle},a.createElement(u.n,{sourceUrl:t,loop:!1,autoPlay:!0,onAnimationFinish:this._onAnimationFinish,speed:1})),a.createElement(o.Animated.View,{style:this._couponContainer},i&&e.backgroundImage&&a.createElement(o.ImageBackground,{source:{uri:h.A.generateImageUrl(e.backgroundImage,T,92)},style:this.gamifiedTitleContainerStyle,resizeMode:"stretch"},!this.state.isWrongOptionSelected&&a.createElement(s.A,{style:this.gamifiedTitleStyle,messages:i}),this.state.isWrongOptionSelected&&a.createElement(o.View,{style:l.C1.alignItemCenter},a.createElement(o.Text,{style:this._gamifiedRetryMessageStyle},this.state.wrongAnswerEmoji),a.createElement(o.Text,{style:this._gamifiedRetryMessageStyle},this.state.wrongAnswerText))),a.createElement(o.View,{style:this._textContainerStyle},r&&a.createElement(s.A,{imageHeight:this.QUESTION_IMAGE_DIMENSION,messages:r,style:this._gamifiedQuestionTextStyle,textDefaultStyle:this._gamifiedQuestionTextDefaultStyle,imageDefaultStyle:l.C1.margin_bottom_4}),p&&a.createElement(o.View,{style:this._gamifiedOptionsViewStyle},p.map((e=>this._renderOption(e)))))))))}}var A;!function(e){e.GAME_COUPON_VARIANT="GAME_COUPON_VARIANT"}(A||(A={}));class S extends r.A{getWidgetClass(e){return"GAME_COUPON_VARIANT"===(0,n.KJ)(e.widgetSlotData)?f:E}getWidgetHeight(e){return E.getWidgetHeight(e)}}},9996:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(918210),r=i(90513),a=i(532655),o=i(229833),s=i(97529),l=i(311676);class d{handleAction(e,t,i){var c,u;if(e.payload){const h={};switch(e.payload.type){case s.A.SWATCH_COLOR_PICKER_CLICK:o.A.addEvent(h,r.fM.EVENT34),n.A.addPageData(h);break;case s.A.SWATCH_SHOW_SIMILAR_RECO_CLICK:{const t=e.payload,i=null==t?void 0:t.trackingParams;if(i){const e=i.getOTracker1();e&&(h[r.Ay.EVAR30]=e),n.A.addPageData(h)}break}case s.A.SWATCH_SIZE_CHART_CLICK:{o.A.addEvent(h,r.fM.EVENT64);const e=d._getProductPageContext(t),i=e&&e.tracking?e.tracking.sproduct:void 0;i&&(h[r.Ay.PRODUCTS]=i),n.A.addEventData(h),n.A.trackEventUnderName("SizeChartClick");break}case s.A.SWATCH_SELECTION_PAGE_OPENED:if(t){const s=e.payload.trackingSource;o.A.addEvent(h,r.fM.EVENT1),o.A.addEvent(h,r.fM.EVENT187);const c=d._getProductPageContext(t),u=c&&c.trackingDataV2&&c.trackingDataV2.sproduct;u&&(h[r.Ay.PRODUCTS]=u),h[r.Ay.PROP41]="BottomSheet_SellerInfoOpen",n.A.setBackCall(t.pageMeta.pageUID,!1);const p="SWATCH_POPUP_WIDGET"+(s?`_${s}`:"");n.A.addAndTrackPageData(t.pageMeta.pageUID,p,a.A.ProductSwatch,h);const g=d._getProductPageContext(t),m=g&&g.fetchId?g.fetchId:"";i(new l.ax6(new l.PIn(m)))}break;case s.A.SWATCH_OPTIONS_EXPANDED:{const e="PP_More_Swatch";if(t){const i=d._getProductPageContext(t),a=i&&i.trackingDataV2&&i.trackingDataV2.sproduct;o.A.fillProp3FromState(h,t),a&&(h[r.Ay.PRODUCTS]=a),o.A.addEvent(h,r.fM.EVENT187),n.A.addEventData(h),n.A.trackEventUnderName(e)}break}case s.A.SWATCH_SELECTION_CLICK:{const i="Size_selection_Size_Chart_Page";if(t){const a=e.payload,s=a.pageInfo,l=a.totalOOSItems,d=null==s?void 0:s.pageContext,p=null===(c=null==d?void 0:d.tracking)||void 0===c?void 0:c.sProduct;o.A.fillProp3FromState(h,t),p&&(h[r.Ay.PRODUCTS]=p),o.A.addEvent(h,r.fM.EVENT626),l&&(o.A.addEvent(h,r.fM.EVENT627),h[r.fM.EVENT627]=`${l}`),h[r.Ay.EVAR14]=(null===(u=null==d?void 0:d.tracking)||void 0===u?void 0:u.productStatus)||"",h[r.Ay.PROP27]="product_available",n.A.addEventData(h),n.A.trackEventUnderName(i)}break}}}return!0}static _getProductPageContext(e){return e&&e.pageDataResponse&&e.pageDataResponse.pageContext}}},10142:(e,t)=>{"use strict";!function(e){e.LIST="LIST",e.TICKER="TICKER"}(t.K||(t.K={}))},12987:(e,t,i)=>{var n=i(719972),r=i(744307);function a(t,i){return delete e.exports[t],e.exports[t]=i,i}e.exports={Parser:n,Tokenizer:i(171670),ElementType:i(967495),DomHandler:r,get FeedHandler(){return a("FeedHandler",i(406143))},get ProxyHandler(){return a("ProxyHandler",i(761299))},get DomUtils(){return a("DomUtils",i(647910))},get CollectingHandler(){return a("CollectingHandler",i(64513))},DefaultHandler:r,get RssHandler(){return a("RssHandler",this.FeedHandler)},parseDOM:function(e,t){var i=new r(t);return new n(i,t).end(e),i.dom},parseFeed:function(t,i){var r=new e.exports.FeedHandler(i);return new n(r,i).end(t),r.dom},createDomStream:function(e,t,i){var a=new r(e,t,i);return new n(a,t)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},14001:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>T});var n=i(465420),r=i(296540),a=i(438993),o=i(52754),s=i(877293),l=i(479892),d=i(352254),c=i(302019),u=i(110941),h=i(495176),p=i(560203),g=i(492418),m=i(436710),v=i(547134),_=i(957775);const C=c.fI.extendComponent({name:"CoinEarnDataContainer",defaultProps:{alignItems:"center",mt:"s5",justifyContent:"space-between",flexDirection:"row-reverse"}});class E extends a.A{constructor(){super(...arguments),this.BORDER_STROKE_COLOR="#F8CB5A",this.COIN_IMG_SIZE=16,this.BOTTOMSHEET_IMG_ASPECT_RATIO="360:240",this.headerBgImageStyle=[l.C1.border_top_left_radius_4,l.C1.border_top_right_radius_4,l.C1.overflowHidden],this.containerStyle=[l.C1.padding_horizontal_16,l.C1.padding_bottom_16,l.C1.padding_top_12],this.coinEarnContainerStyle=[l.C1.border_radius_8,l.C1.border_width_1,l.C1.overflowHidden,l.C1.padding16H,l.C1.padding_top_8,l.C1.padding_bottom_12,l.C1.margin_bottom_16],this._renderRow=e=>r.createElement(C,null,this._renderCoinData(e)),this._renderCoinData=e=>{var t,i;const n=null==e?void 0:e.coinImage,a=null==e?void 0:e.coinValue,o=null==e?void 0:e.text,s=null!==(t=null==n?void 0:n.width)&&void 0!==t?t:this.COIN_IMG_SIZE,l=null!==(i=null==n?void 0:n.height)&&void 0!==i?i:this.COIN_IMG_SIZE;return r.createElement(r.Fragment,null,r.createElement(c.fI,{alignItems:"center",mb:"s1"},n?r.createElement(d.A,{source:null==n?void 0:n.dynamicImageUrl,width:s,height:l}):null,a?r.createElement(h.A,{richTextData:a,style:{marginLeft:2}}):null),o?r.createElement(h.A,{richTextData:o}):null)}}static getHeight(e){const t=(0,o.nS)(e.widgetSlotData),i=null==t?void 0:t.data;let n=0;n+=super.getAdditionalHeight(e);const r=null==i?void 0:i.coinEarnData,a=null==r?void 0:r.coinEarnInfo,s=a?(null==a?void 0:a.length)*this.COIN_EARN_CONTAINER_HEIGHT:0;return n+=(null==i?void 0:i.headerImage)?this.BOTTOMSHEET_HEADER_IMG_HEIGHT:0,n+=(null==i?void 0:i.image)?this.BOTTOMSHEET_IMG_HEIGHT:0,n+=r?s:0,n+=(null==r?void 0:r.coinInfoValue)?this.COIN_INFO_VALUE_CONTENT_HEIGHT:0,n}componentDidMount(){super.componentDidMount(),this.props.actionDispatcher&&(0,_.dispatchDgAction)(v.A.SERVICE_COIN_EARN_CALLOUT_POPUP,this.props.actionDispatcher)}renderWidget(){var e,t;const i=(0,o.nS)(this.props.widgetSlotData),n=null==i?void 0:i.data,a=null==n?void 0:n.headerImage,h=null==n?void 0:n.image,v=null==n?void 0:n.coinEarnData,_=null==v?void 0:v.coinInfoValue,C=null==v?void 0:v.coinEarnInfo,E=null!==(e=null==v?void 0:v.borderColour)&&void 0!==e?e:this.BORDER_STROKE_COLOR,T=this.getScreenWidth(),f=(0,m.o)(T),A=null!==(t=null==h?void 0:h.aspectRatio)&&void 0!==t?t:this.BOTTOMSHEET_IMG_ASPECT_RATIO,S=u.A.getHeight(T,A);return r.createElement(r.Fragment,null,a?r.createElement(c.az,{style:this.headerBgImageStyle,height:f,width:T},r.createElement(s.ImageBackground,{source:{uri:u.A.generateImageUrl(a,T,f)},resizeMode:"cover",style:l.C1.flex})):null,r.createElement(c.az,{style:this.containerStyle},r.createElement(c.az,{style:this.coinEarnContainerStyle,borderColor:E},r.createElement(c.az,{alignItems:"center",marginBottom:"s5"},this._renderCoinData(_)),C?r.createElement(c.az,null,r.createElement(c.az,{alignItems:"center"},r.createElement(p.A,{heightVal:1,widthVal:145,backgroundColor:g.V9u.mecuryGrey})),C.map((e=>this._renderRow(e)))):null),h&&r.createElement(d.A,{source:null==h?void 0:h.dynamicImageUrl,width:T,height:S,style:l.C1.alignSelfCenter})))}}E.COIN_EARN_CONTAINER_HEIGHT=44,E.BOTTOMSHEET_HEADER_IMG_HEIGHT=61,E.BOTTOMSHEET_IMG_HEIGHT=240,E.COIN_INFO_VALUE_CONTENT_HEIGHT=67;class T extends n.A{getWidgetClass(){return E}getWidgetHeight(e){return E.getHeight(e)}}},14300:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(90513),r=i(918210),a=i(97529);class o{handleAction(e,t,i){var o;if((null===(o=e.payload)||void 0===o?void 0:o.type)===a.A.FREEBIE_UNSELECT_CLICK){const e={};return e[n.Ay.EVAR50]=t.pageMeta.pageName,r.A.addAndtrackEventUnderName("digital_freebie_attach_deselect_attempted",e),!0}return!1}}},16553:(e,t,i)=>{"use strict";i.d(t,{e:()=>a});var n=i(156981),r=i(513192);const a=Object.assign(Object.assign({},n.G),r.h)},18626:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(918210),r=i(90513);class a{handleAction(e,t,i){const a={},o=t.pageDataResponse&&t.pageDataResponse.pageContext&&t.pageDataResponse.pageContext;let s;return!(!o||!o.trackingDataV2)&&(s=o.trackingDataV2.sproduct,a[r.Mk.PRODUCTS]=s,n.A.addEventData(a),n.A.trackEventUnderName("ViewCertificate_Clicked"),!0)}}},22072:(e,t,i)=>{"use strict";i.d(t,{Lb:()=>r,o2:()=>a});var n=i(296540);i(352254),i(685847),i(468248),i(302019);const r=22,a=92;n.PureComponent},25971:(e,t,i)=>{"use strict";i.d(t,{A:()=>w});var n=i(296540),r=i(388447),a=i(8374),o=i(877293),s=i(302019),l=i(45426),d=i(738221),c=i.n(d),u=i(29960),h=i(479892),p=i(927443),g=i(386474),m=i(352254),v=i(598318),_=i(257246),C=i(484956),E=i(743764);class T extends n.PureComponent{render(){const{swatchDisplayType:e,option:t,selected:i,disabled:r,showPrice:a,formattedPrice:o,formattedMRPPrice:l}=this.props;let d;switch(e){case"BOX_IMAGE":d=this.renderBoxImageSwatch(t,i,r,a,o);break;case"CIRCLE_COLOR":d=this.renderCircleColorSwatch(t,i,r,a,o);break;case"CIRCLE_TEXT":d=this.renderCircleTextSwatch(t,i,r,a,o);break;case"BOX_LIST":d=this.renderBoxListSwatch(t,i,r,a,o,l);break;default:d=this.renderBoxTextSwatch(t,i,r,a,o,l)}return n.createElement(s.az,null,d)}renderBoxListSwatch(e,t,i,r,a,o){var l,d;const{productInfo:c}=this.props,u=null==c?void 0:c.available;return n.createElement(v.x4,{borderThemeColor:(0,_.Ix)(this.props.themeContext),key:e.value,selected:t,disabled:i,available:u},n.createElement(s.fv,{alignItems:"flex-start"},n.createElement(v.pl,{primaryDLSThemeColor:(0,_.C_)(this.props.themeContext),selected:t,disabled:i,available:u},e.value),!!(null==c?void 0:c.scarcityCallout)&&n.createElement(s.JU,{font:"s",color:"raw.magenta.600"},c.scarcityCallout)),n.createElement(v.BI,null,r&&n.createElement(v.DC,{available:u,selected:t,disabled:i},a),u&&n.createElement(s.fI,{justifyContent:"center",alignItems:"center"},(null===(l=c.pricing)||void 0===l?void 0:l.totalDiscount)&&n.createElement(s.fI,{justifyContent:"center",alignItems:"center"},n.createElement(s.az,{pt:"s1"},(0,C.b9)(E.b4.DOWNWARD_ARROW,12,"#108934")),n.createElement(v.Sq,null,`${null===(d=c.pricing)||void 0===d?void 0:d.totalDiscount}%`)),o&&n.createElement(v.kZ,null,o))))}renderBoxTextSwatch(e,t,i,r,a,o){const{textSwatchWithPriceExpanded:l,productInfo:d,showTag:c}=this.props,u=null==d?void 0:d.available,h=n.createElement(v.wx,{available:u,selected:t,disabled:i,showPrice:l?r:void 0,borderThemeColor:(0,_.Ix)(this.props.themeContext)},l&&c&&!!(null==d?void 0:d.nudgeMessage)&&n.createElement(v.is,{top:-10,left:12},d.nudgeMessage.toUpperCase()),n.createElement(v.Rn,{available:u,selected:t,disabled:i,showPrice:l?r:void 0,backgroundDLSThemeColor:(0,_.lv)(this.props.themeContext)},n.createElement(v.E,{available:u,selected:t,disabled:i,showPrice:l?r:void 0,primaryDLSThemeColor:(0,_.C_)(this.props.themeContext)},e.value)),l&&n.createElement(v.MN,null,r&&n.createElement(v.GK,{available:u,selected:t,disabled:i},a),u&&o&&n.createElement(v.tS,null,o)));return l?h:n.createElement(s.az,{alignItems:"center"},h,r&&!!a&&n.createElement(v.qI,{selected:t,disabled:i,primaryDLSThemeColor:(0,_.C_)(this.props.themeContext)},a))}renderBoxImageSwatch(e,t,i,r,a){const o=i?.5:1,{productInfo:s,showTag:l}=this.props;return n.createElement(v.Ui,null,l&&!!(null==s?void 0:s.nudgeMessage)&&n.createElement(v.is,{top:-10},s.nudgeMessage.toUpperCase()),n.createElement(v.tv,{selected:t,disabled:i,borderThemeColor:(0,_.Ix)(this.props.themeContext)},n.createElement(m.A,{source:e.imageUrl,style:{opacity:o},height:v.fz-8,width:v.fz-8})),!r&&n.createElement(v.DK,{selected:t,disabled:i,primaryDLSThemeColor:(0,_.C_)(this.props.themeContext)},e.value),r&&!!a&&n.createElement(v.qI,{available:null==s?void 0:s.available,selected:t,disabled:i,primaryDLSThemeColor:(0,_.C_)(this.props.themeContext)},a))}renderCircleTextSwatch(e,t,i,r,a){return n.createElement(s.az,{alignItems:"center"},n.createElement(v.Z8,{selected:t,disabled:i,borderThemeColor:(0,_.Ix)(this.props.themeContext),backgroundDLSThemeColor:(0,_.lv)(this.props.themeContext)},n.createElement(v.Sw,{selected:t,disabled:i,primaryDLSThemeColor:(0,_.C_)(this.props.themeContext)},e.value)),r&&!!a&&n.createElement(v.qI,{selected:t,disabled:i,primaryDLSThemeColor:(0,_.C_)(this.props.themeContext)},a))}renderCircleColorSwatch(e,t,i,r,a){var l,d;const c=e.paletteColorCodes&&e.paletteColorCodes.length>1?(0,g.gU)(e.paletteColorCodes):null===(d=null===(l=e.paletteColorCodes)||void 0===l?void 0:l[0])||void 0===d?void 0:d.code;return n.createElement(s.az,{alignItems:"center"},n.createElement(v.Wp,{selected:t,disabled:i,borderThemeColor:(0,_.Ix)(this.props.themeContext)},n.createElement(o.View,{style:[v.kD,{backgroundColor:c}]},i&&T.getCross())),r&&!!a&&n.createElement(v.qI,{selected:t,disabled:i,primaryDLSThemeColor:(0,_.C_)(this.props.themeContext)},a))}static getCross(){return n.createElement(v.Bc,null,n.createElement(v.xk,{style:{transform:[{rotate:"45deg"}]}}),n.createElement(v.xk,{style:{transform:[{rotate:"-45deg"}]}}),n.createElement(v.iy,null))}}var f=i(201159),A=i(876505),S=i(716249),y=i(492418);class w extends n.PureComponent{constructor(e,t){super(e),this.swatchItemPositionMap={},this.isTextSwatchWithPriceExpanded=!0,this.scrollToPosition=e=>{var t;const i=this.swatchItemPositionMap[e];i&&(null===(t=this.scrollViewRef)||void 0===t||t.scrollTo({x:i-16,y:0,animated:!0}))},this.onSizeChartClick=(e,t)=>{var i,n;null===(n=(i=this.props).onSizeChartClick)||void 0===n||n.call(i,t)},this._onMultiSwatchClicked=()=>{this.props.openBottomSheet&&this.props.openBottomSheet()},this.onSwatchExpandCollapseClick=()=>{var e,t;!this.props.expandCollapseDisabled&&(null===(t=(e=this.props).onSwatchExpandCollapseClick)||void 0===t||t.call(e,this.props.data.id,!this.props.isSwatchExpanded))},this.setScrollViewref=e=>{this.scrollViewRef=e},this.onSwatchOptionPressed=(e,t)=>{var i,n;null===(n=(i=this.props).onSwatchOptionPressed)||void 0===n||n.call(i,this.props.swatchIndex,t.index,this.props.data?this.props.data.id:void 0,t.value)},this.onSwatchItemLayout=(e,t)=>{this.swatchItemPositionMap[t]=e.nativeEvent.layout.x},this.scrollToPosition=c()(this.scrollToPosition,500)}static getHeight(e,t,i){let n=44;const r=this.getSwatchDisplayType(e),a=!!(null==e?void 0:e.showPrice),o=a&&"BOX_TEXT"===r;if(t)switch(i&&!o&&(n+=16),r){case"BOX_IMAGE":n+=100;break;case"BOX_TEXT":n+=o?90:a?74:54;break;case"CIRCLE_COLOR":case"CIRCLE_TEXT":n+=56+(a?20:0);break;default:n+=0}return n}componentDidMount(){var e;const{finalOptions:t,data:i}=this.props;let n=null!==(e=null==i?void 0:i.selectedOptionIndex)&&void 0!==e?e:0;if(-1===(null==i?void 0:i.selectedOptionIndex)){const e=t.findIndex((e=>!(e.disabled&&e.outOfStock)));-1!==e&&(n=t[e].optionIndex)}this.scrollToPosition(n)}componentDidUpdate(e,t,i){var n,r,a,o,s,l;const d=null===(n=e.currentActiveCombination)||void 0===n?void 0:n.join(u.L.SWATCH_COMBINATION_SEPARATOR),c=null===(r=this.props.currentActiveCombination)||void 0===r?void 0:r.join(u.L.SWATCH_COMBINATION_SEPARATOR);let h=null!==(o=null===(a=this.props.data)||void 0===a?void 0:a.selectedOptionIndex)&&void 0!==o?o:0;if(d!==c&&!this.props.recentChangeInSwatch&&-1===(null===(s=this.props.data)||void 0===s?void 0:s.selectedOptionIndex)){this.swatchItemPositionMap={};const e=this.props.finalOptions.find((e=>!(e.disabled&&e.outOfStock)));h=null!==(l=null==e?void 0:e.optionIndex)&&void 0!==l?l:0}this.scrollToPosition(h)}render(){var e;if(!this.props.data)return null;const t=`${null===(e=this.props.currentActiveCombination)||void 0===e?void 0:e.join("_")}_${this.props.data.id}_`;return this.renderSwatch(this.props.data,t)}renderSwatch(e,t){if(!e)return null;const i=e.maxAttributeCount,r=e.primaryAttribute,a=e.attributeText,d=e.selectedOptionText,c=e.selectedOptionIndex,u=this.props.finalOptions,p=w.getSwatchDisplayType(e),{isSwatchExpanded:g,expandCollapseDisabled:_,groupedOptions:C}=this.props;return n.createElement(s.az,{pt:"s5",pb:_||g?"s5":"s0"},n.createElement(l.S,{hitSlop:{top:10,bottom:10},onPress:this.onSwatchExpandCollapseClick,disableFeedback:!0},n.createElement(v.PO,{pb:_||g?"s0":"s5"},n.createElement(v.U$,null,!!a&&n.createElement(v.hO,null,`${a}: `),!!d&&n.createElement(v.rp,null,d)),n.createElement(v.lb,null,this.renderSwatchHeaderAdditionalContent(e),!_&&n.createElement(s.az,{ml:"s5",style:[{transform:[{rotate:"0deg"}]},g&&{transform:[{rotate:"180deg"}]}]},n.createElement(m.A,{disableDefaultPlaceholderImage:!0,source:y.uaq,width:15,height:7}))))),_||g?this.renderPreSwatchListContent(e):void 0,!r&&this.props.showBottomSheetView?this.renderBottomSheet(C,c):n.createElement(o.ScrollView,{style:_||g?h.C1.overflowVisible:[h.C1.height_0,h.C1.overflowHidden],ref:this.setScrollViewref,horizontal:!0,showsHorizontalScrollIndicator:!1},u.map(((e,n)=>{const r=`${t}${e.optionIndex}`;if(!i||n<i)return this.renderSwatchOption(r,e,p,c===e.optionIndex,n,u.length,i)})),i?this.renderViewAll():void 0),_||g?this.renderPostSwatchListContent(e):void 0)}renderBottomSheet(e,t){return e&&0!==Object.keys(e).length?this.renderBottomSheetGroupView(t):this.renderBottomSheetLinearView(t)}renderBottomSheetGroupView(e){const t=this.props.groupedOptions;if(t){return Object.keys(t).map((i=>{const r=t[i];return n.createElement(s.az,{key:i,px:"s6",pt:"s3"},n.createElement(s.JU,{font:"s_medium",py:"s4"},`${i} ${r.length>1?this.props.combinationsText:this.props.combinationText}`),r.map(((t,a)=>n.createElement(s.az,{key:i,pb:"s5"},this.renderSwatchOption(i,t,"BOX_LIST",e===t.optionIndex,a,r.length,void 0)))))}))}}renderBottomSheetLinearView(e){const t=this.props.finalOptions;if(t)return t.map(((i,r)=>{const a=`${i.optionIndex}`;return n.createElement(s.az,{key:a,px:"s6",pb:"s4",pt:0===r?"s5":"s0"},this.renderSwatchOption(a,i,"BOX_LIST",e===i.optionIndex,r,t.length,void 0))}))}renderSwatchHeaderAdditionalContent(e){var t,i;const r=e.sizeChartInfo;return r?n.createElement(l.S,{onPress:this.onSizeChartClick,onPressParam:r,disableFeedback:!0},n.createElement(s.fI,{mx:"s3",alignItems:"center"},n.createElement(f.bL,{color:null!==(t=(0,_.C_)(this.props.themeContext))&&void 0!==t?t:"primary.main",size:30,mr:"s4"}),n.createElement(s.JU,{font:"s_medium",alignSelf:"center",color:null!==(i=(0,_.C_)(this.props.themeContext))&&void 0!==i?i:"primary.main"},r.displayText))):null}renderPreSwatchListContent(e){const t=e.options.find((t=>t.optionIndex===e.selectedOptionIndex));if((null==t?void 0:t.description)&&Object.keys(t.description).length>0){const e=w.combinedStringFromRecord(t.description);return n.createElement(s.JU,{font:"s",color:"raw.grey.900",mx:"s6",mt:"s5",numberOfLines:1},e)}return null}renderViewAll(){var e,t;return n.createElement(l.S,{onPress:this._onMultiSwatchClicked},n.createElement(s.az,{borderColor:null!==(e=(0,_.Ix)(this.props.themeContext))&&void 0!==e?e:y.Jyk.fkGrayForty,mt:"s6",alignItems:"center",justifyContent:"center",mr:"s6",minWidth:this.props.showPrice?140:80,maxWidth:140,height:94,borderRadius:4,borderWidth:1},n.createElement(s.JU,{color:null!==(t=(0,_.C_)(this.props.themeContext))&&void 0!==t?t:"raw.blue.600"},this.props.viewAllText)))}renderPostSwatchListContent(e){var t,i;const r=e.tooltip;return r&&r.text?n.createElement(s.JU,{font:"s",color:"raw.grey.900",mx:"s6",mt:"s6"},`${null!==(t=r.emoji)&&void 0!==t?t:""}${r.key?`${r.key}: `:""}${null!==(i=r.text)&&void 0!==i?i:""}`):null}renderSwatchOption(e,t,i,r,a,o,d){var c,u,h,g,m,_,C;const E=(d||o)-1===a,f=0===a,{showPrice:y,showTag:I}=this.props;let b;if(y||I){const e=w.getSwatchCombination(null!==(c=this.props.currentActiveCombination)&&void 0!==c?c:[],this.props.swatchIndex,t.optionIndex);b=null===(h=(u=this.props).getProductInfoForCombination)||void 0===h?void 0:h.call(u,e)}const D=t.disabled?this.props.availableInOtherColorText:y&&(null===(m=null===(g=null==b?void 0:b.pricing)||void 0===g?void 0:g.finalPrice)||void 0===m?void 0:m.value)&&b.available?(0,p.k1)(b.pricing.finalPrice.value):this.props.OOSText,x=D!==this.props.availableInOtherColorText&&(null===(C=null===(_=null==b?void 0:b.pricing)||void 0===_?void 0:_.mrp)||void 0===C?void 0:C.value)?(0,p.k1)(b.pricing.mrp.value):void 0,P="BOX_IMAGE"===i,O=y&&this.isTextSwatchWithPriceExpanded&&"BOX_TEXT"===i,R=!O&&!P&&(I&&!!(null==b?void 0:b.nudgeMessage)),k=O&&I&&!R&&!!(null==b?void 0:b.scarcityCallout),V=O&&I&&!!(null==b?void 0:b.scarcityCallout),L=t.disabled,M=k||V?null==b?void 0:b.tracking:void 0,N=M&&this.props.widgetProps?S.A.getTrackingParams(this.props.widgetProps,M):void 0;return n.createElement(s.az,{onLayout:e=>{this.onSwatchItemLayout(e,t.optionIndex)},key:`${e}${r}${L}`,ml:"BOX_LIST"===i?"s0":f?"s6":"CIRCLE_COLOR"===i?"s2":"s4",mr:"BOX_LIST"===i?"s0":E?"s4":"s0",pt:"BOX_LIST"===i?"s0":"s6"},n.createElement(l.S,{onPress:L?void 0:this.onSwatchOptionPressed,onPressParam:{index:t.optionIndex,value:t.value},disableFeedback:!0},n.createElement(A.A,{trackingInfo:this.getSwatchOptionTrackingInfo(N)},n.createElement(s.az,null,n.createElement(T,{productInfo:b,showTag:I,textSwatchWithPriceExpanded:O,swatchDisplayType:i,option:t,selected:r,disabled:L,showPrice:y,formattedPrice:D,themeContext:this.props.themeContext,formattedMRPPrice:x})),k&&!!(null==b?void 0:b.scarcityCallout)&&n.createElement(v.P9,null,b.scarcityCallout),R&&!!(null==b?void 0:b.nudgeMessage)&&n.createElement(v.Qg,null,b.nudgeMessage.toUpperCase()))))}getSwatchOptionTrackingInfo(e){return e&&this.props.getContentViewTrackingData?this.props.getContentViewTrackingData(e):void 0}static getSwatchCombination(e,t,i){var n;return e[t]=i,null!==(n=e.join(u.L.SWATCH_COMBINATION_SEPARATOR))&&void 0!==n?n:""}static getSwatchDisplayType(e){switch(null==e?void 0:e.viewType){case r.q.BOX:switch(null==e?void 0:e.type){case a.Z.IMAGE:return"BOX_IMAGE";case a.Z.CIRCLE_TEXT:return"CIRCLE_TEXT";default:case a.Z.TEXT:return"BOX_TEXT"}case r.q.CIRCLE:return"CIRCLE_COLOR"}return"BOX_TEXT"}}w.combinedStringFromRecord=e=>{let t="";return Object.keys(e).sort().forEach((i=>{if(e.hasOwnProperty(i)){const n=e[i];t=t+"  "+i+" "+n+"  |"}})),t=t.slice(0,-2).trim(),t}},31403:(e,t,i)=>{"use strict";i.d(t,{A:()=>A});var n=i(296540),r=i(877293),a=i(560203),o=i(22679),s=i(911294),l=i(52754),d=i(415283),c=i(716249),u=i(45426),h=i(813652),p=i(914944),g=i(841620),m=i(952465),v=i(580555),_=i(311676),C=i(479892),E=i(352254),T=i(780914),f=i(503207);class A extends T.A{constructor(){super(...arguments),this.dispatchFooterAction=e=>{if(!e||!this.props.actionDispatcher)return;const t=(0,l.nS)(this.props.widgetSlotData),i=t?t.tracking:void 0,n=this.getProductId();if(n&&i){const e=new _.IDL(n,this._getImpressionInfo(new v.Ay(i)));this.trackDGEvent(e)}this.trackDiscoveryContentClickEvent(e.tracking),this.dispatchAction(d.Q3.MAPI_ACTION,new p.rs(e))},this._questionClickHandler=e=>{this.trackDiscoveryContentClickEvent(e.tracking),this._didClickQuestionHandler(e)},this.onQnaHeaderClick=(e,t)=>{this.onHeaderClick(t)},this.onQnaHeaderActionButtonClick=(e,t)=>{const i=t&&t.tracking;i&&this.trackDiscoveryContentClickEvent(i),this.onHeaderActionButtonClick(t)}}static getWidgetHeight(e){const t=(0,l.nS)(e.widgetSlotData),i=t?t.data:void 0;if(!i)return 0;let n=0;if(i.questions){const e=i.questions?Math.min(i.questions.length,3):0;for(let t=0;t<e;t++){const e=i.questions[t].value;e&&(n+=o.A.getHeight(e))}}return n+=i.postQuestionButton?100:0,c.A.getAdditionalHeight(e)+n}renderHeader(e){const t=e&&e.header&&e.header?e.header:void 0,i=t&&t.value&&t.value.titleValue&&t.value.titleValue.text?t.value.titleValue.text:void 0,a=t&&t.action?t.action:void 0,o=t&&t.value&&t.value.actionButton?t.value.actionButton:void 0;return i?n.createElement(r.View,null,n.createElement(u.S,{onPress:this.onQnaHeaderClick,onPressParam:a,disableFeedback:!0},n.createElement(r.View,{style:m.VD.qnaHeaderContainer},n.createElement(r.View,{style:m.VD.headerTitlesContainer},n.createElement(r.Text,{style:m.VD.headerText},i)),o&&this._renderHeaderActionButton(o)))):void 0}_renderHeaderActionButton(e){const t=e&&e.value&&e.value.title?e.value.title:void 0,i=e&&e.value&&e.value.image?e.value.image:void 0,a=i&&i.dynamicImageUrl?i.dynamicImageUrl:h.searchBlue,o=e&&e.action?e.action:void 0;if(!t)return;const s=n.createElement(u.S,{onPress:this.onQnaHeaderActionButtonClick,onPressParam:o},n.createElement(r.View,{style:[C.PH.buttonWithoutShadow]},n.createElement(E.A,{source:a,height:12,width:12}),n.createElement(r.Text,{style:C.XT.buttonTextWithIconPreFix},t))),l=e&&e.tracking;return l?this.getTrackableContentView(s,l):s}renderFooter(e){const t=e&&e.footer&&e.footer?e.footer:void 0,i=t&&t.tracking;if(!t)return;const r=n.createElement(f.Ay,{footerValue:t,footerSeparatorEnabled:this.isFooterSeparatorEnabled(),dispatchFooterAction:this.dispatchFooterAction,action:e.footer?e.footer.action:void 0});return i?this.getTrackableContentView(r,i):r}renderWidget(){const e=(0,l.nS)(this.props.widgetSlotData),t=(0,l.Nt)(this.props.widgetSlotData),i=e?e.data:void 0;if(i){const e=i.questions;return n.createElement(r.View,null,e?e.map(((e,i)=>{if(i<3){const l=e.value&&this._getAbuseAction(e.value);return n.createElement(r.View,{key:i},n.createElement(o.A,{questionRC:e,transientData:t&&t.items?t.items[i]:void 0,index:i,getMenuItemViews:()=>this._getMenuItemViews(l,i),didExpandHandler:this.didExpandHandler,didUpvoteHandler:this.didUpvoteHandler,didDownvoteHandler:this.didDownvoteHandler,didShowMenuHandler:this.didShowAbuseHandler,didShowOtherAnswersHandler:this.didShowOtherAnswersHandler,didReportAbuseHandler:this.didReportAbuseHandler,didHideMenuHandler:this.didHideAbuseHandler,didClickQuestionHandler:this._questionClickHandler,fetchId:this.getFetchId(),getTrackableContentView:this.getTrackableContentView}),n.createElement(a.A,{heightVal:s.Ns}))}})):void 0,i.postQuestionButton&&i.postQuestionButton.value&&i.postQuestionButton.value.title?n.createElement(r.View,null,n.createElement(g.A,{title:i.postQuestionButton.value.title,subtitle:i.postQuestionButton.value.subTitle,didSelectAction:this.didPostQuestion,action:i.postQuestionButton.action,productPageButtonStyle:C.PH.productPageButton})):void 0)}}renderDivider(){}_getAbuseAction(e){let t;if(e.answers&&e.answers[0]){const i=e.answers[0].abuse;i&&(t=i.action)}return t}}},32659:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ProductDetailsEnumLocal:()=>F,default:()=>q});var n=i(296540),r=i(716249),a=i(877293),o=i(670563),s=i(887261);const l=a.StyleSheet.create({container:{flex:1,backgroundColor:o.Jy.white,flexDirection:"column",paddingTop:8,paddingRight:16,paddingLeft:16,paddingBottom:8},table:{flex:1,flexDirection:"column"},row:{flex:1,flexDirection:"row",paddingBottom:16},textContainer:{flex:5},spaceContainer:{flex:1},textLeft:{marginRight:8,fontSize:14,flex:2,color:"#878787",fontFamily:s.A$,includeFontPadding:!1},textRightContainer:{flex:2},textLeftContainer:{flex:2},textRight:{fontSize:14,flex:2,color:"#212121",fontFamily:s.$u,includeFontPadding:!1},textTop:{fontSize:14,flex:.25,color:"#878787",fontFamily:s.A$,includeFontPadding:!1,lineHeight:20,paddingBottom:2},textBottom:{fontSize:14,flex:10,color:"#212121",fontFamily:s.$u,includeFontPadding:!1,lineHeight:20},title:{fontSize:16,lineHeight:24,flex:1,color:"#212121",fontFamily:s.$u,includeFontPadding:!1,paddingBottom:8},detailsText:{fontSize:14,lineHeight:24,flex:1,color:"#2c2c2c",fontFamily:s.A$,paddingBottom:16},truncateTextStyle:{color:o.p$,fontSize:14,fontFamily:s.jG},line:{flex:1,backgroundColor:o.Jy.separator,height:1}});var d=i(52754),c=i(420721),u=i(410752),h=i(872926);const p="fkreact://expand_html";class g extends n.PureComponent{constructor(){super(...arguments),this.lineBreakRemoveTagList=["&nbsp;","<p>","</p>","<br />"],this.DEFAULT_TRUNCATE_TEXT=(0,c.ak)(this.context.locale,{id:u.H.rex_string_MORE_TEXT}),this._onPress=()=>{this.props&&this.props.onPress&&this.props.onPress()},this._onLinkPress=e=>{p===e&&this._onPress()}}render(){const e=this.props.truncateAfterCharLimit?this.props.truncateAfterCharLimit:200,t=this.props.text.length>e,i=this.props.textAfterTruncate?this.props.textAfterTruncate:this.DEFAULT_TRUNCATE_TEXT,r={style:this.props.containerStyle};return!t||this.props.isExpanded&&t?n.createElement(h.A,{textComponentProps:r,stylesheet:m,value:this._getHtmlTextForRendering(this.props.text),paragraphBreak:""}):n.createElement(a.View,null,n.createElement(h.A,{value:this._getSubstringTextForRendering(this._getHtmlTextForRendering(this.props.text),e,i),textComponentProps:r,stylesheet:m,onLinkPress:this._onLinkPress,paragraphBreak:""}))}_getHtmlTextForRendering(e){return e.replace(/(\r\n|\n|\r)/gm,"")}_getSubstringTextForRendering(e,t,i){return this._removeEndHtmlTags(e.substring(0,t).trim())+"... <a href="+p+">"+i+"</a>"}_removeEndHtmlTags(e){const t=e.lastIndexOf("<");t>e.lastIndexOf(">")&&(e=e.substring(0,t));let i=e;do{e=i,i=this._removeLineBreakingTags(e)}while(i!==e);return i}_removeLineBreakingTags(e){for(const t of this.lineBreakRemoveTagList)e.endsWith(t)&&(e=e.slice(0,-t.length).trim());return e}}g.contextType=c.V8;const m=a.StyleSheet.create({htmlView:{padding:16},pageOverviewText:{fontSize:14,fontFamily:s.A$,lineHeight:20},headerText:{marginTop:16,marginRight:16,marginLeft:16,fontSize:16,fontFamily:s.A$,lineHeight:22}});var v=i(897846),_=i(727e3),C=i(257246);class E extends n.Component{constructor(e,t){super(e,t),this._toggleDescriptionExpanded=()=>{this.props.onExpansion&&this.props.onExpansion(),this.setState({descriptionExpanded:!this.state.descriptionExpanded})},this.state={descriptionExpanded:!1}}static getHeight(){return 144}render(){return n.createElement(_.w.Consumer,null,(e=>n.createElement(a.View,null,n.createElement(a.Text,{style:[l.title,(0,C.Qn)(e)]},"Details"),this._containsHtml(this.props.details)?n.createElement(g,{isExpanded:this.state.descriptionExpanded,text:this.props.details,onPress:this._toggleDescriptionExpanded,containerStyle:l.detailsText}):n.createElement(v.A,{isExpanded:this.state.descriptionExpanded,text:this.props.details,onPress:this._toggleDescriptionExpanded,containerStyle:[l.detailsText,(0,C.Qn)(e)],textAfterTruncateStyle:l.truncateTextStyle}))))}_containsHtml(e){return new RegExp("<[a-z]+.*>").test(e)}}class T extends n.Component{constructor(){super(...arguments),this.productSpecsListView=e=>null==e?void 0:e.map(((e,t)=>n.createElement(_.w.Consumer,null,(i=>{var r;return n.createElement(a.View,{style:l.row,key:`specAttribute_${t}`},n.createElement(a.Text,{style:[l.textLeft,(0,C.oO)(i)]},e.name),n.createElement(a.View,{style:l.textRightContainer},n.createElement(a.Text,{style:[l.textRight,(0,C.Qn)(i)]},null===(r=e.values)||void 0===r?void 0:r[0])))}))))}static getHeight(e){if(e){return 40*e.length}return 100}render(){return n.createElement(a.View,{style:l.table},this.productSpecsListView(this.props.specification))}}var f=i(1319),A=i(415283);class S extends r.A{constructor(){super(...arguments),this._toggleDescriptionExpanded=()=>{const e={type:f.J.ExpandProductDescription};this.dispatchAction(A.Q3.EXPAND_ACTION,new f.Z(e))}}static getWidgetHeight(e){const t=(0,d.nS)(e.widgetSlotData),i=t?t.data:void 0;if(i&&i.renderableComponent){const t=i.renderableComponent.value;return S.getAdditionalHeight(e)+T.getHeight(t.specification)+E.getHeight()}return 200}renderWidget(){const e=(0,d.nS)(this.props.widgetSlotData),t=this.props.widgetSlotData&&this.props.widgetSlotData.transientData&&this.props.widgetSlotData.transientData.isExpanded||!1,i=e?e.data:void 0;if(i){const e=i.renderableComponent?i.renderableComponent.value:void 0;if(e&&e.details&&e.specification)return n.createElement(a.View,{style:l.container},n.createElement(a.View,null,n.createElement(T,{specification:e.specification})),n.createElement(E,{isDescriptionExpanded:t,onExpansion:this._toggleDescriptionExpanded,details:e.details}))}}isHeaderBottomBorderEnabled(){return!1}isFooterSeparatorEnabled(){return!0}renderFooterSeparator(){return n.createElement(a.View,{style:l.line})}}var y=i(465420);class w extends r.A{constructor(){super(...arguments),this._toggleDescriptionExpanded=()=>{const e={type:f.J.ExpandProductDescription};this.dispatchAction(A.Q3.EXPAND_ACTION,new f.Z(e))}}static getWidgetHeight(e){return S.getAdditionalHeight(e)+E.getHeight()}renderWidget(){const e=(0,d.nS)(this.props.widgetSlotData),t=e?e.data:void 0,i=this.props.widgetSlotData&&this.props.widgetSlotData.transientData&&this.props.widgetSlotData.transientData.isExpanded||!1;if(t){const e=t.renderableComponent?t.renderableComponent.value:void 0;if(e&&e.details)return n.createElement(a.View,{style:l.container},n.createElement(E,{isDescriptionExpanded:i,onExpansion:this._toggleDescriptionExpanded,details:e.details}))}}isHeaderBottomBorderEnabled(){return!1}isFooterSeparatorEnabled(){return!0}renderFooterSeparator(){return n.createElement(a.View,{style:l.line})}}class I extends r.A{static getWidgetHeight(e){const t=(0,d.nS)(e.widgetSlotData),i=t?t.data:void 0;if(i&&i.renderableComponent){const t=i.renderableComponent.value;return S.getAdditionalHeight(e)+T.getHeight(t.specification)}return 200}renderWidget(){const e=(0,d.nS)(this.props.widgetSlotData),t=e?e.data:void 0;if(t){const e=t.renderableComponent?t.renderableComponent.value:void 0;if(e&&e.specification){const t=e.specification;return n.createElement(a.View,{style:l.container},n.createElement(T,{specification:t}))}}}isHeaderBottomBorderEnabled(){return!1}isFooterSeparatorEnabled(){return!0}renderFooterSeparator(){return n.createElement(a.View,{style:l.line})}}var b=i(794990),D=i(975508),x=i(479892),P=i(45426),O=i(560203),R=i(868261),k=i(468248);class V extends n.Component{constructor(){super(...arguments),this._onHeaderClick=(e,t)=>{this.props.onHeaderClick(t)}}static getHeight(e){const t=e&&e.value;return t?t.referenceImageValue?72:53:0}render(){const e=this.props.headerValue,t=e.value,i=t&&t.titleValue&&t.titleValue.text;if(!t||!i)return null;const r=t.subTitleValue&&t.subTitleValue.text,o=this.props.isBottomBorderEnabled(),s=e.action,l=this.props.style;return n.createElement(P.S,{onPress:this._onHeaderClick,onPressParam:s,disableFeedback:!0},n.createElement(a.View,null,n.createElement(a.View,{style:l.headerContainer},n.createElement(a.View,{style:[x.C1.row,x.C1.contentAlignCenter]},n.createElement(a.View,{style:x.C1.col},n.createElement(a.Text,{style:l.headerText},i),r?n.createElement(a.Text,{numberOfLines:1,style:l.headerSubtitleText},r,r):null),n.createElement(a.View,{style:R.n8.chevronImageContainerWithFlex},n.createElement(a.Image,{source:k.j.getChevronSrc(),style:this.props.collapsed?R.n8.chevronImageHeader:R.n8.chevronImageHeaderExpand})))),o&&n.createElement(O.A,{heightVal:1})))}}var L=i(503207),M=i(395567);class N extends A.Q8{constructor(e,t){super(e,t),this.type=A.Q3.PRODUCT_DETAILS_COLLAPSE_ACTION}}class H extends r.A{constructor(){super(...arguments),this.onHeaderClick=e=>{const t=(0,d.nS)(this.props.widgetSlotData),i=t&&t.data;i&&i.renderableComponent&&(this.trackWidgetCollapsedStateChange(i.renderableComponent),this.dispatchAction(A.Q3.PRODUCT_DETAILS_COLLAPSE_ACTION,new N))}}renderHeader(e){const t=e&&e.data,i=t.renderableComponent&&t.renderableComponent.value,r=!i||i.collapsed,a=e&&e.header;return a&&n.createElement(V,{style:new D.F(this.props.pageInfo),headerValue:a,isBottomBorderEnabled:this.isHeaderBottomBorderEnabled,onHeaderClick:this.onHeaderClick,collapsed:r})}renderFooter(e){const t=e&&e.data;if(t){const i=t.renderableComponent&&t.renderableComponent.value,r=e&&e.footer;return r&&i&&!i.collapsed?n.createElement(L.Ay,{footerValue:r,dispatchFooterAction:this.dispatchMAPIIndexedAction,action:e.footer&&e.footer.action}):void 0}}isHeaderBottomBorderEnabled(){return!1}renderFooterSeparator(){const e=this.props.widgetSlotData&&this.props.widgetSlotData.slotData&&this.props.widgetSlotData.slotData.widget&&this.props.widgetSlotData.slotData.widget.data,t=e&&e.renderableComponent&&e.renderableComponent.value;return t&&!t.collapsed&&n.createElement(a.View,{style:l.line})}trackWidgetCollapsedStateChange(e){this.trackDiscoveryWidgetClickEvent();if(e.value&&e.value.collapsed){const e=new M.vMe;this.trackOmnitureEvent(e)}}}class W extends H{static getWidgetHeight(e){const t=(0,d.nS)(e.widgetSlotData),i=t?t.data:void 0;if(i&&i.renderableComponent){const t=i.renderableComponent.value;return W.getAdditionalHeight(e)+T.getHeight(t.specification)}return 200}renderWidget(){const e=(0,d.nS)(this.props.widgetSlotData),t=e?e.data:void 0;if(t){const e=t.renderableComponent?t.renderableComponent.value:void 0;if(e&&e.specification&&!e.collapsed){const t=e.specification;return n.createElement(a.View,{style:l.container},n.createElement(T,{specification:t}))}}return n.createElement(a.View,null)}}class B extends H{static getWidgetHeight(e){return B.getAdditionalHeight(e)+E.getHeight()}renderWidget(){const e=(0,d.nS)(this.props.widgetSlotData),t=e?e.data:void 0;if(t){const e=t.renderableComponent?t.renderableComponent.value:void 0;if(e&&e.details&&!e.collapsed)return n.createElement(a.View,{style:l.container},n.createElement(E,{details:e.details}))}return n.createElement(a.View,null)}}class U extends H{constructor(){super(...arguments),this._toggleDescriptionExpanded=()=>{const e={type:f.J.ExpandProductDescription};this.dispatchAction(A.Q3.EXPAND_ACTION,new f.Z(e))}}static getWidgetHeight(e){const t=(0,d.nS)(e.widgetSlotData),i=t?t.data:void 0;if(i&&i.renderableComponent){const t=i.renderableComponent.value;return U.getAdditionalHeight(e)+T.getHeight(t.specification)+E.getHeight()}return 200}renderWidget(){const e=(0,d.nS)(this.props.widgetSlotData),t=e?e.data:void 0,i=this.props.widgetSlotData&&this.props.widgetSlotData.transientData&&this.props.widgetSlotData.transientData.isExpanded||!1;if(t){const e=t.renderableComponent?t.renderableComponent.value:void 0;if(e&&e.details&&e.specification&&!e.collapsed)return n.createElement(a.View,{style:l.container},n.createElement(a.View,null,n.createElement(T,{specification:e.specification})),n.createElement(E,{isDescriptionExpanded:i,onExpansion:this._toggleDescriptionExpanded,details:e.details}))}return n.createElement(a.View,null)}}var F,G=i(352254),z=i(813652),j=i(854131),X=i(201159);class Y extends r.A{constructor(){super(...arguments),this._toggleDescriptionExpanded=()=>{const e={type:f.J.ExpandProductDescription};this.dispatchAction(A.Q3.EXPAND_ACTION,new f.Z(e))}}static getWidgetHeight(e){const t=(0,d.nS)(e.widgetSlotData),i=t?t.data:void 0;if(null==i?void 0:i.renderableComponent){const t=i.renderableComponent.value;return Y.getAdditionalHeight(e)+T.getHeight(t.specification)+E.getHeight()}return 200}renderWidget(){var e,t;const i=(0,d.nS)(this.props.widgetSlotData),r=(null===(t=null===(e=this.props.widgetSlotData)||void 0===e?void 0:e.transientData)||void 0===t?void 0:t.isExpanded)||!1,o=i?i.data:void 0;if(o){const e=o.renderableComponent?o.renderableComponent.value:void 0;if(null==e?void 0:e.specification)return n.createElement(_.w.Consumer,null,(t=>e.specification?n.createElement(a.View,{style:[l.container,(0,C.No)(t)]},n.createElement(a.View,null,n.createElement(T,{specification:e.specification})),e.details&&n.createElement(E,{isDescriptionExpanded:r,onExpansion:this._toggleDescriptionExpanded,details:e.details})):null))}}renderHeader(e){var t,i,r;const o=null==e?void 0:e.header;if(!o)return;const s=null===(i=null===(t=o.value)||void 0===t?void 0:t.titleValue)||void 0===i?void 0:i.text;if(this.state.widgetCollapsed){const e=null===(r=null==o?void 0:o.value)||void 0===r?void 0:r.headerDetailsValue,t=null==e?void 0:e.title,i=null==e?void 0:e.subTitle,l=null==e?void 0:e.image;return n.createElement(_.w.Consumer,null,(e=>n.createElement(P.S,{onPress:this.onHeaderCollapseButton.bind(this),disableFeedback:!0},n.createElement(a.View,{style:[Y.MAIN_WRAPPER,(0,C.No)(e)]},n.createElement(a.View,{style:Y.HEADER_STYLE},n.createElement(a.View,{style:Y.HEADER_WRAPPER},(null==l?void 0:l.dynamicImageUrl)&&n.createElement(G.A,{source:this._hackThemeImgIcon(l.dynamicImageUrl,e),style:Y.IMAGE_STYLE,height:18,width:15,imageTintColor:(0,C.Qe)(e)}),n.createElement(a.View,null,t?n.createElement(j.A,{containerStyle:x.C1.padding_bottom_3,messages:t,numberOfLines:2,useAsTextContainer:!0,textDefaultStyle:(0,C.Qn)(e)}):n.createElement(a.Text,{style:[x.XT.fontMedium_16,(0,C.Qn)(e)]},s),i&&n.createElement(j.A,{textDefaultStyle:[x.XT.fkDimGrey,(0,C.oO)(e)],messages:i,numberOfLines:2,useAsTextContainer:!0}))),this._renderChevronDownIcon(z.chevronDown,12,e))))))}return n.createElement(_.w.Consumer,null,(e=>n.createElement(P.S,{onPress:this.onHeaderCollapseButton.bind(this),disableFeedback:!0},n.createElement(a.View,{style:[Y.MAIN_WRAPPER,(0,C.No)(e)]},n.createElement(a.View,{style:[Y.HEADER_WRAPPER,Y.HEADER_STYLE]},n.createElement(a.Text,{style:[x.XT.fontMedium_16,(0,C.Qn)(e)]},s),n.createElement(a.View,{style:{transform:[{rotate:"180deg"}]}},this._renderChevronDownIcon(z.chevronDown,12,e)))))))}onHeaderCollapseButton(e){var t;const i=(0,d.nS)(this.props.widgetSlotData),n=(null==i?void 0:i.header)&&i.header?i.header.value:void 0;if(!n)return;const r=this.props.widgetSlotData&&this.props.index,a=null===(t=this.props.widgetSlotData)||void 0===t?void 0:t.behaviour,o={type:f.J.ExpandProductDescription};this.trackCollapsedStateChange(n),this.setState((e=>({widgetCollapsed:!e.widgetCollapsed})),(()=>{this.dispatchAction(A.Q3.EXPAND_ACTION,new f.Z(o,r,a))})),this.trackDiscoveryWidgetClickEvent()}isHeaderBottomBorderEnabled(){return!1}isFooterSeparatorEnabled(){return!0}renderFooterSeparator(){return n.createElement(a.View,{style:l.line})}_renderChevronDownIcon(e,t,i){return i?n.createElement(X.bD,{size:(0,C.rF)(t),color:(0,C.L7)(i)}):n.createElement(G.A,{source:e,height:t,width:t})}_hackThemeImgIcon(e,t){const i="https://rukminim1.flixcart.com/www/{@width}/{@height}/promos/10/03/2023/2caf1494-03ce-40d3-88cf-35b8abf0d1ae.png?q={@quality}";return e===i?t&&(0,C.zm)(t)===o.Jy.black?"https://rukminim1.flixcart.com/www/{@width}/{@height}/promos/27/06/2023/6c70ee72-bca1-48bd-8fc3-f1dbe8cb50c8.png?q={@quality}":i:e}}Y.MAIN_WRAPPER=[x.C1.padding16H,{paddingVertical:13}],Y.HEADER_STYLE=[x.C1.displayFlex,x.C1.rowSpaceBetween,x.C1.width_full],Y.HEADER_WRAPPER=[x.C1.displayFlex,x.C1.rowAlignFlex,x.C1.alignItemFlexStart],Y.IMAGE_STYLE=[x.C1.margin_right_12,x.C1.margin_top_3],function(e){e.PRIMARY_COLLAPSIBLE_SPEC="PRIMARY_COLLAPSIBLE_SPEC"}(F||(F={}));class q extends y.A{getWidgetHeight(e){switch(d.KJ(e.widgetSlotData)){case b.J.SPEC:return I.getWidgetHeight(e);case b.J.SPEC_COLLAPSED:return W.getWidgetHeight(e);case b.J.DETAILS:return w.getWidgetHeight(e);case b.J.DETAILS_COLLAPSED:return B.getWidgetHeight(e);case b.J.SPEC_DETAILS:return S.getWidgetHeight(e);case b.J.SPEC_DETAILS_COLLAPSED:return U.getWidgetHeight(e);case"PRIMARY_COLLAPSIBLE_SPEC":Y.getWidgetHeight(e);default:return S.getWidgetHeight(e)}}getWidgetClass(e){switch(d.KJ(e.widgetSlotData)){case b.J.SPEC:return I;case b.J.SPEC_COLLAPSED:return W;case b.J.DETAILS:return w;case b.J.DETAILS_COLLAPSED:return B;case b.J.SPEC_DETAILS:return S;case b.J.SPEC_DETAILS_COLLAPSED:return U;case"PRIMARY_COLLAPSIBLE_SPEC":return Y;default:return S}}}},33629:(e,t,i)=>{"use strict";i.d(t,{A:()=>T});var n=i(296540),r=i(877293),a=i(479892),o=i(285669),s=i(103041),l=i(427891),d=i(476519),c=i(227230),u=i(410752),h=i(420721),p=i(814913);class g extends n.PureComponent{static getHeight(){return this._TIMER_HEIGHT+this._PRICE_TEXT_HEIGHT+this._PADDING_VERTICAL}constructor(e,t){super(e,t),this._productPriceContainer=[a.C1.padding12H,a.C1.padding8V,{borderTopLeftRadius:4,borderTopRightRadius:4}],this._textStyle=[a.C1.margin_left_6,a.XT.fontMedium_12,a.XT.lineHeight_16],this._priceTextStyle=[a.XT.fontMedium_24,a.XT.lineHeight_28,{letterSpacing:0}],this._urgencyTextStyle=[a.C1.alignItemFlexStart,a.XT.fontMedium_12,a.XT.lineHeight_16,{letterSpacing:0}],this.renderOfferTitleWithTimer=e=>{if(!e||!e.urgencyMessage)return;const t=[this._urgencyTextStyle,{color:this.primaryTextColor}];return n.createElement(c.A,{offerInfoText:e.urgencyMessage,urgency:e,textStyle:t,viewStyle:[a.C1.backgroundClear],conjunctionText:(0,h.ak)(this.context.locale,{id:u.H.rex_string_ENDS_IN})})},this.preOrderTag=(0,d.c)(s.P.PRE_BOOK,e.pricing),this.preOrderTag&&l.A.loadStyleConfig(this.preOrderTag.tagType.toString()),this.primaryBackgroundColor=p.D.getPrimaryBackgroundColor(),this.primaryTextColor=p.D.getPrimaryTextColor()}render(){if(this.props.pricing&&this.props.pricing.value)return n.createElement(r.View,{style:[this._productPriceContainer,{backgroundColor:this.primaryBackgroundColor}]},this.renderOfferTitleWithTimer(this.props.urgency),n.createElement(o.A,{pricing:this.props.pricing.value,parentStyle:[a.C1.row,a.C1.padding_top_2],priceStyle:[this._priceTextStyle,{color:this.primaryTextColor}],sellingPriceStyle:[this._textStyle,{color:this.primaryTextColor,textDecorationLine:"line-through"}],discountStyle:[this._textStyle,{color:this.primaryTextColor}]}))}}g.contextType=h.V8,g._TIMER_HEIGHT=16,g._PRICE_TEXT_HEIGHT=28,g._PADDING_VERTICAL=18;var m=i(492418),v=i(352254);class _ extends n.PureComponent{constructor(e,t){super(e,t),this._pointerContainerStyle=[a.C1.overflowHidden,a.C1.justifyContentCenter,a.C1.height_10],this._triangleStyle=[a.C1.width_14,a.C1.height_14,a.C1.margin_left_16,{transform:[{translateY:-10},{rotate:"45deg"}]}],this._partPayContainer=[a.C1.rowCenter,a.C1.justifyContentSpaceBetween],this._chevronContainer=[a.C1.width_24,a.C1.margin_right_8,a.C1.margin_left_16,a.C1.contentAlignCenter],this._chevronImage=[a.C1.dimension_24,{resizeMode:"contain"}],this._partPayRowStyle=[a.C1.row,a.C1.alignItemFlexStart,a.C1.padding_left_12],this._partPayTextStyle=[a.XT.fontMedium_14,a.XT.lineHeight_24,a.XT.alignTextCenterVertical],this._partPayPriceStyle=[a.C1.wrap,a.C1.margin_right_8,a.XT.fontMedium_14,a.XT.lineHeight_24],this._partPayDescriptionStyle=[a.XT.fontMedium_14,a.XT.lineHeight_24,a.C1.wrap,{flex:1,alignSelf:"center"}],this.renderPartPayBreakUpView=e=>{if(e)return e.map((e=>this._renderSinglePartPrice(e)))};const i=this._getMaxPriceStringWidth(e.partPriceInfo&&e.partPriceInfo.partPrices);this.state={maxWidth:i};const n=(0,d.F)(s.P.PRE_BOOK,e.priceTags);n&&l.A.loadStyleConfig(n.tagType.toString()),this.primaryBackgroundColor=p.D.getPrimaryBackgroundColor(),this.secondaryBackgroundColor=p.D.getSecondaryBackgroundColor(),this.secondaryTextColor=p.D.getSecondaryTextColor()}static getHeight(){return _._POINTER_HEIGHT+_._PADDING_VERTICAL+_._MARGIN_BOTTOM+_._MARGIN_BETWEEN_ROW+_._TEXT_HEIGHT}UNSAFE_componentWillReceiveProps(e,t){if(e.partPriceInfo&&this.props.partPriceInfo&&e.partPriceInfo.partPrices&&this.props.partPriceInfo.partPrices&&e.partPriceInfo.partPrices!==this.props.partPriceInfo.partPrices){const t=this._getMaxPriceStringWidth(e.partPriceInfo.partPrices);this.setState({maxWidth:t})}}render(){if(this.props.partPriceInfo&&this.props.partPriceInfo.partPrices)return this.props.partPriceInfo.partPrices&&this.props.partPriceInfo.partPrices.length>0?n.createElement(r.View,{style:{backgroundColor:this.secondaryBackgroundColor}},n.createElement(r.View,{style:this._pointerContainerStyle},n.createElement(r.View,{style:[this._triangleStyle,{backgroundColor:this.primaryBackgroundColor}]})),n.createElement(r.View,{style:[a.C1.row,a.C1.margin_bottom_10]},n.createElement(r.View,{style:[this._partPayContainer]},n.createElement(r.View,{style:a.C1.flex},this.renderPartPayBreakUpView(this.props.partPriceInfo.partPrices))),n.createElement(r.View,{style:this._chevronContainer},n.createElement(v.A,{style:this._chevronImage,source:m.aio,width:_._CHEVRON_IMAGE_WIDTH,height:_._CHEVRON_IMAGE_HEIGHT})))):void 0}_renderSinglePartPrice(e){return n.createElement(r.View,{style:[this._partPayRowStyle]},n.createElement(r.Text,{style:[this._partPayTextStyle,this._partPayPriceStyle,{color:this.secondaryTextColor,width:this.state.maxWidth}]},m.y3o+e.price),n.createElement(r.Text,{style:[this._partPayTextStyle,this._partPayDescriptionStyle,{color:this.secondaryTextColor}]},e.text))}_getMaxPriceStringWidth(e){let t=this.state&&this.state.maxWidth?this.state.maxWidth:0;if(!e)return t;const i=Math.round(5*this.context.screen.devicePixelRatio);for(const n of e){const e=n.price.length+1;t<e*i&&(t=e*i)}return t}}_.contextType=h.V8,_._CHEVRON_IMAGE_WIDTH=7.4,_._CHEVRON_IMAGE_HEIGHT=12,_._POINTER_HEIGHT=14,_._PADDING_VERTICAL=16,_._MARGIN_BOTTOM=10,_._MARGIN_BETWEEN_ROW=0,_._TEXT_HEIGHT=32;class C extends n.PureComponent{constructor(){super(...arguments),this._calloutsContainerStyle=[a.C1.colWithoutFlex,a.C1.padding12H,a.C1.padding8V],this._eventCalloutsTextStyle=[a.C1.backgroundWhite,a.XT.fontMedium_12,a.XT.lineHeight_16],this._specialCalloutsTextStyle=[a.C1.margin_top_8,a.XT.fontMedium_12,a.XT.lineHeight_16,a.XT.fkGreenText]}static getHeight(){return 2*C.TEXT_HEIGHT+C.PADDING_TOP+C.MARGIN_TOP}render(){if(!this.props.partPriceInfo)return;const e=this.props.partPriceInfo;return n.createElement(r.View,{style:this._calloutsContainerStyle},this._renderPriceCallout(this._eventCalloutsTextStyle,e.eventPriceCallOut),this._renderPriceCallout([this._specialCalloutsTextStyle],e.specialCallOut))}_renderPriceCallout(e,t){if(!t||!t.text||!t.price)return;const i=t.text.replace("%s",m.y3o+t.price);return n.createElement(r.Text,{style:e},i)}}C.TEXT_HEIGHT=16,C.PADDING_TOP=8,C.MARGIN_TOP=8;var E=i(45426);class T extends n.PureComponent{constructor(){super(...arguments),this._containerStyle=[a.C1.border_style_solid,a.C1.color_border_grey,a.C1.border_radius_4,a.C1.margin_top_12,this.props.descMargin?a.C1.margin_bottom_4:a.C1.margin_bottom_16,{borderWidth:1}]}static getHeight(){return g.getHeight()+_.getHeight()+C.getHeight()+this._MARGIN_TOP+this._MARGIN_BOTTOM}render(){if(!this.props.pricing||!this.props.pricing.value)return;const e=this.props.pricing;return n.createElement(E.S,{disableFeedback:!0,onPress:this.props.onPriceClicked},n.createElement(r.View,{style:this._containerStyle},n.createElement(g,{pricing:e,urgency:this.props.urgency}),e.value&&n.createElement(_,{priceTags:e.value.priceTags,partPriceInfo:e.value.partPriceInfo}),e.value&&n.createElement(C,{partPriceInfo:e.value.partPriceInfo})))}}T._MARGIN_TOP=12,T._MARGIN_BOTTOM=16},35210:(e,t,i)=>{"use strict";i.d(t,{p:()=>a});var n=i(877293);const r=n.Dimensions.get("window").width-130,a=n.StyleSheet.create({customDivider:{marginLeft:-20,marginRight:-20},customAccordion:{marginBottom:12,marginTop:12},customBottomMargin:{marginBottom:12},accordionHeaderStyle:{flex:1,flexWrap:"wrap",flexShrink:1,marginLeft:12},accordionHeaderStyleV4:{flexWrap:"wrap",flexShrink:1,marginLeft:12,maxWidth:r},accordionHeaderPriceStyle:{flexWrap:"wrap",flexShrink:0,marginLeft:8}})},38419:(e,t,i)=>{"use strict";i.d(t,{q:()=>n});var n;i(229833),i(90513),i(918210),i(395567);!function(e){e.CLEAR_CART_POPUP_SHOWN_ACTION="Clear basket popup shown",e.CLEAR_CART_ACTION="Cart cleared from clear basket popup"}(n||(n={}))},40543:(e,t,i)=>{"use strict";i.d(t,{EI:()=>n,ym:()=>r});const n=!1,r=!1},41669:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>J});var n=i(465420),r=i(296540),a=i(877293),o=i(88502),s=i(29960),l=i(813652),d=i(287727),c=i(479892),u=i(868261),h=i(52754),p=i(560203),g=i(45426),m=i(876505),v=i(176254),_=i(242464),C=i(346908),E=i(410752),T=i(352254),f=i(879052),A=i(547134),S=i(957775);class y extends C.F{constructor(){super(...arguments),this._shouldRenderSwatchTitle=()=>!this.state.singleSwatch,this._renderProductSummary=(e,t,i)=>r.createElement(v.X,{summaryValue:e,ratingValue:null==t?void 0:t.rating,hideRatings:!0,showSuperTitle:!0,gbFlow:i})}static getWidgetHeight(e){var t;const i=v.X.getHeight(),n=C.F.getModalDataFromProps(e),r=n&&n.swatchData,a=C.F._getProductSwatchValueFromSwatchWidgetData(r),s=a&&a.attributes,l=a&&a.attributeOptions;return i+(s&&l?s.reduce(((e,t,i)=>e+(l[i]?_.e0.getHeight(t):0)),0):0)+(2*o.yV+o.Ev)+(2*o.xL+o.iK)+((null===(t=null==r?void 0:r.callouts)||void 0===t?void 0:t.length)?70:0)}componentDidMount(){super.componentDidMount(),this.props.actionDispatcher&&(0,S.dispatchDgAction)(`${A.A.SWATCH_SELECTION_BOTTOM_SHEET}|MultiSwatchSelectionBottomSheetModalWidget`,this.props.actionDispatcher)}getDerivedState(e,t){const i=super.getDerivedState(e,t),n=1===i.viewModel.swatches.length,r=n?this._getToolbarTitleForSingleSwatchItem(i.viewModel.swatches[0]):this.localize({id:E.H.rex_string_swatch_model_string_title});return Object.assign(Object.assign({},i),{toolbarTitle:r,singleSwatch:n})}render(){const e=(0,h.nS)(this.props.widgetSlotData),t=this.renderWidget();if(!e)return null;if(e.tracking){const i=e.tracking&&this.getWidgetViewTrackingData(this.state.trackingParams);return r.createElement(m.A,{style:u.YD.container,trackingInfo:i},this.renderContent(e,t))}return r.createElement(a.View,{style:u.YD.container},this.renderContent(e,t))}renderHeader(e){return r.createElement(a.View,null,r.createElement(a.View,{style:o.h5.navBarContainer},r.createElement(g.S,Object.assign({},(0,f.Z)("Multi_Swatch_Bottom_Sheet_Cross_Icon"),{onPress:this._closeModal,disableFeedback:!0}),r.createElement(a.View,{style:c.C1.padding_4},r.createElement(T.A,{height:16,width:16,style:o.h5.navBarIcon,source:l.bottomSheetCross}))),r.createElement(a.Text,{style:o.h5.navBarTitleText},this.state.toolbarTitle)),r.createElement(p.A,{heightVal:1}))}getContainerFlex(){}getLayoutKey(){return d.I.LIFESTYLE}getAvailableSwatchesContainerStyle(){return c.C1.shrinkContent}_renderDividerView(){}_getToolbarTitleForSingleSwatchItem(e){return this.localize({id:E.H.rex_string_swatch_model_string_toolbarTitlePrefix})+e.text}}var w,I=i(685847),b=i(814913),D=i(285669),x=i(226410),P=i(643992),O=i(468248),R=i(22072);!function(e){e.COMMON="container",e.WITH_PRICE="containerWithPrice",e.WITHOUT_PRICE="containerWithoutPrice",e.WITH_SUPERCOINS_INFO="containerWithSuperCoinsInfo",e.WITH_GRADE="containerWithGradeInfo"}(w||(w={}));class k{constructor(e){const t=e.summaryValue,i=t&&t.titles&&t.titles.title;this.productTitle=i||"",this.finalImageURL=t&&t.images&&t.images[0]&&t.images[0].url?t.images[0].url:void 0,this.pricing=t&&t.pricing?t.pricing:void 0,this.grade=t&&t.grade,this.gbFlow=e.gbFlow,this.preOrderTag=this.pricing&&this.pricing.priceTags&&b.D.getPreOrderTag(this.pricing.priceTags)}static isValid(e){return!!e.summaryValue}}class V extends r.PureComponent{constructor(){super(...arguments),this._renderPriceView=e=>r.createElement(a.View,{style:o.ti.priceView},r.createElement(D.A,{pricing:e.pricing,parentStyle:o.ti.priceContainer,priceStyle:o.ti.productPriceText,sellingPriceStyle:o.ti.strikeOutText,discountStyle:o.ti.discountText,showDiscountAsAmount:this.showDiscountAsAmount(),plusPriceDefaultTextStyle:c.XT.fontRegular_14})),this._renderGroupBuyPriceView=e=>{var t,i;const n=(null===(t=e.pricing)||void 0===t?void 0:t.listingPriceType)===I.o.GROUP_BUY,s=(null===(i=e.pricing)||void 0===i?void 0:i.listingPriceType)===I.o.REGULAR;if(n)return r.createElement(P.A,{pricing:e.pricing});{const t=O.j.getRegularPriceTagSrc().uri,i=[c.C1.margin_left_4,c.C1.margin_top_neg_2];return r.createElement(a.View,{style:c.C1.row},r.createElement(a.View,{style:o.ti.priceView},r.createElement(D.A,{pricing:e.pricing,parentStyle:o.ti.priceContainer,priceStyle:o.ti.productPriceText,sellingPriceStyle:o.ti.strikeOutText,discountStyle:o.ti.discountText,showDiscountAsAmount:this.showDiscountAsAmount(),plusPriceDefaultTextStyle:c.XT.fontRegular_14})),s&&r.createElement(T.A,{source:t,height:R.Lb,width:R.o2,style:i}))}}}static getHeight(e){const t=e?new k(e):void 0;return(null==t?void 0:t.pricing)?t.pricing.plusPriceInfo?o.mN:o.EG:o.m4}render(){var e;if(!k.isValid(this.props))return null;const t=new k(this.props);let i;i=t.pricing&&t.pricing.plusPriceInfo?"containerWithSuperCoinsInfo":t.grade?"containerWithGradeInfo":t.pricing?"containerWithPrice":"containerWithoutPrice";const n=["container",i],s=null===(e=t.grade)||void 0===e?void 0:e.id;return r.createElement(a.View,{style:n.map((e=>o.ti[e]))},r.createElement(a.Text,Object.assign({},(0,f.Z)("Product_Summary_Title"),{numberOfLines:1,style:o.ti.title}),t.productTitle),s&&r.createElement(a.View,{style:o.ti.gradeContainer},r.createElement(x.X,{gradeId:s})),this.props.gbFlow?this._renderGroupBuyPriceView(t):this._renderPriceView(t))}showDiscountAsAmount(){return!1}}var L=i(74175);const M=a.Dimensions.get("window").height-52;var N;!function(e){e[e.all=3]="all",e[e.anyTwo=2]="anyTwo"}(N||(N={}));class H extends y{constructor(){super(...arguments),this.swatchScrollView=null,this._renderProductSummary=(e,t,i)=>r.createElement(V,{summaryValue:e,gbFlow:i})}static getWidgetHeight(e){var t,i,n,r,a,l,d,c,u,h;const p=H.getModalDataFromProps(e),g=p&&p.swatchData,m=null===(t=null==g?void 0:g.swatchComponent)||void 0===t?void 0:t.value,v=m&&m.products,_=v?L.L.createSwatchCombinationToPidMap(v):new Map,C=null===(i=null==e?void 0:e.pageInfo)||void 0===i?void 0:i.pageContext,E=C&&C.productId,T=new s.L(m,_,v,E).listingSummary;if(3===(null===(a=null===(r=null===(n=null==g?void 0:g.swatchComponent)||void 0===n?void 0:n.value)||void 0===r?void 0:r.attributes)||void 0===a?void 0:a.length))return o.JT+V.getHeight(T)+o.p6;const f=((null===(d=null===(l=null==g?void 0:g.swatchComponent)||void 0===l?void 0:l.value)||void 0===d?void 0:d.attributes)||[]).some((e=>"color"===e.id));return 2===(null===(h=null===(u=null===(c=null==g?void 0:g.swatchComponent)||void 0===c?void 0:c.value)||void 0===u?void 0:u.attributes)||void 0===h?void 0:h.length)?V.getHeight(T)+o.p6+(f?o.AS:o.sG):V.getHeight(T)+o.p6+(f?o.DQ:o.i_)}componentDidMount(){super.componentDidMount(),this.props.actionDispatcher&&(0,S.dispatchDgAction)(`${A.A.SWATCH_SELECTION_BOTTOM_SHEET}|MultiSwatchSelectionBottomSheetModalV2Widget`,this.props.actionDispatcher)}componentDidUpdate(){if(" "!==this.state.errorMessage){const e=this.swatchScrollView;null==e||e.scrollToEnd({animated:!0})}}renderWidget(){const e=this.state.viewModel,t=this.props.appContext.uiContext.getWindowSafeAreaInset();return r.createElement(a.View,Object.assign({},(0,f.Z)("Multi_Swatch_Bottom_Sheet_Modal"),{style:[o.h5.container,this.getContainerFlex(),this._style.container,{maxHeight:M-t.top}]}),r.createElement(a.ScrollView,{ref:e=>this.swatchScrollView=e},this._renderProductSummary(e.listingSummary,void 0,e.gbFlow),this._renderDividerView(),this._renderAvailableSwatches(e),this._renderErrorMessagesView(this.state.errorMessage)),this._renderDividerView(),this._renderBottomBarActions(this.state.modalActionButtons))}_renderDividerView(){return r.createElement(p.A,{heightVal:1,marginBottomVal:3})}}var W=i(25971),B=i(670563),U=i(422018),F=i(727e3);class G extends C.F{constructor(e,t){super(e,t),this._barItemStyle=[{backgroundColor:B.Jy.white,padding:10,shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:6,elevation:5,height:72}],this._modalStyle=[{flexDirection:"column",backgroundColor:B.Jy.white,borderRadius:10,maxHeight:3*a.Dimensions.get("window").height/4}],this._renderAvailableSwatches=e=>{if(e&&e.swatches)return r.createElement(a.View,{style:this.getAvailableSwatchesContainerStyle()},e.swatches.map(((e,t)=>!e.primaryAttribute&&this._renderSwatchItem(e,t))))},this._renderSwatchItem=(e,t)=>{var i,n;const a=L.L.getProductPageUniformPreviousSwatchDataFromProps(this.props),o=e.dropNonWhitelistedOptions?e.options.filter((e=>!e.disabled)):e.options,s=(null===(i=this.state.viewModel)||void 0===i?void 0:i.currentSelection)?[...this.state.viewModel.currentSelection]:void 0,l=null==s?void 0:s.indexOf(-1),d=!!e.showPrice&&(-1===l||l===t),c=this.localize({id:E.H.rex_string_swatch_available_in_other_colors_text}),u=this.localize({id:E.H.rex_string_out_of_stock}),h=this.localize({id:E.H.rex_string_combinations}),p=this.localize({id:E.H.rex_string_combination});return r.createElement(W.A,{swatchIndex:t,currentActiveCombination:s,recentChangeInSwatch:e.id===(null===(n=null==a?void 0:a.data)||void 0===n?void 0:n.swatchId),data:e,showPrice:d,showTag:!1,finalOptions:o,isSwatchExpanded:!0,expandCollapseDisabled:!0,onSwatchOptionPressed:this._onSwatchSelected,getProductInfoForCombination:this.getProductInfoForCombination,getContentViewTrackingData:this._getContentViewTracking,widgetProps:this.props,themeContext:this.context,showBottomSheetView:!0,groupedOptions:e.groupedOptions,availableInOtherColorText:c,OOSText:u,combinationsText:h,combinationText:p})},this._onSwatchSelected=(e,t)=>{this.props.actionDispatcher&&this.props.actionDispatcher(new U.lX(new U.aM(e,t,this.state.viewModel,this.state.swatchCombinationToPidMap,this.state.swatchWhitelistProductInfoMap,this.state.viewType,this.state.arEnabledSwatchCombinationToPidMap,!0)))},this.getProductInfoForCombination=e=>{const{swatchCombinationToPidMap:t,swatchWhitelistProductInfoMap:i}=this.state,n=t.get(e);if(n&&i)return i[n]},this._style=a.StyleSheet.create({container:{width:e.appContext.uiContext.windowFrame.width,paddingBottom:this.props.appContext.uiContext.getWindowSafeAreaInset().bottom,flex:1},header:{borderTopLeftRadius:10,borderTopRightRadius:10}})}componentDidMount(){super.componentDidMount(),this.props.actionDispatcher&&(0,S.dispatchDgAction)(`${A.A.SWATCH_SELECTION_BOTTOM_SHEET}|MultiSwatchSelectionBottomSheetModalV3Widget`,this.props.actionDispatcher)}static getWidgetHeight(e){var t;const i=C.F.getModalDataFromProps(e),n=i&&i.swatchData,r=C.F._getProductSwatchValueFromSwatchWidgetData(n),a=r&&r.attributes,s=r&&r.attributeOptions;return(a&&s?a.reduce(((e,t,i)=>e+(s[i]?_.e0.getHeight(t):0)),0):0)+(2*o.xL+o.iK)+((null===(t=null==n?void 0:n.callouts)||void 0===t?void 0:t.length)?70:0)}getDerivedState(e,t){const i=super.getDerivedState(e,t),n=this.localize({id:E.H.rex_string_swatch_bottom_sheet_string_title});return Object.assign(Object.assign({},i),{toolbarTitle:n,errorMessage:""})}render(){const e=(0,h.nS)(this.props.widgetSlotData),t=this.renderWidget();if(!e)return null;if(e.tracking){const i=e.tracking&&this.getWidgetViewTrackingData(this.state.trackingParams);return r.createElement(m.A,{style:this._modalStyle,trackingInfo:i},this.renderContent(e,t))}return r.createElement(a.View,{style:this._modalStyle},this.renderContent(e,t))}renderHeader(e){const t=this.state.viewModel;return r.createElement(a.View,null,r.createElement(a.View,{style:[o.h5.navBarContainer,this._style.header]},r.createElement(g.S,Object.assign({},(0,f.Z)("Multi_Swatch_Bottom_Sheet_Cross_Icon"),{onPress:this._closeModal,disableFeedback:!0}),r.createElement(a.View,{style:c.C1.padding_4},r.createElement(T.A,{height:16,width:16,style:o.h5.navBarIcon,source:l.crossBlack}))),r.createElement(a.Text,{style:o.h5.navBarTitleText},this.state.toolbarTitle)),r.createElement(a.View,{style:{height:160,width:this.props.appContext.uiContext.windowFrame.width}},t.swatches.map(((e,t)=>e.primaryAttribute&&this._renderSwatchItem(e,t)))))}renderWidget(){var e;const t=this.state.viewModel,i=(0,h.nS)(this.props.widgetSlotData),n=null==i?void 0:i.data;return r.createElement(a.View,Object.assign({},(0,f.Z)("Swatch_BottomSheet"),{style:this._style.container}),r.createElement(a.ScrollView,null,this._renderAvailableSwatches(t),this._renderErrorMessagesView(this.state.errorMessage),this._renderSwatchWidgetCallouts(null===(e=null==n?void 0:n.swatchData)||void 0===e?void 0:e.callouts)),r.createElement(a.View,{style:this._barItemStyle},this._renderBottomBarActions(this.state.modalActionButtons)))}getContainerFlex(){}_getInitialViewModelFromProps(e,t,i){var n,r,a,o,l,d,c,u;const h=C.F.getModalDataFromProps(e),p=null===(r=null===(n=null==h?void 0:h.swatchData)||void 0===n?void 0:n.swatchComponent)||void 0===r?void 0:r.value,g=C.F._getSwatchPageLastSelectionInstanceDataFromProps(e);let m,v;g&&(g.swatchSelection&&(m=g.swatchSelection),g.pid&&(v=g.pid)),v||(v=h&&h.pid);const _=null===(o=null===(a=null==h?void 0:h.swatchData)||void 0===a?void 0:a.ratingsAndReviews)||void 0===o?void 0:o.value,E=null===(d=null===(l=null==h?void 0:h.actionButtons)||void 0===l?void 0:l[0].baseAction)||void 0===d?void 0:d.payload,T=null===(u=null===(c=null==E?void 0:E.mapiAction)||void 0===c?void 0:c.params)||void 0===u?void 0:u.gbBuyNowEligible;return new s.L(p,t,i,v,m,_,T,!0)}}G.contextType=F.w;var z=i(57522),j=i(561310),X=i(201159),Y=i(527040);class q extends C.F{constructor(){super(...arguments),this._goBack=()=>{var e,t;null===(t=null===(e=this.props)||void 0===e?void 0:e.actionDispatcher)||void 0===t||t.call(e,new j.iM(j.xH.UPDATE_MODAL,this.getModalProps()))},this._shouldRenderSwatchTitle=()=>!this.state.singleSwatch,this._renderProductSummary=(e,t,i)=>r.createElement(v.X,{summaryValue:e,ratingValue:null==t?void 0:t.rating,hideRatings:!0,showSuperTitle:!0,gbFlow:i,isLiveStreamVariant:this._isLiveStreamVariant()})}static getWidgetHeight(e){var t;const i=v.X.getHeight(),n=C.F.getModalDataFromProps(e),r=n&&n.swatchData,a=C.F._getProductSwatchValueFromSwatchWidgetData(r),s=a&&a.attributes,l=a&&a.attributeOptions;return i+(s&&l?s.reduce(((e,t,i)=>e+(l[i]?_.e0.getHeight(t):0)),0):0)+(2*o.yV+o.Ev)+(2*o.xL+o.iK)+((null===(t=null==r?void 0:r.callouts)||void 0===t?void 0:t.length)?70:0)}componentDidMount(){super.componentDidMount(),this.props.actionDispatcher&&(0,S.dispatchDgAction)(`${A.A.SWATCH_SELECTION_BOTTOM_SHEET}|MultiSwatchSelectionBottomSheetModalV4Widget`,this.props.actionDispatcher)}getDerivedState(e,t){const i=super.getDerivedState(e,t),n=1===i.viewModel.swatches.length,r=n?this._getToolbarTitleForSingleSwatchItem(i.viewModel.swatches[0]):this.localize({id:E.H.rex_string_swatch_model_string_title});return Object.assign(Object.assign({},i),{toolbarTitle:r,singleSwatch:n})}shouldComponentUpdate(e,t,i){var n,r,a,o;const s=this.getLiveVolatileData(e),l=this.getLiveVolatileData(this.props);return super.shouldComponentUpdate(e,t,i)||(null===(n=null==l?void 0:l.rewardmachineState)||void 0===n?void 0:n.command)!==(null===(r=null==s?void 0:s.rewardmachineState)||void 0===r?void 0:r.command)||(null===(a=null==l?void 0:l.rewardmachineState)||void 0===a?void 0:a.machineState)!==(null===(o=null==s?void 0:s.rewardmachineState)||void 0===o?void 0:o.machineState)}render(){const e=(0,h.nS)(this.props.widgetSlotData),t=this.renderWidget();if(!e)return null;if(e.tracking){const i=e.tracking&&this.getWidgetViewTrackingData(this.state.trackingParams);return r.createElement(m.A,{style:u.YD.liveStreammContainer,trackingInfo:i},this.renderContent(e,t))}return r.createElement(a.View,{style:u.YD.liveStreammContainer},this.renderContent(e,t))}getLiveVolatileData(e){return(0,h.Qd)(e,z.j.LIVESTREAM_VOLATITLE_DATA)}renderHeader(e){var t;const i=null===(t=this.getLiveVolatileData(this.props))||void 0===t?void 0:t.rewardmachineState;return r.createElement(a.View,null,!!(null==i?void 0:i.displayData)&&r.createElement(a.View,{style:o.h5.liveStreamRewardOverlay},r.createElement(Y.A,{displayData:i.displayData,timerEndTime:i.timerEndTime,isAllocationFailed:i.isAllocationFailed,isPostDisbursal:i.isPostDisbursal,animationCommand:i.command,machineState:i.machineState,animationMode:"inplace",onTimerFinish:()=>{},onAnimationComplete:()=>{},screenWidth:a.Dimensions.get("window").width,screenHeight:a.Dimensions.get("window").height})),r.createElement(a.View,{style:[o.h5.navBarContainer,c.C1.border_radius_12,c.C1.padding8H]},this._isLiveStreamVariant()?r.createElement(r.Fragment,null,r.createElement(a.View,{style:o.h5.liveStreamNavBarHeader},"LIVESTREAM_VARIANT_V2"===this.state.viewType&&r.createElement(g.S,Object.assign({},(0,f.Z)("Multi_Swatch_Bottom_Sheet_Cross_Icon"),{onPress:this._goBack,disableFeedback:!0}),r.createElement(a.View,{style:c.C1.padding_4},r.createElement(X.A6,{size:24}))),r.createElement(a.Text,{style:o.h5.liveStreamNavbarTitleText},this.state.toolbarTitle)),this._renderCloseButton()):r.createElement(r.Fragment,null,r.createElement(a.Text,{style:o.h5.navBarTitleText},this.state.toolbarTitle),this._renderCloseButton())))}getModalProps(){return{modalType:"BOTTOM_SHEET",widgetType:A.A.LIVE_VERTICAL_TRAY_BOTTOMSHEET,widgetData:{},widgetLayoutParams:{flex:0,backgroundColor:"transparent"}}}_renderModalTitle(){return r.createElement(a.Text,{style:o.h5.navBarTitleText},this.state.toolbarTitle)}_renderCloseButton(){return r.createElement(g.S,Object.assign({},(0,f.Z)("Multi_Swatch_Bottom_Sheet_Cross_Icon"),{onPress:this._closeModal,disableFeedback:!0}),r.createElement(a.View,{style:c.C1.padding_4},r.createElement(X.bm,{size:24})))}getContainerFlex(){}getLayoutKey(){return d.I.LIFESTYLE}getAvailableSwatchesContainerStyle(){return c.C1.shrinkContent}_renderDividerView(){}_getToolbarTitleForSingleSwatchItem(e){return this.localize({id:E.H.rex_string_swatch_model_string_toolbarTitlePrefix})+e.text}}class J extends n.A{getWidgetClass(e){switch((0,h.KJ)(e.widgetSlotData)){case"SWATCH_IN_BOTTOMSHEET":case"PPV_VARIANT_LISTVIEW":return H;case"REVAMPED_UNIFORM":return G;case"LIVESTREAM_VARIANT":case"LIVESTREAM_VARIANT_V2":return q;default:return y}}getWidgetHeight(e){switch((0,h.KJ)(e.widgetSlotData)){case"SWATCH_IN_BOTTOMSHEET":return H.getWidgetHeight(e);case"REVAMPED_UNIFORM":return G.getWidgetHeight(e);default:return y.getWidgetHeight(e)}}}},44830:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>S});var n=i(465420),r=i(296540),a=i(52754),o=i(302019),s=i(988287),l=i(670563),d=i(727e3),c=i(257246),u=i(386474);class h extends r.PureComponent{constructor(){super(...arguments),this.renderRating=(e,t,i)=>{const n=e.toFixed(1),a=void 0!==t?`${n} / ${t}`:n,o=(0,c.dX)(i);return r.createElement(p,{color:o},a)},this.renderStarRating=(e,t)=>{const i=(0,c.an)(t),n=i&&(0,u.tp)(i,.15)||l.Jy.paleBlue,a=i&&(0,u.tp)(i,.2)||l.Jy.blue100,o=i||l.Wo.ratingColorSeller;return r.createElement(g,null,r.createElement(s.A,{rating:e,fillColor:o,backgroundColor:n,emptyColor:a,themeContext:t}))},this.renderSellerText=e=>r.createElement(v,null,e)}render(){const{sellerRatingData:e,sellerRatingText:t}=this.props;if(!e||!e.average||!e.base)return null;const{average:i,base:n}=e;return r.createElement(d.w.Consumer,null,(e=>r.createElement(m,null,i&&this.renderRating(i,n,e),i&&this.renderStarRating(i,e),t&&this.renderSellerText(t))))}}const p=o.JU.extendComponent({name:"RatingText",defaultProps:{font:"s_medium"}}),g=o.az.extendComponent({name:"StarRating",defaultProps:{ml:"s4",alignItems:"center"}}),m=o.fI.extendComponent({name:"SellerRatingContainer",defaultProps:{alignItems:"center",pt:"s5"}}),v=o.JU.extendComponent({name:"SellerText",defaultProps:{fontSize:14,color:l.Jy.greyPrimary}});var _=i(716249),C=i(876505),E=i(745898);class T extends _.A{constructor(e){super(e)}static getWidgetHeight(e){const t=(0,a.nS)(e.widgetSlotData);return(null==t?void 0:t.data)?102+_.A.getAdditionalHeight(e):0}renderWidget(){const e=(0,a.nS)(this.props.widgetSlotData),t=null==e?void 0:e.data,i=null==e?void 0:e.tracking;let n;if(!t)return;if(i){const e=_.A.getTrackingParams(this.props,i);n=this.getViewTrackingData(!1,e)}const o=r.createElement(d.w.Consumer,null,(e=>r.createElement(f,null,this.renderDescription(t,e),this.renderSellerRatingComponent(t))));return n?r.createElement(C.A,{trackingInfo:n},o):o}getHeaderStyle(e){const t=super.getHeaderStyle(),i=null==e?void 0:e.color.default.text.primary.hex;return Object.assign(Object.assign({},t),{headerContainer:{padding:16,paddingBottom:0},headerText:{fontSize:20,fontFamily:E.Mq,color:i}})}renderDescription(e,t){var i,n,a,o;const s=(0,c.L7)(t),l=null!==(o=null===(a=null===(n=null===(i=e.sellerRating)||void 0===i?void 0:i.value)||void 0===n?void 0:n.sellerReviewExplanationText)||void 0===a?void 0:a.text)&&void 0!==o?o:"";return r.createElement(A,{color:s},l)}renderSellerRatingComponent(e){var t,i,n,a,o;const s=null===(i=null===(t=e.sellerRating)||void 0===t?void 0:t.value)||void 0===i?void 0:i.rating,l=null!==(o=null===(a=null===(n=e.sellerRating)||void 0===n?void 0:n.value)||void 0===a?void 0:a.sellerRatingText)&&void 0!==o?o:"";return r.createElement(h,{sellerRatingData:s,sellerRatingText:l})}}const f=o.fv.extendComponent({name:"SellerRatingContainer",defaultProps:{p:"s6"}}),A=o.JU.extendComponent({name:"DescriptionText",defaultProps:{font:"xm"}});class S extends n.A{getWidgetClass(){return T}getWidgetHeight(e){return T.getWidgetHeight(e)}}},46071:(e,t,i)=>{"use strict";i.d(t,{e:()=>o});var n=i(877293),r=i(887261),a=i(492418);const o=n.StyleSheet.create({container:{marginLeft:16,marginRight:16},subTitle:{fontSize:14,fontFamily:r.A$,marginTop:16,color:a.mUU},titleContainer:{marginTop:12,marginBottom:12,backgroundColor:a.Jyk.white,borderRadius:2,shadowColor:a.Jyk.lightGrey,shadowOffset:{width:0,height:1},shadowRadius:3,shadowOpacity:.16,elevation:1,alignItems:"center"},title:{marginRight:2,fontSize:14,color:a.mUU,fontFamily:r.$u,includeFontPadding:!1,lineHeight:20}})},53845:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(918210),r=i(90513),a=i(722573);class o{handleAction(e,t,i){const o=t.pageMeta.pageName,s=t.pageMeta.pageType,l=t.pageMeta.marketPlace,d=t.pageDataResponse&&t.pageDataResponse.tracking,c=d?d[a.R.VERTICAL]:"",u={};u[r.Ay.PROP41]="BottomSheet_"+s+"_"+o+"_"+c,u[r.Ay.PROP3]=l+":"+s;const h=e.payload&&e.payload.trackingParams&&e.payload.trackingParams.getSProduct();return h&&(u[r.Ay.PRODUCTS]=h),n.A.addPageData(u),!0}}},54405:e=>{"use strict";e.exports=JSON.parse('{"elementNames":{"altglyph":"altGlyph","altglyphdef":"altGlyphDef","altglyphitem":"altGlyphItem","animatecolor":"animateColor","animatemotion":"animateMotion","animatetransform":"animateTransform","clippath":"clipPath","feblend":"feBlend","fecolormatrix":"feColorMatrix","fecomponenttransfer":"feComponentTransfer","fecomposite":"feComposite","feconvolvematrix":"feConvolveMatrix","fediffuselighting":"feDiffuseLighting","fedisplacementmap":"feDisplacementMap","fedistantlight":"feDistantLight","fedropshadow":"feDropShadow","feflood":"feFlood","fefunca":"feFuncA","fefuncb":"feFuncB","fefuncg":"feFuncG","fefuncr":"feFuncR","fegaussianblur":"feGaussianBlur","feimage":"feImage","femerge":"feMerge","femergenode":"feMergeNode","femorphology":"feMorphology","feoffset":"feOffset","fepointlight":"fePointLight","fespecularlighting":"feSpecularLighting","fespotlight":"feSpotLight","fetile":"feTile","feturbulence":"feTurbulence","foreignobject":"foreignObject","glyphref":"glyphRef","lineargradient":"linearGradient","radialgradient":"radialGradient","textpath":"textPath"},"attributeNames":{"definitionurl":"definitionURL","attributename":"attributeName","attributetype":"attributeType","basefrequency":"baseFrequency","baseprofile":"baseProfile","calcmode":"calcMode","clippathunits":"clipPathUnits","diffuseconstant":"diffuseConstant","edgemode":"edgeMode","filterunits":"filterUnits","glyphref":"glyphRef","gradienttransform":"gradientTransform","gradientunits":"gradientUnits","kernelmatrix":"kernelMatrix","kernelunitlength":"kernelUnitLength","keypoints":"keyPoints","keysplines":"keySplines","keytimes":"keyTimes","lengthadjust":"lengthAdjust","limitingconeangle":"limitingConeAngle","markerheight":"markerHeight","markerunits":"markerUnits","markerwidth":"markerWidth","maskcontentunits":"maskContentUnits","maskunits":"maskUnits","numoctaves":"numOctaves","pathlength":"pathLength","patterncontentunits":"patternContentUnits","patterntransform":"patternTransform","patternunits":"patternUnits","pointsatx":"pointsAtX","pointsaty":"pointsAtY","pointsatz":"pointsAtZ","preservealpha":"preserveAlpha","preserveaspectratio":"preserveAspectRatio","primitiveunits":"primitiveUnits","refx":"refX","refy":"refY","repeatcount":"repeatCount","repeatdur":"repeatDur","requiredextensions":"requiredExtensions","requiredfeatures":"requiredFeatures","specularconstant":"specularConstant","specularexponent":"specularExponent","spreadmethod":"spreadMethod","startoffset":"startOffset","stddeviation":"stdDeviation","stitchtiles":"stitchTiles","surfacescale":"surfaceScale","systemlanguage":"systemLanguage","tablevalues":"tableValues","targetx":"targetX","targety":"targetY","textlength":"textLength","viewbox":"viewBox","viewtarget":"viewTarget","xchannelselector":"xChannelSelector","ychannelselector":"yChannelSelector","zoomandpan":"zoomAndPan"}}')},60469:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>D});var n=i(296540),r=i(877293),a=i(352254),o=i(45426),s=i(468248),l=i(876505),d=i(492418),c=i(479892),u=i(723372),h=i(495176),p=i(291721),g=i(50745),m=i(204347),v=i(941802),_=i(580555),C=i(879052),E=i(35210),T=i(751398),f=i(302019),A=i(201159),S=i(787921),y=i(914944);const w=12;var I,b;!function(e){e.OFFER_DETAILS_WIDGET_V4="OFFER_DETAILS_WIDGET_V4"}(I||(I={})),function(e){e.BASKETQUANTITY_NONE_DISCOUNT="BASKETQUANTITY_NONE_DISCOUNT",e.BASKETPRICE_NONE_DISCOUNT="BASKETPRICE_NONE_DISCOUNT"}(b||(b={}));class D extends p.A{constructor(){super(...arguments),this.titleDescriptionStyle=[c.XT.lineHeight_16,c.XT.fontRegular_14,c.XT.fkBlackPrimaryText],this.opacityTargetValues=[.5,0,0,1],this.diameterTargetValues=[2.6,3,1,1],this.durationValues=[500,500,600,1],this.delayValues=[1,1,1,300],this.easingValues=[r.Easing.out(r.Easing.ease),r.Easing.out(r.Easing.ease),r.Easing.in(r.Easing.ease),r.Easing.in(r.Easing.ease)],this.blinkAnimation=new r.Animated.Value(0),this.blinkDiameter=new r.Animated.Value(1),this.fadeViewAnimation=new r.Animated.Value(1),this.containerWithBorderStyle=[c.C1.color_border_light_grey,c.C1.rowFlexStart,c.C1.padding_left_12,c.C1.padding_right_12,c.C1.padding12V,c.C1.margin_bottom_8,c.C1.border_radius_4,c.C1.border_width_1],this.titleTextStyle=[c.XT.fontRegular_14,c.XT.lineHeight_20],this.iconUrlStyle=[c.C1.contentSelfAlignStart,c.C1.margin_right_6,c.C1.margin_top_2],this.newTitleContainerStyle=[c.C1.wrap,c.C1.contentSelfAlignStart,c.C1.margin_right_12],this.legacyTitleViewStyle=[c.C1.row,c.C1.margin_right_12,c.C1.alignItemCenter],this.offerBucketTitleStyle=[c.XT.fontMedium_14,c.C1.margin_right_4],this.offerSummaryTitleStyle=[c.XT.fkBlackPrimaryText,c.XT.fontRegular_14,c.XT.lineHeight_20],this.dividerLineStyle=[c.C1.separatorLineWithoutFlex,c.C1.margin_vertical_4],this.ctaButtonsContainerStyle=[c.C1.rowFlexStart],this.accordionStyle=E.p.customBottomMargin,this.ctaTextEmiContainerStyle=[c.C1.backgroundBorderLite,c.C1.padding_top_6,c.C1.padding_bottom_6,{marginRight:-20,marginLeft:-20}],this.ctaTextEmiStyle=[c.C1.margin_bottom_20,c.C1.padding_top_6,c.C1.padding_bottom_6,c.C1.padding_left_32,c.C1.padding_right_12,c.C1.border_radius_4,c.C1.border_width_1,c.C1.backgroundWhite,c.C1.borderColorLightGrey,{marginLeft:40,marginRight:40}],this._getAnimation=(e,t)=>{const i=[];for(let n=0;n<this.durationValues.length;n++)i.push(r.Animated.timing(e,{toValue:t[n],duration:this.durationValues[n],easing:this.easingValues[n],delay:this.delayValues[n],useNativeDriver:!0}));return i},this._onCTAClick=(e,t)=>{t&&this.props.dispatchAction&&this.props.dispatchAction(S.A.MAPI_ACTION,new y.Oy(t))},this._renderDescriptionList=(e,t,i,a)=>{const{newTitle:o,cta:s,price:l,alternateOffersCta:p,basketOffers:g}=e,m=!!(null==s?void 0:s.value),v=!!(null==p?void 0:p.value),_=!(!m||!v&&!!!g);return n.createElement(r.View,{style:[c.C1.colWithoutFlex,c.C1.margin_bottom_8]},n.createElement(r.View,{style:c.C1.margin_left_22},o&&n.createElement(r.View,{style:[c.C1.rowWithoutFlex,c.C1.justifyContentCenter]},n.createElement(r.View,{style:[c.C1.wrap,c.C1.contentSelfAlignStart,{maxWidth:"80%"}]},n.createElement(u.A,{messages:o,textDefaultStyle:[{color:d.Jyk.dimGray},c.XT.lineHeight_20],applyFontWeightFix:!0,useTextContainer:!0})),l&&n.createElement(r.View,{style:[c.C1.flexGrow,c.C1.alignItemFlexEnd]},n.createElement(h.A,{style:[{color:d.Jyk.dimGray},c.XT.lineHeight_20],richTextData:l}))),_&&this._renderMultipleCta(t,s,p,c.C1.margin_top_8),!_&&(null==s?void 0:s.value)&&this._renderPrimaryCta(t,s,c.C1.margin_top_4),!_&&(null==p?void 0:p.value)&&this._renderAlternateOffersCta(p,c.C1.margin_top_8),(null==e?void 0:e.nepFomoData)&&this.renderFOMO(e.nepFomoData,t,m),i!==a-1&&n.createElement(r.View,{style:c.C1.margin_top_8},this.renderDivider()),!_&&n.createElement(T.A,{productOfferSummary:e,dispatchAction:this.props.dispatchAction})))}}componentDidMount(){var e,t;(this.props.offerSummariesRC?null===(e=this.props.offerSummariesRC)||void 0===e?void 0:e.some((e=>{var t;return null===(t=e.value)||void 0===t?void 0:t.fomoUrgencyInfo})):null===(t=this.props.offerSummaries)||void 0===t?void 0:t.some((e=>null==e?void 0:e.fomoUrgencyInfo)))&&(this._performBlinkAnimation(),this._performFadingAnimation(this.fadeViewAnimation,800,1))}_performBlinkAnimation(){r.Animated.loop(r.Animated.parallel([r.Animated.sequence(this._getAnimation(this.blinkAnimation,this.opacityTargetValues)),r.Animated.sequence(this._getAnimation(this.blinkDiameter,this.diameterTargetValues))])).start()}_performFadingAnimation(e,t,i){r.Animated.timing(e,{toValue:i,duration:t,useNativeDriver:!1}).start()}render(){var e;const{isbankOfferEnable:t}=this.props,i=this.props.ctaText;if(this.props.offerSummariesRC){const e=this.props.offerSummariesRC.length,i=e-1;return this.props.offerSummariesRC.map(((r,a)=>{const o=t&&a===i?this.accordionStyle:void 0;return n.createElement(f.az,{key:a,style:o},this._renderOfferSummariesRC(r,a,e))}))}if(!this.props.offerSummaries)return null;const r=this.props.offerSummaries.length,a=r-1,s=this.props.bankOfferEnabledV1;return"OFFER_DETAILS_WIDGET_V4"===this.props.viewtype?n.createElement(f.az,{style:!0===s?c.C1.backgroundBorderLite:{}},this.props.offerSummaries.map(((e,i)=>{const o=t&&i===a?this.accordionStyle:void 0;return n.createElement(f.az,{key:i,style:o},this._renderOfferSummariesV4(e,i,r))})),i&&n.createElement(f.az,{style:this.ctaTextEmiContainerStyle},n.createElement(o.S,{onPress:this._onCTAClick,onPressParam:null==i?void 0:i.action},n.createElement(f.az,{style:this.ctaTextEmiStyle},n.createElement(f.JU,{style:c.XT.alignTextCenter},null===(e=null==i?void 0:i.value)||void 0===e?void 0:e.title))))):this.props.offerSummaries.map(((e,i)=>{const o=t&&i===a?this.accordionStyle:void 0;return n.createElement(f.az,{key:i,style:o},this._renderOfferSummaries(e,i,r))}))}_getTextColor(e,t){const i=null!=t?t:{};return i.color=null!=e?e:d.Jyk.offerV2Color,i}_renderOffersTitle(e,t){var i,a,o;const s=c.XT.offerV2Black,l=(null===(a=null===(i=null==t?void 0:t.offerBucket)||void 0===i?void 0:i.style)||void 0===a?void 0:a.color)?this._getTextColor(t.offerBucket.style.color,s):void 0,d=null==t?void 0:t.fomoUrgencyInfo;let u;if(d&&d.fomoUrgencyState){const{fomoUrgencyState:e}=d;switch(e){case m._.FOMO_GREEN:u=c.C1.backgroundFkGreen;break;case m._.FOMO_MAGENTA:u=c.C1.backgroundDarkMagenta;break;default:u=c.C1.backgroundFkGreen}}const h=[v.V.fomoBlinkSmallViewStyle,u],p=[v.V.fomoBlinkLargeViewStyle,u];return n.createElement(r.View,{style:[this.legacyTitleViewStyle,{maxWidth:e}]},n.createElement(r.Text,null,(null===(o=null==t?void 0:t.offerBucket)||void 0===o?void 0:o.text)&&n.createElement(r.Text,{style:[this.offerBucketTitleStyle,l]},t.offerBucket.text),t.title&&n.createElement(r.Text,{style:[this.offerSummaryTitleStyle,t.summaryDescriptions&&c.XT.fontMedium_14],ellipsizeMode:"tail"},`${t.title}`)),this.props.isAccordianCollapsed&&d?n.createElement(r.Animated.View,{style:{opacity:this.fadeViewAnimation}},n.createElement(r.View,{style:v.V.fomoAnimatedTitleStyle},n.createElement(r.View,{style:v.V.fomoAnimatedViewsContainer},n.createElement(r.Animated.View,{style:{opacity:this.blinkAnimation,transform:[{scaleX:this.blinkDiameter},{scaleY:this.blinkDiameter}]}},n.createElement(r.View,{style:p})),n.createElement(r.View,{style:h})),n.createElement(r.Text,{style:this.titleDescriptionStyle},d.fomoUrgencyText))):void 0)}_renderOfferSummariesRC(e,t,i){const l=null==e?void 0:e.value;if(!l)return;const d=this.props.showBorderBox,p=this.props.screenWidth-64-(l.iconUrl?28:0),{iconUrl:m,newTitle:v,cta:_,exclusiveDealsClaim:C,chevronAction:E,price:f,summaryDescriptions:S,alternateOffersCta:y,basketOffers:I}=l,b=!!(null==_?void 0:_.value),D=!!(null==y?void 0:y.value),x=!(!b||!D&&!!!I),P=this.props.isbankOfferEnable||S?16:24,O=n.createElement(o.S,{onPress:this.handleChevronClick,onPressParam:{action:E,position:t},disableFeedback:!0,key:t},n.createElement(r.View,null,n.createElement(r.View,{style:d?this.containerWithBorderStyle:g.hK.holder},n.createElement(r.View,{style:g.hK.edContainerStyle},m&&n.createElement(a.A,{style:this.iconUrlStyle,source:m,height:P,width:P}),v?n.createElement(r.View,{style:c.C1.col},n.createElement(r.View,{style:[this.newTitleContainerStyle,{maxWidth:p}]},n.createElement(u.A,{messages:v,imageHeight:16,textDefaultStyle:this.titleTextStyle,applyFontWeightFix:!0,useTextContainer:!0})),l.nepFomoData&&this.renderFOMO(l.nepFomoData,t,b),x&&this._renderMultipleCta(t,_,y,l.nepFomoData?c.C1.margin_top_6:c.C1.margin_top_8),!x&&(null==_?void 0:_.value)&&this._renderPrimaryCta(t,_,l.nepFomoData?c.C1.margin_top_6:c.C1.margin_top_8),!x&&(null==y?void 0:y.value)&&this._renderAlternateOffersCta(y,c.C1.margin_top_8),!x&&n.createElement(T.A,{productOfferSummary:l,dispatchAction:this.props.dispatchAction})):this._renderOffersTitle(p,l),C&&this.renderClaimButton(l)),E&&!E.params.hideChevronIcon&&(this.props.isbankOfferEnable?n.createElement(A.vK,{size:16}):n.createElement(r.View,{style:g.hK.chevronImageContainer},n.createElement(a.A,{source:s.j.getChevronSrc().uri,style:g.hK.chevronImageOffer,height:w,width:w}))),f&&(!S||S&&!this.props.showOfferDetails)&&n.createElement(r.View,{style:c.C1.margin_left_10},n.createElement(h.A,{richTextData:f}))),S&&this.props.showOfferDetails&&S.map(((e,i)=>this._renderDescriptionList(e,t,i,S.length))),this.props.showDivider&&t<i-1&&this.renderDivider())),R=e.tracking;if(R&&this.props.getTrackableContentView){if(this.props.analyticsData){const{subCategory:e,superCategory:t,vertical:i,category:n}=this.props.analyticsData;e&&(R.subCategory=e),t&&(R.superCategory=t),i&&(R.vertical=i),n&&(R.category=n)}return this.props.getTrackableContentView(O,R)}return O}_renderOfferSummaries(e,t,i){const d=this.getViewTrackingInfo(e),p=this.props.showBorderBox,m=this.props.screenWidth-64-(e.iconUrl?28:0),{iconUrl:v,newTitle:_,cta:E,exclusiveDealsClaim:f,chevronAction:S,price:y,summaryDescriptions:I,alternateOffersCta:b,basketOffers:D}=e,x=!!(null==E?void 0:E.value),P=!!(null==b?void 0:b.value),O=!(!x||!P&&!!!D),R=this.props.isbankOfferEnable||I?16:24;return n.createElement(l.A,{key:t,trackingInfo:d},n.createElement(o.S,Object.assign({},(0,C.Z)("NEP_OfferSummary_Container"),{onPress:this.handleChevronClick,onPressParam:{action:S,position:t},disableFeedback:!0,key:t}),n.createElement(r.View,null,n.createElement(r.View,{style:p?this.containerWithBorderStyle:g.hK.holder},n.createElement(r.View,{style:g.hK.edContainerStyle},v&&n.createElement(a.A,{style:this.iconUrlStyle,source:v,height:R,width:R}),_?n.createElement(r.View,{style:c.C1.col},n.createElement(r.View,{style:[this.newTitleContainerStyle,{maxWidth:m}]},n.createElement(u.A,Object.assign({},(0,C.Z)("NEP_OfferSummary_Title"),{messages:_,imageHeight:16,textDefaultStyle:this.titleTextStyle,applyFontWeightFix:!0,useTextContainer:!0}))),e.nepFomoData&&this.renderFOMO(e.nepFomoData,t,x),O&&this._renderMultipleCta(t,E,b,e.nepFomoData?c.C1.margin_top_6:c.C1.margin_top_8),!O&&(null==E?void 0:E.value)&&this._renderPrimaryCta(t,E,e.nepFomoData?c.C1.margin_top_6:c.C1.margin_top_8),!O&&b&&this._renderAlternateOffersCta(b,c.C1.margin_top_8),!O&&n.createElement(T.A,{productOfferSummary:e,dispatchAction:this.props.dispatchAction})):this._renderOffersTitle(m,e),f&&this.renderClaimButton(e)),S&&!S.params.hideChevronIcon&&(this.props.isbankOfferEnable?n.createElement(A.vK,{size:16}):n.createElement(r.View,{style:g.hK.chevronImageContainer},n.createElement(a.A,{source:s.j.getChevronSrc().uri,style:g.hK.chevronImageOffer,height:w,width:w}))),y&&(!I||I&&!this.props.showOfferDetails)&&n.createElement(r.View,Object.assign({},(0,C.Z)("NEP_OfferSummary_Price"),{style:c.C1.margin_left_10}),n.createElement(h.A,{richTextData:y}))),I&&this.props.showOfferDetails&&I.map(((e,i)=>this._renderDescriptionList(e,t,i,I.length))),this.props.showDivider&&t<i-1&&this.renderDivider())))}_renderOfferSummariesV4(e,t,i){var r,d,p,m;const v=this.getViewTrackingInfo(e),_=this.props.showBorderBox,E=this.props.screenWidth-64-(e.iconUrl?28:0),{iconUrl:S,newTitle:y,cta:I,exclusiveDealsClaim:b,chevronAction:D,price:x,summaryDescriptions:P,alternateOffersCta:O,basketOffers:R}=e,k=!!(null==I?void 0:I.value),V=!!(null==O?void 0:O.value),L=!(!k||!V&&!!!R),M=this.props.isbankOfferEnable||P?16:24,N=this.props.bankOfferEnabledV1,H=[c.C1.justifyContentFlexEnd,c.C1.padding_top_6,c.C1.padding_bottom_6,c.C1.padding_left_12,c.C1.padding_right_12,c.C1.border_radius_4,c.C1.border_width_1,c.C1.borderColorLightestGrey,c.C1.margin_left_10],W=[c.C1.border_bottom_width_1,{flexDirection:"row",backgroundColor:"white",justifyContent:"space-between",alignItems:"center",padding:16,borderColor:"#EEE"}],B=[c.C1.border_bottom_width_1,c.C1.borderColorLightGrey],U=[c.C1.margin_right_10,{alignSelf:"center",flexDirection:"row"}];if("BASKETQUANTITY_NONE_DISCOUNT"===(null==e?void 0:e.offerType)||"BASKETPRICE_NONE_DISCOUNT"===(null==e?void 0:e.offerType)){const i=null==e?void 0:e.headerTitle,s=null===(d=null===(r=null==i?void 0:i.data)||void 0===r?void 0:r[0])||void 0===d?void 0:d.value,l=null==e?void 0:e.newTitle,u=null===(m=null===(p=null==l?void 0:l.data)||void 0===p?void 0:p[0])||void 0===m?void 0:m.value;return n.createElement(f.az,{style:[W]},n.createElement(f.az,{flexDirection:"row",alignItems:"center",flex:1},S&&n.createElement(a.A,{source:S,height:32,width:32,style:c.C1.margin_right_8}),n.createElement(f.az,null,s&&n.createElement(h.A,{numberOfLines:1,richTextData:s,ellipsizeMode:"tail"}),u&&n.createElement(h.A,{richTextData:u,numberOfLines:1,ellipsizeMode:"tail"}))),n.createElement(f.az,null,n.createElement(o.S,null,n.createElement(f.az,{style:H},(null==I?void 0:I.value)&&this._renderPrimaryCta(t,I)))))}return!0===N?n.createElement(l.A,{key:t,trackingInfo:v},n.createElement(o.S,Object.assign({},(0,C.Z)("NEP_OfferSummary_Container"),{onPress:this.handleChevronClick,onPressParam:{action:D,position:t},disableFeedback:!0,key:t}),n.createElement(f.az,{style:[t===i-1?{}:B]},n.createElement(f.az,{style:[g.hK.NepAllOffersContainer]},n.createElement(f.az,{style:g.hK.NepedContainerStyle},S&&n.createElement(a.A,{style:this.iconUrlStyle,source:S,height:M,width:M}),y?n.createElement(f.az,{style:c.C1.col},n.createElement(f.az,{style:[this.newTitleContainerStyle,{maxWidth:E}]},n.createElement(u.A,Object.assign({},(0,C.Z)("NEP_OfferSummary_Title"),{messages:y,imageHeight:16,textDefaultStyle:this.titleTextStyle,applyFontWeightFix:!0,useTextContainer:!0}))),e.nepFomoData&&this.renderFOMO(e.nepFomoData,t,k),L&&this._renderMultipleCta(t,I,O,e.nepFomoData?c.C1.margin_top_6:c.C1.margin_top_8),!L&&(null==I?void 0:I.value)&&this._renderPrimaryCta(t,I,e.nepFomoData?c.C1.margin_top_6:c.C1.margin_top_8),!L&&O&&this._renderAlternateOffersCta(O,c.C1.margin_top_8),!L&&n.createElement(T.A,{productOfferSummary:e,dispatchAction:this.props.dispatchAction})):this._renderOffersTitle(E,e),b&&this.renderClaimButton(e)),n.createElement(f.az,{style:U},x&&(!P||P&&!this.props.showOfferDetails)&&n.createElement(f.az,Object.assign({},(0,C.Z)("NEP_OfferSummary_Price")),n.createElement(h.A,{richTextData:x})),D&&!D.params.hideChevronIcon&&(this.props.isbankOfferEnable?n.createElement(A.vK,{size:16}):n.createElement(f.az,null,n.createElement(a.A,{source:s.j.getChevronSrc().uri,height:w,width:w}))))),P&&this.props.showOfferDetails&&P.map(((e,i)=>this._renderDescriptionList(e,t,i,P.length))),this.props.showDivider&&t<i-1&&this.renderDivider()))):n.createElement(l.A,{key:t,trackingInfo:v},n.createElement(o.S,Object.assign({},(0,C.Z)("NEP_OfferSummary_Container"),{onPress:this.handleChevronClick,onPressParam:{action:D,position:t},disableFeedback:!0,key:t}),n.createElement(f.az,{style:[c.C1.padding_8]},n.createElement(f.az,{style:_?this.containerWithBorderStyle:g.hK.holder},n.createElement(f.az,{style:g.hK.edContainerStyle},S&&n.createElement(a.A,{style:this.iconUrlStyle,source:S,height:M,width:M}),y?n.createElement(f.az,{style:c.C1.col},n.createElement(f.az,{style:[this.newTitleContainerStyle,{maxWidth:E}]},n.createElement(u.A,Object.assign({},(0,C.Z)("NEP_OfferSummary_Title"),{messages:y,imageHeight:16,textDefaultStyle:this.titleTextStyle,applyFontWeightFix:!0,useTextContainer:!0}))),e.nepFomoData&&this.renderFOMO(e.nepFomoData,t,k),L&&this._renderMultipleCta(t,I,O,e.nepFomoData?c.C1.margin_top_6:c.C1.margin_top_8),!L&&(null==I?void 0:I.value)&&this._renderPrimaryCta(t,I,e.nepFomoData?c.C1.margin_top_6:c.C1.margin_top_8),!L&&O&&this._renderAlternateOffersCta(O,c.C1.margin_top_8),!L&&n.createElement(T.A,{productOfferSummary:e,dispatchAction:this.props.dispatchAction})):this._renderOffersTitle(E,e),b&&this.renderClaimButton(e)),D&&!D.params.hideChevronIcon&&(this.props.isbankOfferEnable?n.createElement(A.vK,{size:16}):n.createElement(f.az,{style:g.hK.chevronImageContainer},n.createElement(a.A,{source:s.j.getChevronSrc().uri,style:g.hK.chevronImageOffer,height:w,width:w}))),x&&(!P||P&&!this.props.showOfferDetails)&&n.createElement(f.az,Object.assign({},(0,C.Z)("NEP_OfferSummary_Price"),{style:c.C1.margin_left_10}),n.createElement(h.A,{richTextData:x}))),P&&this.props.showOfferDetails&&P.map(((e,i)=>this._renderDescriptionList(e,t,i,P.length))),this.props.showDivider&&t<i-1&&this.renderDivider())))}renderDivider(){return n.createElement(r.View,{style:this.dividerLineStyle})}_renderMultipleCta(e,t,i,a){return t&&i?n.createElement(r.View,{style:this.ctaButtonsContainerStyle},this._renderPrimaryCta(e,t,a),this._renderAlternateOffersCta(i,[c.C1.margin_top_8,c.C1.margin_left_16])):void 0}_renderPrimaryCta(e,t,i){var a,s,d,h;const p=(null===(a=null==t?void 0:t.action)||void 0===a?void 0:a.tracking)&&(null===(d=(s=this.props).getContentViewTrackingData)||void 0===d?void 0:d.call(s,new _.Ay(t.action.tracking))),g=(null==t?void 0:t.value)&&n.createElement(r.View,{style:i},n.createElement(o.S,{onPress:this.handleChevronClick,onPressParam:{action:t.action,position:e},disableFeedback:!0,key:e},n.createElement(u.A,{messages:t.value,textDefaultStyle:[c.XT.fontRegular_14,c.XT.lineHeight_20],applyFontWeightFix:!0,useTextContainer:!0})));return(null===(h=null==t?void 0:t.action)||void 0===h?void 0:h.tracking)?n.createElement(l.A,{trackingInfo:p},g):g}_renderAlternateOffersCta(e,t){if(null==e?void 0:e.value)return n.createElement(r.View,{style:t},n.createElement(o.S,{onPress:this.props.showAlternateOffers,onPressParam:{action:e.action},disableFeedback:!0},n.createElement(u.A,{messages:e.value,textDefaultStyle:[c.XT.fontRegular_14,c.XT.lineHeight_20],applyFontWeightFix:!0,useTextContainer:!0})))}}},61652:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(918210),r=i(395567),a=i(90513),o=i(229833),s=i(532655),l=i(938777);class d{handleAction(e,t,i){const d=e.payload?e.payload:void 0;if(d){const e={};let i="PP",c=a.Ay.PROP62,u=`_N${d.totalAvailableAddress}_P${d.addressSelectionPosition}`;"rewards"===d.pagetype&&(i="RS",u="",c=c.toLowerCase()),d.pagetype===s.A.SearchPage&&(i="SP"),d.pagetype!==s.A.ProductList&&d.pagetype!==s.A.BrowsePage||(i="BP"),d.serviceabilityText&&(e[a.Ay.LIST1]="deliverat_"+d.serviceabilityText+"_"+d.pincode),e[a.fM.EVENT15]=a.PY.TRUE,d.statusOfPincode===r.gL9.NON_SERVICABLE&&(e[a.fM.EVENT24]=a.PY.TRUE),e[c]=`${i}_PincodeChange_${d.pincodeSetBy}${u}`,d.pincode&&(e[a.Ay.EVAR52]=d.pincode),t.pageMeta.pageUriQueryParams&&"rewards"!==d.pagetype&&d.pagetype!==s.A.SearchPage&&d.pagetype!==s.A.ProductList&&d.pagetype!==s.A.BrowsePage&&(e[a.Ay.PRODUCTS]=";"+t.pageMeta.pageUriQueryParams[l.ViE.PID]+";;;;eVar93="+t.pageMeta.pageUriQueryParams[l.ViE.MARKETPLACE]),d.serviceabilityText||(e[a.Ay.PROP27]=d.statusOfPincode),d.message&&(e[a.Ay.PROP36]=d.message),d.pagetype&&(e[a.Ay.EVAR3]=d.pagetype),d.addressIdWithConfidence&&(o.A.addEvent(e,a.fM.EVENT179),e[a.Ay.EVAR147]=d.addressIdWithConfidence),o.A.fillOmnitureValues([a.Ay.EVAR4],e,t),n.A.addAndtrackEventUnderName(d.trackingActionName,e)}return!0}}},64513:(e,t,i)=>{function n(e){this._cbs=e||{},this.events=[]}e.exports=n;var r=i(12987).EVENTS;Object.keys(r).forEach((function(e){if(0===r[e])e="on"+e,n.prototype[e]=function(){this.events.push([e]),this._cbs[e]&&this._cbs[e]()};else if(1===r[e])e="on"+e,n.prototype[e]=function(t){this.events.push([e,t]),this._cbs[e]&&this._cbs[e](t)};else{if(2!==r[e])throw Error("wrong number of arguments");e="on"+e,n.prototype[e]=function(t,i){this.events.push([e,t,i]),this._cbs[e]&&this._cbs[e](t,i)}}})),n.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},n.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var e=0,t=this.events.length;e<t;e++)if(this._cbs[this.events[e][0]]){var i=this.events[e].length;1===i?this._cbs[this.events[e][0]]():2===i?this._cbs[this.events[e][0]](this.events[e][1]):this._cbs[this.events[e][0]](this.events[e][1],this.events[e][2])}}},70828:(e,t,i)=>{"use strict";i.d(t,{Sg:()=>l,rN:()=>d,ik:()=>m,tI:()=>c,V4:()=>u,W1:()=>_,NH:()=>C,qq:()=>v,V5:()=>h,kZ:()=>p,ZY:()=>g,cO:()=>E});var n=i(877293),r=i(492418),a=i(751603),o=i(887261);const s=n.StyleSheet.create({redRating:{backgroundColor:r.J38.red},greenRating:{backgroundColor:r.J38.ratingGreen},yellowRating:{backgroundColor:r.J38.ratingOrange},ratingContainer:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",paddingRight:1,marginTop:2},ratingTextContainer:{height:16,borderRadius:2,paddingLeft:6,paddingRight:6,flexDirection:"column",justifyContent:"center"},ratingText:{overflow:"hidden",color:r.J38.white,fontSize:10,fontFamily:o.$u,includeFontPadding:!1},ratingCountText:{fontFamily:o.A$,color:r.J38.lightGrey,fontSize:12,marginLeft:5,paddingBottom:2}}),l=128,d=264,c=a.ry+15+24+4+1,u=c+12,h=n.StyleSheet.create({outerViewList:{flex:1,flexDirection:"row",flexWrap:"wrap",paddingTop:12,paddingBottom:12,minHeight:154},outerViewListImageLarge:{flex:1,flexDirection:"row",paddingTop:12,paddingBottom:12,minHeight:154},listContainer:{flex:1,alignItems:"flex-start",flexDirection:"column",flexWrap:"wrap"},listContainerFloating:{flex:1,alignItems:"flex-start",flexDirection:"column",flexWrap:"wrap",borderRadius:4,elevation:1.5,backgroundColor:r.Jyk.white,shadowColor:r.Jyk.black,shadowRadius:4,shadowOpacity:.1,shadowOffset:{height:1,width:1}}}),p=n.StyleSheet.create({imageContainer:{height:120,marginTop:15,marginLeft:5},imageParentDefault:{justifyContent:"flex-start",alignItems:"center",height:120},imageParentLarge:{justifyContent:"flex-start",alignItems:"center",marginLeft:5,marginTop:15,height:120},imageParentLargeVertical:{justifyContent:"center",alignItems:"flex-start",marginTop:15},imageParentLargeTitle:{justifyContent:"center",alignItems:"center",height:"auto"},saleTag:{position:"absolute",top:0,left:0,textAlign:"center",alignItems:"center",backgroundColor:r.J38.saleTagBackground,fontSize:12,color:r.J38.white,paddingLeft:8,paddingTop:4,paddingBottom:4,paddingRight:8,marginBottom:2},availabilityText:{paddingTop:8,paddingHorizontal:12,alignItems:"center",justifyContent:"center",fontSize:12,textAlign:"center",bottom:0,fontFamily:o.oF,letterSpacing:.3,width:a.MJ,backgroundColor:r.J38.white},availabilityTextImageLarge:{paddingTop:8,paddingHorizontal:12,alignItems:"center",justifyContent:"center",fontSize:12,textAlign:"center",bottom:0,fontFamily:o.oF,letterSpacing:.3,width:"100%",backgroundColor:r.J38.white},amplifiedAvailabilityText:{position:"absolute",top:80},outOfStockStyles:{opacity:1,flex:1,position:"absolute",justifyContent:"center",alignItems:"center",backgroundColor:r.J38.white},notServicableTextStyle:{alignItems:"center",color:r.J38.red,fontSize:12,textAlign:"center"},productDetailsContainer:{flex:1,alignItems:"flex-start",paddingLeft:12,paddingRight:20,marginTop:10,marginBottom:6},productDetailsLargeVerticalContainer:{flex:1,alignItems:"flex-start",marginTop:16},gradeDetailsContainer:{paddingBottom:8},productTitle:{fontSize:14,overflow:"hidden",fontFamily:o.A$,color:r.J38.textColor},productTitleLarge:{fontSize:14,overflow:"hidden",fontFamily:o.$u,color:r.J38.textColor},productBrandTitle:{fontSize:14,overflow:"hidden",fontFamily:o.jG,color:r.J38.textColor},exclusiveTagText:{fontSize:14,overflow:"hidden",fontFamily:o.A$,color:r.J38.lightGrey},foodPreferenceView:{maxWidth:"100%",flexDirection:"row",alignItems:"center",marginBottom:4},foodPreferenceViewRevamped:{maxWidth:"100%",flexDirection:"row",alignItems:"center",marginBottom:8},gradeContainer:{marginTop:4,marginBottom:8},listRatingView:{flexDirection:"row",alignItems:"center",marginBottom:6},listRatingViewRevamped:{flexDirection:"row",alignItems:"center",marginBottom:4},listRatingViewWithAspectRating:{flexDirection:"row",alignItems:"center"},listRatingViewCentered:{flexDirection:"row",alignItems:"center",marginBottom:2},listRatingViewEmpty:{flexDirection:"row",marginBottom:6},offerTagContainer:{flexDirection:"row",justifyContent:"flex-start",flexWrap:"nowrap",alignItems:"center",marginTop:1},offerSummaryTagText:{color:r.J38.textColor,fontSize:12,marginTop:3,marginLeft:2},pricingAidText:{color:r.J38.textColor,fontSize:12,marginTop:6},offerIcon:{marginTop:3,height:12,width:12},listOutOfStockLarge:{bottom:0,width:a.MJ,paddingLeft:5,marginLeft:5},subTitle:{fontFamily:o.A$,color:r.J38.lightGrey,fontSize:11,marginBottom:4},title:{marginRight:24,marginBottom:6}}),g=s,m=34,v=n.StyleSheet.create({tagTextWithBorder:{textAlignVertical:"center",color:r.J38.lightGrey,fontSize:12,paddingLeft:8,paddingRight:8,height:24,borderWidth:1,borderRadius:2,marginLeft:10,marginBottom:10,borderColor:r.J38.borderGray,fontFamily:o.$u,includeFontPadding:!1},tagText:{textAlignVertical:"center",color:r.J38.lightGrey,fontSize:12,paddingLeft:8,paddingRight:8,fontFamily:o.$u,includeFontPadding:!1},viewStyle:{alignItems:"center",height:24,marginLeft:10,marginBottom:10,justifyContent:"center",borderWidth:1,borderRadius:2,borderColor:r.J38.borderGray},tagTextContainer:{flex:1,flexWrap:"wrap",flexDirection:"row"}}),_=n.StyleSheet.create({flipkartLabel:{width:60,height:16}}),C=n.StyleSheet.create({flipkartLabelFoodPref:{width:16,marginLeft:6}}),E=n.StyleSheet.create({parentStyle:{minHeight:172,width:281,backgroundColor:r.J38.white,marginTop:1,marginBottom:4,marginLeft:4,marginEnd:4,borderRadius:4,elevation:2,shadowColor:r.J38.black,shadowOffset:{width:0,height:1},shadowOpacity:.31,shadowRadius:4},keySpecParentStyle:{width:281,height:64,paddingLeft:4,paddingEnd:12,alignContent:"center",marginBottom:6,marginTop:8},keySpecViewStyle:{marginLeft:8,marginBottom:8,height:24,width:124.5,textAlign:"center",lineHeight:15},subtitleStyle:{marginBottom:0,marginTop:4,fontSize:12},imgStyle:{marginTop:0,height:80,marginLeft:12},prodDetailsContainer:{height:80,marginTop:0,paddingRight:8,marginBottom:0},outerViewMinHeight:{minHeight:80,paddingTop:12,paddingBottom:8},container:{marginBottom:12,marginLeft:12,paddingHorizontal:0},viewStyle:{marginTop:0,marginBottom:0}})},72476:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>g});var n=i(465420),r=i(296540),a=i(877293),o=i(352254),s=i(670563),l=i(887261);const d=a.StyleSheet.create({container:{paddingVertical:8},wrapper:{flexDirection:"row",paddingVertical:8,paddingLeft:8,paddingRight:24},textStyle:{fontFamily:l.$u,fontSize:14,includeFontPadding:!1,color:s.J3.black},imageStyle:{paddingRight:8},descriptionStyle:{fontSize:12,fontFamily:l.A$,includeFontPadding:!0,color:s.J3.lightGrey}});var c=i(52754),u=i(716249),h=i(479892);class p extends u.A{constructor(){super(...arguments),this._renderPromises=e=>{const t=e.contentCards;return t&&t.map((e=>{const t=null==e?void 0:e.title,i=null==e?void 0:e.description,n=e.richContent,s=null==n?void 0:n.image,l=(null==s?void 0:s.dynamicImageUrl)&&r.createElement(o.A,{source:s.dynamicImageUrl,height:20,width:20});return r.createElement(a.View,{style:d.wrapper},s&&r.createElement(a.View,{style:d.imageStyle},l),r.createElement(a.View,{style:h.C1.flex},r.createElement(a.Text,{style:d.textStyle},t),r.createElement(a.Text,{style:d.descriptionStyle},i)))}))}}static getWidgetHeight(e){return 100+u.A.getAdditionalHeight(e)}renderWidget(){var e,t;const i=(0,c.nS)(this.props.widgetSlotData),n=i&&i.data;if(!n)return;const o=null===(t=null===(e=null==n?void 0:n.renderableComponents)||void 0===e?void 0:e[0])||void 0===t?void 0:t.value;return o?r.createElement(a.View,{style:d.container},this._renderPromises(o)):void 0}}class g extends n.A{getWidgetClass(e){return p}getWidgetHeight(e){return p.getWidgetHeight(e)}}},78607:e=>{"use strict";e.exports=JSON.parse('{"Aacute":"","aacute":"","Acirc":"","acirc":"","acute":"","AElig":"","aelig":"","Agrave":"","agrave":"","amp":"&","AMP":"&","Aring":"","aring":"","Atilde":"","atilde":"","Auml":"","auml":"","brvbar":"","Ccedil":"","ccedil":"","cedil":"","cent":"","copy":"","COPY":"","curren":"","deg":"","divide":"","Eacute":"","eacute":"","Ecirc":"","ecirc":"","Egrave":"","egrave":"","ETH":"","eth":"","Euml":"","euml":"","frac12":"","frac14":"","frac34":"","gt":">","GT":">","Iacute":"","iacute":"","Icirc":"","icirc":"","iexcl":"","Igrave":"","igrave":"","iquest":"","Iuml":"","iuml":"","laquo":"","lt":"<","LT":"<","macr":"","micro":"","middot":"","nbsp":"","not":"","Ntilde":"","ntilde":"","Oacute":"","oacute":"","Ocirc":"","ocirc":"","Ograve":"","ograve":"","ordf":"","ordm":"","Oslash":"","oslash":"","Otilde":"","otilde":"","Ouml":"","ouml":"","para":"","plusmn":"","pound":"","quot":"\\"","QUOT":"\\"","raquo":"","reg":"","REG":"","sect":"","shy":"","sup1":"","sup2":"","sup3":"","szlig":"","THORN":"","thorn":"","times":"","Uacute":"","uacute":"","Ucirc":"","ucirc":"","Ugrave":"","ugrave":"","uml":"","Uuml":"","uuml":"","Yacute":"","yacute":"","yen":"","yuml":""}')},84146:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ViewTypes:()=>g,default:()=>m});var n=i(465420),r=i(52754),a=i(536245),o=i(716249),s=i(296540),l=i(347924);const d=l.JU.extendComponent({name:"ComboTitle",defaultProps:{font:"m_medium",color:"v2.neutral.900",fontFamily:"inter"}}),c=l.JU.extendComponent({name:"ComboSubTitle",defaultProps:{font:"m",numberOfLines:1,flex:1,ellipsizeMode:"tail",color:"v2.neutral.900",fontFamily:"inter"}}),u=l.az.extendComponent({name:"Container",defaultProps:{padding:"s6",pb:"s4"}}),h=l.az.extendComponent({name:"RowWrapper",defaultProps:{mb:"s2",flexDirection:"row"}});class p extends o.A{static getProductsFromWidget(e){const t=(0,r.nS)(e),i=null==t?void 0:t.data;return null==i?void 0:i.comboTitleComponent}renderDivider(){}renderWidget(){const e=p.getProductsFromWidget(this.props.widgetSlotData);if(null==e?void 0:e.length)return s.createElement(u,null,e.map(((e,t)=>{var i,n;return this._renderRow(0!==t,null===(i=null==e?void 0:e.value)||void 0===i?void 0:i.superTitle,null===(n=null==e?void 0:e.value)||void 0===n?void 0:n.title)})))}_renderRow(e,t,i){const n=`${e?"+ ":""}${t||""} `;return s.createElement(h,null,s.createElement(d,null,n),s.createElement(c,null,i))}static getWidgetHeight(e){const t=p.getProductsFromWidget(e.widgetSlotData);return t?16+24*t.length+8:0}}var g;!function(e){e.COMBO_PRODUCT_TITLE="COMBO_PRODUCT_TITLE"}(g||(g={}));class m extends n.A{getWidgetClass(e){return r.KJ(e.widgetSlotData),p}getWidgetHeight(e){return r.KJ(e.widgetSlotData),a.A.getWidgetHeight(e)}}},85884:(e,t)=>{"use strict";!function(e){e.PRODUCT_PAGE_SUMMARY_V2_TITLE_RC="PRODUCT_PAGE_SUMMARY_V2_TITLE_RC",e.PRODUCT_PAGE_SUMMARY_V2_PRICING_RC="PRODUCT_PAGE_SUMMARY_V2_PRICING_RC",e.PRODUCT_PAGE_SUMMARY_V2_RATINGS_RC="PRODUCT_PAGE_SUMMARY_V2_RATINGS_RC",e.PRODUCT_PAGE_SUMMARY_V2_OFFER_SUMMARY_RC="PRODUCT_PAGE_SUMMARY_V2_OFFER_SUMMARY_RC",e.PRODUCT_PAGE_SUMMARY_V2_OFFER_INFO_RC="PRODUCT_PAGE_SUMMARY_V2_OFFER_INFO_RC",e.PRODUCT_PAGE_SUMMARY_V2_NEW_TITLE_RC="PRODUCT_PAGE_SUMMARY_V2_NEW_TITLE_RC",e.PRODUCT_PAGE_SUMMARY_V2_PREORDER_RC="PRODUCT_PAGE_SUMMARY_V2_PREORDER_RC",e.PRODUCT_PAGE_SUMMARY_V2_LISTING_PRESERVE_RC="PRODUCT_PAGE_SUMMARY_V2_LISTING_PRESERVE_RC",e.PRODUCT_PAGE_SUMMARY_V2_WRITE_REVIEW_RC="PRODUCT_PAGE_SUMMARY_V2_WRITE_REVIEW_RC",e.PRODUCT_PAGE_SUMMARY_V2_PRODUCT_DETAILS_RC="PRODUCT_PAGE_SUMMARY_V2_PRODUCT_DETAILS_RC",e.PRODUCT_PAGE_SUMMARY_V2_SHARE_BUTTON_RC="PRODUCT_PAGE_SUMMARY_V2_SHARE_BUTTON_RC",e.COMPOSED_SWATCH_PRODUCT_SWATCH_VALUE_RC="COMPOSED_SWATCH_PRODUCT_SWATCH_VALUE_RC",e.RATING_REVIEW_BUTTON_RC="RATING_REVIEW_BUTTON_RC",e.RATING_REVIEW_BUTTON_RC_ROUND="RATING_REVIEW_BUTTON_RC_ROUND",e.PRODUCT_PAGE_BUY_NOW_RC="PRODUCT_PAGE_BUY_NOW_RC",e.PRODUCT_PAGE_ADD_TO_CART_RC="PRODUCT_PAGE_ADD_TO_CART_RC",e.PRODUCT_PAGE_CHAT_RC="PRODUCT_PAGE_CHAT_RC",e.HOME_PAGE_VOICE_SEARCH_RC="HOME_PAGE_VOICE_SEARCH_RC",e.HOME_PAGE_LIST_SEARCH_RC="HOME_PAGE_LIST_SEARCH_RC",e.HOME_PAGE_VOICE_ANIMATED_SEARCH_RC="HOME_PAGE_VOICE_ANIMATED_SEARCH_RC",e.HOME_PAGE_SEARCH_BAR_RC="HOME_PAGE_SEARCH_BAR_RC",e.LIST_HOMEPAGE_LIST_ITEM_RC="LIST_HOMEPAGE_LIST_ITEM_RC",e.LIST_HOMEPAGE_LIST_SEARCH_RC="LIST_HOMEPAGE_LIST_SEARCH_RC",e.LIST_HOMEPAGE_LIST_SUGGESTION_RC="LIST_HOMEPAGE_LIST_SUGGESTION_RC",e.CART_PAGE_PLACE_ORDER_RC="CART_PAGE_PLACE_ORDER_RC",e.ORDER_SUMMARY_PAGE_CONTINUE_BUTTON_RC="ORDER_SUMMARY_PAGE_CONTINUE_BUTTON_RC",e.ORDER_SUMMARY_PAGE_QUICK_CALLOUT_RC="ORDER_SUMMARY_PAGE_QUICK_CALLOUT_RC",e.ADDRESS_PAGE_NAME_FORM_FIELD_RC="ADDRESS_PAGE_NAME_FORM_FIELD_RC",e.ADDRESS_PAGE_PHONE_NUMBER_FORM_FIELD_RC="ADDRESS_PAGE_PHONE_NUMBER_FORM_FIELD_RC",e.ADDRESS_PAGE_ALTERNATE_PHONE_NUMBER_FORM_FIELD_RC="ADDRESS_PAGE_ALTERNATE_PHONE_NUMBER_FORM_FIELD_RC",e.ADDRESS_PAGE_PIN_CODE_FORM_FIELD_RC="ADDRESS_PAGE_PIN_CODE_FORM_FIELD_RC",e.ADDRESS_PAGE_STATE_FORM_FIELD_RC="ADDRESS_PAGE_STATE_FORM_FIELD_RC",e.ADDRESS_PAGE_CITY_FORM_FIELD_RC="ADDRESS_PAGE_CITY_FORM_FIELD_RC",e.ADDRESS_PAGE_ADDRESS_LINE_1_FORM_FIELD_RC="ADDRESS_PAGE_ADDRESS_LINE_1_FORM_FIELD_RC",e.ADDRESS_PAGE_ADDRESS_LINE_2_FORM_FIELD_RC="ADDRESS_PAGE_ADDRESS_LINE_2_FORM_FIELD_RC",e.ADDRESS_PAGE_LANDMARK_FORM_FIELD_RC="ADDRESS_PAGE_LANDMARK_FORM_FIELD_RC",e.ADDRESS_PAGE_SAVE_FORM_FIELD_RC="ADDRESS_PAGE_SAVE_FORM_FIELD_RC",e.ADDRESS_PAGE_USE_MY_LOCATION_FORM_FIELD_RC="ADDRESS_PAGE_USE_MY_LOCATION_FORM_FIELD_RC",e.ADDRESS_PAGE_LOCATION_TYPE_FORM_FIELD_RC="ADDRESS_PAGE_LOCATION_TYPE_FORM_FIELD_RC",e.TRADE_IN_ADD_BANK_ACCOUNT_PAGE_ACCOUNT_NUMBER_RC="TRADE_IN_ADD_BANK_ACCOUNT_PAGE_ACCOUNT_NUMBER_RC",e.TRADE_IN_ADD_BANK_ACCOUNT_PAGE_CONFIRM_ACCOUNT_NUMBER_RC="TRADE_IN_ADD_BANK_ACCOUNT_PAGE_CONFIRM_ACCOUNT_NUMBER_RC",e.TRADE_IN_ADD_BANK_ACCOUNT_PAGE_IFSC_CODE_RC="TRADE_IN_ADD_BANK_ACCOUNT_PAGE_IFSC_CODE_RC",e.TRADE_IN_ADD_BANK_ACCOUNT_PAGE_ACCOUNT_HOLDERS_NAME_RC="TRADE_IN_ADD_BANK_ACCOUNT_PAGE_ACCOUNT_HOLDERS_NAME_RC",e.TRADE_IN_ADD_BANK_ACCOUNT_PAGE_ADD_BANK_ACCOUNT_RC="TRADE_IN_ADD_BANK_ACCOUNT_PAGE_ADD_BANK_ACCOUNT_RC",e.BOTTOM_BAR_HOME_RC="BOTTOM_BAR_HOME_RC",e.BOTTOM_BAR_CATEGORIES_RC="BOTTOM_BAR_CATEGORIES_RC",e.BOTTOM_BAR_NOTIFICATIONS_RC="BOTTOM_BAR_NOTIFICATIONS_RC",e.BOTTOM_BAR_ACCOUNT_RC="BOTTOM_BAR_ACCOUNT_RC",e.BOTTOM_BAR_CART_RC="BOTTOM_BAR_CART_RC",e.BOTTOM_BAR_SEARCH_RC="BOTTOM_BAR_SEARCH_RC",e.SUPER_COIN_CART_RC="SUPER_COIN_CART_RC",e.JG_HVA_RC="JG_HVA_RC",e.GAMIFIED_ONBOARDING_HP_BANNER_RC="GAMIFIED_ONBOARDING_HP_BANNER_RC",e.HOME_PAGE_EARNINGS_TAB="HOME_PAGE_EARNINGS_TAB",e.MARKETPLACE_TABBED_HEADER_LEFT_TAB_RC="MARKETPLACE_TABBED_HEADER_LEFT_TAB_RC",e.MARKETPLACE_TABBED_HEADER_RIGHT_TAB_RC="MARKETPLACE_TABBED_HEADER_RIGHT_TAB_RC",e.HOME_PAGE_MALL_MODE_RC="HOME_PAGE_MALL_MODE_RC",e.HOME_PAGE_IMAGE_SEARCH_RC="HOME_PAGE_IMAGE_SEARCH_RC",e.PEEK_A_BOO_RC="PEEK_A_BOO_RC",e.RECHARGE_CONNECTION_CARD="RECHARGE_CONNECTION_CARD",e.RECHARGE_NUMBER_SEARCH="RECHARGE_NUMBER_SEARCH",e.IMMERSE_PROMPT_NUDGE_RC="IMMERSE_PROMPT_NUDGE_RC",e.IMMERSE_SEARCH="IMMERSE_SEARCH",e.SEARCH_PAGE_TAB_ALL="SEARCH_PAGE_TAB_ALL",e.SEARCH_PAGE_TAB_MALL="SEARCH_PAGE_TAB_MALL",e.SEARCH_PAGE_TAB_SPOYL="SEARCH_PAGE_TAB_SPOYL",e.AFFILIATE_PROFILE="AFFILIATE_PROFILE"}(t.q||(t.q={}))},91003:(e,t,i)=>{"use strict";i.d(t,{A:()=>L});var n=i(296540),r=i(877293),a=i(670563),o=i(887261);const s=r.StyleSheet.create({buttonContainer:{alignItems:"stretch",flexDirection:"row"},leftbutton:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center",borderColor:a.Jy.separator,borderTopWidth:1,borderLeftWidth:1,borderRightWidth:1,marginTop:4,marginBottom:4,height:46,paddingHorizontal:8},rightButton:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center",borderColor:a.Jy.separator,borderTopWidth:1,borderRightWidth:1,marginTop:4,marginBottom:4,height:46,paddingHorizontal:8},updatedRightButton:{flex:1,alignItems:"center",justifyContent:"center",borderColor:a.Jy.separator,borderTopWidth:1,borderRightWidth:1,marginTop:4,marginBottom:4,height:46,position:"relative"},smallButton:{width:50,borderColor:a.Jy.separator,borderTopWidth:1,borderRightWidth:1,marginTop:4,marginBottom:4,height:46,paddingLeft:0},innerButtonStyle:{flex:1,flexDirection:"row",alignSelf:"stretch",alignItems:"center",height:46,justifyContent:"center"},icon:{height:16,width:16},leftButtonText:{flexShrink:1,color:a.Jy.blackPrimary,fontFamily:o.A$,fontSize:14,backgroundColor:"transparent",textAlign:"center"},rightButtonText:{flexShrink:1,color:a.Jy.blackPrimary,fontFamily:o.A$,fontSize:14,backgroundColor:"transparent",textAlign:"center"},leftButtonTextWithPadding:{flexShrink:1,color:a.Jy.blackPrimary,fontFamily:o.A$,fontSize:14,backgroundColor:"transparent",textAlign:"center",paddingLeft:2,paddingRight:2},rightButtonTextWithPadding:{flexShrink:1,color:a.Jy.blackPrimary,fontFamily:o.A$,fontSize:14,backgroundColor:"transparent",textAlign:"center",paddingLeft:2,paddingRight:2}});var l=i(453018),d=i(938777),c=i(322392),u=i(166057),h=i(387393),p=i(352254),g=i(45426),m=i(495176),v=i(479892),_=i(454334),C=i(700036),E=i(153491),T=i(347953);class f extends n.Component{constructor(e){var t,i;super(e),this.LOCAL_STORAGE_KEY="CartActions:tooltipCount",this.buyNowTooltipExpData=T.A.getExperimentValue("buyNowTooltipExp")||void 0,this._checkTooltipCount=()=>{_.A.getValueInt(this.LOCAL_STORAGE_KEY).then((e=>{this._handleTooltipCountToShow(e)})).catch()},this._handleTooltipCountToShow=e=>{var t,i;const n=(null===(t=this.buyNowTooltipExpData)||void 0===t?void 0:t.overallCount)||6,r=(null===(i=this.buyNowTooltipExpData)||void 0===i?void 0:i.perSessionCount)||1,a=C.A.getNumberOrDefault(this.LOCAL_STORAGE_KEY,0);e>=n||a>=r?this.setState({shouldShowToolTip:!1}):(this.setState({shouldShowToolTip:!0}),a<=r&&this._updateCounts(e,a))},this._updateCounts=(e,t)=>{_.A.setValueInt(this.LOCAL_STORAGE_KEY,e+1).catch(),C.A.setNumber(this.LOCAL_STORAGE_KEY,t+1)},this.renderButton=e=>{var t,i,a,o;const{isFirstButton:l}=this.props,d=s.innerButtonStyle,c={buttonProps:e,isTooltipShown:this.state.shouldShowToolTip},u=(null===(t=this.props.data.value)||void 0===t?void 0:t.title)?v.C1.margin_right_9:{};return n.createElement(g.S,{tappableStyle:d,onPress:this.props.onButtonCallback,onPressParam:c},n.createElement(r.View,{style:d},(null===(a=null===(i=null==e?void 0:e.value)||void 0===i?void 0:i.image)||void 0===a?void 0:a.dynamicImageUrl)&&n.createElement(p.A,{height:f.ICON_SIZE,style:u,width:f.ICON_SIZE,source:e.value.image.dynamicImageUrl}),(null===(o=null==e?void 0:e.value)||void 0===o?void 0:o.title)&&n.createElement(m.A,{text:e.value.title,style:l?s.leftButtonText:s.rightButtonText})))},this.renderTooltipWrapper=(e,t)=>n.createElement(E.A,{guidedNavTipList:t},this.renderButton(e)),this.state={shouldShowToolTip:!1},this.buttonStyle=[s.updatedRightButton],this.props.isFirstButton&&(this.buttonStyle.push(v.C1.border_left_width_1),this.buttonStyle.push(v.C1.padding_horizontal_8)),this.props.updateButtonStyle&&this.buttonStyle.push(v.C1.margin_top_0),this.props.isLeftAlignedViewType&&this.buttonStyle.push(v.C1.margin_top_8),(null===(i=null===(t=e.data)||void 0===t?void 0:t.value)||void 0===i?void 0:i.title)||(this.buttonStyle=[s.smallButton])}componentDidMount(){var e;const{data:t}=this.props;!!(null===(e=null==t?void 0:t.value)||void 0===e?void 0:e.guidedNavigation)&&this._checkTooltipCount()}render(){var e;const{data:t}=this.props,i=null===(e=null==t?void 0:t.value)||void 0===e?void 0:e.guidedNavigation;return n.createElement(r.View,{style:this.buttonStyle},this.state.shouldShowToolTip&&i?this.renderTooltipWrapper(t,i):this.renderButton(t))}}f.ICON_SIZE=12;var A=i(201159),S=i(302019),y=i(879052);const w=S.JU.extendComponent({name:"ActionLabel",defaultProps:e=>({flexShrink:1,color:e.isTextColorAvailable?"raw.blue.500":e.isOverriding&&!e.isFirst?"primary.main":"text.secondary",textAlign:"center",bg:"background.transparent",font:"m_medium",px:e.isDynamicUrl&&!e.isOverriding?"s1":void 0})});class I extends n.Component{constructor(e){var t,i;super(e),this.LOCAL_STORAGE_KEY="CartActions:tooltipCount",this.buyNowTooltipExpData=T.A.getExperimentValue("buyNowTooltipExp")||void 0,this._checkTooltipCount=()=>{_.A.getValueInt(this.LOCAL_STORAGE_KEY).then((e=>{this._handleTooltipCountToShow(e)})).catch()},this._handleTooltipCountToShow=e=>{var t,i;const n=(null===(t=this.buyNowTooltipExpData)||void 0===t?void 0:t.overallCount)||6,r=(null===(i=this.buyNowTooltipExpData)||void 0===i?void 0:i.perSessionCount)||1,a=C.A.getNumberOrDefault(this.LOCAL_STORAGE_KEY,0);e>=n||a>=r?this.setState({shouldShowToolTip:!1}):(this.setState({shouldShowToolTip:!0}),a<=r&&this._updateCounts(e,a))},this._updateCounts=(e,t)=>{_.A.setValueInt(this.LOCAL_STORAGE_KEY,e+1).catch(),C.A.setNumber(this.LOCAL_STORAGE_KEY,t+1)},this.renderButton=e=>{var t,i,a,o,l,d,c,u,h,m;const{isFirstButton:_}=this.props,C=s.innerButtonStyle,E={buttonProps:e,isTooltipShown:this.state.shouldShowToolTip};let T;const f=function(e){switch(e){case b:return A.uc;case D:return A.nO;case x:return A.aJ;case P:return A.C2;case O:return A.w2;case R:return A.x_;default:return null}}(null===(i=null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.image)||void 0===i?void 0:i.dynamicImageUrl),k=!!(null===(a=null==e?void 0:e.value)||void 0===a?void 0:a.buttonTextColor);if(null!==f)T=n.createElement(r.View,{style:C},n.createElement(S.az,Object.assign({},(0,y.Z)("Cart_Action_Button_Image"),{mr:"s4"}),n.createElement(f,{size:16,color:k?"raw.blue.500":"text.secondary"})),(null===(o=null==e?void 0:e.value)||void 0===o?void 0:o.title)&&n.createElement(w,Object.assign({},(0,y.Z)("Cart_Action_Button_Text"),{isTextColorAvailable:k}),e.value.title));else{const t=(null===(l=this.props.data.value)||void 0===l?void 0:l.title)?v.C1.margin_right_9:{};T=n.createElement(r.View,{style:C},(null===(c=null===(d=null==e?void 0:e.value)||void 0===d?void 0:d.image)||void 0===c?void 0:c.dynamicImageUrl)&&n.createElement(p.A,Object.assign({},(0,y.Z)("Cart_Action_Button_Image"),{height:I.ICON_SIZE,style:t,width:I.ICON_SIZE,source:e.value.image.dynamicImageUrl})),(null===(u=null==e?void 0:e.value)||void 0===u?void 0:u.title)&&n.createElement(w,Object.assign({},(0,y.Z)("Cart_Action_Button_Text"),{isOverriding:this.props.overrideButtonTextStyle,isFirst:_,isDynamicUrl:!!(null===(m=null===(h=null==e?void 0:e.value)||void 0===h?void 0:h.image)||void 0===m?void 0:m.dynamicImageUrl),isTextColorAvailable:k}),e.value.title))}return n.createElement(g.S,Object.assign({},(0,y.Z)("Cart_Action_Button"),{tappableStyle:C,onPress:this.props.onButtonCallback,onPressParam:E}),T)},this.renderTooltipWrapper=(e,t)=>n.createElement(E.A,{guidedNavTipList:t},this.renderButton(e)),this.state={shouldShowToolTip:!1},this.buttonStyle=[s.updatedRightButton],this.props.isFirstButton&&(this.buttonStyle.push(v.C1.border_left_width_1),this.buttonStyle.push(v.C1.padding_horizontal_8)),this.props.updateButtonStyle&&this.buttonStyle.push(v.C1.margin_top_0),this.props.isLeftAlignedViewType&&this.buttonStyle.push(v.C1.margin_top_8),(null===(i=null===(t=e.data)||void 0===t?void 0:t.value)||void 0===i?void 0:i.title)||(this.buttonStyle=[s.smallButton])}componentDidMount(){var e;const{data:t}=this.props;!!(null===(e=null==t?void 0:t.value)||void 0===e?void 0:e.guidedNavigation)&&this._checkTooltipCount()}render(){var e;const{data:t}=this.props,i=null===(e=null==t?void 0:t.value)||void 0===e?void 0:e.guidedNavigation;return n.createElement(r.View,Object.assign({},(0,y.Z)("Cart_Action_Button"),{style:this.buttonStyle}),this.state.shouldShowToolTip&&i?this.renderTooltipWrapper(t,i):this.renderButton(t))}}I.ICON_SIZE=12;const b="https://rukminim1.flixcart.com/www/{@width}/{@height}/promos/13/02/2019/bc836649-0a7f-498b-a8f8-ef0a0217ff28.png?q={@quality}",D="https://rukminim1.flixcart.com/www/{@width}/{@height}/promos/13/02/2019/db96c6a2-6e28-450b-963b-b39ed4fd85f7.png?q={@quality}",x="https://rukminim1.flixcart.com/www/{@width}/{@height}/promos/13/02/2019/2e475610-320f-4c65-baa2-a77736a94f77.png?q={@quality}",P="https://rukminim1.flixcart.com/www/{@width}/{@height}/promos/06/08/2021/341ffb1f-e5bf-47a3-9221-02b945eb02e3.png?q={@quality}",O="https://rukminim1.flixcart.com/www/{@width}/{@height}/promos/11/10/2022/3424d3d8-c63a-4343-b95c-a46258a0c3ef.png?q={@quality}",R="https://rukminim1.flixcart.com/www/{@width}/{@height}/promos/13/10/2022/9a1554f5-91cf-4853-ae47-af0ec3e96c43.png?q={@quality}";var k=i(283774);const V=(0,h.A)(f,I);class L extends n.PureComponent{constructor(){super(...arguments),this._buttonCallback=(e,t)=>{var i,n,r,a,o,s,h,p,g,m,v;const{buttonProps:_,isTooltipShown:C}=t,E=null===(i=null==_?void 0:_.action)||void 0===i?void 0:i.type;let T=null==_?void 0:_.tracking;if(E===u.a.CART_BUY_NOW&&(null===(r=(n=this.props).triggerFDPCall)||void 0===r||r.call(n,k.tb.BUY_THIS_CLICK)),this.props.triggerOmnitureCall&&E===u.a.CART_BUY_NOW){let e=T;C&&(e=Object.assign(Object.assign({},e),{tooltipShown:C.toString()})),this.props.triggerOmnitureCall(l.CartOmnitureTypes.BUY_NOW_CART_TO_CHECKOUT,e),null===(o=(a=this.props).triggerFDPCall)||void 0===o||o.call(a,k.tb.BUY_THIS_CLICK)}if(E&&(E===c.X.MOVE_SFL_TO_CART||E===c.X.MOVE_CART_TO_SFL)){const e=E===c.X.MOVE_SFL_TO_CART,i=(_.action&&_.action.params.marketplace)===d.fOd.MARKETPLACE_GROCERY,n=e?k.tb.move_sfl_to_cart:null!==(h=null===(s=t.buttonProps.action)||void 0===s?void 0:s.params.actionType)&&void 0!==h?h:k.tb.move_cart_to_sfl,r=e?i?l.CartOmnitureTypes.MOVE_SFL_BASKET_TO_CART:l.CartOmnitureTypes.MOVE_SFL_TO_CART:i?l.CartOmnitureTypes.GROCERY_BASKET_SAVED_FOR_LATER:l.CartOmnitureTypes.CART_ITEM_SAVED_FOR_LATER;null===(g=(p=this.props).triggerOmnitureCall)||void 0===g||g.call(p,r),null===(v=(m=this.props).triggerFDPCall)||void 0===v||v.call(m,n)}this.props.callback(e,_)}}static getHeight(){return 46}render(){return n.createElement(r.View,{style:this._getStyleSheet().buttonContainer},n.createElement(V,{updateButtonStyle:this.props.updateButtonStyle,isFirstButton:!0,data:this.props.firstButton,onButtonCallback:this._buttonCallback}),this.props.secondButton?n.createElement(V,{updateButtonStyle:this.props.updateButtonStyle,data:this.props.secondButton,onButtonCallback:this._buttonCallback}):void 0,this.props.thirdButton?n.createElement(V,{updateButtonStyle:this.props.updateButtonStyle,data:this.props.thirdButton,onButtonCallback:this._buttonCallback}):void 0)}_getStyleSheet(){return s}}},94944:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>ce});var n=i(465420),r=i(296540),a=i(877293),o=i(716249),s=i(766110),l=i(52754),d=i(950534),c=i(980573),u=i(492418),h=i(720920),p=i(45426),g=i(280713),m=i(876505),v=i(479892),_=i(352254),C=i(809400);const E=e=>{const t=e.sentimentAspects&&e.sentimentAspects.value,i=e.trackingParams;let n=null;return t&&(n=t.orderedSentiment?r.createElement(a.View,null,function(e,t){if(e&&e.length>0)return r.createElement(C.E,{containerStyle:c.AI.orderedAspectHorizontalList,data:e,renderItem:f,calculateDimensions:T,extendedState:t});return null}(t.orderedSentiment,e)):r.createElement(a.View,null,A(u.vNT,s.Mn,3,t.positive,e.onClick,i),A(u._e3,s.Mn,2,t.neutral,e.onClick,i),A(u.P4B,s.Mn,1,t.negative,e.onClick,i))),n?r.createElement(a.View,{style:v.C1.padding_bottom_8},e.headerString&&r.createElement(a.Text,{style:c.AI.aspectsTitle},e.headerString),n):null};function T(){return{width:c.AT,height:c.dF}}function f(e,t,i,n){const o=t&&t.value;return r.createElement(p.S,{onPress:null==n?void 0:n.onClick,onPressParam:{action:t.action,trackingInfo:null==n?void 0:n.trackingParams}},r.createElement(a.View,{style:c.AI.orderedAspectHorizontalListItem},r.createElement(a.View,{style:c.AI.orderedAspectHorizontalListItemHeader},r.createElement(a.Text,{style:[c.AI.aspectText,v.XT.lineHeight_20,v.XT.fkBlackText,v.C1.padding_2],numberOfLines:2,ellipsizeMode:"tail"},o.aspectName)),r.createElement(a.Text,{style:c.AI.orderedAspectHorizontalListItemEmoji},o.sentimentEmoji),r.createElement(a.Text,{style:[c.AI.aspectText,v.XT.prefixColor,v.C1.margin_bottom_6],numberOfLines:1,ellipsizeMode:"tail"},o.sentimentText)))}function A(e,t,i,n,o,s){return n&&n.length>0?r.createElement(a.View,{style:[c.AI.aspectRowContainer,{marginBottom:t}]},r.createElement(_.A,{height:c.JY,width:c.JY,source:e,style:c.AI.colorsIcon}),r.createElement(a.View,{style:c.AI.aspectValuesContainer},n.map(((e,t)=>function(e,t,i,n,o){const s=e.value;let l,d;s&&(d=r.createElement(h.y,{shadowOpacity:.02,style:c.AI.aspectTextContainer},r.createElement(p.S,{onPress:n,onPressParam:{action:e.action,trackingInfo:o}},r.createElement(a.Text,{style:c.AI.aspectText},s.aspectName))));return o&&s?(l=function(e,t,i,n,r,a,o){if(!(i&&n&&a&&r&&o))return;return new g.A(o,n,t+1,i,r,a,e)}(i.valueOf(),t,o.impressionId,s.aspectName,s.aspectId,o.productId,o.fetchId),r.createElement(m.A,{trackingInfo:l},d)):d}(e,t,i,o,s))))):null}var S=i(914944),y=i(787921);class w extends s.Ay{constructor(e,t){super(e,t),this._dispatchAction=(e,t)=>{const i=t.action;if(this.props.actionDispatcher&&i){this.props.actionDispatcher({type:y.A.MAPI_ACTION,payload:new S.Oy(i)});const e=i.params.aspectName,n=i.params.aspectId,r=t.trackingInfo?t.trackingInfo.impressionId:void 0;this.trackAspectClick(r,e,n)}};const i=(0,l.nS)(e.widgetSlotData),n=i&&i.data,r=n&&n.sentimentAspectComponent&&n.sentimentAspectComponent.tracking&&n.sentimentAspectComponent.tracking.impressionId;this._trackingParams={fetchId:this.getFetchId(),productId:this.getProductId(),impressionId:r}}static getWidgetHeight(e){let t=0;const i=(0,l.nS)(e.widgetSlotData),n=i&&i.data;return n&&(t+=this.MINIMAL_RATING_VIEW_HEIGHT+this._getAspectRatingsViewHeight(n.sentimentAspectComponent&&n.sentimentAspectComponent.value,!!n.header)),t+o.A.getAdditionalHeight(e)}renderWidget(){const e=(0,l.nS)(this.props.widgetSlotData),t=e&&e.data;if(t){const e=t.rating&&t.rating.value,i=t.header&&t.header.value&&t.header.value.titleValue&&t.header.value.titleValue.text;return e?r.createElement(a.View,null,r.createElement(d.G,{ratingCount:e.ratingCount,reviewCount:e.reviewCount,averageRating:e.average,minimalRatingViewType:this.getMinimalRatingViewType(),ratingAdjective:e.ratingAdjective,baseText:e.baseText}),r.createElement(E,{headerString:i,sentimentAspects:t.sentimentAspectComponent,onClick:this._dispatchAction,trackingParams:this._trackingParams})):r.createElement(a.View,null)}}getMinimalRatingViewType(){return 0}static _getAspectRatingsViewHeight(e,t){let i=0;return e&&(e.orderedSentiment?i+=c.dF:i+=this._getEachAspectSentimentHeight(e.positive)+this._getEachAspectSentimentHeight(e.neutral)+this._getEachAspectSentimentHeight(e.negative)),t&&(i+=this.ASPECTS_HEADER_HEIGHT),i}}class I extends w{getMinimalRatingViewType(){return 1}}var b=i(670563),D=i(911294),x=i(927443);class P extends r.Component{constructor(e,t){var i;super(e,t),this.lineWidth=1,this.lineMarginLeft=8,this.baseCount=0;const n=null!==(i=this.props.screenWidth)&&void 0!==i?i:a.Dimensions.get("window").width;this.lineWidth=(n>320?.25:.2)*n,this.state={myHeight:0},e.baseCount&&(this.baseCount=e.baseCount)}static getLineColor(e){switch(e){case 1:return u.WoX.ratingColorLow;case 2:return u.WoX.ratingColorMedium;default:return u.WoX.ratingColorHigh}}render(){const e=this.props.star?this.props.star:0,t=this.props.count?this.props.count:0,i=this.props.convertRatingToPercentage?`${Math.round(t/this.baseCount*100)}${u.NPf}`:(0,x.m3)(t);let n=this.baseCount?`${Number(Math.max(5,t/this.baseCount*100).toFixed(2))}%`:"0%";const o=this.props.strokeColor?this.props.strokeColor:P.getLineColor(e),s=this.props.convertRatingToPercentage?16:8;return r.createElement(a.View,{style:O.container},r.createElement(a.Text,{style:O.starText},e),r.createElement(a.Text,{style:this.props.convertRatingToPercentage?O.starV2:O.star},D.bh),r.createElement(a.View,{style:[O.histogram,{width:this.lineMarginLeft+this.lineWidth+3}]},r.createElement(a.View,{style:[O.emptyBar,!!this.props.barHeight&&{height:this.props.barHeight}],onLayout:e=>{this.setState({myHeight:e.nativeEvent.layout.height})}},r.createElement(a.View,{style:[O.fullBar,{backgroundColor:o,width:n,transform:[{translateX:0},{translateY:-this.state.myHeight/2}]},!!this.props.barHeight&&{height:this.props.barHeight}]}))),r.createElement(a.Text,{style:{color:b.Jy.lightGrey,marginLeft:s,fontSize:12}},i))}}const O=a.StyleSheet.create({container:{flexDirection:"row",alignItems:"center"},starText:{fontSize:12,fontVariant:["tabular-nums"]},star:{marginLeft:2,marginRight:2,fontSize:12},starV2:{marginLeft:4,marginRight:8,fontSize:12},histogram:{paddingLeft:6,paddingTop:8,paddingBottom:8},emptyBar:{position:"relative",height:5,width:"100%",overflow:"hidden",borderRadius:2,backgroundColor:"#f1f1f1"},fullBar:{position:"absolute",left:0,top:"50%",height:5,backgroundColor:"#ffaf00",borderRadius:2}});var R=i(279381),k=i(410752),V=i(420721),L=i(347953),M=i(988287),N=i(727e3),H=i(257246),W=i(879052);class B extends r.PureComponent{constructor(e,t){var i,n;super(e,t),this.isRnrImagesRevampEnabled=!!L.A.getExperimentValue("isRnrImagesRevampEnabled"),this.ratingAdjectiveStyle=[v.C1.padding_bottom_3,v.C1.alignSelfCenter,this.isRnrImagesRevampEnabled?[v.XT.fkBlackPrimaryText,v.XT.fontFamilyInterSemiBold_14]:[v.XT.lightGreyText,v.XT.fontMedium]],this.starContainerStyle=[v.C1.dimension_16,v.C1.alignItemCenter],this._getHistogramView=(e,t,i,n)=>{var a;const o=(0,H.vZ)(n),s=null!=o?o:u.WoX.ratingColorHigh,l=(null===(a=this.props.rating)||void 0===a?void 0:a.ratingCount)?this.props.rating.ratingCount:1,d=this.props.rating?this.props.rating.histogramBaseCount:1;return r.createElement(P,{strokeColor:s,key:t,star:t+1,count:e,baseCount:this.isRnrImagesRevampEnabled?l:d,maxValue:i.length,barHeight:this.isRnrImagesRevampEnabled?2:6,convertRatingToPercentage:this.isRnrImagesRevampEnabled,screenWidth:this.props.screenWidth})},this.localiseAndText=(0,V.ak)(t.locale,{id:1===e.ratingViewType?k.H.rex_string_AMPERSAND:k.H.rex_string_AND_TEXT}),this.localisedRatingText=(0,V.ak)(t.locale,{id:k.H.rex_string_RATINGS}),this.localisedReviewText=(0,V.ak)(t.locale,{id:k.H.rex_string_REVIEWS}),this.localisedBasedOnRatingsText=(0,V.ak)(t.locale,{id:k.H.rex_string_BASED_ON_RATINGS},{Count:(null===(i=e.rating)||void 0===i?void 0:i.ratingCount)?(0,x.m3)(null===(n=e.rating)||void 0===n?void 0:n.ratingCount):"0"})}render(){if(!this.props||!this.props.rating)return null;const e=(0,x.m3)(this.props.rating.ratingCount),t=(0,x.m3)(this.props.rating.reviewCount),i=this.props.rating.average,n=this.isRnrImagesRevampEnabled?this.localisedBasedOnRatingsText:e+u.NH+this.localisedRatingText+u.NH+this.localiseAndText+u.NH+t+u.NH+this.localisedReviewText,o=this.props.rating.histogram||[];return r.createElement(N.w.Consumer,null,(e=>{var t;return r.createElement(a.View,{style:[R.T.ratingsViewLayout,this.isRnrImagesRevampEnabled&&v.C1.equalSpaceAroundContents]},r.createElement(a.View,{style:R.T.ratingDisplayContainer},i?this._getView(i,this.props.isRatingRounded,this.props.ratingViewType,null===(t=this.props.rating)||void 0===t?void 0:t.ratingAdjective,e):null,r.createElement(a.Text,Object.assign({},(0,W.Z)("Rateing_Review_Text"),{style:[R.T.summaryText,this.isRnrImagesRevampEnabled&&[v.XT.fontFamilyInter_12,{color:u.Jyk.fkGrayForty}]]}),n)),r.createElement(a.View,{style:R.T.verticalDivider}),o&&r.createElement(a.View,{style:R.T.histogramContainer},r.createElement(a.View,{style:v.C1.col_reverse},o.map(((t,i)=>this._getHistogramView(t,i,o,e))))))}))}_getView(e,t,i,n,o){return t||1===i?r.createElement(a.View,{style:v.C1.colWithoutFlex},n?r.createElement(a.Text,Object.assign({},(0,W.Z)("Rateing_Review_Adjective"),{style:this.ratingAdjectiveStyle}),n):r.createElement(r.Fragment,null),r.createElement(M.A,Object.assign({},(0,W.Z)("Rateing_Review_Stars"),{starScaleFactor:1.3,rating:e,starContainerStyle:this.starContainerStyle,themeContext:o}))):r.createElement(a.View,{style:v.C1.margin_bottom_8},r.createElement(a.View,{style:v.C1.colWithoutFlex},n&&r.createElement(a.Text,Object.assign({},(0,W.Z)("Rateing_Review_Adjective"),{style:this.ratingAdjectiveStyle}),n),r.createElement(M.A,Object.assign({},(0,W.Z)("Rateing_Review_Stars"),{starScaleFactor:1.3,rating:e,starContainerStyle:this.starContainerStyle,themeContext:o}))))}}B.contextType=V.V8;var U=i(972904),F=i(415283),G=i(311676),z=i(512468);class j extends z.O{render(){if(this.props.aspectRating){const e=this.props.aspectRating;return this.props.trackingInfo?r.createElement(m.A,{trackingInfo:this.props.trackingInfo},this._renderAspectRatingView(e,this.props.aspectName)):this._renderAspectRatingView(e,this.props.aspectName)}return null}_renderAspectRatingView(e,t){const i=e?e.toFixed(1):"0",n=(0,x.t0)(e);return this.props.didClickAspectItem?r.createElement(p.S,{onPress:this.aspectItemClicked,disableFeedback:!0},j.getView(n,i,t)):j.getView(n,i,t)}static getView(e,t,i){return r.createElement(a.View,{style:this.aspectRatingContainerStyle},r.createElement(a.View,{style:[R.T.aspectRatingV2,{backgroundColor:e}]},r.createElement(a.View,{style:v.C1.row},r.createElement(a.Text,{style:this.aspectRatingTextStyle},t),r.createElement(a.Text,{style:this.aspectRatingStarStyle},u.bhs)),r.createElement(a.View,{style:R.T.verticalDividerRating})),r.createElement(a.Text,{style:this.aspectRatingNameStyle},i))}}j.aspectRatingContainerStyle=[v.C1.row_wrap,R.T.aspectRatingContainer,v.C1.color_border_darkest_grey],j.aspectRatingTextStyle=[v.XT.fontMedium_14,v.XT.lineHeight_24,v.XT.whiteText],j.aspectRatingStarStyle=[j.aspectRatingTextStyle,v.C1.margin_left_4,v.C1.padding_right_8],j.aspectRatingNameStyle=[v.XT.fontMedium_14,v.C1.padding4V,v.C1.margin_right_12,v.XT.fkBlueText,v.XT.lineHeight_24,v.C1.margin_left_9];var X=i(730106),Y=i(6921),q=i(302019);var J;!function(e){e[e.SINGLE_LIST=0]="SINGLE_LIST",e[e.GROUPED=1]="GROUPED"}(J||(J={}));const K=q.JU.extendComponent({name:"ShowMoreLessButtonContainer",defaultProps:{font:"m_medium",color:"raw.blue.500",mb:"s3"}});class Q extends r.PureComponent{constructor(e,t){super(e,t),this.aspectViewTitleStyle=[v.XT.fontRegular_14,v.C1.margin_top_12,v.C1.margin_bottom_12,v.XT.lineHeight_20],this.aspectViewContainerStyle=[v.C1.row_wrap,v.C1.margin_top_16,this.props.containerStyle],this.isRnrImagesRevampEnabled=!!L.A.getExperimentValue("isRnrImagesRevampEnabled"),this.renderSingleList=e=>{const t=this.isRnrImagesRevampEnabled?e:null==e?void 0:e.slice(0,this.state.aspectCount);return t?t&&(this.isRnrImagesRevampEnabled?r.createElement(a.View,{style:v.C1.margin_top_16},r.createElement(Y.A,{items:t,maxNumberOfItems:5,maxNumberOfLines:3,renderItem:this.getSingleRowRatingView,renderShowMoreCalloutButton:this.renderShowMoreCalloutButton,renderShowLessCalloutButton:this.renderShowLessCalloutButton,dispatchAction:this.props.dispatchAction})):r.createElement(a.View,Object.assign({},(0,W.Z)("Rateing_Review_Aspect_Components_Container"),{style:this.aspectViewContainerStyle}),t.map(this.getSingleRowRatingView))):null},this.renderShowMoreCalloutButton=e=>{const t=(0,V.ak)(this.props.appContextLocale,{id:k.H.rex_string_COUNT_MORE},{Count:`${e}`});return r.createElement(K,null,t)},this.renderShowLessCalloutButton=()=>{const e=(0,V.ak)(this.props.appContextLocale,{id:k.H.rex_string_SHOW_LESS});return r.createElement(K,null,e)},this.getSingleRowRatingView=(e,t)=>{const{avgNumber:i,aspectName:n,trackingInfo:a,areAspectReviewsAvailable:o}=this._prepareTrackingData(e,t);return r.createElement(X.F,{key:t,index:t,aspectRating:i,aspectName:n,didClickAspectItem:this._didClickAspectItem,aspectValue:e,trackingInfo:a,areAspectReviewsAvailable:o,themeContext:this.props.themeContext,showAspectRatingPill:this.isRnrImagesRevampEnabled})},this._prepareTrackingData=(e,t)=>{const i=e.value,n=i.average?i.average:0,r=i.name?i.name:void 0,a=i.id?i.id:void 0,o=i.areAspectReviewsAvailable,s=e.tracking?e.tracking.impressionId:void 0;return{avgNumber:n,aspectName:r,trackingInfo:e.tracking?this._getViewTrackingData(n,t,s,r,a):void 0,areAspectReviewsAvailable:o}},this.renderGroupedRatingsView=e=>e?e&&e.map(this.getView):null,this.getView=(e,t)=>{const i=e.title,n=e.scaleAspectComponents;return i&&n&&r.createElement(a.View,{key:t},r.createElement(a.Text,{style:this.aspectViewTitleStyle},i),r.createElement(a.View,{style:v.C1.row_wrap},n.map(this.getAspectRatingGroupView)))},this.getAspectRatingGroupView=(e,t)=>{const{avgNumber:i,aspectName:n,trackingInfo:a}=this._prepareTrackingData(e,t);return r.createElement(j,{key:t,aspectRating:i,aspectName:n,didClickAspectItem:this._didClickAspectItem,aspectValue:e,trackingInfo:a})},this._didClickAspectItem=(e,t,i,n)=>{this._trackAspectClick(t,i,n),e&&this.props.actionDispatcher&&this.props.actionDispatcher(F.Q3.MAPI_ACTION,e)},this._getViewTrackingData=(e,t,i,n,r)=>{if(!(i&&n&&this.props.productId&&r))return;return new g.A(this.props.fetchId,n,t+1,i,r,this.props.productId,e)},this._trackAspectClick=(e,t,i)=>{if(!e)return;const n=new G.k78(this.props.fetchId,e,i,t,this.props.productId);this.props.trackDGEvent(n)},this.state=this.getDerivedState(e,void 0)}getDerivedState(e,t){const i=Math.floor(this.props.screenWidth/80);return{aspectCount:this.props.scaleAspectComponent&&i>this.props.scaleAspectComponent.length?this.props.scaleAspectComponent.length:i}}render(){const e=this.props.scaleAspectComponent,t=this.props.scaleAspectComponentDivisions;let i;if(1===this.props.ratingViewType)i=this.renderGroupedRatingsView(t);else i=this.renderSingleList(e);return i}}var Z=i(85884),$=i(857850),ee=i(690992),te=i(155805);class ie extends U.A{constructor(e,t){var i;super(e,t),this.onHeaderActionButtonClick=e=>{(null==e?void 0:e.tracking)&&this.trackActionButtonWidgetClick(null==e?void 0:e.tracking),e&&(this.trackDiscoveryWidgetClickEvent(this.willCreateNewDwell(e)),this.dispatchMAPIIndexedAction(e))},this._getViewTypeForAspectRating=(e,t)=>null==e&&null!=t?0:null!=e&&null==t?1:0,this._dispatchAction=(e,t)=>{this.dispatchAction(e,new S.Oy(t))},this._dispatchActionNavigate=(e,t)=>{t&&(this.trackDiscoveryContentClickEvent(t.tracking),this.dispatchAction(y.A.MAPI_ACTION,new S.rs(t)))},this._renderRatingReviewContent=(e,t,i)=>r.createElement(a.View,null,r.createElement(B,{ratingViewType:e,rating:t,isRatingRounded:this.isRatingRounded(),screenWidth:i}));const n=(0,l.nS)(this.props.widgetSlotData);this.enableReviewFilterNavigation=null===(i=null==n?void 0:n.params)||void 0===i?void 0:i.enableReviewFilterNavigation}static getWidgetHeight(e){const t=(0,l.nS)(e.widgetSlotData),i=t?t.data:void 0;return i?o.A.getAdditionalHeight(e)+(i.scaleAspectComponents?254:124):0}renderWidget(){var e,t,i,n;const s=(0,l.nS)(this.props.widgetSlotData),d=s?s.data:void 0;if(!d)return;const c=null===(e=null==d?void 0:d.rating)||void 0===e?void 0:e.value,u=this._getViewTypeForAspectRating(d.scaleAspectComponentDivisions,d.scaleAspectComponents);let h=this.props.appContext.uiContext.windowFrame.width;(0,te.he)()&&(h=Math.min(477,h));const g=c?r.createElement(a.View,Object.assign({},(0,W.Z)("Rating_Review_Container"),{style:R.T.widgetLayout}),this.enableReviewFilterNavigation?r.createElement(p.S,{onPress:this._dispatchActionNavigate,onPressParam:null===(t=null==d?void 0:d.rating)||void 0===t?void 0:t.action,disableFeedback:!0},this._renderRatingReviewContent(u,c,h)):this._renderRatingReviewContent(u,c,h),r.createElement(Q,{scaleAspectComponentDivisions:d.scaleAspectComponentDivisions,scaleAspectComponent:d.scaleAspectComponents,ratingViewType:u,screenWidth:h,fetchId:this.getFetchId(),productId:this.getProductId(),actionDispatcher:this._dispatchAction,dispatchAction:this.dispatchAction,trackDGEvent:this.trackDGEvent,themeContext:this.props.themeContext,appContextLocale:this.props.appContext.locale})):r.createElement(a.View,null);if(null===(i=null==d?void 0:d.rating)||void 0===i?void 0:i.tracking){const e=o.A.getTrackingParams(this.props,null===(n=null==d?void 0:d.rating)||void 0===n?void 0:n.tracking),t=this.getContentViewTrackingData(e);return r.createElement(m.A,{trackingInfo:t},g)}return g}isRatingRounded(){return!1}renderDivider(){}isHeaderBottomBorderEnabled(){return!1}isHeaderRounded(){var e,t,i;const n=(0,l.nS)(this.props.widgetSlotData);return(null===(i=null===(t=null===(e=null==n?void 0:n.header)||void 0===e?void 0:e.value)||void 0===t?void 0:t.actionButton)||void 0===i?void 0:i.rcType)===Z.q.RATING_REVIEW_BUTTON_RC_ROUND}getHeaderStyle(e){var t,i;const n=(0,l.nS)(this.props.widgetSlotData),r=null===(i=null===(t=null==n?void 0:n.header)||void 0===t?void 0:t.value)||void 0===i?void 0:i.headerViewType,a=null==e?void 0:e.color.default.text.primary.hex;return r===ee.z.HEADER_SUBTITLE_ICON?(0,R._)(super.getHeaderStyle(),e,a):Object.assign(Object.assign({},super.getHeaderStyle()),{headerActionContainer:[super.getHeaderStyle().headerActionContainer,R.T.headerButton,this.isHeaderRounded()&&{borderRadius:16}],headerActionButtonText:[super.getHeaderStyle(this.props.themeContext).headerActionButtonText,{marginTop:0,marginBottom:0},this.isHeaderRounded()&&{color:$.Jy.royalBlue,fontFamily:v.XT.fontFamilyInterSemiBold.fontFamily,marginLeft:0,marginRight:0}]})}trackActionButtonWidgetClick(e){e&&this.trackDiscoveryContentClickEvent(e)}}class ne extends ie{isRatingRounded(){return!0}}const re=a.StyleSheet.create({verticalDivider:{height:60,width:1,backgroundColor:b.Zd}});class ae{constructor(e){var t,i,n,r,a,o,s,l;this.averageRating=0,this.positivePerc="0",this.negativePerc="0",this._perc="% ",this.widgetContainerStyle=[v.C1.row,v.C1.equalSpaceAroundContents,v.C1.padding16],this.aspectGreenTextStyle=[v.XT.fontMedium_14,v.XT.aspectGreenText],this.aspectRedTextStyle=[v.XT.fontMedium_14,v.XT.aspectRedText],e&&(this.averageRating=e.average,this.positivePerc=((null===(i=null===(t=null==e?void 0:e.histogramFeedbackList)||void 0===t?void 0:t[0])||void 0===i?void 0:i.percent)||0)+this._perc,this.negativePerc=((null===(r=null===(n=null==e?void 0:e.histogramFeedbackList)||void 0===n?void 0:n[1])||void 0===r?void 0:r.percent)||0)+this._perc,this.positiveText=null===(o=null===(a=null==e?void 0:e.histogramFeedbackList)||void 0===a?void 0:a[0])||void 0===o?void 0:o.text,this.negativeText=null===(l=null===(s=null==e?void 0:e.histogramFeedbackList)||void 0===s?void 0:s[1])||void 0===l?void 0:l.text)}}class oe extends o.A{constructor(){super(...arguments),this.isRnrImagesRevampEnabled=!!L.A.getExperimentValue("isRnrImagesRevampEnabled")}static getWidgetHeight(e){return 92}getDerivedState(e,t){const i=(0,l.nS)(e.widgetSlotData),n=i?i.data:void 0,r=n&&n.rating&&n.rating.value&&n.rating.value?n.rating.value:void 0;return Object.assign(Object.assign({},super.getDerivedState(e,t)),{viewModel:new ae(r)})}renderWidget(){const e=this.state.viewModel;if(e)return r.createElement(a.View,Object.assign({},(0,W.Z)("Rating_Positive_Negative_Container"),{style:[e.widgetContainerStyle,this.isRnrImagesRevampEnabled&&v.C1.alignItemCenter]}),r.createElement(X.F,Object.assign({},(0,W.Z)("Rating_Positive_Negative_View_Container"),{aspectRating:e.averageRating,showAspectRatingPill:this.isRnrImagesRevampEnabled})),r.createElement(a.View,{style:re.verticalDivider}),r.createElement(a.View,{style:v.C1.justifyContentCenter},r.createElement(a.Text,Object.assign({},(0,W.Z)("Rating_Positive_Review"),{style:v.XT.fontRegular_14}),r.createElement(a.Text,Object.assign({},(0,W.Z)("Rating_Positive_Percent"),{style:e.aspectGreenTextStyle}),e.positivePerc),r.createElement(a.Text,null,e.positiveText||this.localize({id:k.H.rex_string_reviews_constants_POSITIVE_REVIEWS}))),r.createElement(a.Text,Object.assign({},(0,W.Z)("Rating_Negative_Review"),{style:v.XT.fontRegular_14}),r.createElement(a.Text,Object.assign({},(0,W.Z)("Rating_Negative_Percent"),{style:e.aspectRedTextStyle}),e.negativePerc),r.createElement(a.Text,null,e.negativeText||this.localize({id:k.H.rex_string_reviews_constants_NEGATIVE_REVIEWS})))))}}var se,le=i(347924);class de extends U.A{constructor(e,t){super(e,t),this.DEFAULT_SUBTITLE_IMAGE_WIDTH=20,this.DEFAULT_SUBTITLE_IMAGE_HEIGHT=20,this.DEFAULT_HEADER_ACTION_BUTTON_IMAGE_HEIGHT=12,this.DEFAULT_HEADER_ACTION_BUTTON_IMAGE_WIDTH=12,this.handleHeaderActionButton=(e,t)=>{(null==t?void 0:t.action)&&this.dispatchMAPIIndexedAction(t.action)},this.renderActionButton=e=>{var t;if(!e)return;const i=e.value,n=null===(t=e.value)||void 0===t?void 0:t.image;return r.createElement(p.S,{onPress:this.handleHeaderActionButton,onPressParam:e},r.createElement(le.fI,{alignItems:"center"},(null==i?void 0:i.title)&&r.createElement(le.JU,{pr:"s2",font:"m_medium",color:"primary.500"},i.title),n&&r.createElement(_.A,{source:null==n?void 0:n.dynamicImageUrl,height:n.height||this.DEFAULT_HEADER_ACTION_BUTTON_IMAGE_HEIGHT,width:n.width||this.DEFAULT_HEADER_ACTION_BUTTON_IMAGE_WIDTH})))},this.renderSubtitle=(e,t)=>{if(!e&&!t)return;const i=null==e?void 0:e.dynamicImageUrl,n=(null==e?void 0:e.height)||this.DEFAULT_SUBTITLE_IMAGE_HEIGHT,a=(null==e?void 0:e.width)||this.DEFAULT_SUBTITLE_IMAGE_WIDTH;return r.createElement(le.fI,null,i&&r.createElement(_.A,{source:i,width:a,height:n}),(null==t?void 0:t.text)&&r.createElement(le.az,{pl:"s2"},r.createElement(le.JU,{font:"m"},t.text)))},this.renderAverageRatingAndStar=(e,t,i)=>r.createElement(le.fI,{pb:"s2"},e&&r.createElement(le.az,{borderColor:"black",display:"flex",justifyContent:"center"},r.createElement(le.JU,{font:"xl_medium"},e)),r.createElement(le.az,{borderColor:"black",py:"s1",px:"s2",display:"flex",justifyContent:"center"},r.createElement(M.A,Object.assign({},(0,W.Z)("Rateing_Review_Stars"),{starScaleFactor:1.8,rating:t.average,starContainerStyle:[{height:24,width:24}],themeContext:i,bigStar:!0})))),this.localiseAndText=(0,V.ak)(t.locale,{id:k.H.rex_string_AND_TEXT}),this.localisedRatingText=(0,V.ak)(t.locale,{id:k.H.rex_string_RATINGS}),this.localisedReviewText=(0,V.ak)(t.locale,{id:k.H.rex_string_REVIEWS})}static getWidgetHeight(e){const t=(0,l.xH)(e.widgetSlotData);let i=0;if(!t)return i;const{header:n,rating:r}=t;if(null==n?void 0:n.value){const{titleValue:e,subTitleValue:t}=n.value;e&&(i+=this.HEADER_TITLE_LINE_HEIGHT+this.HEADER_TITLE_PADDING_BOTTOM),t&&(i+=this.HEADER_SUBTITLE_LINE_HEIGHT)}if(null==r?void 0:r.value){const{average:e}=r.value;e&&(i+=this.RATING_TITLE_LINE_HEIGHT)}return this.WIDGET_PADDING_TOP+i+this.WIDGET_PADDING_BOTTOM}renderHeader(e){const t=e.header;if(!(null==t?void 0:t.value))return;const i=null==t?void 0:t.value,{titleValue:n,imageValue:a,subTitleValue:o,actionButton:s}=i,l=null==n?void 0:n.text;return r.createElement(le.az,{px:"s6",pb:"s5",pt:"s6"},r.createElement(le.fI,{pb:"s2",justifyContent:"space-between"},r.createElement(le.JU,{font:"l_medium"},l),this.renderActionButton(s)),this.renderSubtitle(a,o))}renderWidget(){var e,t;const i=(0,l.xH)(this.props.widgetSlotData),n=null===(e=null==i?void 0:i.rating)||void 0===e?void 0:e.value;if(!i||!n)return;const a=(0,x.m3)(null==n?void 0:n.ratingCount),o=(0,x.m3)(null==n?void 0:n.reviewCount),s=a+u.NH+this.localisedRatingText+u.NH+this.localiseAndText+u.NH+o+u.NH+this.localisedReviewText,d=(null===(t=null==n?void 0:n.average)||void 0===t?void 0:t.toFixed(1))+u.EdD+(null==n?void 0:n.base);return n?r.createElement(N.w.Consumer,null,(e=>r.createElement(le.az,{px:"s6",py:"s4"},this.renderAverageRatingAndStar(d,n,e),r.createElement(le.JU,{color:"v2.neutral.700",font:"m_medium"},s)))):r.createElement(le.az,null)}}de.HEADER_TITLE_LINE_HEIGHT=24,de.RATING_TITLE_LINE_HEIGHT=28,de.HEADER_SUBTITLE_LINE_HEIGHT=20,de.HEADER_TITLE_PADDING_BOTTOM=4,de.WIDGET_PADDING_TOP=16,de.WIDGET_PADDING_BOTTOM=16,function(e){e.LIFESTYLE="LIFESTYLE",e.ROUNDED="ROUNDED",e.ROUNDED_WITHOUT_HISTOGRAM="ROUNDED_WITHOUT_HISTOGRAM",e.ASPECT_POSITIVE_NEGATIVE="ASPECT_POSITIVE_NEGATIVE",e.RATING_ADJECTIVE_DEFAULT="RATING_ADJECTIVE_DEFAULT",e.RATING_WITHOUT_HISTOGRAM="RATING_WITHOUT_HISTOGRAM"}(se||(se={}));class ce extends n.A{getWidgetClass(e){switch((0,l.KJ)(e.widgetSlotData)){case"LIFESTYLE":case"ROUNDED_WITHOUT_HISTOGRAM":return w;case"ROUNDED":return ne;case"ASPECT_POSITIVE_NEGATIVE":return oe;case"RATING_ADJECTIVE_DEFAULT":return I;case"RATING_WITHOUT_HISTOGRAM":return de;default:return ie}}getWidgetHeight(e){switch((0,l.KJ)(e.widgetSlotData)){case"RATING_ADJECTIVE_DEFAULT":case"LIFESTYLE":case"ROUNDED_WITHOUT_HISTOGRAM":return w.getWidgetHeight(e);case"ROUNDED":return ne.getWidgetHeight(e);case"RATING_WITHOUT_HISTOGRAM":return de.getWidgetHeight(e);default:return ie.getWidgetHeight(e)}}}},99765:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var n=i(877293),r=i(918210),a=i(90513),o=i(229833);class s{handleAction(e,t,i){const s={};o.A.addEvent(s,a.fM.EVENT190),r.A.addPageData(s);const{OmnitureModule:l}=n.NativeModules,d=l&&l.getOmnitureStoreInstance&&l.getOmnitureStoreInstance();return d&&d.set({rpdData:{events:s.events}}),!0}}},103180:(e,t)=>{"use strict";!function(e){e.PASSED="PASSED",e.APPLIED="APPLIED",e.IN_PROGRESS="IN_PROGRESS",e.FUTURE="FUTURE"}(t.x||(t.x={}))},104035:(e,t,i)=>{"use strict";i.d(t,{w:()=>D});var n=i(296540),r=i(877293),a=i(136595),o=i(738656),s=i(339599),l=i(468288),d=i(6723),c=i(973242),u=i(592260),h=i(487820),p=i(667608),g=i(52754),m=i(879052),v=i(257246),_=i(722984),C=i(155805),E=i(287727),T=i(53606),f=i(238814),A=i(164579),S=i(532667),y=i(347953),w=i(938777);const I=(0,r.requireNativeComponent)("DesktopHeader"),b=(0,r.requireNativeComponent)("DesktopHeaderV4");class D extends f.N{render(){const e=super.render(),t=this.props.appContext.uiContext.windowFrame.width;return n.createElement(o.ZP.Provider,{value:(0,s.getScreenSize)(t)},e)}constructor(e,t){var i;super(e,t),this.isDesktopClient=null===(i=null===r.NativeModules||void 0===r.NativeModules?void 0:r.NativeModules.DesktopClientInfo)||void 0===i?void 0:i.isDesktopClient,this.layoutKey="",this._renderTopBarContent=(e,t)=>{if(this.disableOVPage())return super._renderTopBarContent(e,t)},this.getListContentView=e=>{var t,i,o,s,l,d,c,h,p,g,_,E,T,f,A;const S=this.props.pageDataResponse&&this.props.pageDataResponse.pageEventResponseMap,y=`Pincode_${(null===(s=null===(o=null===(i=null===(t=this.props)||void 0===t?void 0:t.appContext)||void 0===i?void 0:i.userManager)||void 0===o?void 0:o.getLocationManager())||void 0===s?void 0:s.getPincode())||"Unavailable"}`,w=null===(c=null===(d=null===(l=this.props.pageDataResponse)||void 0===l?void 0:l.layoutParams)||void 0===d?void 0:d.themeDetails)||void 0===c?void 0:c.themeId,I=this.getHeaderSlots(),b=this.getModifiedWidgetData(e);return n.createElement(r.View,Object.assign({style:this.getContentStyle()},(0,m.Z)(y)),this.isPerfMetricsEnabled()&&1===(null===(h=this.props.pageDataResponse)||void 0===h?void 0:h.pageNumber)&&this.props.loadingState===u.LA.loaded&&this._renderPerfMetricsView(),n.createElement(a.A,{multiWidgetData:b,actionDispatcher:this._actionDispatcher,appContext:this.props.appContext,pageInfo:this.getPageInfo(),isStoreFirstArchitecture:this.props.viewModel.isStoreFirstArchitecture,dlsWidgetBuilder:this.dlsWidgetBuilder,pageEventResponseMap:S,setVisibleIndices:this._setVisibleIndices,onVisibleIndicesChangedListener:this._onVisibleIndicesChanged,renderWidgetListHeader:this._shouldShowHeader()?this._renderDesktopHeader:void 0,renderWidgetListFooter:this._renderFooter,dlsLayouts:null===(p=this.props.pageDataResponse)||void 0===p?void 0:p.dlsLayouts,pageDataResponse:this.props.pageDataResponse,pageMeta:this.props.pageMeta,setListViewRef:this._setProgressiveListViewRef,setRubixRef:this._setRubixRef,headerSlots:I,headerSlotRenderer:this._headerSlotRenderer,layoutParams:null===(g=this.props.pageDataResponse)||void 0===g?void 0:g.layoutParams,isNewExperienceEnabled:this.isNewExperienceEnabled(),isLayoutWithLogicalSlot:this.getIsLayoutWithLogicalSlot(),loadingState:this.props.loadingState,footerSlots:this.getFooterSlots(),completeSlots:this.getCompleteSlots(),renderSideStickyContainer:(null===(_=this.props.widgetsData)||void 0===_?void 0:_.sideStickySlot)?this.renderSideStickyContainer:void 0,stickyContainerDirection:(null===(E=this.props.widgetsData)||void 0===E?void 0:E.sideStickySlot)?this._getStickyContainerDirection():void 0,maxPageWidth:this.getMaxPageWidth(),draggableSlots:e.draggableSlots,videoPool:this.videoPool,pageThemeContext:(0,v.Xt)(w)?null===(T=this.props.pageDataResponse)||void 0===T?void 0:T.pageThemeContext:void 0,marketPlace:(0,C.e5)(null===(f=this.props.pageMeta)||void 0===f?void 0:f.pageURI,null===(A=this.props.pageMeta)||void 0===A?void 0:A.marketPlace),layoutKey:this.layoutKey,renderSlidingBottomSnackbar:this._renderSlidingBottomSnackbar,scrollToSlotPosition:this.scrollToSlotPosition,basketData:this.props.basketData,isMsiteTabbedHeaderEnabled:this.getIsMsiteTabbedHeaderEnabled()}),this.props.viewModel.snackbarViewModel&&this.renderSnackBar(this.props.viewModel.snackbarViewModel),this.isRefreshToastDisplayed()&&this.renderRefreshToast())},this.renderRefreshToast=()=>n.createElement(h.A,{clickHandler:this.handleRefreshToastClick,appContext:this.props.appContext}),this.handleRefreshToastClick=()=>{"undefined"!=typeof window&&window.location&&window.location.reload()},this.renderAppBar=e=>{if(this.disableOVPage())return super.renderAppBar(e)},this.isNewExperienceEnabled=()=>!0,this._setProgressiveListViewRef=e=>{this._progressiveListViewRef=e},this._setRubixRef=e=>{this._rubixRef=e},this._renderFooter=()=>{var e,t,i,a,o,l,d,c;if(this.disableFooter())return null;if((0,s.getScreenSize)(this.props.appContext.uiContext.windowFrame.width)!==s.ScreenSize.sm){const s=(0,r.requireNativeComponent)("DesktopFooter");return n.createElement(s,{seoContent:null===(i=null===(t=null===(e=this.props.pageDataResponse)||void 0===e?void 0:e.seoData)||void 0===t?void 0:t.seo)||void 0===i?void 0:i.content,brandData:null===(l=null===(o=null===(a=this.props.pageDataResponse)||void 0===a?void 0:a.seoData)||void 0===o?void 0:o.links)||void 0===l?void 0:l.footer})}return n.createElement(p.A,{seoData:null===(c=null===(d=this.props)||void 0===d?void 0:d.pageDataResponse)||void 0===c?void 0:c.seoData,openInPortal:!1})},this._shouldShowHeader=()=>!!this.isDesktopClient,this._getHideMarketplaceDropdown=()=>!1,this._renderDesktopHeader=()=>{var e,t,i,r,a,o,s,l;const{appContext:d,pageMeta:c}=this.props,{userState:u}=d,h=(0,C.e5)(null==c?void 0:c.pageURI,null==c?void 0:c.marketPlace),p={sessionData:null==u?void 0:u.sessionData,userMembershipState:null===(t=null===(e=null==u?void 0:u.versionedData)||void 0===e?void 0:e.lockinResponse)||void 0===t?void 0:t.userMembershipState,cartCount:this.state.noOfItemsInCart||(null===(a=null===(r=null===(i=null==u?void 0:u.versionedData)||void 0===i?void 0:i.cart)||void 0===r?void 0:r.items)||void 0===a?void 0:a.length)||0,wishlistCount:(null===(l=null===(s=null===(o=null==u?void 0:u.versionedData)||void 0===o?void 0:o.wishlist)||void 0===s?void 0:s.productIds)||void 0===l?void 0:l.length)||0,pageName:c.pageName,marketPlaceId:h,hideMarketplaceDropdown:this._getHideMarketplaceDropdown(),hostname:new URL((null==d?void 0:d.currentUrl)||"https://www.flipkart.com").hostname};return(0,S.Us)(h)||this.isDesktopCartRevampEnabled()?n.createElement(b,Object.assign({},p)):n.createElement(I,Object.assign({},p))},this.renderBottomBar=e=>this.disableOVPage()?this.renderBottomBarInternal(e):n.createElement(n.Fragment,null),this._headerSlotRenderer=e=>{const t={widgetSlotData:e,actionDispatcher:this._actionDispatcher,index:0,appContext:this.props.appContext,pageInfo:this.getPageInfo(),loadingState:this.props.loadingState},i=g.wU(e);return this._getWidget(i,t)},this.renderSideStickyView=e=>this.disableOVPage()?super.renderSideStickyView(e):n.createElement(n.Fragment,null),this.disableFooter=()=>{var e;return!!(null===(e=this.props.widgetsData)||void 0===e?void 0:e.sideStickySlot)},this.getMaxPageWidth=()=>this.props.appContext.uiContext.windowFrame.width,this.getFooterSlots=()=>{var e;return null===(e=this.props.widgetsData)||void 0===e?void 0:e.footerSlots},this.getIsLayoutWithLogicalSlot=()=>!0,this.getCompleteSlots=()=>{const e=this.props.widgetsData;if(e){const t=this.getModifiedWidgetData(e);return null==t?void 0:t.completeSlots}},this.getModifiedWidgetData=e=>{var t,i,n;let r=e;if(!this.isDesktopClient&&this.state.isFirstRender&&1===(null===(t=this.props.pageDataResponse)||void 0===t?void 0:t.pageNumber)&&(null==e?void 0:e.completeSlots)){const t=T.Ay.getSSRWidgetRenderConfigForPP();if(null==t?void 0:t.enableWidgetTrimming){const a=null===(n=null===(i=this.props.widgetsData)||void 0===i?void 0:i.completeSlots)||void 0===n?void 0:n.slice(0,null==t?void 0:t.widgetNumber);r=Object.assign(Object.assign({},e),{completeSlots:a})}}return r},this.getHeaderSlots=()=>{var e;return null===(e=this.props.widgetsData)||void 0===e?void 0:e.headerSlots},this._cartChanged=e=>{e&&this.setState({noOfItemsInCart:this._getCartItemsCount(e)})},this.scrollToSlotPosition=(e,t)=>(this.logScrollToPosition("_scrollToSlotPosition",e,void 0,t),this._progressiveListViewRef.scrollToIndex(e,t),new Promise((e=>{e(!0)}))),this.state=Object.assign(Object.assign({},this.state),{noOfItemsInCart:0,isFirstRender:!0})}componentDidMount(){super.componentDidMount(),(0,_.d)(r.NativeModules.CartModule).addListener(l.tp.NAME_CART_CHANGED_EVENT,this._cartChanged),this.setState({isFirstRender:!1})}shouldComponentUpdate(e,t){return super.shouldComponentUpdate(e,t)||this.state.noOfItemsInCart!==t.noOfItemsInCart||this.state.isFirstRender!==t.isFirstRender}getDerivedState(e,t){return Object.assign(Object.assign({},super.getDerivedState(e,t)),{noOfItemsInCart:this.props.appContext.userManager.getCartItems().length})}componentWillUnmount(){super.componentWillUnmount(),(0,_.d)(r.NativeModules.CartModule).removeListener(l.tp.NAME_CART_CHANGED_EVENT,this._cartChanged)}disableOVPage(){var e,t;return!this.isDesktopClient&&(this.layoutKey||(this.layoutKey=(null===(t=null===(e=this.props.pageDataResponse)||void 0===e?void 0:e.layoutParams)||void 0===t?void 0:t.layoutKey)||""),this.layoutKey!==E.I.ONE_VIEW)}renderContent(e){return this.disableOVPage()?this.renderContentInternal(e):this.renderOVBasePageContent(e)}renderOVBasePageContent(e){var t,i,a,o,s,l,h;let p;(null===(t=this.props.pageDataResponse)||void 0===t?void 0:t.dlsLayouts)&&(this.dlsWidgetBuilder||(this.dlsWidgetBuilder=new d.Ay(this.props.pageDataResponse.dlsLayouts,new c.Ay,!1,!0)),(null===(i=this.dlsWidgetBuilder)||void 0===i?void 0:i.updateDSLs)&&this.dlsWidgetBuilder.updateDSLs(null===(a=this.props.pageDataResponse)||void 0===a?void 0:a.dlsLayouts));const g=null===(o=this.props.appContext.userManager.getSessionInfo())||void 0===o?void 0:o.isLoggedIn,v=(null===(s=this.props.appContext.userManager.getSessionInfo())||void 0===s?void 0:s.email)?null===(l=this.props.appContext.userManager.getSessionInfo())||void 0===l?void 0:l.email:null===(h=this.props.appContext.userManager.getSessionInfo())||void 0===h?void 0:h.mobileNumber;switch(this.props.loadingState){case u.LA.loadedWithoutData:p=n.createElement(r.View,null);break;case u.LA.notStarted:p=this.renderLoading(e);break;case u.LA.loading:case u.LA.loaded:case u.LA.preview:case u.LA.maskedLoading:case u.LA.loadingExcept:case u.LA.maskedLoadingWithScrollToTop:case u.LA.failure:case u.LA.pullToRefresh:case u.LA.fetchingNext:case u.LA.loadingWithShimmer:case u.LA.none:this.props.widgetsData?(this.stopReactProgressLoader(),p=this.getListContentView(this.props.widgetsData)):this.props.loadingState===u.LA.loading?p=this.renderLoading(e):(this.stopReactProgressLoader(),p=this.renderError(this.props.error?this.props.error:{errorType:u.By.generic},e));break;default:p=this.renderError(this.props.error?this.props.error:{errorType:u.By.generic},e)}if(p){const e={flex:1,backgroundColor:this.props.viewModel.backgroundColor,minHeight:"100dvh"},t=`Credentail_${g?v:"false"}`;return n.createElement(r.View,Object.assign({},(0,m.Z)(t),{style:e}),p,this._shouldPlayLottieAnimation()&&this.renderLottieAnimation(this._animationData))}return n.createElement(r.View,null)}isRefreshToastDisplayed(){return this.props.pageDataResponse&&this.props.pageDataResponse.showRefreshToast}_getCartItemsCount(e){var t;const i=null!==(t=e.cartData)&&void 0!==t?t:{},n=Object.values(i);return this.countCartItems(n)}countCartItems(e){var t;if(!(null==e?void 0:e.length))return 0;if(!(0,C.xl)())return e.length;const i=(0,C.wb)(null===(t=this.props.pageMeta)||void 0===t?void 0:t.pageURI),n=this.getHyperlocalItemsInCart(e),r=e.length-n;return i?n:r}getHyperlocalItemsInCart(e){return(null==e?void 0:e.length)?e.reduce(((e,t)=>t.marketplace===w.fOd.MARKETPLACE_HYPERLOCAL?e+1:e),0):0}renderModal(){var e,t;return n.createElement(A.A,Object.assign({},this.props.modalProps,{appContext:this.props.appContext,pageInfo:this.getPageInfo(),actionDispatcher:this._actionDispatcher,tourRouteCoordinates:this.tourRouteCoordinates,progressiveListViewRef:this._progressiveListViewRef,dlsWidgetBuilder:this.dlsWidgetBuilder,animateOnContentChange:null!==(t=null===(e=this.props.modalProps)||void 0===e?void 0:e.animateOnContentChange)&&void 0!==t?t:this.layoutKey===E.I.ONE_VIEW,scrollToSlotPosition:this.scrollToSlotPosition}))}isDesktopCartRevampEnabled(){return!!y.A.getExperimentValue("enableOneViewCartRevamp")}getIsMsiteTabbedHeaderEnabled(){return!this.isDesktopClient&&!!y.A.getExperimentValue("msitePPFullPageScroll")}}},111562:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(918210),r=i(90513),a=i(97529);class o{handleAction(e,t,i){if(e.payload)switch(e.payload.type){case a.A.BASKET_BROWSE_PRODUCTS:const t=e.payload;if(t){const e={},i=t.trackingParams;if(i){const t=i.getEVar157();t&&(e[r.Ay.EVAR157]=t);const a=i.getEVar160();a&&(e[r.Ay.EVAR160]=a);const o=i.getEvent552();if(o)e[r.fM.EVENT552]=o,n.A.addAndtrackEventUnderName("basket offers interstitial dismissed",e);else{const t=i.getEvent553();t&&(e[r.fM.EVENT553]=t,n.A.addPageData(e))}}}break;case a.A.BASKET_DISMISS:const i=e.payload;if(i){const e={},t=i.trackingParams;if(t){const i=t.getTracking(),{event147:a,customLink:o}=i;a&&(e[r.fM.EVENT147]=a,n.A.addAndtrackEventUnderName(o,e))}}break;case a.A.BASKET_OFFER_D2R_CLICK:const o=e.payload;if(o){const e=o.tracking,t={};t[r.Ay.EVAR157]=e.eVar157||"",t[r.Ay.EVAR160]=e.eVar160||"",n.A.addPageData(t)}break;case a.A.BASKET_ADD_WIDGET_CLICK:const s=e.payload;if(s){const e={},t=s.trackingParams;if(t){const i=t.getTracking(),{d2rTitle:a,d2rValue:o,progressTier:s,offerType:l,offerId:d,isClicked:c,progressTierType:u,offerTotalTier:h}=i;e[r.Ay.EVAR160]=`${a}_${o}${u}_${s}`,e[r.Ay.EVAR157]=`cart_moreOffersInline_${l}_${d}_${h}_${c}`,n.A.addPageData(e)}}break;case a.A.BASKET_ADD_BOTTOMSHEET_CLICK:const l=e.payload;if(l){const e={},t=l.tracking;if(t){const{d2rTitle:i,d2rValue:a,progressTier:o,offerType:s,offerId:l,progressTierType:d,isClicked:c}=t;e[r.Ay.EVAR160]=`${i}_${a}${d}_${o}`,e[r.Ay.EVAR157]=`cart_moreOffersDetails_${s}_${l}_${c}`,n.A.addPageData(e)}}break;case a.A.BASKET_VIEW_MORE_CLICK:const d={};d[r.Ay.PROP62]="cart_view_more_clicked_on_more_offers",n.A.addAndtrackEventUnderName("cart_view_more_clicked_on_more_offers",d)}return!0}}},115551:(e,t,i)=>{"use strict";var n;i.d(t,{z:()=>r}),function(e){e.CATALOGUE_VIDEO="CATALOGUE_VIDEO"}(n||(n={}));const r=e=>()=>{}},116284:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(329433),r=i(97529);class a{static getAction(e){let t;switch(e){case r.A.REWARD_DETAIL_FOOTER_CLICK:t=i(924882);break;case r.A.AGGREGATED_CTA_PRODUCT_CHECKED:t=i(775455);break;case r.A.SWATCH_OPTIONS_CLICK:t=i(53845);break;case r.A.SWATCH_OPTIONS_CARD_CLICK:t=i(599547);break;case r.A.SWATCH_COLOR_PICKER_CLICK:case r.A.SWATCH_SHOW_SIMILAR_RECO_CLICK:case r.A.SWATCH_SIZE_CHART_CLICK:case r.A.SWATCH_SELECTION_PAGE_OPENED:case r.A.SWATCH_OPTIONS_EXPANDED:t=i(9996);break;case r.A.CTA_PRICING_SUMMARY_CLICK:t=i(818434);break;case r.A.PINCODE_CHANGE_SUCCESS:t=i(61652);break;case r.A.ADD_TO_CART_CLICK:t=i(622754);break;case r.A.ADD_TO_CART_CLICK_WITH_AGGREGATED_CTA:t=i(655408);break;case r.A.PRICING_BOTTOMSHEET_CLICK:t=i(973832);break;case r.A.TERMS_AND_CONDITIONS_CLICK:t=i(264188);break;case r.A.DELIVERY_WIDGET_VIDEO_CLICK:t=i(587038);break;case r.A.PHYSICAL_ATTACH_CART_CLICK:t=i(525598);break;case r.A.FREEBIE_UNSELECT_CLICK:t=i(14300);break;case r.A.VISUAL_BROWSE_CLICK:t=i(176143);break;case r.A.DETAILS_CALLOUT_CLICK:t=i(99765);break;case r.A.FORCE_FLUSH:t=i(470302);break;case r.A.PRODUCT_WISHLIST:t=i(947135);break;case r.A.VISUAL_BROWSE_CLICK:t=i(176143);break;case r.A.SELLER_V2_SELLER_NAME_CLICK:t=i(949520);break;case r.A.MULTIMEDIA_VIDEO_CLICK:t=i(545969);break;case r.A.STYLE_MATCH_IMAGE_CLICK:case r.A.MULTIMEDIA_IMAGE_CLICK:case r.A.MULTIMEDIA_IMAGE_IMPRESSION:t=i(919623);break;case r.A.PROMOTION_KNOW_MORE_CLICK:t=i(938214);break;case r.A.PRICING_AID_CLICK:t=i(349773);break;case r.A.PMU_RECOMMENDATION_PRODUCT_CLICK:t=i(702325);break;case r.A.BANNER_ANNOUNCEMENT_CLICK:t=i(659301);break;case r.A.BASKET_BROWSE_PRODUCTS:case r.A.BASKET_OFFER_D2R_CLICK:t=i(111562);break;case r.A.D2R_CLICK:t=i(344207);break;case r.A.ADD_TO_BASKET_CLICK:t=i(549680);break;case r.A.LOCALE_CHANGED:t=i(910639);break;case r.A.COMPLETE_PURCHASE_CONTINUE:case r.A.COMPLETE_PURCHASE:case r.A.JOIN_WAITLIST:case r.A.ASM_REGISTER:case r.A.ASM_TIMER_END:case r.A.ASM_TIMER_WIDGET_AVAILABLE:t=i(409871);break;case r.A.PRODUCT_CERTIFICATE_CLICK:t=i(18626);break;case r.A.WIDGET_HEADER_EXPAND:t=i(321862);break;case r.A.IMAGES_BUCKETS_IN_REVIEW_CLICK:t=i(712428);break;case r.A.RPDV2_VIDEO_PLAYED:t=i(383467);break;case r.A.AR_LINK_CLICK:t=i(260680);break;case r.A.EXCHANGE_DESELECT:t=i(711130);break;case r.A.CANCELLATION_FEE_CLICK:t=i(318923);break;case r.A.FORWARD_NAVIGATION_EXPLICIT_NUDGE_LOAD:case r.A.FORWARD_NAVIGATION_EXPLICIT_NUDGE_CLOSE:case r.A.FORWARD_NAVIGATION_EXPLICIT_NUDGE_PROCEED:t=i(494343);break;case r.A.PMU_HORIZONTAL_EXTENDED_ADD_TO_BASKET:case r.A.PMU_HORIZONTAL_ADD_TO_BASKET:case r.A.PMU_HORIZONTAL_PPV_CLICK:t=i(696578);break;case r.A.A2C_BN_CHECKOUT_CLICK:t=i(714445);break;case r.A.GROUPED_PMU_PILL_CLICK:t=i(249788);break;case r.A.GROUPED_PMU_VIEW_ALL_PRODUCT_CARD_CLICK:t=i(521813);break;case r.A.SHOP_BY_CATEGORY_CLICK:t=i(739642);break;case r.A.UNIVERSAL_NAV_BOTTOM_BAR_CLICK:t=i(365621);break;case r.A.BUY_NOW_V2_CLICK:t=i(977717)}return t&&t.default?t.default:t}}class o extends n.default{getOmnitureTrackingClass(e){const t=a.getAction(e);return t?new t:super.getOmnitureTrackingClass(e)}}},117739:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>T});var n=i(465420),r=i(790458),a=i(52754),o=i(296540),s=i(334596),l=i(302019),d=i(561310),c=i(57522),u=i(322392),h=i(415283),p=i(311676),g=i(580555),m=i(390437),v=i(283774),_=i(957775),C=i(547134);class E extends r.A{constructor(){super(...arguments),this._popupWidth=this.props.appContext.uiContext.windowFrame.width-48,this._triggerDWEEvent=e=>{var t,i,n;const r=null===(t=null==e?void 0:e.action)||void 0===t?void 0:t.tracking;if(!r)return;const a=new g.Ay({impressionId:r.impressionId}),o=new p.lWn(m.O.REMOVE,a);null===(n=(i=this.props).actionDispatcher)||void 0===n||n.call(i,new p.ax6(o))},this._triggerCIACall=e=>{var t,i,n;const r=null===(t=null==e?void 0:e.action)||void 0===t?void 0:t.params;if(!r)return;const a=new p.Upy(v.tb.CHILD_PRODUCT_REMOVED,{lid:r.listingId,pid:r.productId});null===(n=(i=this.props).actionDispatcher)||void 0===n||n.call(i,new p.ax6(a))},this._executeButtonAction=(e,t)=>{var i,n,r,o,s,l,p,g,m,v;if(this.props.actionDispatcher){if((null===(i=t.action)||void 0===i?void 0:i.type)===u.X.CART_REMOVE){const e=(0,a.Qd)(this.props,c.j.SAAL_CHILD_COMPONENT_STATE_DATA),i={enableCartCall:null===(r=null===(n=t.action)||void 0===n?void 0:n.params)||void 0===r?void 0:r.enableCartCall,parentListingId:null===(s=null===(o=t.action)||void 0===o?void 0:o.params)||void 0===s?void 0:s.listingId,parentProductId:null===(l=t.action)||void 0===l?void 0:l.params.productId,saalListingsData:(null===(g=null===(p=t.action)||void 0===p?void 0:p.params)||void 0===g?void 0:g.saalListings)||(null==e?void 0:e.listingsData)};this.props.actionDispatcher({type:h.Q3.SAAL_CHILD_COMPONENT_ATTACH,payload:{data:i,type:h.Q3.SAAL_CHILD_COMPONENT_REMOVE}}),"product-page"===(null===(v=null===(m=t.action)||void 0===m?void 0:m.params)||void 0===v?void 0:v.pageKey)?this._triggerDWEEvent(t):this._triggerCIACall(t)}this.props.actionDispatcher(new d.iM(d.xH.CLOSE_MODAL))}}}static getHeight(e){return 176+super.getAdditionalHeight(e)}componentDidMount(){super.componentDidMount(),this.props.actionDispatcher&&(0,_.dispatchDgAction)(C.A.REMOVE_ITEM_CONFIRMATION_SAALV2,this.props.actionDispatcher)}renderWidget(){const e=(0,a.nS)(this.props.widgetSlotData),t=e?e.data:void 0,i=null==t?void 0:t.data;if(void 0===i)return;const n=i.title,r=i.subtitle,d=i.actions,c=null==d?void 0:d[0],u=null==d?void 0:d[1],h=i.additionalMessage;return o.createElement(l.az,{width:this._popupWidth},o.createElement(s.A,{title:n,subtitle:r,firstButton:c,secondButton:u,buttonAction:this._executeButtonAction,highlightedValue:h}))}}class T extends n.A{getWidgetClass(e){return E}getWidgetHeight(e){return E.getHeight(e)}}},120649:(e,t,i)=>{"use strict";i.r(t),i.d(t,{VIEW_TYPES:()=>l,default:()=>c});var n=i(52754),r=i(465420),a=i(186430),o=i(312446);const s=e=>"CROSS_SELL_STYLING"===(0,n.KJ)(e.widgetSlotData)?217+(0,o.Th)(e):317+(0,o.Th)(e);var l,d=i(60803);!function(e){e.CROSS_SELL_STYLING="CROSS_SELL_STYLING",e.MULTI_GRID_VIEW="MULTI_GRID_VIEW"}(l||(l={}));class c extends r.A{getWidgetClass(e){const t=s(e);switch((0,n.KJ)(e.widgetSlotData)){case"CROSS_SELL_STYLING":return a.Vy.getLoadable(t+"CrossSellPMUWidget",(0,d.Ay)({resolved:{},chunkName:()=>"CrossSellPMUWidget",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(53485).then(i.bind(i,742729)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>742729},{fallback:(0,a.zb)(t),resolveComponent:i=>(a.Vy.triggerLayout(e,t+"CrossSellPMUWidget"),i.default)}));case"MULTI_GRID_VIEW":return a.Vy.getLoadable(t+"GroupedPMUGridWidget",(0,d.Ay)({resolved:{},chunkName:()=>"GroupedPMUGridWidget",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(56295).then(i.bind(i,350855)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>350855},{fallback:(0,a.zb)(t),resolveComponent:i=>(a.Vy.triggerLayout(e,t+"GroupedPMUGridWidget"),i.default)}));default:return a.Vy.getLoadable(t+"GroupedPMUWidget",(0,d.Ay)({resolved:{},chunkName:()=>"GroupedPMUWidget",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(84507).then(i.bind(i,243879)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>243879},{fallback:(0,a.zb)(t),resolveComponent:i=>(a.Vy.triggerLayout(e,t+"GroupedPMUWidget"),i.default)}))}}getWidgetHeight(e){return s(e)}}},129899:(e,t,i)=>{"use strict";i.d(t,{i:()=>o});var n=i(877293),r=i(887261),a=i(670563);const o=n.StyleSheet.create({dropdownContainer:{borderRadius:2,width:100,height:32,borderWidth:1,borderColor:a.V9.darkestGrey,zIndex:2,top:-6,marginRight:16,flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:"white"},dropdownContainerWithBiggerImage:{borderRadius:2,width:100,height:32,borderWidth:1,borderColor:a.V9.darkestGrey,zIndex:2,top:-6,flexDirection:"row",justifyContent:"center",alignItems:"center",marginTop:8,marginLeft:6},dropDownContainerStyle:Object.assign({width:100,borderWidth:1,borderColor:a.V9.darkestGrey},n.Platform.select({android:{marginLeft:40},ios:{marginLeft:40}})),componentStyle:{width:80,height:32,flexDirection:"row",justifyContent:"center",alignItems:"center"},componentStylePP:{justifyContent:"flex-start",paddingLeft:16,height:40},componentTextStyle:{fontSize:14,fontFamily:r.A$,color:a.Jy.blackPrimary},selectedStyle:{fontSize:14,fontFamily:r.$u,includeFontPadding:!1,color:a.Cf.fkBlueColor},baseViewStyle:{alignItems:"center",justifyContent:"center"},imageViewStyle:{width:30,borderTopRightRadius:2,borderBottomRightRadius:2}})},130653:(e,t,i)=>{"use strict";i.d(t,{c:()=>n});const n=e=>e.reduce(((e,t)=>e+t),0)},136156:(e,t,i)=>{"use strict";i.d(t,{T5:()=>s,dv:()=>l,m8:()=>d,wh:()=>o,yX:()=>u});var n=i(877293),r=i(887261),a=i(670563);const o=80,s=70,l=239,d=136,c=n.Dimensions.get("window").width,u=n.StyleSheet.create({container:{flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",width:c,marginTop:16,height:l},cardContainer:{flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",marginHorizontal:12},subContainer:{flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start"},imageColumn:{height:112,width:88,marginBottom:8,marginLeft:18},rightContainer:{flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start"},title:{fontFamily:r.A$,includeFontPadding:!1,fontSize:12,color:a.FE,width:112,height:30},subTitle:{fontFamily:r.$u,includeFontPadding:!1,fontSize:12,color:a.Jy.blackSecondary,lineHeight:16},priceRow:{flexDirection:"column",alignItems:"flex-start",flex:1,width:112,marginTop:6},list:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"row",paddingHorizontal:12},groceryProductCard:{height:l,width:c}})},136595:(e,t,i)=>{"use strict";i.d(t,{A:()=>ce});var n=i(296540),r=i(877293),a=i(969571),o=i(339599),s=i(427286),l=i(537415),d=i(614006),c=i(738174),u=i(366334),h=i(180937),p=i(887903),g=i(45426),m=i(6940),v=i(787147),_=i(768104),C=i(787921),E=i(914944),T=i(276408),f=i(96753),A=i(479892),S=i(968430),y=i(738656),w=i(492418),I=i(23724),b=i(410752),D=i(633152),x=i(420721),P=i(311676),O=i(708444),R=i(911005),k=i(166057),V=i(876505),L=i(580555),M=i(721503),N=i(53606),H=i(52754),W=i(602808),B=i(985234),U=i(146387),F=i(11921),G=i(330842),z=i(879052),j=i(37114),X=i(927443),Y=i(521722),q=i(347953),J=i(532667),K=i(155805);const Q=r.NativeModules.TrunkModule,Z={fontFamily:"inter_regular"};var $;!function(e){e.ON_SCROLL="ON_SCROLL"}($||($={}));const ee="fillerBanner",te="_offset";var ie;!function(e){e.UP="UP",e.DOWN="DOWN"}(ie||(ie={}));class ne extends D.s{}const re=(0,r.requireNativeComponent)("ListView"),ae=(0,r.requireNativeComponent)("LogicalSlotListView"),oe=["ATLAS_PMU_V2_INFINITE_FEED_VIEW_HYBRID","ATLAS_RICH_CAROUSEL_INFINITE_FEED_VIEW_DISPLAY_ADS","ATLAS_PMU_V3_NOTIFY_INFINITE_FEED_VIEW_HYBRID"],se=(e,t)=>{let i=0;const n=e.ON_RENDER;if(n&&n.type===C.A.SCROLL_TO_SLOT){const e=n.params.slotId;if(void 0!==e&&e>=0){const n=((e,t)=>{let i;return t.slots&&t.slots.forEach((t=>{t.slotData.id===e&&(i=t.position)})),i})(e,t);void 0!==n&&n>=0&&(i=n)}}return i},le=(e,t,i)=>{var n;if(null==e?void 0:e.hasMorePages){const r={paginationContextMap:e.paginationContextMap,pageNumber:e.pageNumber?e.pageNumber+1:1,paginatedFetch:!0,parentWidgetId:0,state:"NONE",widgetId:"",url:"",processorType:"",type:""},a={paginatedFetch:e.hasMorePages,pageNumber:(null!==(n=e.pageNumber)&&void 0!==n?n:1)+1,infinitePage:e.infinitePage,paginationContextMap:e.paginationContextMap},o={pageUri:t.pageURI,pageContext:a},s=Object.assign(Object.assign({},r),{widgetId:"",prefetchWidgetRowId:-1,requestBody:o,requestContext:e.requestContext,layoutKey:i});h.s.fetchNextPageData(t.pageUID,s)}};class de extends n.Component{constructor(e,t){super(e,t),this._scrollEventEmitter=new ne,this._initialRenderIndex=-1,this._enableNextFetchCall=!0,this.prevContentOffsetY=0,this._isPersistentBottomBarEnabled=!1,this._getHeaderGradientProps=()=>{var e,t,i,n,a,o,s;const l=(0,j.m)(this.props.layoutParams);let d=null;const c=r.NativeModules.DesktopClientInfo.isDesktopClient&&(0,J.Us)(null!==(e=this.props.marketPlace)&&void 0!==e?e:"");if((null===(t=this.props.layoutParams)||void 0===t?void 0:t.headerLottieGradientColors)&&(null===(i=this.props.layoutParams)||void 0===i?void 0:i.headerLottieGradientColors.length)>1?d=this.props.layoutParams.headerLottieGradientColors:(0,X.Ol)(this.props.layoutParams)&&(null===(a=null===(n=null==l?void 0:l.color.custom)||void 0===n?void 0:n.startBleedingColor)||void 0===a?void 0:a.hex)&&(null===(s=null===(o=null==l?void 0:l.color.custom)||void 0===o?void 0:o.stopBleedingColor)||void 0===s?void 0:s.hex)&&(d=[l.color.custom.startBleedingColor.hex,l.color.custom.stopBleedingColor.hex]),d&&0!==(null==d?void 0:d.length)&&(!d||!c))return{colors:d,borderRadii:[0,0,0,0]}},this._setListViewRef=e=>{this._listViewRef=e,this.props.setListViewRef&&this.props.setListViewRef(e)},this._updateLayoutParamsIfApplicable=(e,t)=>{var i,n,r,a,s,l,d,c,u;if((u=null===(i=e.slotData.widget)||void 0===i?void 0:i.widgetName)&&oe.includes(u)){if(this.props.isLayoutWithLogicalSlot&&(null===(n=e.logicalSlotOrderInfo)||void 0===n?void 0:n.length))return this._updateLayoutParamsForLogicalSlot(e,t);const i=null===(r=this._orderInfo)||void 0===r?void 0:r[o.tokenIndexForScreenSize[o.ScreenSize.sm]];if(!this.isWebOrderInfo(i))return e;const u=null==i?void 0:i[t],h=null===(a=e.slotData.layoutParams)||void 0===a?void 0:a.padding;if(!h||!u)return e;const[p,g,m,v]=h.split(",")||[0,0,0,0];let _=h;1===(null===(s=u.span)||void 0===s?void 0:s.startSpan)&&12!==(null===(l=u.span)||void 0===l?void 0:l.endSpan)?_=`${p}, ${g}, 0, ${v}`:1!==(null===(d=u.span)||void 0===d?void 0:d.startSpan)&&12===(null===(c=u.span)||void 0===c?void 0:c.endSpan)&&(_=`0, ${g}, ${m}, ${v}`),e.slotData.layoutParams=Object.assign(Object.assign({},e.slotData.layoutParams),{padding:_})}return e},this._updateLayoutParamsForLogicalSlot=(e,t)=>{var i,n,r,a,s;const l=null===(i=e.slotData.layoutParams)||void 0===i?void 0:i.padding;if(!l)return e;const d=e.logicalSlotOrderInfo,c=null==d?void 0:d[o.tokenIndexForScreenSize[o.ScreenSize.sm]];if(c&&this.isWebOrderInfo(c)){const i=null==c?void 0:c[t];if(i){const[t,o,d,c]=l.split(",")||[0,0,0,0];let u=l;1===(null===(n=i.span)||void 0===n?void 0:n.startSpan)&&12!==(null===(r=i.span)||void 0===r?void 0:r.endSpan)?u=`${t}, ${o}, 0, ${c}`:1!==(null===(a=i.span)||void 0===a?void 0:a.startSpan)&&12===(null===(s=i.span)||void 0===s?void 0:s.endSpan)&&(u=`0, ${o}, ${d}, ${c}`),e.slotData.layoutParams=Object.assign(Object.assign({},e.slotData.layoutParams),{padding:u})}}return e},this._listItemRenderer=(e,t)=>{const i=this._updateLayoutParamsIfApplicable(e,t);return this._buildWidget(i,t)},this._onScroll=()=>{var e,t,i;const{onScrollStart:n,onScrollHandler:a}=this.props;n&&n(),a&&a();const o="web"===r.Platform.OS&&"undefined"!=typeof window&&this.props.isMsiteTabbedHeaderEnabled?window.scrollY:null===(e=this._listViewRef)||void 0===e?void 0:e.getCurrentScrollOffset(),s=o-this.prevContentOffsetY;if(o>=0&&Math.abs(s)>1&&(this._isPersistentBottomBarEnabled&&(s<0&&this._scrollDirection!==ie.DOWN?(this._scrollDirection=ie.DOWN,null===(t=r.NativeModules.BottomNavigationModule)||void 0===t||t.scrollListener("DOWN")):s>0&&this._scrollDirection!==ie.UP&&(this._scrollDirection=ie.UP,null===(i=r.NativeModules.BottomNavigationModule)||void 0===i||i.scrollListener("UP")),this.prevContentOffsetY=o),this.props.isMsiteTabbedHeaderEnabled)){const e={contentOffset:{x:0,y:o},contentSize:{width:0,height:0},layoutMeasurement:{width:0,height:0},contentInset:{top:0,left:0,bottom:0,right:0},zoomScale:1};this._scrollEventEmitter.emit($.ON_SCROLL,e)}const l=this._contextProvider.getUniqueKey();this._contextProvider.save(l+te,o)},this._onVisibleIndicesChanged=e=>{this.props.onVisibleIndicesChangedListener&&this.props.onVisibleIndicesChangedListener(e),this.props.setVisibleIndices(e)},this._getDGActionPayload=(e,t)=>{const i=new L.Ay({[L.bF]:ee,[L.qF]:e.impressionId,[L.Sw]:`${t.pos}`,[L.nF]:"neo/merchandising",[L.e]:"PINNED"});return new P.dv9(i,void 0,void 0,void 0,!0)},this.getFillerView=(e,t,i)=>{const{width:r,height:a}=e,o=G.lQ/(i.span.endSpan-i.span.startSpan+1);return n.createElement(g.S,{onPress:this._onPress,onPressParam:{action:(s=t.redirectUrl,{type:C.A.MAPI_ACTION,payload:new E.Oy({type:k.a.NAVIGATION,params:{},tracking:{},url:s,loginType:l.G.LOGIN_NOT_REQUIRED})}),trackingAction:this._getDGActionPayload(t,i)}},n.createElement(v.A,{imageFactor:o,style:{flex:1},aspectRatio:`${r}:${a}`,height:a,source:t.imageUrl,width:0}));var s},this._onPress=(e,t)=>{if(this.props.actionDispatcher&&t){if(t.trackingAction){const e=new P.ax6(t.trackingAction);this.props.actionDispatcher(e)}t.action&&this.props.actionDispatcher(t.action)}},this._renderFillerView=(e,t,i)=>{var a;const{prevItem:{index:o}}=e;let s="100%";if(null===(a=this.props.multiWidgetData)||void 0===a?void 0:a.slots){const e=this.props.multiWidgetData.slots[o],t=(0,H.lf)(e);if(null==t?void 0:t.margin){const e=m.Ay.getRectFromString(t.margin);e&&(s=`calc(100% - ${e.top+e.bottom}px)`)}}let l=i();if(t){const i=this._fillerFactory.getFillerData(t.height/t.width);l=n.createElement(V.A,{matchParentContainer:!0,style:A.C1.width_full,trackingInfo:this._getFillerTrackingData(e,i)},this.getFillerView(t,i,e))}return n.createElement(r.View,{style:[A.C1.flex,A.C1.contentAlignCenter,A.C1.overflowHidden,{height:s}]},l)},this._getItemStyle=e=>{var t;let i={height:"100%",backgroundColor:(0,K.xl)()?(0,N.qS)():w.Jyk.white,marginTop:0};if(this.props.multiWidgetData.slots){const n=this.props.multiWidgetData.slots[e],r=(0,H.lf)(n);if(null==r?void 0:r.margin){const e=m.Ay.getRectFromString(r.margin);e&&(i.height=`calc(100% - ${e.top+e.bottom}px)`)}if((null==r?void 0:r.backgroundColor)&&(i.backgroundColor=r.backgroundColor),2===(null==r?void 0:r.widgetWidth)){const t=this.props.multiWidgetData.slots[e-1],n=(0,H.lf)(t);if(null==n?void 0:n.margin){const e=m.Ay.getRectFromString(n.margin);e&&(i.height=`calc(100% - ${e.top+e.bottom}px)`)}i=Object.assign(Object.assign({},i),{display:"flex",alignItems:"center"})}(null===(t=n.slotData.widget)||void 0===t?void 0:t.type)===d.n.RICH_NAVIGATION&&(i.zIndex=10)}return i},this.onListItemLayout=e=>{var t,i,n,r;try{const a=this.context,s=o.tokenIndexForScreenSize[a],{rubixRuntime:l=0,prevSlotCount:d=0,prevFillerCount:c=0}=this._rubixLogData||{},u=this.props.multiWidgetData.slots||[];if(a!==o.ScreenSize.sm&&u.length>d){const o={};for(let e=d;e<u.length;e++)o[e]=null===(t=this._orderInfo)||void 0===t?void 0:t[s][e];const h=((null===(n=null===(i=this._fillerInfo)||void 0===i?void 0:i[s])||void 0===n?void 0:n.length)||0)-c,p=(0===h?[]:null===(r=this._fillerInfo)||void 0===r?void 0:r[s].slice(-1*h))||[];(0,R.Cj)({slots:u,rubixRuntime:l,newSlotsOrderInfo:o,newlyAddedFillerInfo:p,layoutInfo:e,screenSize:a,FULL_SPAN:G.lQ,pageDataResponse:this.props.pageDataResponse,actionDispatcher:this.props.actionDispatcher,dlsLayouts:this.props.dlsLayouts})}}catch(e){}},this.logRubixSlotDrop=(e,t)=>{var i,n;const r=this.context;null==Q||Q.log({type:R.Dm.ERROR_IN_RUBIX_SLOT_DROPPED,tag:{pageNo:null===(i=this.props.pageDataResponse)||void 0===i?void 0:i.pageNumber,screenSize:r,pageId:null===(n=this.props.pageDataResponse)||void 0===n?void 0:n.pageId},error:new Error(t)});const a={errorName:R.Dm.ERROR_IN_RUBIX_SLOT_DROPPED,errorSource:O.ZS.JAVASCRIPT,errorType:O.Ql.UNKNOWN,errorSeverity:O.XY.NONFATAL,errorMessage:t,errorPageName:"OVHomePage"};this.props.actionDispatcher({type:C.A.DG_TRACKING,payload:new P.WSh(a)})},this._getOffsetTop=()=>8,this._renderFooter=()=>this.props.renderWidgetListFooter?this.props.renderWidgetListFooter():null,this.setDimensions=e=>{const{width:t,height:i}=e;i>=0&&t>=0&&this.props.appContext.uiContext.setPageFrame(e)},this._onScrollEndReached=()=>{const{pageDataResponse:e,pageMeta:t}=this.props;e&&this._enableNextFetchCall&&(le(e,t,this.props.layoutKey),this._enableNextFetchCall=!1)},this._fetchOnClick=()=>{const{pageDataResponse:e,pageMeta:t}=this.props;e&&(le(e,t,this.props.layoutKey),this._enableNextFetchCall=!1)},this._renderPageBreak=()=>{var e,t,i;if(null===(e=this.props.pageDataResponse)||void 0===e?void 0:e.hasMorePages){const e=null===(t=this.props.pageDataResponse)||void 0===t?void 0:t.networkState,a=(null===(i=this.props.pageInfo)||void 0===i?void 0:i.pageBackgroundColor)||w.Jyk.paleGray,o=e===u.Qm.ERROR_STATE?n.createElement(r.View,{style:[A.C1.displayFlex,A.C1.contentAlignCenter,I.A.retryContainer]},n.createElement(r.Text,{style:[I.A.failedText,A.C1.margin_bottom_12]}," ",(0,x.ak)(this.props.appContext.locale,{id:b.H.rex_string_CONTENT_LOAD_FAILURE})),n.createElement(g.S,{onPress:this._fetchOnClick},n.createElement(r.Text,{style:I.A.retryText},(0,x.ak)(this.props.appContext.locale,{id:b.H.rex_string_RETRY})))):n.createElement(r.View,{style:[I.A.loaderContainer,A.C1.displayFlex,A.C1.contentAlignCenter]},n.createElement(r.Text,{style:[I.A.loaderText,I.A.loader,Z]},(0,x.ak)(this.props.appContext.locale,{id:b.H.rex_string_LOADER_TEXT})),n.createElement(r.View,{style:I.A.loader},n.createElement(s.A,{animating:!0,size:"large",color:w.Cf1.fkBlueColor}))),l={backgroundColor:a,maxWidth:Y.RW,margin:"auto"};return n.createElement(r.View,{style:[I.A.container,A.C1.alignItemCenter,l]},o)}return null},this._handleScrollToTop=e=>{this._scrollListToTop(!0)},this._scrollListToTop=e=>{this._listViewRef&&(this.props.isMsiteTabbedHeaderEnabled&&"undefined"!=typeof window?window.scrollTo({top:0,behavior:e?"smooth":"auto"}):this._listViewRef.scrollToTop(e))},this._fetchRubixOutputTransientData=()=>{var e,t,i;const n=null===(i=null===(t=null===(e=this.props)||void 0===e?void 0:e.pageDataResponse)||void 0===t?void 0:t.pageTransientData)||void 0===i?void 0:i.data[B.V.RUBIX_OUTPUT];return this._isRubixOutput(n)?n.rubixOutput:void 0},this._rubix=(0,a.A)(G.p_,Object.keys((0,R.mG)()),G.lQ,Object.keys(o.screenSizeBreakpoints).length,!0,this.logRubixSlotDrop),this.props.setRubixRef(this._rubix),this._fillerFactory=new _.A,this._contextProvider=new F.q(this.props.pageMeta.pageUID,this.props.pageMeta.pageURI),this.NativeListView=this.props.isLayoutWithLogicalSlot?ae:re,this.props.isMsiteTabbedHeaderEnabled&&this.props.setScrollEventEmitter&&this.props.setScrollEventEmitter(this._scrollEventEmitter),this._isPersistentBottomBarEnabled=!!q.A.getExperimentValue("enablePersistentBottomBar")}UNSAFE_componentWillMount(){if(this.props.multiWidgetData.slots){if(-1===this._initialRenderIndex){const{pageEventResponseMap:e,multiWidgetData:t}=this.props;e&&t&&(this._initialRenderIndex=se(e,t))}const e=this._fetchRubixOutputTransientData();e?(this._rubix.populatePreExistingLists(e),this._orderInfo=this._rubix.getListOrder(),this._fillerInfo=this._rubix.getFillerInfo()):(this._getDataFromRubix(this.props.multiWidgetData.slots,this.props.dlsLayouts),this._storeCurrentRubixOutput())}c.I.addListener(p.t.HANDLE_SCROLL_TO_TOP_EVENT,this._handleScrollToTop)}componentWillUnmount(){c.I.removeListener(p.t.HANDLE_SCROLL_TO_TOP_EVENT,this._handleScrollToTop)}componentDidMount(){var e;const t=this._contextProvider.getUniqueKey();if(t){const i=this._contextProvider.get(t+te);null===(e=this._listViewRef)||void 0===e||e.scrollToOffset(0,i)}this.props.isMsiteTabbedHeaderEnabled&&this.props.setListViewRef&&this.props.setListViewRef(this)}UNSAFE_componentWillReceiveProps(e){if(this.props.multiWidgetData.slots&&e.multiWidgetData.slots&&this.props.multiWidgetData.slots!==e.multiWidgetData.slots){if(this._enableNextFetchCall=!0,-1===this._initialRenderIndex){const{pageEventResponseMap:t,multiWidgetData:i}=e;t&&i&&(this._initialRenderIndex=se(t,i))}this.props.multiWidgetData.slots.length>=e.multiWidgetData.slots.length&&this._rubix.resetData(),this._getDataFromRubix(e.multiWidgetData.slots,e.dlsLayouts),this._storeCurrentRubixOutput(),this._contextProvider.updatePageUidUri(this.props.pageMeta.pageUID,this.props.pageMeta.pageURI)}}shouldComponentUpdate(e){return this.props.multiWidgetData!==e.multiWidgetData||this.props.multiWidgetData.slots!==e.multiWidgetData.slots||this.props.pageDataResponse!==e.pageDataResponse||this.props.loadingState!==e.loadingState||this.props.appContext!==e.appContext}componentDidUpdate(e){var t,i,n;this.props.loadingState===f.LA.maskedLoadingWithScrollToTop&&this._scrollListToTop(!0);const r=(null===(i=null===(t=e.multiWidgetData)||void 0===t?void 0:t.slots)||void 0===i?void 0:i.length)||0,a=(null===(n=this.props.multiWidgetData.slots)||void 0===n?void 0:n.length)||0;this.context!==o.ScreenSize.sm&&r>a&&this._scrollListToTop(!0)}render(){var e,t,i,a,s,l,d,c;const{style:u,multiWidgetData:h,renderWidgetListHeader:p}=this.props,g=this.context;let m=h.slots;if(1===(null===(e=this.props.pageDataResponse)||void 0===e?void 0:e.pageNumber)&&g===o.ScreenSize.sm&&m&&!this.props.isLayoutWithLogicalSlot&&(!this.props.isMsiteTabbedHeaderEnabled||this.props.pageDataResponse.hasMorePages)){const e=N.Ay.getWidgetNumberSSR();m=m.slice(0,e)}const v=null===(l=null===(s=null===(a=null===(i=null===(t=this.props.pageDataResponse)||void 0===t?void 0:t.paginationContextMap)||void 0===i?void 0:i.dj)||void 0===a?void 0:a.context)||void 0===s?void 0:s.paginationCursor)||void 0===l?void 0:l.servedFoldNumber;return n.createElement(r.View,Object.assign({},(0,z.Z)(`Page_Number_${null!=v?v:1}`),{style:S.i.fill}),n.createElement(this.NativeListView,{ref:this._setListViewRef,style:u,initialRenderIndex:this._initialRenderIndex,listItemRenderer:this._listItemRenderer,onScroll:this._onScroll,onVisibleIndicesChanged:this._onVisibleIndicesChanged,orderInfo:this._orderInfo,fillerInfo:this._fillerInfo,renderFillerView:this._renderFillerView,fullSpanValue:G.lQ,colGap:G.mz,getItemStyle:this._getItemStyle,getOffsetTop:this._getOffsetTop,onListItemLayout:this.onListItemLayout,renderHeader:p,renderFooter:this._renderFooter,onEndReached:this._onScrollEndReached,listViewData:m,headerSlots:this.props.headerSlots,headerSlotRenderer:this.props.headerSlotRenderer,windowWidth:this.props.appContext.uiContext.windowFrame.width,footerSlots:this.props.footerSlots,draggableSlots:this.props.draggableSlots,draggableV2Slots:this.props.draggableV2Slots,renderPageBreakSlot:this._renderPageBreak,headerGradientProps:this._getHeaderGradientProps(),completeSlots:this.props.completeSlots,renderSideStickyContainer:this.props.renderSideStickyContainer,stickyContainerDirection:this.props.stickyContainerDirection,setDimensions:this.setDimensions,loadingState:this.props.loadingState,maxPageWidth:this.props.maxPageWidth,isNewExperienceEnabled:this.props.isNewExperienceEnabled,marketPlace:this.props.marketPlace,pageTransientData:null===(d=this.props.pageDataResponse)||void 0===d?void 0:d.pageTransientData,appContext:this.props.appContext,renderSlidingBottomSnackbar:null===(c=this.props)||void 0===c?void 0:c.renderSlidingBottomSnackbar,isMsiteTabbedHeaderEnabled:this.props.isMsiteTabbedHeaderEnabled}))}_getFillerTrackingData(e,t){return new M.A(e.pos,t.uniqueViewId,{impressionId:t.impressionId},ee,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e.pos,void 0,void 0,"neo/merchandising","PINNED")}_getDataFromRubix(e,t){var i,n,r,a;const s=Object.keys(o.screenSizeBreakpoints).length,l=this.context,d=o.tokenIndexForScreenSize[l],c=performance.now();this._rubix.addListData(e,(e=>{var i,n;if(0!==e.slotData.parentId){const t=(0,H.lf)(e);if(t){const e=t.widgetWidth||G.lQ;let i=Array(s).fill(G.lQ);return 2===e&&(i=Array(s).fill(0)),i[o.tokenIndexForScreenSize[o.ScreenSize.lg]]=e,i}return Array(s).fill(G.lQ)}const r=!!(null===(i=e.slotData.widget)||void 0===i?void 0:i.type)&&(0,W.uQ)(null===(n=e.slotData.widget)||void 0===n?void 0:n.type),a=(0,H.KJ)(e);let l=Array(s).fill(G.lQ);if(r&&t&&a&&t[a]&&t[a].colSpan){const e=t[a].colSpan;l=Array.isArray(e)?e:Array(s).fill(e)}return l}),(e=>{var i,n;if(0!==e.slotData.parentId)return Array(s).fill(Object.keys((0,R.mG)())[0]);const r=!!(null===(i=e.slotData.widget)||void 0===i?void 0:i.type)&&(0,W.uQ)(null===(n=e.slotData.widget)||void 0===n?void 0:n.type),a=(0,H.KJ)(e);let o=Array(s).fill(Object.keys((0,R.mG)())[0]);if(r&&t&&a&&t[a]&&t[a].category){const e=t[a].category;o=Array.isArray(e)?e:Array(s).fill(e)}return o}),(e=>0!==e.slotData.parentId));const u=performance.now()-c;this._rubixLogData={prevSlotCount:(null===(i=this._orderInfo)||void 0===i?void 0:i[d])?Object.keys(null===(n=this._orderInfo)||void 0===n?void 0:n[d]).length:0,prevFillerCount:(null===(a=null===(r=this._fillerInfo)||void 0===r?void 0:r[d])||void 0===a?void 0:a.length)||0,rubixRuntime:u},this._orderInfo=this._rubix.getListOrder(),this._fillerInfo=this._rubix.getFillerInfo()}_storeCurrentRubixOutput(){const e=Object.keys(o.screenSizeBreakpoints).map(((e,t)=>{const i=this._orderInfo?this._orderInfo[t]:{};return{itemList:this.isWebOrderInfo(i)?i:{},fillersList:this._fillerInfo?this._fillerInfo[t]:[]}}));this.props.actionDispatcher(new U.zF(new U.pN(B.V.RUBIX_OUTPUT,{type:B.V.RUBIX_OUTPUT,rubixOutput:e})))}isWebOrderInfo(e){return!Array.isArray(e)&&"object"==typeof e&&Object.keys(e).length>0}_buildWidget(e,t){const i=(0,H.wU)(e);let n={scrolledToEnd:!1,scrollComponentEventEmitter:this._scrollEventEmitter};const r=this._getWidgetProps(t,e,n);return r?this._getWidget(i,r):null}_getWidgetProps(e,t,i){let n;return n=t||(this.props.multiWidgetData.slots&&this.props.multiWidgetData.slots.length>e?this.props.multiWidgetData.slots[e]:void 0),n?{widgetSlotData:n,actionDispatcher:this.props.actionDispatcher,index:e,appContext:this.props.appContext,pageInfo:this.props.pageInfo,scrollProps:i,scrollToSlotPosition:this.props.scrollToSlotPosition,basketData:this.props.basketData}:void 0}_getWidget(e,t){var i,n,r,a;const o=null===(a=null===(r=null===(n=null===(i=null==t?void 0:t.widgetSlotData)||void 0===i?void 0:i.slotData)||void 0===n?void 0:n.widget)||void 0===r?void 0:r.widgetAttributes)||void 0===a?void 0:a.themeAttributes;return T.c.getWidgetComponent(e,t,{appContext:this.props.appContext,pageInfo:this.props.pageInfo,isStoreFirstArchitecture:this.props.isStoreFirstArchitecture,dlsWidgetBuilder:this.props.dlsWidgetBuilder,videoPool:this.props.videoPool,themeContext:o||this.props.pageThemeContext})}_isRubixOutput(e){return!!e&&("type"in e&&"rubixOutput"in e&&Array.isArray(e.rubixOutput))}}de.contextType=y.ZP;const ce=de},138412:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var n=i(465420),r=i(296540),a=i(877293),o=i(716249),s=i(52754),l=i(479892),d=i(495176),c=i(723372);class u extends o.A{constructor(){super(...arguments),this.containerStyle=[l.C1.margin_bottom_18,l.C1.margin_horizontal_16,l.C1.margin_top_16],this.itemListContainer=[l.C1.row,l.C1.wrap],this.itemListStyle=[l.C1.row,l.C1.margin_vertical_8,l.C1.alignItemCenter],this.titleStyle=[l.XT.fontMedium_14,l.XT.fkBlackPrimaryText],this.formattedMessageStyle=[l.C1.flex,l.C1.alignItemCenter],this._defaultTextStyle=[l.XT.fontRegular_14,l.XT.fkDarkGrey],this._defaultImageStyle=l.C1.margin_right_4,this.itemWidth={width:(this.getScreenWidth()-32)/2},this.renderItemList=e=>{const t=e.value;if(!t)return;return r.createElement(a.View,{style:this.itemWidth},r.createElement(a.View,{style:this.itemListStyle},r.createElement(c.A,{style:this.formattedMessageStyle,messages:t,textDefaultStyle:this._defaultTextStyle,imageDefaultStyle:this._defaultImageStyle,imageHeight:24})))}}static getWidgetHeight(){return this.WIDGET_HEIGHT+this.WIDGET_TOP_MARGIN+this.WIDGET_BOTTOM_MARGIN}renderWidget(){const e=(0,s.nS)(this.props.widgetSlotData),t=e&&e.data;if(!t)return;const i=t.title,n=t.itemList;return r.createElement(a.View,{style:this.containerStyle},i?r.createElement(a.View,{style:l.C1.margin_bottom_10},r.createElement(d.A,{richTextData:i,style:this.titleStyle})):null,r.createElement(a.View,{style:this.itemListContainer},n.map(this.renderItemList)))}renderDivider(){}}u.WIDGET_HEIGHT=107,u.WIDGET_TOP_MARGIN=16,u.WIDGET_BOTTOM_MARGIN=18;class h extends n.A{getWidgetClass(e){return u}getWidgetHeight(e){return u.getWidgetHeight()}}},141792:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>De});var n=i(465420),r=i(296540),a=i(877293),o=i(415283),s=i(311676),l=i(395567),d=i(914944),c=i(422018),u=i(146387),h=i(813652),p=i(479892),g=i(231679),m=i(249989);class v{constructor(e){this.type=m.z.MULTIMEDIA_SWATCH_CONTAINER,this.swatchInfo=e}}var _=i(560203),C=i(45426),E=i(352254),T=i(716249),f=i(387393),A=i(585603),S=i(39868),y=i(242464),w=i(448865),I=i(29960),b=i(74175),D=i(379610),x=i(737999),P=i(492418);class O extends r.PureComponent{constructor(){super(...arguments),this._handleClick=(e,t)=>{t!==this.props.moreIndex||this.props.multimediaComponent.length===t+1?this.props.onItemSelected(t,this.props.multimediaIndex,!1):this.props.onItemSelected(t,this.props.multimediaIndex,!0)}}render(){return r.createElement(a.View,{style:p.C1.row},this.props.multimediaComponent.map(((e,t)=>{const i=t===this.props.moreIndex&&this.props.multimediaComponent.length!==t+1;if(!e.value||t>this.props.moreIndex)return null;const n=e.value.contentType===x.A.IMAGE,o=e.value.contentType===x.A.VIDEO&&e.value.source===x.A.YOUTUBE,s=n?e.value.url:o&&e.value.contentId?"https://img.youtube.com/vi/"+e.value.contentId+"/default.jpg":"",l=i?g.M1.moreThumbnailImage:g.M1.thumbnailImage,d=t===this.props.moreIndex&&this.props.multimediaComponent.length!==t+1?"+ "+(this.props.multimediaComponent.length-this.props.moreIndex):void 0;return r.createElement(C.S,{key:t,onPressParam:t,onPress:this._handleClick,disableFeedback:!0},r.createElement(a.View,{style:[g.M1.thumbnailView,{borderColor:this.props.multimediaIndex===t?P.Cf1.fkBlueColor:P.Cz1,backgroundColor:i?P.Jyk.blackPrimary:"transparent",opacity:i?.7:1}]},r.createElement(E.A,{style:l,source:s,height:O.THUMBNAIL_IMAGE_DIMEN,width:O.THUMBNAIL_IMAGE_DIMEN}),d&&r.createElement(a.View,{style:g.M1.absoluteCenter},r.createElement(a.Text,{style:g.M1.moreText},d)),o&&e.value.contentId&&r.createElement(a.View,{style:g.M1.absoluteCenter},r.createElement(E.A,{style:g.M1.videoPlayButtonThumbnail,source:h.videoPlayButton,width:g.aH.VIDEO_PLAY_BUTTON_DIMENSIONS,height:g.aH.VIDEO_PLAY_BUTTON_DIMENSIONS}))))})))}}O.THUMBNAIL_IMAGE_DIMEN=48;var R=i(361990),k=i(410752),V=i(80733),L=i(141492),M=i(864084),N=i(145231),H=i(53606);const W=(0,f.A)(A.A,S.A);class B extends D.A{constructor(){super(...arguments),this._wishlistCollapsed=!1,this._wishlistCollapseProgress=new a.Animated.Value(0),this._collapseWishlist=()=>{!N.A.isServer&&a.Animated.timing(this._wishlistCollapseProgress,{toValue:1,duration:200,useNativeDriver:!1}).start()},this._productImageClick=(e,t)=>{if(t.contentType===x.A.VIDEO&&t.source===x.A.YOUTUBE)this.handleYoutubeVideoClick(t.contentId,t.url,t.source,this.state.multimediaIndex);else{const e=B.getMultiMediaWidgetDataFromProps(this.props),t=e&&e.multimediaComponents,i=[];t&&t.forEach((e=>{const t=Object.assign({},e),n=Object.assign({},t.value);R.e.shouldRemoveNoteInfoFromMultimedia()&&(n.info=void 0),t.value=n,i.push(t)})),this.handleGalleryClick(this.state.multimediaIndex,i,!1)}},this._onItemSelected=(e,t,i)=>{if(i){const t=B.getMultiMediaWidgetDataFromProps(this.props),i=t?t.multimediaComponents:void 0;this.handleGalleryClick(e,i,!1)}else this.trackMediaImpression(e),this.setState({multimediaIndex:e}),this.state.hasSwiped||this.trackMediaSwipe(t),this.trackMediaSwipe(e),this.setState({hasSwiped:!0})},this._renderSideAction=(e,t)=>this._isPresentInLayoutParams(B.COLOR_PICKER_KEY)&&e?this._renderSwatchAction(e):this._isPresentInLayoutParams(B.PRODUCT_DETAILS_KEY)?this._renderProductDetailsAction(t):void 0,this._toggleSwatchesView=()=>{const e=!this.state.swatchOptionsVisible;this.setState({swatchOptionsVisible:e}),this.trackOmnitureEvent(new l.aUZ),this._saveSwatchOpenedStateInPageInstanceData(e)},this._renderProductDetailsAction=e=>{if(!e)return;const t=this.state.productDetailsSideActionViewModel;return r.createElement(a.View,{style:[p.C1.rowWithoutFlex,p.C1.contentAlignCenter]},r.createElement(_.A,{heightVal:50,widthVal:1}),r.createElement(C.S,{onPress:this._productDetailsClick,onPressParam:e.action,disableFeedback:!0},r.createElement(a.View,{style:g.M1.productDetailsContainer},r.createElement(E.A,{height:30,width:30,source:t.iconUri}),r.createElement(a.Text,{style:g.M1.detailsText,numberOfLines:2},t.text))))},this._renderSwatchAction=e=>r.createElement(a.View,{style:[p.C1.rowWithoutFlex,p.C1.contentAlignCenter]},r.createElement(_.A,{heightVal:50,widthVal:1}),r.createElement(C.S,{onPress:this._toggleSwatchesView,disableFeedback:!0},r.createElement(a.View,{style:g.M1.productDetailsContainer},r.createElement(E.A,{height:30,width:30,source:e.iconUri}),r.createElement(a.Text,{style:g.M1.detailsText,numberOfLines:2},e.text)))),this._productDetailsClick=(e,t)=>{t&&(this.trackOmnitureEvent(new l.I0F),this.dispatchAction(o.Q3.MAPI_ACTION,new d.Oy(t)))},this._isPresentInLayoutParams=e=>{const t=this.props.widgetSlotData.slotData&&this.props.widgetSlotData.slotData&&this.props.widgetSlotData.slotData.layoutParams,i=t&&t.overlayParamsMap;return!!i&&e in i},this._onSwatchOptionSelected=(e,t,i,n)=>{e&&this.state.swatchWhitelistProductInfoMap&&(this.trackDGEvent(new s.Sk7(this.getFetchId(),t.selectedPid,i,n)),this.props.actionDispatcher&&this.props.actionDispatcher(new c.lX(new c.$g(e,this.state.swatchWhitelistProductInfoMap,t.swatches))))},this.onSwatchOptionSelected=(e,t,i,n,r)=>{if(r){const e=(r=w.J.selectSwatchOption(r,0,t,this.state.swatchCombinationToPidMap,this.state.swatchWhitelistProductInfoMap)).selectedPid;e&&this._onSwatchOptionSelected(e,r,i,n)}}}static getWidgetHeight(e){const t=e.widgetSlotData.slotData&&e.widgetSlotData.slotData&&e.widgetSlotData.slotData.layoutParams,i=t&&t.overlayParamsMap,n=!!i&&B.PRODUCT_DETAILS_KEY in i,r=B.areSwatchOptionsVisible(e)?g.aH.MULTIMEDIA_WITH_SWATCH_OPTIONS_HEIGHT:n?g.aH.MULTIMEDIA_HEIGHT_PRODUCT_DETAILS:g.aH.MULTIMEDIA_HEIGHT;return T.A.getAdditionalHeight(e)+r}getDerivedState(e,t){e.scrollProps&&(e.scrollProps.scrollComponentEventEmitter.removeListenerForEvent(V.th.ON_SCROLL_DRAG_BEGIN,this._onScrollDragBegin),e.scrollProps.scrollComponentEventEmitter.addListener(V.th.ON_SCROLL_DRAG_BEGIN,this._onScrollDragBegin,this));const i=B.areSwatchOptionsVisible(e),n=e.appContext.uiContext.windowFrame.width,r=e.pageInfo?e.pageInfo.pageContext:void 0,a=r?r.productId:void 0;let o=!1;B.getMultiMediaWidgetDataFromProps(e)&&(o=!L.A.isLegacy(e.appContext.abManager));const s=this.isProductWishlisted(e),l=t&&t.multimediaIndex&&!this.isWidgetDataChanged(e)?t.multimediaIndex:0,d=!(!t||!t.hasSwiped)&&t.hasSwiped,c={iconUri:h.productDetailsIcon,text:this.localize({id:k.H.rex_string_PRODUCT_DETAILS_ICON})},u=B._getSwatchDataFromProps(e),p=u&&u.attributeOptions&&u.attributeOptions[0]&&{iconUri:h.swatchIcon,text:u.attributeOptions[0].length+" "+this.localize({id:k.H.rex_string_COLORS})},g=B._getSwatchCombinationToPidMapFromSwatchData(u),m=B._getSwatchWhitelistProductInfoMapFromSwatchData(u),v=new I.L(u,g,m,a);return Object.assign(Object.assign({},super.getDerivedState(e,t)),{multimediaIndex:l,swatchOptionsVisible:i,swatchCombinationToPidMap:g,swatchWhitelistProductInfoMap:m,productDetailsSideActionViewModel:c,swatchViewModel:v,swatchSideActionViewModel:p,isInWishlist:s,isCollectionsExperienceOn:o,moreIndex:B._getMoreIndex(n),hasSwiped:d})}shouldStateUpdate(e,t){const i=this.isProductWishlisted(e),n=B.areSwatchOptionsVisible(e);return this.state.isInWishlist!==i||this.state.swatchOptionsVisible!==n||super.shouldStateUpdate(e,t)}shouldComponentUpdate(e,t,i){return this.state.multimediaIndex!==t.multimediaIndex||this.state.isInWishlist!==t.isInWishlist||this.state.swatchOptionsVisible!==t.swatchOptionsVisible||super.shouldComponentUpdate(e,t,i)}renderWidget(){const e=D.A.getMultiMediaWidgetDataFromProps(this.props),t=e?e.multimediaComponents:void 0;if(!e||!t)return;const i=this.state.isCollectionsExperienceOn&&e.floatingActionValues?e.floatingActionValues.collectionAction:e.wishlistAction,n=e.offerButton,o=e.productDetailsAnnouncement,s=this.state.swatchSideActionViewModel,l=this.state.swatchViewModel,d=H.Ay.getAutoPlayYoutubeAbValue(),c=t&&t.length>0&&t[this.state.multimediaIndex]?t[this.state.multimediaIndex].value:void 0,u=c&&c.contentType===x.A.VIDEO&&c.source===x.A.YOUTUBE,h=d&&u?g.M1.fullContainer:{};return r.createElement(a.View,null,r.createElement(a.View,{style:g.M1.container},r.createElement(a.View,{style:h},this._handleProductImage(this.state.multimediaIndex,this.props.appContext.uiContext.windowFrame.width,t,d)),e.spotlight&&g.M1&&B._renderSpotlight(e.spotlight,g.M1.spotlightContainer),i&&i.value&&i.value.enabled&&(this.state.isCollectionsExperienceOn||this._isPresentInLayoutParams(B.WISHLIST_KEY))&&this.renderWishlistIcon(i,g.M1.wishlistIconContainer,this.state.isInWishlist,this.state.isCollectionsExperienceOn),n&&n.value&&n.value.title&&r.createElement(a.View,{style:g.M1.offerButtonStyle},r.createElement(a.Text,{style:g.M1.offerText}," ",n.value.title)),r.createElement(a.View,{style:g.M1.thumbnailContainer},r.createElement(O,{multimediaComponent:t,moreIndex:this.state.moreIndex,multimediaIndex:this.state.multimediaIndex,onItemSelected:this._onItemSelected}),this._renderSideAction(s,o))),l&&this._renderSwatchSelectionView(l))}UNSAFE_componentWillMount(){var e,t;if(!this._wishlistCollapsed){const i=B.getMultiMediaWidgetDataFromProps(this.props);if(i){const n=null===(t=null===(e=i.floatingActionValues)||void 0===e?void 0:e.collectionAction)||void 0===t?void 0:t.value;n&&(this._iconTextTimeoutId=setTimeout((()=>{this._wishlistCollapsed=!0,this._collapseWishlist()}),n.iconTextTimeOut||4e3))}}}componentWillUnmount(){super.componentWillUnmount(),this.props.scrollProps&&this.props.scrollProps.scrollComponentEventEmitter.removeListenerForEvent(V.th.ON_SCROLL_DRAG_BEGIN,this._onScrollDragBegin)}static areSwatchOptionsVisible(e){const t=e.pageInfo&&e.pageInfo.pageInstanceData?e.pageInfo.pageInstanceData.MULTIMEDIA_SWATCH_CONTAINER:void 0;return!!t&&t.swatchInfo.swatchContainerOpened}getImageHeight(){return g.aH.MULTIMEDIA_IMAGE_HEIGHT}_onScrollDragBegin(e){this._iconTextTimeoutId&&clearTimeout(this._iconTextTimeoutId),this._wishlistCollapsed||(this._wishlistCollapsed=!0,this._collapseWishlist())}_handleProductImage(e,t,i,n){if(!i)return;e>=i.length&&(e=0);const o=i&&i.length>0&&i[e]?i[e].value:void 0;if(!o||!o.url)return;const s=o.contentType===x.A.IMAGE,l=o.contentType===x.A.VIDEO&&o.source===x.A.YOUTUBE,d=s?o.url:l&&o.contentId?D.A.buildYoutubeImageUrl(o.contentId):"",c=this.getImageHeight(),u=[],p=this.props.appContext.uiContext.windowFrame.width;return u.push({height:c,width:p}),l&&o.contentId?n?r.createElement(M.nv,{src:{videoId:o.contentId,url:o.url,mediaHeight:c,mediaWidth:p},style:u,showFullScreenButton:!0,showSeekBar:!0,showPlayPauseButton:!0,showVideoTitle:!1,showYoutubeButton:!1,autoPlayVideo:!0}):r.createElement(C.S,{onPress:this._productImageClick,onPressParam:o,disableFeedback:!0},r.createElement(a.View,{style:g.M1.productImageContainer},r.createElement(E.A,{progressive:!0,style:g.M1.productImage,source:d,width:t-40,height:this.getImageHeight()}),r.createElement(E.A,{width:g.aH.PLAY_BUTTON_WIDTH,height:g.aH.PLAY_BUTTON_HEIGHT,style:g.M1.videoPlayButton,source:h.videoPlayButton}))):r.createElement(C.S,{onPress:this._productImageClick,onPressParam:o,disableFeedback:!0},r.createElement(E.A,{progressive:!0,style:g.M1.productImage,source:d,width:t-40,height:this.getImageHeight()}))}_saveSwatchOpenedStateInPageInstanceData(e){const t={swatchContainerOpened:e};this.props.actionDispatcher&&this.props.actionDispatcher(new u.ev(new u.i1(m.z.MULTIMEDIA_SWATCH_CONTAINER,new v(t))))}_renderSwatchSelectionView(e){if(this.state.swatchOptionsVisible)return r.createElement(a.View,{style:g.M1.swatchContainer},r.createElement(_.A,{heightVal:1}),r.createElement(y.e0,{swatchIndex:0,data:e.swatches[0],viewModel:e,onSwatchOptionPressed:this.onSwatchOptionSelected,onSwatchPressParams:e,actionDispatcher:this.props.actionDispatcher,uiContext:this.props.appContext.uiContext}),r.createElement(a.View,{style:g.M1.swatchContainerBottomSpace}))}static _renderSpotlight(e,t){return!!(e&&e.value&&e.value.text&&e.value.renderAttributes&&e.value.renderAttributes.background)&&r.createElement(a.View,{style:t},r.createElement(W,{background:e.value.renderAttributes.background,text:e.value.text,animationStatus:!!e.value.animation,style:g.M1.spotlightView}))}static _getMoreIndex(e){return e<B.DETAILS_WIDTH+B.THUMBNAIL_IMAGE_WIDTH*B.DEFAULT_THUMBNAIL_COUNT?e<B.DETAILS_WIDTH+B.THUMBNAIL_IMAGE_WIDTH*(B.DEFAULT_THUMBNAIL_COUNT-1)?B.DEFAULT_INDEX_SIZE-2:B.DEFAULT_INDEX_SIZE-1:B.DEFAULT_INDEX_SIZE}static _getSwatchCombinationToPidMapFromSwatchData(e){return e?b.L.createSwatchCombinationToPidMap(e.products):new Map}static _getSwatchWhitelistProductInfoMapFromSwatchData(e){return e&&e.products}static _getSwatchDataFromProps(e){const t=B.getMultiMediaWidgetDataFromProps(e),i=t?t.singleAttributeSwatch:void 0;return i&&i.value}}B.THUMBNAIL_IMAGE_WIDTH=50,B.DETAILS_WIDTH=156,B.DEFAULT_THUMBNAIL_COUNT=4,B.DEFAULT_INDEX_SIZE=3,B.WISHLIST_KEY="wishlist",B.COLOR_PICKER_KEY="colorPicker",B.PRODUCT_DETAILS_KEY="productDetails";class U extends B{static getWidgetHeight(e){const t=e.widgetSlotData.slotData&&e.widgetSlotData.slotData&&e.widgetSlotData.slotData.layoutParams,i=t&&t.overlayParamsMap,n=!!i&&B.PRODUCT_DETAILS_KEY in i;let r=B.areSwatchOptionsVisible(e)?g.aH.MULTIMEDIA_WITH_SWATCH_OPTIONS_HEIGHT:n?g.aH.MULTIMEDIA_HEIGHT_PRODUCT_DETAILS:g.aH.MULTIMEDIA_HEIGHT;return r+=60,T.A.getAdditionalHeight(e)+r}getImageHeight(){return g.aH.MULTIMEDIA_DEFAULT_IMAGE_HEIGHT}}var F,G=i(52754),z=i(566829),j=i(988013),X=i(492656),Y=i(809400),q=i(552946),J=i(820417),K=i(198213),Q=i(287727),Z=i(726625),$=i(849497),ee=i(700036),te=i(331547),ie=i(495176),ne=i(670563),re=i(630753),ae=i(580555),oe=i(672748),se=i(876505),le=i(654666),de=i(721503),ce=i(879052);!function(e){e[e.START=0]="START",e[e.RESET=1]="RESET"}(F||(F={}));class ue extends r.Component{constructor(e){super(e),this.viewTrackerStyle=[p.C1.absoluteOverlay,p.C1.flex],this.highlightsTitleTextStyle=[p.C1.margin_bottom_24,p.XT.fontMedium_24,p.XT.whiteText,p.XT.lineHeight_32],this.highlightsContenViewStyle=[p.C1.margin_top_24,p.C1.margin_left_16],this.highlightsItemKeyTextStyle=[p.XT.fontRegular_12,p.C1.margin_bottom_4,{color:ne.NO,maxWidth:104}],this.highlightsItemValueTextStyle=[p.XT.fontMedium_16,p.XT.whiteText],this.defaultGradient=[ne.hI.gradientBlackAlpha85,ne.hI.gradientBlackAlpha10],this.gradientStart="android"===a.Platform.OS?[0,1]:[0,0],this.highlightTitleWidth=150,this.highlightItemWidth=200,this.highlightDividerWidth=112,this.highlightDividerMargin=10,this.highlightDividerHeight=.5,this.adjustingTranslationFactor=50,this.overlayTrackerView=e=>{const t=le.A.createNewInstance(this.state.trackingParams,this.props.pageInfo?this.props.pageInfo.tabImpressionId:void 0);return t?r.createElement(se.A,{style:this.viewTrackerStyle,onViewAbilityEnded:this.onViewAbilityEnded,trackingInfo:t},e):e},this.onViewAbilityEnded=e=>{this.setState({uniqueViewId:(0,oe.KQ)()})},this._renderHighlightsContent=()=>{const e=this.props.imageHighlightsRC.value;if(!e)return null;const t=(e.highlightItems||[]).map(this._renderHighlightTrackerView),i=e.title,n=this._animatedValue.interpolate({inputRange:[0,1],outputRange:[-this.highlightTitleWidth,0],extrapolate:"clamp"}),o=this._animatedValue.interpolate({inputRange:[0,1],outputRange:[0,1]});return r.createElement(a.View,Object.assign({},(0,ce.Z)("Image_Highlights_Container"),{style:this.highlightsContenViewStyle}),r.createElement(a.Animated.View,{style:{transform:[{translateX:n}],opacity:o,maxWidth:this.highlightTitleWidth}},r.createElement(ie.A,{richTextData:i,numberOfLines:2,style:this.highlightsTitleTextStyle})),t)},this._renderHighlightTrackerView=(e,t)=>{const i=this._renderHighlightItem(e,t),n=ue.getTrackingParams(this.props,e.tracking);if(n){const e=this.state.trackingParams?this.state.trackingParams.getImpressionInfo():void 0,t=de.A.createNewInstance(this.state.uniqueViewId,n,e,this.props.pageInfo?this.props.pageInfo.tabImpressionId:void 0);if(t)return r.createElement(se.A,{trackingInfo:t},i)}return i},this._renderHighlightItem=(e,t)=>{var i,n;const o=-(this.highlightItemWidth+this.adjustingTranslationFactor),s=this._animatedValue.interpolate({inputRange:[0,t+1,t+2],outputRange:[o,o,0],extrapolate:"clamp"}),l=this._animatedValue.interpolate({inputRange:[0,t+1,t+2],outputRange:[0,1,1]}),d=this._animatedValue.interpolate({inputRange:[0,t+1,t+2],outputRange:[0,0,1]}),c=this._isLastHighlightIndex(t),u=null===(i=e.value)||void 0===i?void 0:i.title,h=null===(n=e.value)||void 0===n?void 0:n.subtitle;return u&&h?r.createElement(a.View,null,r.createElement(a.Animated.View,{style:{transform:[{translateX:s}],opacity:l,maxWidth:this.highlightItemWidth}},r.createElement(ie.A,{richTextData:u,numberOfLines:1,style:this.highlightsItemKeyTextStyle}),r.createElement(ie.A,{richTextData:h,numberOfLines:1,style:this.highlightsItemValueTextStyle})),c?null:r.createElement(a.Animated.View,{style:{opacity:d,maxWidth:this.highlightDividerWidth}},r.createElement(_.A,{heightVal:this.highlightDividerHeight,backgroundColor:P.jY,marginBottomVal:this.highlightDividerMargin,marginTopVal:this.highlightDividerMargin}))):null},this._isLastHighlightIndex=e=>{var t,i;return((null===(i=null===(t=this.props.imageHighlightsRC.value)||void 0===t?void 0:t.highlightItems)||void 0===i?void 0:i.length)||0)-1===e},this._animationHandler=(e,t)=>{var i,n;if(0===t&&!this.state.hasDoneAnimation){this._animatedValue.setValue(0);const t=1+((null===(n=null===(i=e.imageHighlightsRC.value)||void 0===i?void 0:i.highlightItems)||void 0===n?void 0:n.length)||0),r=130*t;this.setState({hasDoneAnimation:!0}),a.Animated.timing(this._animatedValue,{toValue:t,duration:r,useNativeDriver:!0,easing:a.Easing.linear}).start()}},this._animatedValue=new a.Animated.Value(0),this.state=this.getDerivedState(e,void 0)}getDerivedState(e,t){return t||{hasDoneAnimation:!1,uniqueViewId:(0,oe.KQ)(),trackingParams:ue.getTrackingParams(e,e.imageHighlightsRC.tracking)}}static getTrackingParams(e,t){return t&&new ae.Ay(t,e.pageInfo?e.pageInfo.baseImpressionId:"")}render(){var e;const t=this._renderHighlightsContent(),i=null===(e=this.props.imageHighlightsRC.value)||void 0===e?void 0:e.gradient,n=i?[i.startBleedingColor,i.stopBleedingColor]:this.defaultGradient,o=r.createElement(re.N,{gradientColors:n,gradientStart:this.gradientStart,gradientEnd:te._.RIGHT,content:t});return r.createElement(a.View,null,this.props.content,this.overlayTrackerView(o))}componentDidMount(){this._animationHandler(this.props,this.props.animationState)}componentDidUpdate(e){this._animationHandler(this.props,this.props.animationState)}startAnimation(){this._animationHandler(this.props,0)}}var he=i(713505),pe=i(302019);const ge=pe.az.extendComponent({name:"ImageContainer",defaultProps:{alignItems:"center",justifyContent:"center",flex:1,position:"relative",bg:"common.white"}});class me extends X.A{constructor(e){var t;super(e),this.scrollViewProps={showsHorizontalScrollIndicator:!0,bounces:!0,persistentScrollbar:!0},this.imageWidthPercentage=.85,this.autoScrollToIndex=()=>{const e=this.props.multimediaWidgetData.autoScrollToIndex;!this.mediaCarouselImageClickIndex&&e&&(this._sneakCarouselTimeout=setTimeout((()=>{var t,i;this.autoScrolled=!0,null===(i=null===(t=this._carouselRef)||void 0===t?void 0:t.scrollToIndex)||void 0===i||i.call(t,e,!0,.3)}),this.scrollToIndexTimeInMs))},this.highlightViewAnimationCappping=()=>{var e;let t=200;return null===(e=this.props.multimediaWidgetData.multimediaComponents)||void 0===e||e.forEach((e=>{if(this.props.multimediaWidgetData.multimediaComponents&&(null==e?void 0:e.value)&&q.A.isHighlightsImageValue(e.value)){const i=this.props.multimediaWidgetData.multimediaComponents.indexOf(e);t=i*this._getImageWidth(this.props.layoutKey,this._deviceWidth)}})),t},this._onScroll=e=>{var t,i;const n=Math.round((null===(t=e.nativeEvent.layoutMeasurement)||void 0===t?void 0:t.width)+e.nativeEvent.contentOffset.x);n-120>=this.highlightViewAnimationLimit&&(null===(i=this._highlightsRefMap)||void 0===i||i.forEach(((e,t)=>{var i,n,r;null===(n=null===(i=this._highlightsRefMap)||void 0===i?void 0:i.get(t))||void 0===n||n.startAnimation(),null===(r=this._highlightsRefMap)||void 0===r||r.delete(t)})));const r=Math.round(n/this._deviceWidth)-1;if(this.state.selectedIndex!==r){const e=this.state.selectedIndex,t=r,i=this.autoScrolled&&this.props.multimediaWidgetData.autoScrollToIndex===t;this.props.onMediaSwipedTo&&this.props.onMediaSwipedTo(t,e,void 0,i,!0),this.setState({previousIndex:e,selectedIndex:t}),i&&(this.autoScrolled=!1)}},this._renderListItem=(e,t,i)=>{if(!t||!t.value)return null;if(z.A.isReviewMediaValue(t.value))return this._renderCarouselReviewItem(t.value);const n=t.value,o=n&&n.contentId,s=q.A.isYoutubeVideo(n),l=q.A.isFkVideo(n),d=q.A.isReviewImageBucket(n),c=q.A.isHighlightsImageValueLinks(n),u=q.A.isFeedsMediaValue(n),p=this._getImageWidth(this.props.layoutKey,this._deviceWidth),m=q.A.getCarouselImageHeight(this.props.multimediaWidgetData,this.props.layoutKey,i,p/this.imageWidthPercentage,this.props.viewType);let v=this._buildThumbnailUrl(s,l,n);const _=q.A._getEachBucketImageSize(m);let T,f=[];if(d&&(f=n.reviewImageBuckets,f&&f.length>3&&(f=f.slice(0,3)),"YOUTUBE"===n.source&&v)){const e=(0,Z.nj)(v);e&&(v=q.A.buildYoutubeImageUrl(e))}s&&(T=null==n?void 0:n.inlineVideoEnabled);const A=0===i&&this.props.autoZoomInAbValue,S=!s&&!T&&l&&!u,y=q.A.isMediaTypeBrandCertificate(n);return r.createElement(C.S,{onPress:this._onMediaClick,disableFeedback:!0,onPressParam:i},r.createElement(ge,{style:this.state.carouselItemHeightStyle,mr:1===this.imageWidthPercentage?"s0":"s4"},y?this._renderBrandCertificateView(n,m,p):d?r.createElement(pe.az,null,r.createElement(E.A,{source:v,style:j.p.sneakViewimageStyling,height:m,width:p,blurRadius:20}),r.createElement(a.View,{style:[j.p.overlayStyle,j.p.opaqueStyle,{width:p,height:m}]})):s&&T?r.createElement($.A,{videoId:o,url:v,mediaWidth:p,mediaHeight:m,mediaValue:n,onChangeState:this._onChangeState,impressionId:this.getFetchId(),position:i}):A?this._renderAnimatedImageView(v,p,m):c?this._renderImageHighlightView(t,v,m,p,i):u?this._renderVideo(t,p,m,i):this._renderImageView(t,v,m,p,i),(s&&!T||S)&&r.createElement(a.Image,{style:g.M1.videoPlayButton,source:{uri:h.videoPlayButton}}),d?r.createElement(a.View,{style:j.p.reviewBucketImages},f&&f.map(((e,t)=>{const i=r.createElement(J.A,{key:`reviewBucket_${t}`,index:t,eachBucketHeight:_,bucket:e,noOfCohorts:f?f.length:0,actionDispatcher:this.props.actionDispatcher,trackReviewBucketClick:this.props.trackReviewBucketClick});let n;if(e.action&&this.props.getTrackingParams&&this.props.getContentViewTrackingData){const t=this.props.getTrackingParams(e.action.tracking);n=this.props.getContentViewTrackingData(t)}return n?r.createElement(K.BA,{trackingInfo:n},i):i}))):null))},this._calculateDimensions=(e,t,i)=>{const n=this._getImageWidth(this.props.layoutKey,this._deviceWidth);return{width:n,height:q.A.getCarouselImageHeight(this.props.multimediaWidgetData,this.props.layoutKey,i||0,n/this.imageWidthPercentage,this.props.viewType)}},this._getImageWidth=(e,t)=>t*this.imageWidthPercentage,this._renderImageView=(e,t,i,n,a)=>{const o=e.value;if(!o)return null;const s=r.createElement(E.A,{source:t,height:i,width:n,dimensionCache:this.props.imageDimensionCache});if(q.A.isHighlightsImageValue(o)){const t=1;return r.createElement(ue,{ref:e=>{this._highlightsRefMap.set(a,e)},pageInfo:this.props.pageInfo,height:i,width:n,content:s,imageHighlightsRC:e,animationState:t})}return this._highlightsRefMap.delete(a),s},this._renderImageHighlightView=(e,t,i,n,a)=>{const o=e.value;if(!o)return null;const s=r.createElement(E.A,{source:t,style:j.p.imageStyling,height:i,width:n,dimensionCache:this.props.imageDimensionCache,progressive:!0});if(q.A.isHighlightsImageValueLinks(o)){const t=a===this.state.selectedIndex?0:1;return r.createElement(he.B,{ref:e=>{this._highlightsRefMap.set(a,e)},pageInfo:this.props.pageInfo,height:i,width:n,content:s,imageHighlightsRC:e,animationState:t,actionDispatcher:this.props.actionDispatcher,trackDiscoveryContentClickEvent:this.props.trackDiscoveryContentClickEvent})}return this._highlightsRefMap.delete(a),s},this.horizontalViewContainerStyle=[this.state.carouselItemHeightStyle,{width:this.props.width}],this.mediaCarouselImageClickIndex=ee.A.getNumber(this.props.productId||"")||0,this.imageWidthPercentage=1===(null===(t=e.multimediaWidgetData.multimediaComponents)||void 0===t?void 0:t.length)?1:this.imageWidthPercentage,this.highlightViewAnimationLimit=this.highlightViewAnimationCappping()}componentDidMount(){this.autoScrollToIndex()}componentWillUnmount(){this._sneakCarouselTimeout&&clearTimeout(this._sneakCarouselTimeout)}render(){const e=this.props.multimediaWidgetData.multimediaComponents;if(e)return r.createElement(pe.fI,null,r.createElement(pe.az,{marginTop:this._layoutKey&&this._layoutKey===Q.I.MOBILE?"s5":void 0},r.createElement(Y.E,{ref:this._setCarouselRef,containerStyle:this.horizontalViewContainerStyle,disableRecycling:!0,calculateDimensions:this._calculateDimensions,data:e,renderItem:this._renderListItem,forceNonDeterministicRendering:!0,onScroll:this._onScroll,scrollViewProps:this.scrollViewProps,initialRenderIndex:this.mediaCarouselImageClickIndex})))}}class ve extends z.A{constructor(){super(...arguments),this.carouselContainerStyle={marginBottom:8}}getMediaCarouselComponent(){return me}showPageIndicator(e){return!1}}var _e=i(787921),Ce=i(678067),Ee=i(398581),Te=i(561310),fe=i(547134);const Ae=a.StyleSheet.create({gradientStyle:{position:"absolute",bottom:0,height:78,width:"100%"},playButtonStyle:{position:"absolute",bottom:74}}),Se={font:"m_medium",color:"common.white"},ye={font:"s",marginLeft:"s2",color:"common.white"},we=pe.az.extendComponent({name:"SingleVideoContainer",defaultProps:{alignItems:"center",justifyContent:"center",position:"relative",marginRight:"s4",borderRadius:8,borderColor:P.V9u.mecuryGrey,borderWidth:1,overflow:"hidden"}}),Ie=pe.az.extendComponent({name:"VideoDetailsContainer",defaultProps:{paddingHorizontal:"s5",paddingVertical:"s5",justifyContent:"flex-end",height:78}});class be extends D.A{constructor(){super(...arguments),this.LISTVIEW_ITEM_WIDTH=308,this.ITEM_HEIGHT=168,this.THUMBNAIL_WIDTH=300,this.containerStyle={height:168},this._calculateDimensions=()=>({width:this.LISTVIEW_ITEM_WIDTH,height:this.ITEM_HEIGHT}),this._renderItem=(e,t,i)=>{var n,a;if(!t||!t.value)return null;const o=t.value,s=q.A.isYoutubeVideo(o),l=q.A.isFkVideo(o);let d=this._buildThumbnailUrl(s,l,o);const c=o.mediaTitle,u=o.brand,h=o.logo;if("FeedsMediaValue"===t.value.type){const e=t.value;d=null===(a=null===(n=null==e?void 0:e.mediaValue)||void 0===n?void 0:n.thumbnail)||void 0===a?void 0:a.dynamicImageUrl}if("ReviewVideo"===t.value.type){d=t.value.primaryImage.dynamicImageUrl}const p=r.createElement(we,null,this._renderThumbnail(d,this.ITEM_HEIGHT,this.THUMBNAIL_WIDTH),this._renderPlayButton(),r.createElement(Ee.W,{gradientStart:te._.TOP,gradientEnd:te._.BOTTOM,style:Ae.gradientStyle,gradientColors:be.GRADIENT_COLORS,locations:be.GRADIENT_LOCATIONS,renderInWeb:!0},this._renderVideoDetails(c,h,u)));if(t.tracking){const e=this.getTrackingInfo(t.tracking);return r.createElement(C.S,{onPress:this._onMediaClicked,onPressParam:t},r.createElement(se.A,{trackingInfo:e},p))}return r.createElement(C.S,{onPress:this._onMediaClicked,onPressParam:t},p)},this._renderVideoDetails=(e,t,i)=>r.createElement(Ie,null,e?r.createElement(pe.JU,Object.assign({},Se),e):null,r.createElement(pe.fI,{justifyContent:"space-between",marginTop:"s2"},r.createElement(pe.fI,{alignItems:"center"},t?r.createElement(E.A,{source:t,height:14,width:14}):null,i?r.createElement(pe.JU,Object.assign({},ye),i):null))),this._renderPlayButton=()=>r.createElement(E.A,{width:40,height:40,style:Ae.playButtonStyle,source:h.videoPlayButtonWhite}),this._onMediaClicked=(e,t)=>{var i,n,r;const a=null==t?void 0:t.value,o=null==t?void 0:t.action;if(a){if(this.trackDiscoveryContentClickEvent(null==t?void 0:t.tracking),"ReviewVideo"===a.type&&o){const e=Object.assign(Object.assign({},o),{params:Object.assign(Object.assign({},o.params),{pageKey:o.params.videoId,SELECTED_PAGE_ID:o.url})});return void this.dispatchAction(_e.A.MAPI_ACTION,new d.rs(e))}if("FeedsMediaValue"===a.type){const e=null==t?void 0:t.value,a={mediaValue:{value:e}},o=this.props.appContext.uiContext.windowFrame.width,s=(null===(i=null==e?void 0:e.mediaValue)||void 0===i?void 0:i.aspectRatio)?o*e.mediaValue.aspectRatio:0,l={modalType:"POPUP",widgetType:fe.A.EXPERT_REVIEW_VIDEO,widgetData:a,scrollable:!1,disableSwipeToClose:!0,bounces:!1,modalStyle:{height:s},backdropOpacity:1},d=new Te.iM(Te.xH.OPEN_MODAL,l);return void(null===(r=(n=this.props).actionDispatcher)||void 0===r||r.call(n,d))}const e=D.A.isYoutubeVideo(a),s=q.A.isFkVideo(a);e?this.handleYoutubeVideoClick(a.contentId,a.url,a.source,0):s&&this.props.actionDispatcher&&o&&this.dispatchAction(_e.A.MAPI_ACTION,new d.Oy(o))}},this._renderThumbnail=(e,t,i)=>r.createElement(E.A,{resizeMode:"cover",roundedCorner:8,source:e,height:t,width:i,dimensionCache:this.cache}),this._buildThumbnailUrl=(e,t,i)=>e?q.A.buildYoutubeImageUrl(i.contentId):t?q.A.buildFkVideoThumbnailUrl(i):i.url}static getWidgetHeight(e){const t=D.A.getMultiMediaWidgetDataFromProps(e),i=null==t?void 0:t.multimediaComponents;return i&&0!==i.length?184+T.A.getAdditionalHeight(e):0}renderWidget(){const e=D.A.getMultiMediaWidgetDataFromProps(this.props),t=null==e?void 0:e.multimediaComponents;if(t&&0!==t.length)return r.createElement(pe.az,{paddingBottom:"s8"},r.createElement(Ce.E,{calculateDimensions:this._calculateDimensions,data:t,renderItem:this._renderItem,viewStyle:p.C1.padding16H,containerStyle:this.containerStyle}))}isHeaderBottomBorderEnabled(){return!1}}be.GRADIENT_COLORS=[P.hIQ.gradientBlackNoOpactity,P.hIQ.gradientBlackOpactity59,P.hIQ.gradientBlackFullOpactity],be.GRADIENT_LOCATIONS=[0,.3603,1];class De extends n.A{getWidgetClass(e){switch(De.getViewType(e)){case"LoadingStateLifestyle":default:return B;case"ELONGATED_IMAGE":case"LoadingStateFurniture":case"Carousal":return z.A;case"VIDEO_CAROUSAL":return be;case"LoadingStateDefaultNew":case"MULTIMEDIA_DEFAULT":return U;case"IMAGE_GALLERY_SNEAK_VIEW":return ve}}getWidgetHeight(e){switch(De.getViewType(e)){case"LoadingStateLifestyle":default:return B.getWidgetHeight(e);case"ELONGATED_IMAGE":case"LoadingStateFurniture":case"Carousal":return z.A.getWidgetHeight(e);case"VIDEO_CAROUSAL":return be.getWidgetHeight(e);case"LoadingStateDefaultNew":case"MULTIMEDIA_DEFAULT":return U.getWidgetHeight(e)}}static getViewType(e){const t=(0,G.nS)(e.widgetSlotData);return t?t.viewType:void 0}}},145210:(e,t,i)=>{"use strict";i.d(t,{V:()=>f,z:()=>v});var n=i(296540),r=i(877293),a=i(479892),o=i(352254),s=i(492418),l=i(239814),d=i(420721),c=i(410752),u=i(495176);const h=[a.XT.lightGreyText,a.XT.fontRegular_12,a.C1.flex],p=[a.C1.absolute_bottom_position,a.C1.absolute_bottom_20,a.C1.absolute_right_16],g=[a.C1.row,a.C1.padding24],m=[a.C1.padding_right_16,a.C1.flex],v=e=>{var t,i,s,d,c,u;if(void 0===e.productSummaryMinValue)return null;const v=null===(i=null===(t=e.productSummaryMinValue.media)||void 0===t?void 0:t.images)||void 0===i?void 0:i[0].url,_=null===(s=e.productSummaryMinValue.titles)||void 0===s?void 0:s.title,C=null===(d=e.productSummaryMinValue.titles)||void 0===d?void 0:d.subtitle,{price:E,cartQuantity:T,listingId:A}=e.productSummaryMinValue,S=[a.C1.margin_bottom_2,a.XT.lineHeight_20,a.C1.shrinkContent,C?{}:a.C1.flex];return v&&_?n.createElement(r.View,null,n.createElement(r.View,{style:g},n.createElement(o.A,{source:v,style:a.C1.margin_right_16,width:72,height:72}),n.createElement(r.View,{style:m},_?n.createElement(r.Text,{style:S},_):null,C?n.createElement(r.Text,{style:h},C):null,E?n.createElement(f,{price:E,locale:e.locale}):null)),e.productSummaryMinValue.productAction?n.createElement(r.View,{style:p},n.createElement(l.A,{tracking:null===(u=null===(c=e.productSummaryMinValue.productAction)||void 0===c?void 0:c.action)||void 0===u?void 0:u.tracking,uniqueViewId:e.uniqueViewId,trackDGEvent:e.trackDGEvent,cartQuantity:T,selectedLid:A,productId:e.productSummaryMinValue.id,dispatchAction:e.dispatchAction,triggerOmnitureCall:e.triggerOmnitureCall})):null):null},_=[a.XT.fontMedium_16,a.C1.margin_right_6,a.XT.lineHeight_24],C=[a.XT.lineThroughGray,a.XT.fontRegular_12,a.C1.margin_right_6,a.XT.lightGreyText],E=[a.XT.fontMedium_12,a.XT.whiteText],T=[a.C1.border_radius_2,a.C1.padding2V_6H,a.C1.backgroundEmeraldGreen],f=e=>void 0===e.price?null:n.createElement(r.View,{style:a.C1.rowCenter},e.price.displayPrice?n.createElement(u.A,{text:`${s.y3o}${e.price.displayPrice}`,style:_}):null,e.price.strikeOffPrice?n.createElement(u.A,{text:`${e.price.strikeOffPrice}`,style:C}):null,e.price.discountPercentage?n.createElement(r.View,{style:T},n.createElement(u.A,{text:`${e.price.discountPercentage}${(0,d.ak)(e.locale,{id:c.H.rex_string_Off_With_Percent})}`,style:E})):null)},147396:(e,t,i)=>{"use strict";i.d(t,{A:()=>c,A9:()=>g,EL:()=>o,Hj:()=>l,eb:()=>h,kj:()=>m,oN:()=>s,sx:()=>p,xU:()=>a,zL:()=>_,zT:()=>v,zh:()=>d,zl:()=>u});var n=i(302019);const r=n.JU.extendComponent({name:"NoFontPadding",defaultProps:{includeFontPadding:!1}}),a=n.fv.extendComponent({name:"SellerWidgetContainer",defaultProps:{p:"s6"}}),o=r.extendComponent({name:"SellerWidgetHeaderText",defaultProps:({labelColor:e})=>({mb:"s6",font:"m_medium",numberOfLines:1,color:e||"common.black"})}),s=n.fI.extendComponent({name:"SellerWidgetNameContainer",defaultProps:{mb:"s6",flexShrink:1,flexWrap:"wrap",alignItems:"center"}}),l=n.fv.extendComponent({name:"SellerNameWithTagRatingContainer",defaultProps:{mb:"s4"}}),d=r.extendComponent({name:"SellerWidgetSoldByText",defaultProps:{font:"m",alignSelf:"center",textAlignVertical:"center"}}),c=r.extendComponent({name:"RevampedSellerNameText",defaultProps:{mr:"s4",font:"m_medium",numberOfLines:1,alignSelf:"center",color:"raw.blue.500",textAlignVertical:"center"}}),u=r.extendComponent({name:"RevampedSellerNameText",defaultProps:{mr:"s4",font:"m_medium",numberOfLines:1,alignSelf:"center",color:"black",textAlignVertical:"center"}}),h=c.extendComponent({name:"SellerNameText",defaultProps:{mr:"s4"}}),p=r.extendComponent({name:"TagText",defaultProps:{font:"s_medium",numberOfLines:1,textAlign:"left",alignSelf:"center",color:"raw.grey.300",textAlignVertical:"center"}}),g=n.fI.extendComponent({name:"SellerTextContainer",defaultProps:{alignItems:"center"}}),m=n.JU.extendComponent({name:"CalloutV2Text",defaultProps:({labelColor:e})=>({mb:"s4",font:"m_medium",color:e||"raw.grey.900"})}),v=(n.fI.extendComponent({name:"PPSellerDetailsContainer",defaultProps:{mb:"s4",mt:"s0",font:"m",flexShrink:1,alignItems:"center",flexWrap:"wrap"}}),n.JU.extendComponent({name:"PPSellerDetailsText",defaultProps:{font:"s_medium",color:"common.black"}}),n.fI.extendComponent({name:"BrandCalloutContainer",defaultProps:{height:36,alignItems:"center",justifyContent:"flex-start",borderRadius:4,px:"s3",bg:"raw.blue.50"}})),_=n.JU.extendComponent({name:"BrandCalloutText",defaultProps:{font:"s",textAlign:"center",mx:"s3",includeFontPadding:!1}})},152021:(e,t,i)=>{"use strict";i.d(t,{e:()=>a});var n=i(500331),r=i(787921);class a extends n.Q8{constructor(e,t,i){super(t,i),this.type=r.A.UPDATE_RECENTLY_VIEW,this.actionMeta=e}}},157421:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>p});var n=i(9461),r=i(561310),a=i(968655),o=i(787921),s=i(52754),l=i(146387),d=i(927443),c=i(492418),u=i(877293),h=i(479892);class p{constructor(){this._hideModal=(e,t,i,n)=>{var r,a,d;if(!t||!t.modalProps)return!1;const c=Object.assign({},t.modalProps),u={type:o.A.CHANGE_MODAL_STATE,payload:{modalProps:c}};if(c.modalState="CLOSE",e.payload&&(c.animationOutTiming=e.payload.animationOutTiming,c.onClosed=e.payload.onClosed,c.animationOut=e.payload.animationOut),i(u),n){const e=null===(r=c.modalContent)||void 0===r?void 0:r.widgetProps.index,{behaviour:n,rowId:o}=null!==(d=null===(a=c.modalContent)||void 0===a?void 0:a.widgetProps.widgetSlotData)&&void 0!==d?d:{};if(void 0!==e&&void 0!==n&&void 0!==o&&t.widgetsData){const r=(0,s.fx)(e,n,t.widgetsData),a=null==r?void 0:r.slotData.widget;a&&i(new l.w9(new l._D(a,e,n,o)))}}return!0}}handleAction(e,t,i){var s,l;const d=e=>{(0,r.Iw)(e.payload)&&i(new r.iM(r.xH.CLOSE_MODAL)),i(e)};let c;if(e instanceof r.iM){switch(e.modalActionType){case r.xH.UPDATE_MODAL:case r.xH.OPEN_MODAL:const p={themeContext:null===(s=null==t?void 0:t.pageDataResponse)||void 0===s?void 0:s.pageThemeContext};let g=e.payload;if(!g||!t)break;const m=n.E.getPageInfo({pageInstanceData:t.pageInstanceData,pageDataResponse:t.pageDataResponse,pageMeta:t.pageMeta});if(c={modalType:g.modalType,modalRenderContent:g.modalRenderContent,modalState:"OPEN",scrollable:g.scrollable,matchParentWidth:g.matchParentWidth,disableHardwareBack:g.disableHardwareBack,disableSwipeToClose:g.disableSwipeToClose,backdropPressToClose:g.backdropPressToClose,uniqueId:g.uniqueId,appContext:t.appContext,modalStyle:g.modalStyle,bounces:g.bounces,stopImmediatePropagation:g.stopImmediatePropagation,contentMaxHeight:g.contentMaxHeight,onClosed:g.onClosed,useNativeDriver:g.useNativeDriver,handleKeyboard:g.handleKeyboard,useParentDimension:g.useParentDimension,disableBackdropPress:g.disableBackdropPress,propagateSwipe:g.propagateSwipe,backdropOpacity:g.backdropOpacity,backdropTransitionOutTiming:g.backdropTransitionOutTiming,onBackdropPress:g.onBackdropPress,backdropContent:g.backdropContent,animationIn:g.animationIn,animationOut:g.animationOut,disableBackButtonPress:g.disableBackButtonPress,statusBarOverride:g.statusBarOverride,hideModalContentWhileAnimating:g.hideModalContentWhileAnimating,backdropColor:g.backdropColor,statusBarTranslucent:g.statusBarTranslucent,animateOnContentChange:null===(l=g.bottomSheetBehaviour)||void 0===l?void 0:l.animateOnContentChange},this.isAtlasModal(g)&&(g=this.generateAtlasModalPayload(g),"web"!==u.Platform.OS&&"BOTTOM_SHEET"===c.modalType&&(c.modalStyle=[h.C1.absolute_bottom_minus20_left_minus22],c.matchParentWidth=!0)),g.widgetType&&g.widgetData){const e=(0,a.u)(g.widgetData,g.widgetType,g.widgetIndex,{appContext:t.appContext,pageInfo:m,actionDispatcher:d},g.tracking,g.modalHeader,g.widgetSharedData,g.viewType,p,g.widgetAttributes,g.widgetPosition,g.widgetRowId,g.widgetBehaviour,g.modalFooter,g.widgetLayoutParams,t.basketData);c.modalContent={widgetType:g.widgetType,widgetProps:e}}const v={type:o.A.CHANGE_MODAL_STATE,payload:{modalProps:c}};i(v);break;case r.xH.CLOSE_MODAL:if(!this._hideModal(e,t,i))return!0;break;case r.xH.CLEAR_MODAL_STATE:const _={type:o.A.CHANGE_MODAL_STATE};i(_);break;case r.xH.CLOSE_AND_DELETE_MODAL:if(!this._hideModal(e,t,i,!0))return!0;break;default:return!1}return!0}return!1}generateAtlasModalPayload(e){const t=(0,d.h2)(e),i=t.widgetData;return i.modalType=t.modalType,i.widgetData=i.data||{},i.onBackdropPress=t.onBackdropPress,i.widgetLayoutParams=t.widgetLayoutParams||{backgroundColor:c.hIQ.clearColor},i}isAtlasModal(e){const t=(e.widgetData||{}).widgetType||"";return"ATLAS_WIDGET"===t||"DLS_WIDGET"===t}}},158451:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ViewTypes:()=>c,default:()=>h});var n=i(465420),r=i(52754),a=i(347953),o=i(186430),s=i(47361),l=i(796671);const d=e=>{const t=(0,r.nS)(e.widgetSlotData),i=(0,r.KJ)(e.widgetSlotData),n=t&&t.data,a=n&&n.renderableComponents&&n.renderableComponents[0].value,o=a&&a.basketValue&&a.basketValue.value,d=null==a?void 0:a.d2rBasketOffer;return o&&o.basketValue>=0?d?"D2R_ONLY"===i?32:"D2R_REVAMPED_IN_BOTTOMBAR"===i||"D2R_REVAMPED"===i?l.default.getWidgetHeight(e):s.a.isPersistentBottomBarEnabledOnMinutes(e)?0:88:s.a.isPersistentBottomBarEnabledOnMinutes(e)?0:56:0};var c,u=i(60803);!function(e){e.HYPERLOCAL_V2_STICKY_BASKET="HYPERLOCAL_V2_STICKY_BASKET",e.D2R_ONLY="D2R_ONLY",e.FLIPKART_STICKY_BASKET_PP="FLIPKART_STICKY_BASKET_PP",e.STICKY_BASKET_CATEGORY_VIEW="STICKY_BASKET_CATEGORY_VIEW",e.FLIPKART_STICKY_BASKET="FLIPKART_STICKY_BASKET",e.D2R_REVAMPED="D2R_REVAMPED",e.D2R_REVAMPED_IN_BOTTOMBAR="D2R_REVAMPED_IN_BOTTOMBAR"}(c||(c={}));class h extends n.A{constructor(){super(...arguments),this.GHPDLSConversion=!!a.A.getExperimentValue("isGroceryDLSEnabled")}getWidgetClass(e){const t=d(e),n=(0,r.nS)(e.widgetSlotData),a=n&&n.data,s=a&&a.renderableComponents&&a.renderableComponents[0].value,l=(0,r.KJ)(e.widgetSlotData);if(null==s?void 0:s.d2rBasketOffer){const t=d(e);switch(l){case"HYPERLOCAL_V2_STICKY_BASKET":return o.Vy.getLoadable(t+"StickyBasketV3Widget",(0,u.Ay)({resolved:{},chunkName:()=>"StickyBasketV3Widget",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(71529).then(i.bind(i,742390)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>742390},{fallback:(0,o.zb)(t),resolveComponent:i=>(o.Vy.triggerLayout(e,t+"StickyBasketV3Widget"),i.default)}));case"STICKY_BASKET_CATEGORY_VIEW":return o.Vy.getLoadable(t+"StickyBasketWidgetRevamped",(0,u.Ay)({resolved:{},chunkName:()=>"StickyBasketWidgetRevamped",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(69236).then(i.bind(i,371521)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>371521},{fallback:(0,o.zb)(t),resolveComponent:i=>(o.Vy.triggerLayout(e,t+"StickyBasketWidgetRevamped"),i.default)}));case"FLIPKART_STICKY_BASKET_PP":return o.Vy.getLoadable(t+"BuyMoreSaveMoreStickyWidget",(0,u.Ay)({resolved:{},chunkName:()=>"BuyMoreSaveMoreStickyWidget",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(35623).then(i.bind(i,340844)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>340844},{fallback:(0,o.zb)(t),resolveComponent:i=>(o.Vy.triggerLayout(e,t+"BuyMoreSaveMoreStickyWidget"),i.default)}));case"FLIPKART_STICKY_BASKET":return o.Vy.getLoadable(t+"StickyBasketOLPWidget",(0,u.Ay)({resolved:{},chunkName:()=>"StickyBasketOLPWidget",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(40291).then(i.bind(i,667845)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>667845},{fallback:(0,o.zb)(t),resolveComponent:i=>(o.Vy.triggerLayout(e,t+"StickyBasketOLPWidget"),i.default)}));case"D2R_REVAMPED_IN_BOTTOMBAR":case"D2R_REVAMPED":return o.Vy.getLoadable(t+"D2RExtraSaverWidget",(0,u.Ay)({resolved:{},chunkName:()=>"D2RExtraSaverWidget",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>Promise.resolve().then(i.bind(i,796671)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>796671},{fallback:(0,o.zb)(t),resolveComponent:i=>(o.Vy.triggerLayout(e,t+"D2RExtraSaverWidget"),i.default)}));default:return this.GHPDLSConversion?o.Vy.getLoadable(t+"StickyBasketV2WidgetDls",(0,u.Ay)({resolved:{},chunkName:()=>"StickyBasketV2WidgetDls",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(9223).then(i.bind(i,400378)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>400378},{fallback:(0,o.zb)(t),resolveComponent:i=>(o.Vy.triggerLayout(e,t+"StickyBasketV2WidgetDls"),i.default)})):o.Vy.getLoadable(t+"StickyBasketV2Widget",(0,u.Ay)({resolved:{},chunkName:()=>"StickyBasketV2Widget",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(33572).then(i.bind(i,848681)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>848681},{fallback:(0,o.zb)(t),resolveComponent:i=>(o.Vy.triggerLayout(e,t+"StickyBasketV2Widget"),i.default)}))}}switch(l){case"FLIPKART_STICKY_BASKET":return o.Vy.getLoadable(t+"StickyBasketOLPWidget",(0,u.Ay)({resolved:{},chunkName:()=>"StickyBasketOLPWidget",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(40291).then(i.bind(i,667845)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>667845},{fallback:(0,o.zb)(t),resolveComponent:i=>(o.Vy.triggerLayout(e,t+"StickyBasketOLPWidget"),i.default)}));case"FLIPKART_STICKY_BASKET_PP":return o.Vy.getLoadable(t+"BuyMoreSaveMoreStickyWidget",(0,u.Ay)({resolved:{},chunkName:()=>"BuyMoreSaveMoreStickyWidget",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(35623).then(i.bind(i,340844)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>340844},{fallback:(0,o.zb)(t),resolveComponent:i=>(o.Vy.triggerLayout(e,t+"BuyMoreSaveMoreStickyWidget"),i.default)}));default:return this.GHPDLSConversion?o.Vy.getLoadable(t+"StickyBasketWidgetDls",(0,u.Ay)({resolved:{},chunkName:()=>"StickyBasketWidgetDls",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>Promise.resolve().then(i.bind(i,889050)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>889050},{fallback:(0,o.zb)(t),resolveComponent:i=>(o.Vy.triggerLayout(e,t+"StickyBasketWidgetDls"),i.default)})):o.Vy.getLoadable(t+"StickyBasketWidget",(0,u.Ay)({resolved:{},chunkName:()=>"StickyBasketWidget",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(52052).then(i.bind(i,314377)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>314377},{fallback:(0,o.zb)(t),resolveComponent:i=>(o.Vy.triggerLayout(e,t+"StickyBasketWidget"),i.default)}))}}getWidgetHeight(e){return d(e)}}},159907:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.encodeHTML5=t.encodeHTML4=t.escapeUTF8=t.escape=t.encodeNonAsciiHTML=t.encodeHTML=t.encodeXML=t.encode=t.decodeStrict=t.decode=void 0;var n=i(798845),r=i(246821);t.decode=function(e,t){return(!t||t<=0?n.decodeXML:n.decodeHTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?n.decodeXML:n.decodeHTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?r.encodeXML:r.encodeHTML)(e)};var a=i(246821);Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return a.encodeXML}}),Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return a.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return a.encodeNonAsciiHTML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return a.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return a.escapeUTF8}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return a.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return a.encodeHTML}});var o=i(798845);Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return o.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return o.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return o.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return o.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return o.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return o.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return o.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return o.decodeXML}})},165023:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n,r=i(633152);!function(e){e.STORE_UPDATED="STORE_UPDATED"}(n||(n={}));class a extends r.s{}const o=new a},167630:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ListingSwapWidgetViewTYpes:()=>m,default:()=>O});var n=i(465420),r=i(296540),a=i(438993),o=i(877293),s=i(52754),l=i(887261),d=i(492418),c=i(739251);const u=.85*o.Dimensions.get("window").width,h=o.StyleSheet.create({container:{borderRadius:2,width:u,maxWidth:c.ii},headerStyle:{paddingHorizontal:16,paddingTop:24},headerText:{fontSize:18,color:d.Jyk.black,fontFamily:l.$u},description:{color:d.Jyk.black,fontSize:14,marginLeft:16,marginRight:16,fontFamily:l.A$,marginTop:16},listview:{marginTop:18,minHeight:56,marginBottom:16},callOutsStyle:{marginHorizontal:16,marginBottom:24},horizontalSeparator:{width:"auto",height:2,backgroundColor:d.SGl},separator:{width:2,height:58,backgroundColor:d.SGl},buttonSeparator:{width:2,height:44,backgroundColor:d.SGl},defaultPaddingRowItem:{flex:1,marginRight:16,justifyContent:"center",alignItems:"center",marginLeft:24},rowItem:{flex:1,marginRight:16,justifyContent:"center",alignItems:"center"},deliveryStatus:{top:44,position:"absolute",backgroundColor:d.Jyk.white,borderRadius:2,height:16,width:56},deliveryStatusText:{fontSize:10,color:d.Jyk.deepRed,fontFamily:l.$u,includeFontPadding:!1,textAlign:"center"},buttonContainer:{flexDirection:"row",height:48,borderTopWidth:1,width:"100%",borderTopColor:d.V9u.linkWaterGrey},buttonWithBorderRight:{justifyContent:"center",alignItems:"center",flex:1,borderRightWidth:1,borderRightColor:d.V9u.linkWaterGrey},buttonStyle:{fontSize:14,fontFamily:l.$u},buttonTextStyle:{fontFamily:l.$u,includeFontPadding:!1,textAlign:"center",paddingHorizontal:10}});var p,g,m,v=i(352254),_=i(795492),C=i(479892),E=i(961028),T=i(229022),f=i(800683),A=i(561310),S=i(787921),y=i(914944),w=i(562236),I=i(395567),b=i(97529),D=i(311676),x=i(390437);!function(e){e.ITEM_WITH_DEFAULT_PADDING="ITEM_WITH_DEFAULT_PADDING",e.IMAGE_QUANTITY_ITEM="IMAGE_QUANTITY_ITEM",e.SWAP_NOT_POSSIBLE_VIEW="SWAP_NOT_POSSIBLE_VIEW",e.SWAP_POSSIBLE_VIEW="SWAP_POSSIBLE_VIEW"}(p||(p={})),function(e){e.CONTINUE_CLICK="CONTINUE_CLICK",e.CANCEL_CLICK_LISTING_SWAP_POPUP="CANCEL_CLICK_LISTING_SWAP_POPUP",e.CLEAR_BASKET_CLICK_LISTING_SWAP_POPUP="CLEAR_BASKET_CLICK_LISTING_SWAP_POPUP",e.CLEAR_BASKET_POPUP_SHOWN="HL:ClearBasket",e.CLEAR_BASKET_CLICK_CLEAR_BASKET_POPUP="CLEAR_BASKET_CLICK_CLEAR_BASKET_POPUP",e.CANCEL_CLICK_CLEAR_BASKET_POPUP="CANCEL_CLICK_CLEAR_BASKET_POPUP",e.LISTING_SWAP_POPUP_SHOWN="HL:ListingSwap"}(g||(g={}));class P extends a.A{constructor(){super(...arguments),this._verticalButtonContainerStyle=[h.buttonContainer,C.C1.justifyContentCenter,C.C1.alignItemsCenterFullWidth],this._dataProvider=new _.M9(((e,t)=>e!==t)),this._renderHorizontalButton=(e,t,i,n)=>r.createElement(o.View,{style:h.buttonContainer},e.map(((e,a)=>r.createElement(o.View,{style:0===a?h.buttonWithBorderRight:C.C1.contentAlignCenterWithFlex},r.createElement(T.A,{onPress:this._handleAction,onPressParam:this._ingestRedirectionAction(e.action,t,i,n),btnData:e,btnTextStyle:h.buttonTextStyle}))))),this._renderVerticalButton=(e,t,i,n)=>e.map((e=>r.createElement(o.View,{style:this._verticalButtonContainerStyle},r.createElement(T.A,{onPress:this._handleAction,onPressParam:this._ingestRedirectionAction(e.action,t,i,n),btnData:e,btnTextStyle:h.buttonTextStyle})))),this._ingestRedirectionAction=(e,t,i,n)=>(e&&(e=Object.assign(Object.assign({},e),{params:Object.assign(Object.assign({},e.params),{redirectionAction:t,onSuccess:i,pageUID:n})})),e),this._renderRow=(e,t)=>{var i;const n="ITEM_WITH_DEFAULT_PADDING"===e;return t.image&&t.image.dynamicImageUrl?r.createElement(o.View,{style:n?h.defaultPaddingRowItem:h.rowItem},r.createElement(v.A,{grayscaled:null===(i=t.image)||void 0===i?void 0:i.grayscaled,height:P._ITEM_IMAGE_SIZE,width:P._ITEM_IMAGE_SIZE,source:t.image.dynamicImageUrl}),t.text&&r.createElement(o.View,{style:h.deliveryStatus},r.createElement(o.Text,{style:h.deliveryStatusText},t.text))):null},this._handleAction=(e,t)=>{if(this.props.actionDispatcher){if(t&&t.type!==f.A.POPUP_DISMISS){const e={type:S.A.MAPI_ACTION,payload:new y.rs(t,this.props.index,this.props.widgetSlotData.behaviour,this.props.widgetSlotData.rowId)};this.props.actionDispatcher(e)}this.props.actionDispatcher(new A.iM(A.xH.CLOSE_MODAL)),this._trackListingSwapAction(t),t.params.pageUID&&w.e.goBack(t.params.pageUID),this._trackListingDWE(t.tracking.eventType)}},this._trackListingDWE=e=>{if(e)switch(e){case"CANCEL_CLICK_CLEAR_BASKET_POPUP":case"CANCEL_CLICK_LISTING_SWAP_POPUP":this.trackDiscoveryWidgetEngagementEvent(x.O.CANCEL_CLICK);break;case"CLEAR_BASKET_CLICK_LISTING_SWAP_POPUP":case"HL:ClearBasket":this.trackDiscoveryWidgetEngagementEvent(x.O.CLEAR_BASKET_CLICK);break;case"CONTINUE_CLICK":this.trackDiscoveryWidgetEngagementEvent(x.O.CONTINUE_CLICK)}},this._trackListingSwapAction=e=>{const t=a.A.getTrackingParams(this.props,e.tracking);this.trackOmnitureEvent(new I.FAj(t,b.A.LISTING_SWAP_POPUP))}}componentDidMount(){super.componentDidMount();const e=(0,s.nS)(this.props.widgetSlotData);if((null==e?void 0:e.tracking)&&this.props.actionDispatcher){const t=new D.MN7(e.tracking.impressionId,e.tracking.widgetKey);this.props.actionDispatcher(new D.ax6(t))}(null==e?void 0:e.tracking)&&this.trackOmnitureEvent(new I.kI0(null==e?void 0:e.tracking))}static getWidgetHeight(e){return 324+super.getAdditionalHeight(e)}renderWidget(){const e=(0,s.nS)(this.props.widgetSlotData),t=null==e?void 0:e.data,i=this._dataProvider.cloneWithRows((null==t?void 0:t.cartItems)||[],void 0);if(t)return r.createElement(o.View,{style:h.container},r.createElement(o.View,{style:h.headerStyle},r.createElement(o.Text,{style:h.headerText},t.title)),!!t.subtitle&&r.createElement(o.Text,{style:h.description},t.subtitle),t.cartItems&&t.cartItems.length>0&&r.createElement(_.PP,{showsHorizontalScrollIndicator:!1,isHorizontal:!0,style:h.listview,layoutProvider:P._layoutProvider,dataProvider:i,rowRenderer:this._renderRow}),(null==t?void 0:t.callouts)&&r.createElement(o.View,{style:h.callOutsStyle},E.A._renderTextComponent(null==t?void 0:t.callouts)),t.actions.length>2?this._renderVerticalButton(t.actions,t.redirectionAction,t.onSuccess,t.pageUID):this._renderHorizontalButton(t.actions,t.redirectionAction,t.onSuccess,t.pageUID))}}P._POPUP_ITEM_WIDTH=68,P._POPUP_ITEM_HEIGHT=56,P._ITEM_IMAGE_SIZE=56,P._POPUP_ITEM_WIDTH_WITH_PADDING=82,P._layoutProvider=new _.UY((e=>0===e?"ITEM_WITH_DEFAULT_PADDING":"IMAGE_QUANTITY_ITEM"),((e,t)=>{t.width="ITEM_WITH_DEFAULT_PADDING"===e?P._POPUP_ITEM_WIDTH_WITH_PADDING:P._POPUP_ITEM_WIDTH,t.height=P._POPUP_ITEM_HEIGHT})),function(e){e.SWAP_POSSIBLE_VIEW="SWAP_POSSIBLE_VIEW",e.SWAP_NOT_POSSIBLE_VIEW="SWAP_NOT_POSSIBLE_VIEW"}(m||(m={}));class O extends n.A{getWidgetClass(e){(0,s.KJ)(e.widgetSlotData);return P}getWidgetHeight(e){return P.getWidgetHeight(e)}}},167732:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>f});var n=i(465420),r=i(296540),a=i(716249),o=i(877293),s=i(387393),l=i(585603),d=i(39868),c=i(198213),u=i(479892),h=i(45426),p=i(52754),g=i(415283),m=i(914944),v=i(670563),_=i(347953),C=i(408791);const E=(0,s.A)(l.A,d.A);class T extends a.A{constructor(e){var t,i;super(e),this.recoHighlightsEnabled=!!_.A.getExperimentValue("recoHighlightsEnabled"),this.CHARTS_IMAGE_DIMENSION=this.recoHighlightsEnabled?32:24,this.LOTTIE_ANIMATION_DIMENSION=32,this._mainContainerStyle=[u.C1.rowSpaceBetween,u.C1.alignItemCenter,this.recoHighlightsEnabled?u.C1.padding_vertical_16:u.C1.padding_vertical_20],this._spotlightViewContainer=[u.C1.height_18,u.C1.margin_top_5],this._imageStyle=[u.C1.margin_right_24,u.C1.margin_left_4],this._iconImageStyle=this.recoHighlightsEnabled?u.C1.margin_horizontal_16:[u.C1.margin_top_2,u.C1.margin_horizontal_12],this.renderWidget=()=>{var e,t,i,n,a;const s=(0,p.xH)(this.props.widgetSlotData),l=null==s?void 0:s.banner,d=null==s?void 0:s.spotlight,u=null===(t=null===(e=null==s?void 0:s.secondaryImageData)||void 0===e?void 0:e.value)||void 0===t?void 0:t.dynamicImageUrl,g=null===(i=null==s?void 0:s.secondaryImageData)||void 0===i?void 0:i.action,m=null===(a=null===(n=null==s?void 0:s.animation)||void 0===n?void 0:n.value)||void 0===a?void 0:a.url;if(!(null==l?void 0:l.value))return;const{image:v,title:_}=l.value;return r.createElement(h.S,{onPress:this._onClick,onPressParam:g,disableFeedback:!0},r.createElement(o.View,null,!!d&&this._renderSpotlightView(d),r.createElement(o.View,{style:this._mainContainerStyle},r.createElement(o.View,{style:this._innerContainerStyle},m?r.createElement(C.n,{loop:!0,autoPlay:!0,speed:1,sourceUrl:m,style:{width:this.LOTTIE_ANIMATION_DIMENSION,height:this.LOTTIE_ANIMATION_DIMENSION}}):(null==v?void 0:v.dynamicImageUrl)&&r.createElement(c.Dk,{source:null==v?void 0:v.dynamicImageUrl,height:this.CHARTS_IMAGE_DIMENSION,width:this.CHARTS_IMAGE_DIMENSION,style:this._iconImageStyle}),r.createElement(o.Text,{style:this._titleTextStyle,numberOfLines:2},_)),r.createElement(c.Dk,{source:u,height:10,width:8,style:this._imageStyle}))))},this._renderSpotlightView=e=>{if(!e.value)return;const{text:t,animation:i,renderAttributes:n}=e.value;return t?r.createElement(o.View,{style:this._spotlightViewContainer},r.createElement(E,{text:t,style:u.C1.border_right_radius_4,background:(null==n?void 0:n.background)||v.Jy.hyperlocalGreen,animationStatus:!!i,themeContext:this.props.themeContext})):void 0},this._onClick=(e,t)=>{t&&(this.dispatchAction(g.Q3.MAPI_ACTION,new m.rs(t)),this.trackDiscoveryWidgetClickEvent(this.willCreateNewDwell(t)))};const n=(0,p.xH)(this.props.widgetSlotData),a=null===(i=null===(t=null==n?void 0:n.animation)||void 0===t?void 0:t.value)||void 0===i?void 0:i.url;this._titleTextStyle=[u.XT.fontMedium_14,u.C1.flex,u.XT.lineHeight_20,this.recoHighlightsEnabled&&u.C1.alignSelfCenter,!!a&&u.C1.margin_horizontal_16],this._innerContainerStyle=[u.C1.row,u.C1.alignItemFlexStart,!!a&&u.C1.padding_left_16]}static getWidgetHeight(e){return 80+a.A.getAdditionalHeight(e)}}class f extends n.A{getWidgetClass(e){return T}getWidgetHeight(e){return T.getWidgetHeight(e)}}},168425:(e,t,i)=>{"use strict";i.d(t,{A:()=>m});var n=i(296540),r=i(877293),a=i(347924),o=i(432880),s=i(285669),l=i(108936),d=i(681061),c=i(479892),u=i(564603),h=i(257246),p=i(354397),g=i(103041);class m extends d.A{constructor(){super(...arguments),this._addToCartButtonContainerStyleNew=[c.C1.justifyContentFlexEnd,c.C1.margin_horizontal_8],this._addToCartButtonStyleNew=[c.C1.contentSelfAlignStretch,c.C1.height_32,u.Fk.addToCartButtonStyle],this._addToCartButtonTextStyleNew=[c.XT.fontMedium_14,c.XT.blueText],this.TREND_MARKER_TAG_DEFAULT_WIDTH_NEW=67,this.IMAGE_DIMESIONS=100}renderPmuSingleCard(e){var t,i,a;if(!e)return;const o=this.getProductTitle(e),s=null===(i=null===(t=e.images)||void 0===t?void 0:t[0])||void 0===i?void 0:i.imageUrl,d=this.getCardStyle(e.adInfo),h=this.getContainerWithATCStyle(e.adInfo),p=this.getCardTitleStyle(),g=this.getTextMaxWidth(e.trendMarkerTag),m=null==e?void 0:e.productAction,v=this.isAddToCartAction(null==m?void 0:m.value),_=l.Ay.showNewDesignToImproveRecommendation?[{height:this.IMAGE_DIMESIONS},c.C1.margin_bottom_6,u.M5.imageMarginTop]:[{height:this.IMAGE_DIMESIONS},c.C1.margin_bottom_6],C=r.StyleSheet.flatten([d,v&&h,c.C1.height_full,c.C1.padding_top_4]);return n.createElement(r.View,{style:C},n.createElement(r.View,{onLayout:this.props.onChildrenLayout},this.renderDiscountBanner(e),n.createElement(r.View,{style:_},this.renderProductImage(s,this.IMAGE_DIMESIONS,this.IMAGE_DIMESIONS)),n.createElement(r.View,{style:this.textContainerStyle},o&&n.createElement(r.View,{style:this.customTitleStyle},this.renderProductTitle(o,p,g,null===(a=e.titles)||void 0===a?void 0:a.superTitle)),n.createElement(r.View,{style:[c.C1.margin_bottom_2,c.C1.margin_top_2]},this.renderProductPricingView(e)),n.createElement(r.View,{style:[this.rowParentStyle,c.C1.height_16,c.C1.margin_bottom_16]},this.renderRatingDetails(e)))),this.renderAddToCartButton(m,v),this.renderAddAction())}getProductTitle(e){const{titles:t}=e;if(!t)return;const{superTitle:i,newTitle:n,title:r}=t;return i&&n?n:r}getCardStyle(e){return l.Ay.showNewDesignToImproveRecommendation?e?null:[this.containerStyle,(0,h.No)(this.props.themeContext)]:[u.Fk.container,this.cardWidth,c.C1.padding_bottom_10]}getContainerWithATCStyle(e){return[this.containerUpdatedStyleNew,e&&c.C1.padding_bottom_10]}getCardTitleStyle(){return[u.Fk.title,(0,h.Qn)(this.props.themeContext)]}getTextMaxWidth(e){return e?this.pmuWidth-this.TREND_MARKER_TAG_DEFAULT_WIDTH_NEW-18:this.pmuWidth-16}isAddToCartAction(e){return!((null==e?void 0:e.actionType)!==p.Q.ADD_TO_CART||!e)}renderProductTitle(e,t,i,a){const o=l.Ay.showNewDesignToImproveRecommendation,s=this.props.isAdPositionChanged&&a,d=[a?t:o?s?t:[t,c.C1.margin_top_4]:[t,c.C1.margin_top_6],{maxWidth:i},this.productTitleStyle];return n.createElement(r.Text,{style:d,ellipsizeMode:"tail",numberOfLines:1},e)}renderRatingDetails(e){var t,i,r;const a=null===(t=null==e?void 0:e.rating)||void 0===t?void 0:t.count;if(!a)return;const o=null===(i=null==e?void 0:e.rating)||void 0===i?void 0:i.roundOffCount,s=null===(r=null==e?void 0:e.rating)||void 0===r?void 0:r.average;return n.createElement(n.Fragment,null,s&&s>=1&&s<=l.XG&&this.renderRating(s),a&&this.renderRatingCount(a,o))}renderAddToCartButton(e,t){var i;return t&&e?n.createElement(r.View,{style:this._addToCartButtonContainerStyleNew},n.createElement(o.A,{hitSlop:l.Ay.BUTTON_HIT_SLOP,isProductInCart:this.state.isProductInCart,data:e,containerStyle:[this._addToCartButtonStyleNew,(0,h.No)(this.props.themeContext)],textStyle:[this._addToCartButtonTextStyleNew,(0,h.z5)(this.props.themeContext)],actionTapped:this._actionTapped,addToCartText:null===(i=null==e?void 0:e.value)||void 0===i?void 0:i.text})):null}renderDiscountBanner(e){var t;const i=null===(t=null==e?void 0:e.tags)||void 0===t?void 0:t.find((e=>e.tagType===g.P.PRODUCT_LEVEL_BADGE));return n.createElement(n.Fragment,null,(null==i?void 0:i.text)&&n.createElement(a.fI,{position:"absolute",top:0,width:140,zIndex:2,bg:"raw.teal.100",ml:"s2",mr:"s2",borderRadius:2,justifyContent:"center"},n.createElement(a.JU,{font:"xs_sb",color:"raw.teal.800"},null==i?void 0:i.text)))}renderProductPricingView(e){const t=null==e?void 0:e.pricing;if(t)return n.createElement(s.A,{price:t,hideCNCInfo:!0,priceStyle:[c.XT.fontFamilyInterSemiBold_14,(0,h.Qn)(this.props.themeContext),c.XT.lineHeight_20],sellingPriceStyle:[u.fZ.strikeOutText,c.XT.fontFamilyInter_14,(0,h.oO)(this.props.themeContext),c.XT.lineHeight_20],hideDiscount:!0,discountStyle:null})}}},168773:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(52754),r=i(787921),a=i(1319),o=i(985234);class s{constructor(e){this.type=o.V.IS_EXPANDED,this.isExpanded=e}}var l=i(146387);class d{handleAction(e,t,i){if(e.type===r.A.EXPAND_ACTION)if(e.payload){const r=e.payload;switch(r.expandActionMeta.type){case a.J.ExpandProductPageTitle:case a.J.ExpandInlineFilters:case a.J.ExpandProductDescription:case a.J.ExpandPinCodeAddress:case a.J.ExpandProductOffersV2:case a.J.ExpandSellerInfo:case a.J.ExpandProductTDOffers:case a.J.ExpandSwatches:case a.J.ExpandFAQItem:case a.J.ExpandServiceDetails:case a.J.ExpandNEPAccordian:case a.J.ExpandEMIBankAccordian:case a.J.ExpandOffersTDAccordian:case a.J.ExpandPriceLineItem:case a.J.ExpandAspectRatingPillItems:case a.J.ExpandGenaiSummary:case a.J.ExpandSeoHeader:case a.J.ExpandJourneyWidget:if(t&&t.widgetsData){const e=(0,n.fx)(r.index,r.behaviour,t.widgetsData);e&&this._modifySlotData(e,r.index,i)}}}return!0}_modifySlotData(e,t,i){const n=!(e.transientData&&e.transientData.isExpanded),r=new s(n);i(new l.qM(new l.oX(r,t,e.behaviour,e.rowId)))}}},169211:(e,t,i)=>{"use strict";i.d(t,{S:()=>a});var n=i(257540),r=i(877293);class a extends n.D{getTappableContainer(){return this.props.disableFeedback||this.props.interactionType?r.TouchableWithoutFeedback:r.TouchableNativeFeedback}}},171313:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>k});var n=i(296540),r=i(877293),a=i(800303),o=i(50745),s=i(352254),l=i(868261),d=i(52754),c=i(415283),u=i(560203),h=i(813652),p=i(492418),g=i(848464),m=i(561310),v=i(45426),_=i(395567),C=i(479892),E=i(972904),T=i(872898),f=i(547134),A=i(968655),S=i(276408),y=i(521722),w=i(723372),I=i(410752),b=i(420721),D=i(914944),x=i(957775);class P extends E.A{constructor(){super(...arguments),this._knowMoreTextStyle=[{font:a.Font.regularSizeMediumWeight,color:a.Color.primary},C.jE.displayFlex,C._6.lineHeight_16,C.jE.padding_top_8],this._modalCallbacks={close:()=>{this.setState({tncModalState:"CLOSE"})},onClosed:()=>{}},this._renderOfferGroups=(e,t)=>n.createElement(a.DlsView,{style:o.Ys.offerContainer,key:`offer_list_${t}`},e&&e.groupAnnouncement&&n.createElement(a.DlsView,{style:o.Ys.productPricingHolder},e.groupAnnouncement.imageValue&&n.createElement(s.A,{style:o.Ys.offerSummaryImage,source:e.groupAnnouncement.imageValue.dynamicImageUrl?e.groupAnnouncement.imageValue.dynamicImageUrl:"",height:18,width:18}),e.groupAnnouncement.title&&n.createElement(a.Label,{style:o.Ys.headerTitleStyle,numberOfLines:2},e.groupAnnouncement.title)),n.createElement(u.A,{heightVal:1}),this._renderOfferInfo(e.offers)),this._getTncHeight=()=>{const e=f.A.STATIC_WEB_PAGE_MODAL,t=(0,A.u)(this.state.offerData,e,this.props.index,{appContext:this.props.appContext,pageInfo:this.props.pageInfo,actionDispatcher:this._dispatch});return S.c.getWidgetComponentHeight(e,t,{appContext:this.props.appContext,pageInfo:this.props.pageInfo})},this._renderOfferInfo=e=>{if(e)return e.map(((e,t)=>e&&e.value&&n.createElement(a.DlsView,null,n.createElement(a.DlsView,{style:o.Ys.offerInfoHolder,key:t},e.value.title&&n.createElement(a.ClampedLabel,{style:o.Ys.pricingOfferTitleStyle,ellipsizeMode:"tail",numberOfLines:2},e.value.title||""),e.value.tncDisplayName&&e.value.tncAvailable&&n.createElement(a.TappableLabel,{style:o.Ys.pricingTitleStyle,numberOfLines:2,onTextPress:this._tncClick,onPressParam:{action:e.action,index:t}},e.value.tncDisplayName)),n.createElement(u.A,{heightVal:1}))))},this._renderPricingSummary=e=>{const t=e&&e.value&&e.value.finalSavingsText,i=e&&e.value&&e.value.extraDiscount,r=e&&e.value&&e.value.mrp;if(!e||!e.value||!e.value.prices)return;const s=r&&p.y3o+r.decimalValue,l=e.value.prices.length,d=e&&e.value&&e.value.knowMore;return n.createElement(a.DlsView,null,r&&s&&this._renderSinglePriceSummary(r,o.Ys.pricingOfferTitleStyle,o.Ys.pricingTitleStyle),e.value.prices.map(((e,t)=>t!==l-1?e&&this._renderSinglePriceSummary(e,o.Ys.pricingOfferTitleStyle,o.Ys.pricingTitleStyle):n.createElement(a.DlsView,null,i&&this._renderSinglePriceSummary(i,o.Ys.pricingOfferTitleStyle,o.Ys.freeDeliveryStyle),n.createElement(a.DlsView,{style:o.Ys.line}),e&&this._renderSinglePriceSummary(e,o.Ys.finalPriceText,o.Ys.finalPricingTitleStyle)))),!!t&&n.createElement(a.DlsView,{style:o.Ys.line}),this._renderPartPriceInfo(e.value.partPriceInfo),this._renderFinalSavingsText(t,d))},this._closeModal=()=>{this.props.actionDispatcher&&this.props.actionDispatcher(new m.iM(m.xH.CLOSE_MODAL))},this._tncClick=(e,t)=>{t&&t.action&&t.action.params&&this._handleWebViewClick(t.action.params,t.index)},this._handleWebViewClick=(e,t)=>{if(!e)return;const i=e[P._KEY_OFFER_ID],n=e[P._KEY_URL];this.trackOmnitureEvent(new _.Car(i)),this._trackTncClick(i,t),this.dispatchAction(c.Q3.STATIC_WEB_PAGE_ACTION,new g.h(n,i,g.Q.TNC_WITHIN_ANOTHER_MODAL))},this._dispatch=e=>{e instanceof m.iM&&e.modalActionType===m.xH.CLOSE_MODAL&&"OPEN"===this.state.tncModalState?this.setState({tncModalState:"CLOSE"}):this.props.actionDispatcher&&this.props.actionDispatcher(e)},this._renderPlusPriceDescription=e=>{const t=e.length>0?e[0]:void 0;if(t)return n.createElement(a.DlsView,{style:P._PLUS_PRICE_CONTAINER_STYLE},n.createElement(w.A,{style:C.C1.margin12V_16H,messages:t.title,textDefaultStyle:P._PLUS_PRICE_DESCRIPTION_TITLE}),n.createElement(u.A,{heightVal:1}),n.createElement(w.A,{style:P._PLUS_PRICE_DESCRIPTION,messages:t,textDefaultStyle:P._PLUS_PRICE_DESCRIPTION_TEXT,useTextContainer:!0}))},this._renderPartPriceInfo=e=>{const t=e&&e.partPrices;if(t)return t.map((e=>this._renderSinglePartPrice(e,o.Ys.pricingOfferTitleStyle,o.Ys.pricingTitleStyle)))},this._handleKnowMoreAction=(e,t)=>{t&&(this.dispatchAction(c.Q3.MAPI_ACTION,new D.Oy(t)),this._closeModal())}}componentDidMount(){super.componentDidMount(),this.props.actionDispatcher&&(0,x.dispatchDgAction)(f.A.PRODUCT_PRICING_MODAL,this.props.actionDispatcher)}static getWidgetHeight(e){let t=202;const i=(0,d.nS)(e.widgetSlotData),n=i&&i.data,r=n&&n.summaryData,a=r&&r.pricing;return a&&a.value&&a.value.partPriceInfo&&a.value.partPriceInfo.partPrices&&a.value.partPriceInfo.partPrices.length>0&&(t+=32*a.value.partPriceInfo.partPrices.length),t}getDerivedState(e,t){const i=(0,d.nS)(e.widgetSlotData),n=i?i.data:void 0,r=n?n.offerData:void 0;return t?Object.assign(Object.assign({},super.getDerivedState(e,t)),{offerData:r,tncModalState:r?"OPEN":t.tncModalState}):Object.assign(Object.assign({},super.getDerivedState(e,t)),{tncModalState:"CLOSE",offerData:void 0})}shouldComponentUpdate(e,t,i){return this.state.tncModalState!==t.tncModalState||super.shouldComponentUpdate(e,t,i)}renderHeader(e){return n.createElement(a.DlsView,{style:[l.ux.pricingHeader,{marginTop:this.props.appContext.uiContext.getWindowSafeAreaInset().top}]},n.createElement(v.S,{onPress:this._closeModal,hitSlop:P._HIT_SLOP,disableFeedback:!0},n.createElement(a.DlsView,{style:C.jE.padding_5},n.createElement(s.A,{style:o.Ys.modalHeaderIcon,source:h.crossGrey,height:y.Gz,width:y.d$}))),n.createElement(a.Label,{style:o.Ys.pricingHeaderText},this.localize({id:I.H.rex_string_PRICE_DETAILS_OFFERS})))}renderWidget(){const e=(0,d.nS)(this.props.widgetSlotData),t=e&&e.data,i=t&&t.summaryData,s=i&&i.offerInfo,l=s&&s.value&&s.value.offerGroups,c=i&&i.pricing,h=c&&c.value&&c.value.priceDescriptions,p=this.props.appContext.uiContext.windowFrame.height-(this.props.appContext.uiContext.getWindowSafeAreaInset().top-y.v7),g=this._getTncHeight();return n.createElement(r.ScrollView,{style:[(0,a.getViewStyle)(C.jE.pageBackground),{maxHeight:p}]},n.createElement(a.DlsView,{style:o.Ys.pricingRootContainer},n.createElement(u.A,{heightVal:1}),n.createElement(a.DlsView,{style:o.Ys.pricingContainer},n.createElement(a.DlsView,{style:o.Ys.pricingSummary},this._renderPricingSummary(c)),h&&this._renderPlusPriceDescription(h),l&&l.map(this._renderOfferGroups))),n.createElement(T.A,{height:g||void 0,type:"TNC_BOTTOM_SHEET",scrollable:!1,disableSwipeToClose:!0,content:this._renderTncContent(),modalState:this.state.tncModalState,modalCallbacks:this._modalCallbacks}))}applyLayoutDetailsToWidget(e){return C.C1.backgroundClear}_renderTncContent(){if(!this.state.offerData)return;const e=f.A.STATIC_WEB_PAGE_MODAL,t=(0,d.nS)(this.props.widgetSlotData),i=t&&t.sharedData,n=(0,A.u)(this.state.offerData,e,this.props.index,{appContext:this.props.appContext,pageInfo:this.props.pageInfo,actionDispatcher:this._dispatch},void 0,i);return n?S.c.getWidgetComponent(e,n,{appContext:this.props.appContext,pageInfo:this.props.pageInfo}):null}_renderSinglePriceSummary(e,t,i){const r=e&&p.y3o+e.decimalValue;return e&&n.createElement(a.DlsView,{style:C.jE.padding_bottom_12},n.createElement(a.DlsView,{style:o.Ys.pricingHolder},!!e.name&&n.createElement(a.Label,{style:t,numberOfLines:2},e.name),!!e.decimalValue&&n.createElement(a.Label,{style:e.strikeOff?o.Ys.pricingStrikeOutTitleStyle:i},r)),!!e.additionalText&&n.createElement(a.Label,{style:o.Ys.pricingStrikeOutOfferTitleStyle},e.additionalText))}_renderSinglePartPrice(e,t,i){const r=p.y3o+e.price;return n.createElement(a.DlsView,{style:C.jE.padding_bottom_12},n.createElement(a.DlsView,{style:o.Ys.pricingHolder},n.createElement(a.Label,{style:t,numberOfLines:2},e.secondaryText),n.createElement(a.Label,{style:i},r)))}_renderFinalSavingsText(e,t){if(e)return n.createElement(a.DlsView,{style:[C.jE.nowrap,C.jE.row,C.jE.padding16H,C.jE.padding_bottom_20,C.jE.alignItemFlexStart]},n.createElement(a.Label,{style:[o.Ys.finalSavingText,C._6.alignTextTopVertical]},e),this._renderKnowMoreText(t))}_renderKnowMoreText(e){const t=e&&e.value&&e.value.title?` ${e.value.title}`:void 0,i=e&&e.action;if(t&&i)return n.createElement(v.S,{onPress:this._handleKnowMoreAction,onPressParam:i},n.createElement(a.Label,{style:this._knowMoreTextStyle},t))}}P.contextType=b.V8,P._KEY_URL="url",P._KEY_OFFER_ID="offerId",P._HIT_SLOP={top:10,bottom:10,right:10,left:10},P._PLUS_PRICE_CONTAINER_STYLE=[C.jE.elevatedBoxContainer,C.jE.margin_bottom_8,{backgroundColor:a.Color.white}],P._PLUS_PRICE_DESCRIPTION=[C.C1.margin_top_12,C.C1.margin_bottom_16,C.C1.margin_horizontal_16],P._PLUS_PRICE_DESCRIPTION_TITLE=[C.XT.fontRegular_14,{color:p.Jyk.lightBlack}],P._PLUS_PRICE_DESCRIPTION_TEXT=[C.XT.fontRegular_14];class O extends P{static getWidgetHeight(e){return 0}}var R=i(465420);class k extends R.A{getWidgetClass(e){return O}getWidgetHeight(e){return O.getWidgetHeight(e)}}},171670:(e,t,i)=>{e.exports=Ce;var n,r,a=i(872550),o=i(575176),s=i(339804),l=i(803704),d=0,c=d++,u=d++,h=d++,p=d++,g=d++,m=d++,v=d++,_=d++,C=d++,E=d++,T=d++,f=d++,A=d++,S=d++,y=d++,w=d++,I=d++,b=d++,D=d++,x=d++,P=d++,O=d++,R=d++,k=d++,V=d++,L=d++,M=d++,N=d++,H=d++,W=d++,B=d++,U=d++,F=d++,G=d++,z=d++,j=d++,X=d++,Y=d++,q=d++,J=d++,K=d++,Q=d++,Z=d++,$=d++,ee=d++,te=d++,ie=d++,ne=d++,re=d++,ae=d++,oe=d++,se=d++,le=d++,de=d++,ce=d++,ue=0,he=ue++,pe=ue++,ge=ue++;function me(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function ve(e,t,i){var n=e.toLowerCase();return e===n?function(e){e===n?this._state=t:(this._state=i,this._index--)}:function(r){r===n||r===e?this._state=t:(this._state=i,this._index--)}}function _e(e,t){var i=e.toLowerCase();return function(n){n===i||n===e?this._state=t:(this._state=h,this._index--)}}function Ce(e,t){this._state=c,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=c,this._special=he,this._cbs=t,this._running=!0,this._ended=!1,this._xmlMode=!(!e||!e.xmlMode),this._decodeEntities=!(!e||!e.decodeEntities)}Ce.prototype._stateText=function(e){"<"===e?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=u,this._sectionStart=this._index):this._decodeEntities&&this._special===he&&"&"===e&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=c,this._state=oe,this._sectionStart=this._index)},Ce.prototype._stateBeforeTagName=function(e){"/"===e?this._state=g:"<"===e?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===e||this._special!==he||me(e)?this._state=c:"!"===e?(this._state=y,this._sectionStart=this._index+1):"?"===e?(this._state=I,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==e&&"S"!==e?h:B,this._sectionStart=this._index)},Ce.prototype._stateInTagName=function(e){("/"===e||">"===e||me(e))&&(this._emitToken("onopentagname"),this._state=_,this._index--)},Ce.prototype._stateBeforeCloseingTagName=function(e){me(e)||(">"===e?this._state=c:this._special!==he?"s"===e||"S"===e?this._state=U:(this._state=c,this._index--):(this._state=m,this._sectionStart=this._index))},Ce.prototype._stateInCloseingTagName=function(e){(">"===e||me(e))&&(this._emitToken("onclosetag"),this._state=v,this._index--)},Ce.prototype._stateAfterCloseingTagName=function(e){">"===e&&(this._state=c,this._sectionStart=this._index+1)},Ce.prototype._stateBeforeAttributeName=function(e){">"===e?(this._cbs.onopentagend(),this._state=c,this._sectionStart=this._index+1):"/"===e?this._state=p:me(e)||(this._state=C,this._sectionStart=this._index)},Ce.prototype._stateInSelfClosingTag=function(e){">"===e?(this._cbs.onselfclosingtag(),this._state=c,this._sectionStart=this._index+1):me(e)||(this._state=_,this._index--)},Ce.prototype._stateInAttributeName=function(e){("="===e||"/"===e||">"===e||me(e))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=E,this._index--)},Ce.prototype._stateAfterAttributeName=function(e){"="===e?this._state=T:"/"===e||">"===e?(this._cbs.onattribend(),this._state=_,this._index--):me(e)||(this._cbs.onattribend(),this._state=C,this._sectionStart=this._index)},Ce.prototype._stateBeforeAttributeValue=function(e){'"'===e?(this._state=f,this._sectionStart=this._index+1):"'"===e?(this._state=A,this._sectionStart=this._index+1):me(e)||(this._state=S,this._sectionStart=this._index,this._index--)},Ce.prototype._stateInAttributeValueDoubleQuotes=function(e){'"'===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=_):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=oe,this._sectionStart=this._index)},Ce.prototype._stateInAttributeValueSingleQuotes=function(e){"'"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=_):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=oe,this._sectionStart=this._index)},Ce.prototype._stateInAttributeValueNoQuotes=function(e){me(e)||">"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=_,this._index--):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=oe,this._sectionStart=this._index)},Ce.prototype._stateBeforeDeclaration=function(e){this._state="["===e?O:"-"===e?b:w},Ce.prototype._stateInDeclaration=function(e){">"===e&&(this._cbs.ondeclaration(this._getSection()),this._state=c,this._sectionStart=this._index+1)},Ce.prototype._stateInProcessingInstruction=function(e){">"===e&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=c,this._sectionStart=this._index+1)},Ce.prototype._stateBeforeComment=function(e){"-"===e?(this._state=D,this._sectionStart=this._index+1):this._state=w},Ce.prototype._stateInComment=function(e){"-"===e&&(this._state=x)},Ce.prototype._stateAfterComment1=function(e){this._state="-"===e?P:D},Ce.prototype._stateAfterComment2=function(e){">"===e?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=c,this._sectionStart=this._index+1):"-"!==e&&(this._state=D)},Ce.prototype._stateBeforeCdata1=ve("C",R,w),Ce.prototype._stateBeforeCdata2=ve("D",k,w),Ce.prototype._stateBeforeCdata3=ve("A",V,w),Ce.prototype._stateBeforeCdata4=ve("T",L,w),Ce.prototype._stateBeforeCdata5=ve("A",M,w),Ce.prototype._stateBeforeCdata6=function(e){"["===e?(this._state=N,this._sectionStart=this._index+1):(this._state=w,this._index--)},Ce.prototype._stateInCdata=function(e){"]"===e&&(this._state=H)},Ce.prototype._stateAfterCdata1=(n="]",r=W,function(e){e===n&&(this._state=r)}),Ce.prototype._stateAfterCdata2=function(e){">"===e?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=c,this._sectionStart=this._index+1):"]"!==e&&(this._state=N)},Ce.prototype._stateBeforeSpecial=function(e){"c"===e||"C"===e?this._state=F:"t"===e||"T"===e?this._state=Z:(this._state=h,this._index--)},Ce.prototype._stateBeforeSpecialEnd=function(e){this._special!==pe||"c"!==e&&"C"!==e?this._special!==ge||"t"!==e&&"T"!==e?this._state=c:this._state=ie:this._state=Y},Ce.prototype._stateBeforeScript1=_e("R",G),Ce.prototype._stateBeforeScript2=_e("I",z),Ce.prototype._stateBeforeScript3=_e("P",j),Ce.prototype._stateBeforeScript4=_e("T",X),Ce.prototype._stateBeforeScript5=function(e){("/"===e||">"===e||me(e))&&(this._special=pe),this._state=h,this._index--},Ce.prototype._stateAfterScript1=ve("R",q,c),Ce.prototype._stateAfterScript2=ve("I",J,c),Ce.prototype._stateAfterScript3=ve("P",K,c),Ce.prototype._stateAfterScript4=ve("T",Q,c),Ce.prototype._stateAfterScript5=function(e){">"===e||me(e)?(this._special=he,this._state=m,this._sectionStart=this._index-6,this._index--):this._state=c},Ce.prototype._stateBeforeStyle1=_e("Y",$),Ce.prototype._stateBeforeStyle2=_e("L",ee),Ce.prototype._stateBeforeStyle3=_e("E",te),Ce.prototype._stateBeforeStyle4=function(e){("/"===e||">"===e||me(e))&&(this._special=ge),this._state=h,this._index--},Ce.prototype._stateAfterStyle1=ve("Y",ne,c),Ce.prototype._stateAfterStyle2=ve("L",re,c),Ce.prototype._stateAfterStyle3=ve("E",ae,c),Ce.prototype._stateAfterStyle4=function(e){">"===e||me(e)?(this._special=he,this._state=m,this._sectionStart=this._index-5,this._index--):this._state=c},Ce.prototype._stateBeforeEntity=ve("#",se,le),Ce.prototype._stateBeforeNumericEntity=ve("X",ce,de),Ce.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var e=this._buffer.substring(this._sectionStart+1,this._index),t=this._xmlMode?l:o;t.hasOwnProperty(e)&&(this._emitPartial(t[e]),this._sectionStart=this._index+1)}},Ce.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;for(t>6&&(t=6);t>=2;){var i=this._buffer.substr(e,t);if(s.hasOwnProperty(i))return this._emitPartial(s[i]),void(this._sectionStart+=t+1);t--}},Ce.prototype._stateInNamedEntity=function(e){";"===e?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(e<"a"||e>"z")&&(e<"A"||e>"Z")&&(e<"0"||e>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==c?"="!==e&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},Ce.prototype._decodeNumericEntity=function(e,t){var i=this._sectionStart+e;if(i!==this._index){var n=this._buffer.substring(i,this._index),r=parseInt(n,t);this._emitPartial(a(r)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},Ce.prototype._stateInNumericEntity=function(e){";"===e?(this._decodeNumericEntity(2,10),this._sectionStart++):(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},Ce.prototype._stateInHexEntity=function(e){";"===e?(this._decodeNumericEntity(3,16),this._sectionStart++):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},Ce.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===c?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},Ce.prototype.write=function(e){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=e,this._parse()},Ce.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var e=this._buffer.charAt(this._index);this._state===c?this._stateText(e):this._state===u?this._stateBeforeTagName(e):this._state===h?this._stateInTagName(e):this._state===g?this._stateBeforeCloseingTagName(e):this._state===m?this._stateInCloseingTagName(e):this._state===v?this._stateAfterCloseingTagName(e):this._state===p?this._stateInSelfClosingTag(e):this._state===_?this._stateBeforeAttributeName(e):this._state===C?this._stateInAttributeName(e):this._state===E?this._stateAfterAttributeName(e):this._state===T?this._stateBeforeAttributeValue(e):this._state===f?this._stateInAttributeValueDoubleQuotes(e):this._state===A?this._stateInAttributeValueSingleQuotes(e):this._state===S?this._stateInAttributeValueNoQuotes(e):this._state===y?this._stateBeforeDeclaration(e):this._state===w?this._stateInDeclaration(e):this._state===I?this._stateInProcessingInstruction(e):this._state===b?this._stateBeforeComment(e):this._state===D?this._stateInComment(e):this._state===x?this._stateAfterComment1(e):this._state===P?this._stateAfterComment2(e):this._state===O?this._stateBeforeCdata1(e):this._state===R?this._stateBeforeCdata2(e):this._state===k?this._stateBeforeCdata3(e):this._state===V?this._stateBeforeCdata4(e):this._state===L?this._stateBeforeCdata5(e):this._state===M?this._stateBeforeCdata6(e):this._state===N?this._stateInCdata(e):this._state===H?this._stateAfterCdata1(e):this._state===W?this._stateAfterCdata2(e):this._state===B?this._stateBeforeSpecial(e):this._state===U?this._stateBeforeSpecialEnd(e):this._state===F?this._stateBeforeScript1(e):this._state===G?this._stateBeforeScript2(e):this._state===z?this._stateBeforeScript3(e):this._state===j?this._stateBeforeScript4(e):this._state===X?this._stateBeforeScript5(e):this._state===Y?this._stateAfterScript1(e):this._state===q?this._stateAfterScript2(e):this._state===J?this._stateAfterScript3(e):this._state===K?this._stateAfterScript4(e):this._state===Q?this._stateAfterScript5(e):this._state===Z?this._stateBeforeStyle1(e):this._state===$?this._stateBeforeStyle2(e):this._state===ee?this._stateBeforeStyle3(e):this._state===te?this._stateBeforeStyle4(e):this._state===ie?this._stateAfterStyle1(e):this._state===ne?this._stateAfterStyle2(e):this._state===re?this._stateAfterStyle3(e):this._state===ae?this._stateAfterStyle4(e):this._state===oe?this._stateBeforeEntity(e):this._state===se?this._stateBeforeNumericEntity(e):this._state===le?this._stateInNamedEntity(e):this._state===de?this._stateInNumericEntity(e):this._state===ce?this._stateInHexEntity(e):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},Ce.prototype.pause=function(){this._running=!1},Ce.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},Ce.prototype.end=function(e){this._ended&&this._cbs.onerror(Error(".end() after done!")),e&&this.write(e),this._ended=!0,this._running&&this._finish()},Ce.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},Ce.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);this._state===N||this._state===H||this._state===W?this._cbs.oncdata(e):this._state===D||this._state===x||this._state===P?this._cbs.oncomment(e):this._state!==le||this._xmlMode?this._state!==de||this._xmlMode?this._state!==ce||this._xmlMode?this._state!==h&&this._state!==_&&this._state!==T&&this._state!==E&&this._state!==C&&this._state!==A&&this._state!==f&&this._state!==S&&this._state!==m&&this._cbs.ontext(e):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},Ce.prototype.reset=function(){Ce.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},Ce.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},Ce.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},Ce.prototype._emitToken=function(e){this._cbs[e](this._getSection()),this._sectionStart=-1},Ce.prototype._emitPartial=function(e){this._baseState!==c?this._cbs.onattribdata(e):this._cbs.ontext(e)}},172292:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(465420),r=i(731623);class a extends n.A{getWidgetClass(e){return r.A}getWidgetHeight(e,t){return r.A.getWidgetHeight(e)}}},176143:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(918210),r=i(90513),a=i(229833);class o{handleAction(e,t,i){const o=e.payload,s={};return s[r.Ay.EVAR20]=a.A.setRecommendationInfo(o.position,o.pageName,o.moduleName,void 0,o.analyticsData),n.A.addPageData(s),!0}}},176254:(e,t,i)=>{"use strict";i.d(t,{X:()=>T});var n=i(296540),r=i(877293),a=i(685847),o=i(352254),s=i(285669),l=i(643992),d=i(661677),c=i(88502),u=i(539517),h=i(814913),p=i(420721),g=i(479892),m=i(468248),v=i(22072),_=i(879052),C=i(492418);class E{constructor(e){const t=e.summaryValue;this.productSuperTitle=e.showSuperTitle?t&&t.titles&&t.titles.superTitle:void 0;const i=t&&t.titles&&(e.showSuperTitle&&t.titles.newTitle?t.titles.newTitle:t.titles.title);this.productTitle=i||"",this.finalImageURL=t&&t.images&&t.images[0]&&t.images[0].url?t.images[0].url:void 0,this.pricing=t&&t.pricing?t.pricing:void 0,this.showRatings=!e.hideRatings,this.ratingsValue=e.ratingValue,this.preOrderTag=this.pricing&&this.pricing.priceTags&&h.D.getPreOrderTag(this.pricing.priceTags),this.gbFlow=e.gbFlow}static isValid(e){return!!e.summaryValue}}class T extends n.PureComponent{constructor(){super(...arguments),this._renderPriceView=e=>this.props.isLiveStreamVariant?this._renderPriceViewLiveStream(e):n.createElement(s.A,{pricing:e.pricing,priceStyle:d.Gf.productPrize,sellingPriceStyle:d.Gf.sellingPrice,discountStyle:d.Gf.totalDiscount}),this._renderPriceViewLiveStream=e=>{var t,i,a,o,s;const l=null===(t=e.pricing)||void 0===t?void 0:t.totalDiscount,c=null===(a=null===(i=null==e?void 0:e.pricing)||void 0===i?void 0:i.mrp)||void 0===a?void 0:a.value,u=null===(s=null===(o=null==e?void 0:e.pricing)||void 0===o?void 0:o.finalPrice)||void 0===s?void 0:s.value;return n.createElement(r.View,{style:[d.Gf.liveStreamPricingContainer]},l&&n.createElement(r.Text,{style:d.Gf.liveStreamtotalDiscount},`-${l}${C.NPf}`),c&&n.createElement(r.Text,{style:d.Gf.liveStreamSellingPrice},C.y3o,c),u&&n.createElement(r.Text,{style:d.Gf.liveStreamDealPrize},C.y3o,u))},this._renderGroupBuyPriceView=e=>{var t,i;const c=(null===(t=e.pricing)||void 0===t?void 0:t.listingPriceType)===a.o.GROUP_BUY,u=(null===(i=e.pricing)||void 0===i?void 0:i.listingPriceType)===a.o.REGULAR;if(c)return n.createElement(l.A,{pricing:e.pricing});{if(!e.pricing)return null;const t=m.j.getRegularPriceTagSrc().uri,i=[g.C1.margin_left_4,g.C1.margin_top_neg_2];return n.createElement(r.View,{style:g.C1.row},n.createElement(s.A,{pricing:e.pricing,priceStyle:d.Gf.productPrize,sellingPriceStyle:d.Gf.sellingPrice,discountStyle:d.Gf.totalDiscount}),u&&n.createElement(o.A,{source:t,height:v.Lb,width:v.o2,style:i}))}}}static getHeight(){return 74+2*c.mX}render(){if(!E.isValid(this.props))return null;const e=new E(this.props);return n.createElement(r.View,Object.assign({},(0,_.Z)("Product_Summary_Swatch_Container"),{style:[c.f$.container,c.f$.liveStreamContainer]}),n.createElement(o.A,Object.assign({},(0,_.Z)("Product_Image"),{source:e.finalImageURL,height:74,width:74,style:c.f$.imageView,roundedCorner:this.props.isLiveStreamVariant?4:0})),n.createElement(r.View,{style:c.f$.productInfoContainer},this._renderSuperTitleAndTitle(e),e.showRatings&&n.createElement(u.i2,{rating:e.ratingsValue,countType:"ratings",parentStyle:c.f$.ratingsView,ratingCountStyle:c.f$.ratingCount}),this.props.gbFlow?this._renderGroupBuyPriceView(e):this._renderPriceView(e),e.preOrderTag&&h.D.addPreOrderTagView(e.preOrderTag,this.context.locale)))}_renderSuperTitleAndTitle(e){return n.createElement(n.Fragment,null,this.props.isLiveStreamVariant?n.createElement(r.View,{style:g.C1.margin_left_neg_8},e.productSuperTitle&&n.createElement(r.Text,Object.assign({},(0,_.Z)("Product_Super_Title"),{numberOfLines:1,style:c.f$.superTitleLiveStream}),e.productSuperTitle," ",n.createElement(r.Text,Object.assign({},(0,_.Z)("Product_Title"),{numberOfLines:1,style:c.f$.titleLiveStream}),e.productTitle))):n.createElement(n.Fragment,null,e.productSuperTitle&&n.createElement(r.Text,Object.assign({},(0,_.Z)("Product_Super_Title"),{numberOfLines:1,style:c.f$.superTitle}),e.productSuperTitle),n.createElement(r.Text,Object.assign({},(0,_.Z)("Product_Title"),{numberOfLines:1,style:c.f$.title}),e.productTitle)))}}T.contextType=p.V8},179975:(e,t,i)=>{"use strict";i.r(t),i.d(t,{NetEffectivePriceWidgetViewTypes:()=>Ee,default:()=>Te});var n=i(465420),r=i(296540),a=i(302019),o=i(415283),s=i(201159),l=i(972904),d=i(877293),c=i(479892),u=i(52754),h=i(914944),p=i(347953),g=i(607166),m=i(495176),v=i(950512),_=i(1319),C=i(270568),E=i(187551),T=i(723372),f=i(529980),A=i(204347),S=i(395567),y=i(558552),w=i(390437),I=i(727e3),b=i(257246),D=i(982561),x=i(352254),P=i(408791),O=i(45426),R=i(561310),k=i(547134),V=i(492418),L=i(398581),M=i(854131),N=i(879052),H=i(751398),W=i(146387),B=i(985234),U=i(711809),F=i(198213),G=i(654666),z=i(867953),j=i(57522);class X{constructor(e){this.type=j.j.STICKY_NEP_IS_HIDDEN,this.isHidden=e}}var Y=i(428604);const q="InsideEitherOR";class J extends l.A{constructor(e,t){var i,n,l,g,f,H,U,F,G;super(e,t),this.CHEVRON_IMAGE_DIMEN=14,this.headerTextDefaultStyle=[c.C1.margin_left_4],this.textDefaultStyle=[c.C1.padding_4],this.opacityTargetValues=[.5,0,0,1],this.diameterTargetValues=[2.6,3,1,1],this.durationValues=[500,500,600,1],this.delayValues=[1,1,1,300],this.easingValues=[d.Easing.out(d.Easing.ease),d.Easing.out(d.Easing.ease),d.Easing.in(d.Easing.ease),d.Easing.in(d.Easing.ease)],this.blinkAnimation=new d.Animated.Value(0),this.blinkDiameter=new d.Animated.Value(1),this.fadeViewAnimation=new d.Animated.Value(1),this.accordianClicked=!1,this.isNEPBottomsheet="NEP_BOTTOM_SHEET"===(null===(i=(0,u.nS)(this.props.widgetSlotData))||void 0===i?void 0:i.viewType),this.defaultGraphicSizeHeight=50,this.defaultGraphicSizeWidth=50,this._lottieRef=null,this._isWidgetinViewPort=()=>{var e;(null===(e=this.props)||void 0===e?void 0:e.actionDispatcher)&&this.props.actionDispatcher(new W.YI(new W.qF(j.j.STICKY_NEP_IS_HIDDEN,new X(!0))))},this._isWidgetOutOfViewport=()=>{var e;(null===(e=this.props)||void 0===e?void 0:e.actionDispatcher)&&this.props.actionDispatcher(new W.YI(new W.qF(j.j.STICKY_NEP_IS_HIDDEN,new X(!1))))},this.renderHeaderContent=(e,t)=>{const i=null==e?void 0:e.image,n=null==e?void 0:e.title,a=null==t?void 0:t.gradientColors;if(!a)return null;const o=null==t?void 0:t.locations,s=null==o?void 0:o.map(Number),l=null==t?void 0:t.gradientAngles,d=this.extractGradientAngles(l,0),c=this.extractGradientAngles(l,1);return r.createElement(L.W,{renderInWeb:!0,gradientColors:a,locations:s,gradientStart:d,gradientEnd:c},r.createElement(E.iV,null,i?r.createElement(x.A,{source:null==i?void 0:i.dynamicImageUrl,height:null==i?void 0:i.height,width:null==i?void 0:i.width}):null,n?r.createElement(M.A,{messages:n,style:this.headerTextDefaultStyle}):null))},this.extractGradientAngles=(e,t)=>{var i,n;const r=null==e?void 0:e[t];return[null!==(i=null==r?void 0:r.x)&&void 0!==i?i:0,null!==(n=null==r?void 0:r.y)&&void 0!==n?n:0]},this._getAnimation=(e,t)=>{const i=[];for(let n=0;n<this.durationValues.length;n++)i.push(d.Animated.timing(e,{toValue:t[n],duration:this.durationValues[n],easing:this.easingValues[n],delay:this.delayValues[n],useNativeDriver:!0}));return i},this.renderTitle=(e,t,i,n)=>{var o,s,l,h,g,v,_,C,f,S,y,w,x,P,O,R,k,V,L,M,H,W;const B=!0,U=(0,u.xH)(this.props.widgetSlotData),F=null==U?void 0:U.wowTag,G=!!p.A.getExperimentValue("nepRevampV2Enabled"),z=F?"s0":"s3",j=this.isNEPBottomsheet?"raw.green.800":"raw.grey.400",X=null==e?void 0:e.data;let Y={};if(t&&t.fomoUrgencyState){const{fomoUrgencyState:e}=t,i=null!==(o=(0,b.iJ)(this.props.themeContext))&&void 0!==o?o:"success.primary",n=null!==(s=(0,b.rM)(this.props.themeContext))&&void 0!==s?s:"error.dark";switch(e){case A._.FOMO_GREEN:Y={bg:i};break;case A._.FOMO_MAGENTA:Y={bg:n};break;default:Y={bg:i}}}const q=i&&this.state.isCollapsed&&B,J=q?X.slice(0,-2):i&&!this.state.isCollapsed?X.slice(0,-1):X;if(J&&this.state.effectiveNEPPrice&&(J[1].value.text=this.state.effectiveNEPPrice),null==U?void 0:U.eitherOrGroupOffers){const e=null===(h=null===(l=null==U?void 0:U.eitherOrGroupOffers)||void 0===l?void 0:l.value)||void 0===h?void 0:h.groupOfferSummariesRC,t=null===(g=null==e?void 0:e[this.state.selectedEOIndex].value)||void 0===g?void 0:g.offerSummariesRC;let i=this._getBankPaymentIndex(t);J[1].value.text=void 0!==this.state.selectedIndex?null===(V=null===(k=null===(R=null===(O=null===(P=null===(x=null===(w=null===(y=null===(S=null===(f=null===(C=null===(_=null===(v=null==e?void 0:e[this.state.selectedEOIndex])||void 0===v?void 0:v.value)||void 0===_?void 0:_.offerSummariesRC)||void 0===C?void 0:C[i])||void 0===f?void 0:f.value)||void 0===S?void 0:S.paymentOffers)||void 0===y?void 0:y[this.state.selectedRow])||void 0===w?void 0:w.bankOffersList)||void 0===x?void 0:x[this.state.selectedIndex])||void 0===P?void 0:P.value)||void 0===O?void 0:O.cardValue)||void 0===R?void 0:R.nepPrice)||void 0===k?void 0:k.value)||void 0===V?void 0:V.text:null===(W=null===(H=null===(M=null===(L=null==e?void 0:e[this.state.selectedEOIndex])||void 0===L?void 0:L.value)||void 0===M?void 0:M.NEPPrice)||void 0===H?void 0:H.value)||void 0===W?void 0:W.text}return r.createElement(E.DD,null,r.createElement(E.xM,null,J&&J.map((({value:e})=>r.createElement(I.w.Consumer,null,(t=>r.createElement(m.A,Object.assign({},(0,N.Z)("NEP_Title"),{style:[c.C1.contentSelfAlignEnd,(0,b.Qn)(t)],richTextData:(0,b.Gq)(e,t)})))))),q&&r.createElement(a.az,{flex:1,style:[c.C1.contentSelfAlignEnd]},r.createElement(D.A,{itemDelay:1600,itemCount:2,loopCount:4,renderItem:t=>this._renderItemAtIndex(t,e)}))),r.createElement(E.xM,null,n?r.createElement(a.az,{mt:z},r.createElement(T.A,Object.assign({},(0,N.Z)("NEP_Subtitle"),{messages:n,useInline:!0,useTextContainer:!0}))):r.createElement(E.xO,null,(null==e?void 0:e.description)&&r.createElement(E.tg,Object.assign({},(0,N.Z)("NEP_Description"),{mt:z,color:j}),e.description),!G&&this.state.isCollapsed&&t&&r.createElement(d.Animated.View,{style:{opacity:this.fadeViewAnimation}},r.createElement(E.W1,null,r.createElement(E.lK,null,r.createElement(d.Animated.View,{style:{opacity:this.blinkAnimation,transform:[{scaleX:this.blinkDiameter},{scaleY:this.blinkDiameter}]}},r.createElement(E.UZ,Object.assign({},Y))),r.createElement(E.WE,Object.assign({},Y))),r.createElement(E.uk,{mt:z,labelColor:(0,b.n6)(this.props.themeContext)},t.fomoUrgencyText))))))},this._updateNEPPriceState=(e,t,i)=>{this.setState({effectiveNEPPrice:e,selectedIndex:i,selectedRow:t})},this.handleExchangeAction=e=>{this.dispatchAction(o.Q3.MAPI_ACTION,new h.Oy(e)),this.trackDiscoveryContentClickEvent(e.tracking)},this.offerCTAClicked=(e,t)=>{var i,n,r,a,s,l;if(t&&(this.trackOmnitureEvent(new S.zwV(y.NetEffectivePriceWidgetOmnitureTypes.NEP_OFFER_CTA_CLICKED,t.tracking)),t.params&&t.params.fdpTrackingData&&this.trackDiscoveryContentClickEvent(t.params.fdpTrackingData),t.type===o.Q3.SUPERCOIN_BOTTOMSHEET)){const e=null===(n=null===(i=t.params)||void 0===i?void 0:i.data)||void 0===n?void 0:n.bottomsheetImage,o=null===(a=null===(r=t.params)||void 0===r?void 0:r.data)||void 0===a?void 0:a.bottomsheetHeaderImage,d=null===(l=null===(s=t.params)||void 0===s?void 0:s.data)||void 0===l?void 0:l.bottomsheetCallout,c={header:V.u1i,headerImage:o,callout:d,content:V.u1i,subContent:V.u1i,enableHeaderBorder:!1,image:e,disableCrossButton:!0};if(this.props.actionDispatcher){const e={modalType:"BOTTOM_SHEET",widgetType:k.A.SERVICE_CALLOUT_POPUP,widgetData:c,scrollable:!0,disableSwipeToClose:!0,bounces:!1,widgetLayoutParams:{borderTopRightRadius:8,borderTopLeftRadius:8}},t=new R.iM(R.xH.OPEN_MODAL,e);this.props.actionDispatcher(t)}}else this.offersChevronClick(e,t)},this.showAlternateOffers=(e,t)=>{(null==t?void 0:t.action)&&(t.action.tracking&&this.trackDiscoveryContentClickEvent(this._appendAnalyticsTrackingData(t.action.tracking)),this.dispatchAction(o.Q3.MAPI_ACTION,new h.Oy(t.action)))},this._getAnalyticsData=()=>{var e;return null===(e=this.props.pageInfo&&this.props.pageInfo.pageContext)||void 0===e?void 0:e.analyticsData},this._appendAnalyticsTrackingData=e=>{const t=this._getAnalyticsData();if(e&&t){const{subCategory:i,superCategory:n,vertical:r,category:a}=t;i&&(e.subCategory=i),n&&(e.superCategory=n),r&&(e.vertical=r),a&&(e.category=a)}return e},this.renderCouponOfferView=(e,t)=>{var i;const n=null===(i=(0,u.nS)(this.props.widgetSlotData))||void 0===i?void 0:i.viewType;return r.createElement(C.A,{isNep:!0,couponSummary:e,viewType:n,key:t,actionDispatcher:this.props.actionDispatcher})},this.handleEDClaimAction=(e,t)=>{this.dispatchAction&&t&&(this.trackDiscoveryContentClickEvent(t.tracking),this.dispatchAction(o.Q3.MAPI_ACTION,new h.Oy(t)))},this._renderAccordianHeader=e=>{var t,i,n;const o=(0,u.xH)(this.props.widgetSlotData),{title:s,fomoUrgencyInfo:l,titleAnimationEnabled:c,nepLogo:h,subTitle:p}=null!=o?o:{},g=(null==h?void 0:h.loopCount)||4,m=this._getImgStyle(h),v=null===(t=null==h?void 0:h.thumbnailImage)||void 0===t?void 0:t.dynamicImageUrl;return s?r.createElement(a.az,null,r.createElement(E.n6,Object.assign({},(0,N.Z)("NEP_Accordion_Header_Container"),{isProductImage:!(null==o?void 0:o.productImage),isThumbnailImage:!!(null===(i=null==o?void 0:o.nepLogo)||void 0===i?void 0:i.thumbnailImage),isSubtitleValue:Boolean(null===(n=null==o?void 0:o.subTitle)||void 0===n?void 0:n.data)}),r.createElement(E.xM,{alignItems:"center"},!!(null==h?void 0:h.url)&&r.createElement(a.az,Object.assign({},(0,N.Z)("NEP_Logo_Anime"),{pr:"s5"}),("ios"===d.Platform.OS||"android"===d.Platform.OS)&&r.createElement(P.n,{ref:e=>{this._lottieRef=e},loop:!1,autoPlay:!0,sourceUrl:h.url,style:m,speed:1,onAnimationFinish:()=>this._onLottieAnimationFinish(g)}),"web"===d.Platform.OS&&r.createElement(P.n,{loop:!0,autoPlay:!0,sourceUrl:h.url,style:m,speed:1})),!(null==h?void 0:h.url)&&!!v&&r.createElement(a.az,{pr:"s5"},r.createElement(x.A,Object.assign({},(0,N.Z)("NEP_Logo"),{source:v,height:this.defaultGraphicSizeHeight,width:this.defaultGraphicSizeWidth}))),this.renderTitle(s,l,!!c,p)),r.createElement(E.W5,null,this._renderChevron(e))),"ios"===d.Platform.OS&&e?this._renderAccordianContent(e):null):r.createElement(a.az,null)},this.playLottie=()=>{var e,t;null===(t=null===(e=this._lottieRef)||void 0===e?void 0:e.play)||void 0===t||t.call(e)},this._onLottieAnimationFinish=e=>{this.state.animationLoopCount<e&&(this.playLottie(),this.setState({animationLoopCount:this.state.animationLoopCount+1}))},this._renderAccordianContent=e=>{var t,i,n,o,s,l,d,h,p,g,m,v,_,C,f,A,S,y,w,I,b,D;const P=(0,u.xH)(this.props.widgetSlotData),O=null==P?void 0:P.wowTag,{offerSummariesRC:R,emiCalloutText:k,eitherOrGroupOffers:V}=null!=P?P:{},L=null===(i=null===(t=null==P?void 0:P.eitherOrGroupOffers)||void 0===t?void 0:t.value)||void 0===i?void 0:i.iconImageUrl,M=null===(o=null===(n=null==P?void 0:P.eitherOrGroupOffers)||void 0===n?void 0:n.value)||void 0===o?void 0:o.title,H=null===(l=null===(s=null==P?void 0:P.eitherOrGroupOffers)||void 0===s?void 0:s.value)||void 0===l?void 0:l.groupOfferSummariesRC;let W=this._getBankPaymentIndex(null===(d=null==H?void 0:H[this.state.selectedEOIndex].value)||void 0===d?void 0:d.offerSummariesRC);const B=void 0!==this.state.selectedIndex?null===(w=null===(y=null===(S=null===(A=null===(f=null===(C=null===(_=null===(v=null===(m=null===(g=null===(p=null===(h=null==H?void 0:H[this.state.selectedEOIndex])||void 0===h?void 0:h.value)||void 0===p?void 0:p.offerSummariesRC)||void 0===g?void 0:g[W])||void 0===m?void 0:m.value)||void 0===v?void 0:v.paymentOffers)||void 0===_?void 0:_[this.state.selectedRow])||void 0===C?void 0:C.bankOffersList)||void 0===f?void 0:f[this.state.selectedIndex])||void 0===A?void 0:A.value)||void 0===S?void 0:S.cardValue)||void 0===y?void 0:y.groupPrice)||void 0===w?void 0:w.text:null===(D=null===(b=null===(I=null==H?void 0:H[this.state.selectedEOIndex])||void 0===I?void 0:I.value)||void 0===b?void 0:b.groupPrice)||void 0===D?void 0:D.text;return r.createElement(a.az,null,k?this._renderEMICallout(k):null,R&&R.length>0?O?r.createElement(a.az,{px:"s1"},this.renderOfferSummariesRCList(R)):r.createElement(E.Zo,Object.assign({},(0,N.Z)("NEPOffersAllContainers")),this.renderOfferSummariesRCList(R)):r.createElement(a.az,null),!!V&&r.createElement(E.zQ,null,r.createElement(a.fI,{justifyContent:"space-between",mb:"s4"},r.createElement(a.fI,{alignItems:"center"},r.createElement(x.A,{height:16,width:16,source:L,style:c.C1.margin_right_6}),M&&r.createElement(T.A,{messages:M,textDefaultStyle:c.XT.fontFamilyInterSemiBold_14})),r.createElement(a.JU,{style:c.XT.fontFamilyInterSemiBold_12},B)),H&&H.map(this._renderOfferGroupRadioButtons)))},this._renderOfferGroupRadioButtons=(e,t)=>{const i=new v.E;return i.header=this._renderEOAccordianHeader(e,t),r.createElement(v.A,{content:[i]})},this._renderEOAccordianHeader=(e,t)=>()=>{var i,n,o,s,l,d,c,u,h,p,g,m,v,_,C,T,f,A,S,y,w,I,b,D,x;const P=null===(i=e.value)||void 0===i?void 0:i.offerSummariesRC,R=null===(d=null===(l=null===(s=null===(o=null===(n=e.value)||void 0===n?void 0:n.groupTitle)||void 0===o?void 0:o.data)||void 0===s?void 0:s[0])||void 0===l?void 0:l.value)||void 0===d?void 0:d.text,k=null===(g=null===(p=null===(h=null===(u=null===(c=e.value)||void 0===c?void 0:c.groupSubTitle)||void 0===u?void 0:u.data)||void 0===h?void 0:h[0])||void 0===p?void 0:p.value)||void 0===g?void 0:g.text,L=this.state.selectedEOIndex===t;let M=this._getBankPaymentIndex(P);const N=void 0!==this.state.selectedIndex&&this.state.selectedEOIndex===t?null===(I=null===(w=null===(y=null===(S=null===(A=null===(f=null===(T=null===(C=null===(_=null===(v=null===(m=null==e?void 0:e.value)||void 0===m?void 0:m.offerSummariesRC)||void 0===v?void 0:v[M])||void 0===_?void 0:_.value)||void 0===C?void 0:C.paymentOffers)||void 0===T?void 0:T[this.state.selectedRow])||void 0===f?void 0:f.bankOffersList)||void 0===A?void 0:A[this.state.selectedIndex])||void 0===S?void 0:S.value)||void 0===y?void 0:y.cardValue)||void 0===w?void 0:w.groupPrice)||void 0===I?void 0:I.text:null===(D=null===(b=null==e?void 0:e.value)||void 0===b?void 0:b.groupPrice)||void 0===D?void 0:D.text,H=!!(null===(x=e.value)||void 0===x?void 0:x.canBeSelected);return r.createElement(O.S,{onPress:this._offerGroupTapped,onPressParam:t,disableFeedback:!0},r.createElement(a.az,{my:"s3"},r.createElement(E.u7,{bg:L?"raw.blue.50":"common.white",borderBottomStartRadius:L?0:8,borderBottomEndRadius:L?0:8},r.createElement(a.fI,{justifyContent:"space-between",alignItems:"center"},r.createElement(a.fI,{alignItems:"center"},r.createElement(E.FQ,{borderColor:H?L?V.Jyk.royalBlue:V.Jyk.darkGrey_8:V.Jyk.lightGrey_1},L&&r.createElement(E.st,null)),r.createElement(a.az,null,R&&r.createElement(a.JU,{color:H?"common.black":"neutral.200"},R),L&&k&&r.createElement(a.JU,{color:"raw.grey.300",font:"xs",ellipsizeMode:"tail",numberOfLines:1,maxWidth:.6*this.getScreenWidth()},k))),r.createElement(a.JU,{color:H?"common.black":"neutral.200"},N))),L&&P&&r.createElement(E.D$,null,this.renderOfferSummariesRCList(P,q))))},this._offerGroupTapped=(e,t)=>{var i,n,r,a,o,s,l,d,c,h,p,g,m,v,_,C,E,T,f,A,S,y;const I=(0,u.xH)(this.props.widgetSlotData),b=null!==(o=null===(a=null===(r=null===(n=null===(i=null==I?void 0:I.eitherOrGroupOffers)||void 0===i?void 0:i.value)||void 0===n?void 0:n.groupOfferSummariesRC)||void 0===r?void 0:r[t].value)||void 0===a?void 0:a.groupId)&&void 0!==o?o:"",D=null!==(h=null===(c=null===(d=null===(l=null===(s=null==I?void 0:I.eitherOrGroupOffers)||void 0===s?void 0:s.value)||void 0===l?void 0:l.groupOfferSummariesRC)||void 0===d?void 0:d[t].value)||void 0===c?void 0:c.groupHash)&&void 0!==h?h:"";if(!!!(null===(v=null===(m=null===(g=null===(p=null==I?void 0:I.eitherOrGroupOffers)||void 0===p?void 0:p.value)||void 0===g?void 0:g.groupOfferSummariesRC)||void 0===m?void 0:m[t].value)||void 0===v?void 0:v.canBeSelected)){const e=null===(T=null===(E=null===(C=null===(_=null==I?void 0:I.eitherOrGroupOffers)||void 0===_?void 0:_.value)||void 0===C?void 0:C.groupOfferSummariesRC)||void 0===E?void 0:E[t].value)||void 0===T?void 0:T.toastWhenDisabled;return void Y.WU(e,1)}this.props.actionDispatcher&&this.props.actionDispatcher(new W.zF(new W.pN(B.V.EITHER_OR_GROUP_CONTEXT,{groupHash:D,groupId:b}))),this.setState({selectedEOIndex:t,selectedIndex:void 0});const x=null===(y=null===(S=null===(A=null===(f=null==I?void 0:I.eitherOrGroupOffers)||void 0===f?void 0:f.value)||void 0===A?void 0:A.groupOfferSummariesRC)||void 0===S?void 0:S[t])||void 0===y?void 0:y.tracking;this.trackDiscoveryContentEngagementEvent(x,w.O.CLICK)},this._renderEMICallout=(e,t)=>{var i,n,a,o;const l=null===(i=e.value)||void 0===i?void 0:i.data,d=null===(n=e.value)||void 0===n?void 0:n.imageValueList,h=null==e?void 0:e.action,p="NEP_HERO_EMI"===(null===(a=(0,u.nS)(this.props.widgetSlotData))||void 0===a?void 0:a.viewType),g=null===(o=e.value)||void 0===o?void 0:o.clickableText,m=null==g?void 0:g.action,v=null==g?void 0:g.value;if(l)return r.createElement(r.Fragment,null,h?r.createElement(O.S,Object.assign({},(0,N.Z)("NEP_EMI_Container"),{onPress:this._onPress,onPressParam:h}),r.createElement(E.Dj,{isWowPriceView:t,isNepHeroEmi:p},d?this._renderOverlappingImages(d):null,r.createElement(T.A,Object.assign({},(0,N.Z)("NEP_EMI_Callout_Text"),{style:[c.C1.flex,c.C1.margin_left_8],useInline:!0,useTextContainer:!0,numberOfLines:1,messages:l})),r.createElement(s.vK,Object.assign({},(0,N.Z)("NEP_EMI_Chevron"),{size:this.CHEVRON_IMAGE_DIMEN})))):r.createElement(E.Dj,Object.assign({},(0,N.Z)("NEP_EMI_Container"),{isWowPriceView:t,isNepHeroEmi:p}),d?this._renderOverlappingImages(d):null,r.createElement(T.A,Object.assign({},(0,N.Z)("NEP_EMI_Callout_Text"),{style:[c.C1.flex,c.C1.margin_left_8],useInline:!0,useTextContainer:!0,numberOfLines:1,messages:l})),!!m&&!!v&&r.createElement(O.S,{onPress:this._onPress,onPressParam:m},r.createElement(T.A,{useInline:!0,useTextContainer:!0,numberOfLines:1,messages:v}))))},this._onPress=(e,t)=>{t&&this.dispatchAction(o.Q3.MAPI_ACTION,new h.rs(t))},this._renderOverlappingImages=e=>e.map(((t,i)=>r.createElement(x.A,{style:[e.length>1?[c.C1.borderColorLiteGrey,c.C1.border_width_1_dec_2]:{},0!==i?c.C1.margin_left_neg_6:{}],roundedCorner:e.length>1?20:0,resizeMode:"center",source:t.dynamicImageUrl,height:20,width:20}))),this._accordianClick=e=>{var t,i;this.trackDiscoveryWidgetEngagementEvent(e?w.O.HIDE:w.O.UNHIDE),this.trackDiscoveryWidgetClickEvent();const n=(0,u.xH)(this.props.widgetSlotData);if(null==n?void 0:n.wowTag){const n=this.props.widgetSlotData,r=e?w.O.HIDE:w.O.UNHIDE;this.trackDiscoveryContentEngagementEvent(null===(i=null===(t=null==n?void 0:n.slotData)||void 0===t?void 0:t.widget)||void 0===i?void 0:i.tracking,r)}if("web"===d.Platform.OS){const t={type:_.J.ExpandNEPAccordian};t&&this.dispatchAction(o.Q3.EXPAND_ACTION,new _.Z(t)),e=!e}this.accordianClicked||(this.accordianClicked=!0,this.trackOmnitureEvent(new S.zwV(y.NetEffectivePriceWidgetOmnitureTypes.NEP_ACCORDIAN_CLICKED,{},e)));const r=(0,u.xH)(this.props.widgetSlotData);this.setState({isCollapsed:!this.state.isCollapsed},(()=>{(null==r?void 0:r.fomoUrgencyInfo)&&(this.state.isCollapsed?(this._performBlinkAnimation(),this._performFadingAnimation(this.fadeViewAnimation,800,1)):this._performFadingAnimation(this.fadeViewAnimation,800,0))}))};const z=(0,u.xH)(this.props.widgetSlotData),J=!(null==z?void 0:z.accordionExpandedInitially),K=null===(n=null==z?void 0:z.offerSummariesRC)||void 0===n?void 0:n.find((e=>{var t;return"PAYMENT"===(null===(t=e.value)||void 0===t?void 0:t.nepOfferType)})),Q=null===(G=null===(F=null===(U=null===(H=null===(f=null===(g=null===(l=null==K?void 0:K.value)||void 0===l?void 0:l.paymentOffers)||void 0===g?void 0:g[this.state.selectedRow])||void 0===f?void 0:f.bankOffersList)||void 0===H?void 0:H[0].value)||void 0===U?void 0:U.cardValue)||void 0===F?void 0:F.nepPrice)||void 0===G?void 0:G.value.text;this.state=Object.assign(Object.assign({},this.state),{isCollapsed:J,selectedEOIndex:this.getSelectedEOIndex(),animationLoopCount:1,effectiveNEPPrice:Q})}getSelectedEOIndex(){var e,t,i;const n=(0,u.xH)(this.props.widgetSlotData),r=null===(t=null===(e=null==n?void 0:n.eitherOrGroupOffers)||void 0===e?void 0:e.value)||void 0===t?void 0:t.groupOfferSummariesRC;if(!r)return 0;for(let e=0;e<(null==r?void 0:r.length);e++)if(null===(i=r[e].value)||void 0===i?void 0:i.selected)return e;return 0}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i)||this.state.isCollapsed!==t.isCollapsed||this.state.selectedEOIndex!==t.selectedEOIndex||this.state.effectiveNEPPrice!==t.effectiveNEPPrice}static getDerivedStateFromProps(){return null}componentDidMount(){var e,t,i,n,r,a,o,s,l,d;const c=(0,u.xH)(this.props.widgetSlotData);(null==c?void 0:c.fomoUrgencyInfo)&&(this._performBlinkAnimation(),this._performFadingAnimation(this.fadeViewAnimation,800,1));const h=null!==(r=null===(n=null===(i=null===(t=null===(e=null==c?void 0:c.eitherOrGroupOffers)||void 0===e?void 0:e.value)||void 0===t?void 0:t.groupOfferSummariesRC)||void 0===i?void 0:i[this.state.selectedEOIndex].value)||void 0===n?void 0:n.groupId)&&void 0!==r?r:"",p=null!==(d=null===(l=null===(s=null===(o=null===(a=null==c?void 0:c.eitherOrGroupOffers)||void 0===a?void 0:a.value)||void 0===o?void 0:o.groupOfferSummariesRC)||void 0===s?void 0:s[this.state.selectedEOIndex].value)||void 0===l?void 0:l.groupHash)&&void 0!==d?d:"";this.props.actionDispatcher&&this.props.actionDispatcher(new W.zF(new W.pN(B.V.EITHER_OR_GROUP_CONTEXT,{groupHash:p,groupId:h}))),this.scrollToNEPWidget()}componentDidUpdate(e,t){var i,n,r,a,o,s,l,c,h,p,g;const m=(0,u.xH)(this.props.widgetSlotData),v=null===(i=null==m?void 0:m.offerSummariesRC)||void 0===i?void 0:i.find((e=>{var t;return"PAYMENT"===(null===(t=e.value)||void 0===t?void 0:t.nepOfferType)})),_=null===(h=null===(c=null===(l=null===(s=null===(o=null===(a=null===(r=null===(n=null==v?void 0:v.value)||void 0===n?void 0:n.paymentOffers)||void 0===r?void 0:r[this.state.selectedRow])||void 0===a?void 0:a.bankOffersList)||void 0===o?void 0:o[this.state.selectedIndex||0])||void 0===s?void 0:s.value)||void 0===l?void 0:l.cardValue)||void 0===c?void 0:c.nepPrice)||void 0===h?void 0:h.value.text;_!==this.state.effectiveNEPPrice&&this.setState({effectiveNEPPrice:_}),"web"!==d.Platform.OS?this.scrollToNEPWidget():t.isCollapsed===this.state.isCollapsed&&t.selectedEOIndex===this.state.selectedEOIndex&&t.effectiveNEPPrice===this.state.effectiveNEPPrice&&(null===(p=e.widgetSlotData.transientData)||void 0===p?void 0:p.isExpanded)===(null===(g=this.props.widgetSlotData.transientData)||void 0===g?void 0:g.isExpanded)||this.scrollToNEPWidget()}scrollToNEPWidget(){const e=(0,u.nS)(this.props.widgetSlotData),t=e&&e.data,i=null==t?void 0:t.scrollAction;i&&i.type===o.Q3.SCROLL_TO_SLOT&&setTimeout((()=>{this.dispatchAction(o.Q3.SCROLL_TO_SLOT,new f.l(i))}),700)}static getWidgetHeight(e){var t;const i=(0,u.xH)(e.widgetSlotData);if(!i)return 0;if(null==i?void 0:i.wowTag)return 250;const n=!!i.fomoUrgencyInfo;let r=0;(null==i?void 0:i.offerSummariesRC)&&(null===(t=null==i?void 0:i.offerSummariesRC)||void 0===t||t.forEach((e=>{var t;e&&(null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.nepFomoData)&&r++})));let a=0;return a+=i.offerSummariesRC?70*i.offerSummariesRC.length+32:0,a+=n?28*r:0,a+=H.A.getComponentHeight(i.offerSummariesRC),a+this.getAdditionalHeight(e)}renderWidget(){const e=(0,u.xH)(this.props.widgetSlotData);if(!e)return;const{offerSummariesRC:t,title:i,couponSummaries:n,offerTitle:o,fomoUrgencyInfo:s,titleAnimationEnabled:l,subTitle:h}=null!=e?e:{},p=!this.isNEPBottomsheet,g=new v.E;g.header=this._renderAccordianHeader,g.content="ios"===d.Platform.OS?void 0:this._renderAccordianContent;const m=[];m.push(g);const _=null==e?void 0:e.wowTag,C=G.A.createNewInstance(this.state.trackingParams,this.props.pageInfo?this.props.pageInfo.tabImpressionId:void 0);return r.createElement(F.BA,{onViewAbilityEnded:this.onViewAbilityEnded,trackingInfo:C},r.createElement(z.Ay,{conditions:this._getMultiCondition()},r.createElement(I.w.Consumer,null,(e=>r.createElement(a.az,{bg:(0,b.qU)(e)},r.createElement(E.p3,null,this.renderDivider(),r.createElement(E.vY,{pb:this.isNEPBottomsheet?"s9":void 0},p?t?_?r.createElement(v.A,{content:m,onChange:this._accordianClick,activeSections:this.state.isCollapsed?[]:[0],initialCollapsedState:this.state.isCollapsed,duration:16}):r.createElement(v.A,{content:m,onChange:this._accordianClick,activeSections:this.state.isCollapsed?[]:[0],initialCollapsedState:this.state.isCollapsed}):null:r.createElement(a.az,null,i?this.renderTitle(i,s,l,h):null,n&&r.createElement(d.View,{style:c.C1.margin_top_10},n.map(this.renderCouponOfferView)),o&&r.createElement(T.A,{messages:o,textDefaultStyle:this.textDefaultStyle}),t?r.createElement(E.Fq,{bgColor:(0,b.qU)(e)},this.renderOfferSummariesRCList(t)):null))))))))}_getMultiCondition(){const e=[];return e.push(new z.D_("_widgetIsVisible",100,90,this._isWidgetinViewPort,this._isWidgetOutOfViewport)),e}renderHeader(e){var t;if(!e.header)return null;const i=null===(t=null==e?void 0:e.header)||void 0===t?void 0:t.value,n=null==i?void 0:i.headerDetailsValue,r=null==i?void 0:i.backgroundDetails;return this.renderHeaderContent(n,r)}_performBlinkAnimation(){d.Animated.loop(d.Animated.parallel([d.Animated.sequence(this._getAnimation(this.blinkAnimation,this.opacityTargetValues)),d.Animated.sequence(this._getAnimation(this.blinkDiameter,this.diameterTargetValues))])).start()}_performFadingAnimation(e,t,i){d.Animated.timing(e,{toValue:i,duration:t,useNativeDriver:!1}).start()}_renderItemAtIndex(e,t){var i;const n=t.data,a=null===(i=n[n.length-1-e])||void 0===i?void 0:i.value;return r.createElement(I.w.Consumer,null,(e=>r.createElement(m.A,Object.assign({},(0,N.Z)("NEP_Title_Anime"),{style:[c.C1.alignSelfBaseline,(0,b.Qn)(e)],richTextData:(0,b.Gq)(a,e)}))))}renderOfferSummariesRCList(e,t){return r.createElement(g.A,{viewtype:t,_updateNEPPriceState:this._updateNEPPriceState,offerSummariesRC:e,onChevronClick:this.offerCTAClicked,dispatchAction:this.dispatchAction,screenWidth:this.getScreenWidth(),uniqueViewId:this.state.uniqueViewId,showDivider:!0,handleEDClaimAction:this.handleEDClaimAction,showAlternateOffers:this.showAlternateOffers,getTrackableContentView:this.getTrackableContentView,isAccordianCollapsed:this.state.isCollapsed,analyticsData:this._getAnalyticsData(),getContentViewTrackingData:this.getContentViewTrackingData.bind(this),handleExchangeAction:this.handleExchangeAction,trackDiscoveryContentClickEvent:this.trackDiscoveryContentClickEvent,trackDiscoveryContentEngagmentEvent:this.trackDiscoveryContentEngagementEvent,isInsideEitherOR:t===q})}renderDivider(){}_getImgStyle(e){var t,i;return{width:(null===(t=null==e?void 0:e.thumbnailImage)||void 0===t?void 0:t.width)||this.defaultGraphicSizeWidth,height:(null===(i=null==e?void 0:e.thumbnailImage)||void 0===i?void 0:i.height)||this.defaultGraphicSizeHeight}}_getBankPaymentIndex(e){var t;if(!e)return 0;for(let i=0;i<(null==e?void 0:e.length);i++)if((null===(t=e[i].value)||void 0===t?void 0:t.nepOfferType)===U.Q.PAYMENT)return i;return 0}_renderChevron(e,t,i){const n=e?E.Uo:E.ac;return r.createElement(I.w.Consumer,null,(e=>r.createElement(n,Object.assign({},(0,N.Z)("NEP_Accordion_Header_Chevron")),r.createElement(s.vK,{size:null!=t?t:this.CHEVRON_IMAGE_DIMEN,color:null!=i?i:(0,b.L7)(e)}))))}hideWidgetEdgeDivider(){return!0}}var K=i(716249),Q=i(670563);const Z=a.fv.extendComponent({name:"NEPSuperSaverWidgetWrapper",defaultProps:{mx:"s6",pb:"s5",pl:"s5",pr:"s5",borderWidth:1,borderColor:Q.V9.mecuryGrey,borderBottomRightRadius:4,borderBottomLeftRadius:4,flex:1,borderTopWidth:0}}),$=(a.fI.extendComponent({name:"NEPSuperSaverWidgetHeaderWrapper",defaultProps:{mx:"s5",px:"s4",borderWidth:1,borderRadius:2,alignSelf:"center",alignItems:"center",borderColor:Q.V9.mecuryGrey,borderTopWidth:0,borderBottomRightRadius:18,borderBottomLeftRadius:18,flex:1}}),a.fI.extendComponent({name:"NEPSuperSaverWidgetOfferDataContainerWrapper",defaultProps:{minWidth:0,flex:1,mt:"s5",position:"relative"}})),ee=a.fI.extendComponent({name:"NEPSuperSaverWidgetOfferContainerWrapper",defaultProps:{minWidth:0,flex:1,justifyContent:"center"}}),te=a.fv.extendComponent({name:"NEPSuperSaverWidgetOfferDataWrapper",defaultProps:{minWidth:0,flex:1,justifyContent:"center",mx:"s3",lineHeight:20}}),ie=a.JU.extendComponent({name:"PriceValueLabel",defaultProps:{font:"s_medium",numberOfLines:1,color:"raw.black"}}),ne=a.az.extendComponent({name:"CheckBoxWithProgressBar",defaultProps:{position:"absolute",top:26,left:8,bottom:-12,borderColor:Q.V9.borderLightGrey,borderWidth:1,borderRadius:4}}),re=a.az.extendComponent({name:"NEPSuperSaverBottomBar",defaultProps:{paddingTop:"s5",borderColor:Q.V9.mecuryGrey,borderWidth:2,borderTopWidth:0,borderRightWidth:0,borderLeftWidth:0}}),ae=a.az.extendComponent({name:"CheckBoxTopWithProgressBar",defaultProps:{position:"absolute",top:-12,left:8,height:10,borderWidth:1,mb:"-s3",pb:"-s3"}});var oe=i(941802),se=i(813652),le=i(915644),de=i(787921),ce=i(347924),ue=i(96753);class he extends K.A{constructor(){super(...arguments),this.CHECKBOX_DIMENSION={height:20,width:20},this.isWeb="web"===d.Platform.OS,this.chevronUpURL=()=>se.chevronGreenDown,this.chevronDownURL=()=>se.chevronGreenDown,this._handleCheckboxChange=(e,t)=>{if(t.trackingData&&t.widgetTrackingParam&&this.trackDiscoveryWidgetEngagementEvent(e?w.O.CHECK:w.O.UNCHECK),this.props.actionDispatcher&&t.action){const e=Object.assign(Object.assign({},t.action),{params:Object.assign(Object.assign({},t.action.params),{pageLoadState:ue.LA.maskedLoading})});this.props.actionDispatcher({type:de.A.MAPI_ACTION,payload:new h.rs(e)})}}}isHeaderBottomBorderEnabled(){return!1}static getWidgetHeight(e){return 110}renderDivider(){}getHeaderStyle(){var e;const t=(0,u.nS)(this.props.widgetSlotData),i=null==t?void 0:t.header,n=null===(e=null==i?void 0:i.value)||void 0===e?void 0:e.bgColor,r=super.getHeaderStyle(),a=this.props.appContext.uiContext.windowFrame.width-32;return r.headerContainer=[r.headerContainer,oe.V.nepSuperSaverHeaderStyle,{width:a},n?{backgroundColor:n}:null],r.headerText=oe.V.nepSuperSaverHeaderTitleStyle,r.headerImage=oe.V.nepSuperSaverHeaderImageStyle,r.chevronContainer=oe.V.nepChevronWithoutFlex,r.imageDimension={height:20,width:20},r.chevronDimension={height:16,width:16},r}renderNepRowContent(e,t,i,n){var a,o,s,l,d,c;const u=null===(a=null==e?void 0:e.value)||void 0===a?void 0:a.newTitle,h=null===(o=null==e?void 0:e.value)||void 0===o?void 0:o.subTitle,p=null===(s=null==e?void 0:e.value)||void 0===s?void 0:s.price,g=null===(l=null==e?void 0:e.value)||void 0===l?void 0:l.iconUrl,m=null===(d=null==e?void 0:e.value)||void 0===d?void 0:d.checked,v=null===(c=null==e?void 0:e.value)||void 0===c?void 0:c.checkBoxAction,_=null==e?void 0:e.tracking,C=t===i-1,E=m?Q.V9.fkGreen:Q.V9.borderLightGrey,f=r.createElement(r.Fragment,null,0===t&&v&&r.createElement(ae,{style:{borderColor:E}}),g&&r.createElement(x.A,{source:g,height:18,width:20}),v&&r.createElement(le.A,{wrapperStyle:oe.V.nepSuperSaverCheckBox,isChecked:m||!1,containerStyle:oe.V.nepSuperSaverCheckBoxSize,isDisabled:!1,onChangeParam:{action:v,trackingData:_,widgetTrackingParam:n},onChange:this._handleCheckboxChange,handleCheckBoxHandlerOnly:!0,checkboxDimension:this.CHECKBOX_DIMENSION}),!C&&r.createElement(ne,null),r.createElement(ee,{style:C?null:oe.V.nepCheckboxSeperator},r.createElement(te,null,u&&r.createElement(T.A,{messages:u,useInline:!0,useTextContainer:!0,textDefaultStyle:oe.V.nepSuperSaverheaderStyle}),h&&r.createElement(T.A,{messages:h,useInline:!0,useTextContainer:!0}),this.isWeb&&!C&&r.createElement(re,null)),(null==p?void 0:p.text)&&r.createElement(ie,null,p.text))),A=v?r.createElement(ce.SB,{onPressParam:{action:v,trackingData:_,widgetTrackingParam:n},onPress:()=>{const e={action:v,trackingData:_,widgetTrackingParam:n};this._handleCheckboxChange(Boolean(m),e)}},r.createElement($,{key:`nep_supersaver_${t}`},f)):r.createElement($,{key:`nep_supersaver_${t}`},f);return this.getTrackableContentView(A,_)}getWidgetData(){const e=(0,u.xH)(this.props.widgetSlotData);return null==e?void 0:e.offerSummariesRC}renderWidget(){const e=(0,u.nS)(this.props.widgetSlotData),t=(null==e?void 0:e.data)?e.data:void 0,i=(null==e?void 0:e.tracking)?e.tracking:{},n=null==t?void 0:t.offerSummariesRC,a=n&&n.length;if(n&&a)return r.createElement(Z,null,n.map(((e,t)=>this.renderNepRowContent(e,t,a,i))))}}var pe=i(808584),ge=i(537415);class me extends J{constructor(){super(...arguments),this._isWidgetinViewPort=()=>{var e,t;this.props.actionDispatcher&&(null===(t=(e=this.props).actionDispatcher)||void 0===t||t.call(e,new W.YI(new W.qF(j.j.STICKY_NEP_IS_HIDDEN,new X(!0)))))},this._isWidgetOutOfViewport=()=>{var e,t;this.props.actionDispatcher&&(null===(t=(e=this.props).actionDispatcher)||void 0===t||t.call(e,new W.YI(new W.qF(j.j.STICKY_NEP_IS_HIDDEN,new X(!1)))))},this._onPress=(e,t)=>{var i;if(this.props.actionDispatcher&&t){if(this.trackDiscoveryWidgetClickEvent(),"web"===d.Platform.OS&&t.loginType===ge.G.LOGIN_NOT_REQUIRED&&(null===(i=t.params)||void 0===i?void 0:i.bottomsheetDetails))return void this.props.actionDispatcher({type:de.A.SHOW_SUBPAGE,payload:new h.Oy(t)});this.props.actionDispatcher({type:de.A.MAPI_ACTION,payload:new h.Oy(t)})}}}renderWidget(){var e,t;const i=(0,u.xH)(this.props.widgetSlotData);if(!i)return;const n=c.C1.margin_right_8,a=null==i?void 0:i.nepCalloutText,o=null===(e=null==a?void 0:a.value)||void 0===e?void 0:e.imageValue,s=null===(t=null==a?void 0:a.value)||void 0===t?void 0:t.data;return r.createElement(z.Ay,{conditions:this._getMultiCondition()},r.createElement(ce.SB,{onPress:this._onPress,onPressParam:null==a?void 0:a.action},r.createElement(ce.az,{pr:"s4",alignItems:"center",flexDirection:"row",mx:"s6",mt:"s2",mb:"s2",borderRadius:20,bg:"info.light",alignSelf:"flex-start",height:33},o&&r.createElement(pe.A,{imageValue:o,width:16,height:16,style:c.C1.margin_4}),s&&r.createElement(T.A,{messages:s,textDefaultStyle:n}))))}_getMultiCondition(){const e=[];return e.push(new z.D_("_widgetIsVisible",100,90,this._isWidgetinViewPort,this._isWidgetOutOfViewport)),e}}class ve extends J{constructor(){super(...arguments),this.isWowPriceView=!0,this.lottieRefHero=null,this._renderAccordianHeader=e=>{var t,i;const n=(0,u.nS)(this.props.widgetSlotData),a=(0,u.xH)(this.props.widgetSlotData),{title:o,fomoUrgencyInfo:s,titleAnimationEnabled:l,nepLogo:c,subTitle:h,collapsibleHeaderBgColor:p}=null!=a?a:{},g=this._getImgStyle(c),m=(null==c?void 0:c.loopCount)||4,v=null===(t=null==c?void 0:c.thumbnailImage)||void 0===t?void 0:t.dynamicImageUrl,_=!!(null===(i=null==n?void 0:n.header)||void 0===i?void 0:i.value);return o?r.createElement(ce.az,null,r.createElement(E.d5,Object.assign({},(0,N.Z)("NEP_Accordion_Header_Container"),{isActive:e,collapsibleBgColor:p,isHeaderPresent:_}),!!(null==c?void 0:c.url)&&r.createElement(ce.az,Object.assign({},(0,N.Z)("NEP_Logo_Anime"),{pr:"s5"}),("ios"===d.Platform.OS||"android"===d.Platform.OS)&&r.createElement(P.n,{ref:e=>{this.lottieRefHero=e},loop:!1,autoPlay:!0,sourceUrl:c.url,style:g,speed:1,onAnimationFinish:()=>this._onLottieAnimationFinish(m)}),"web"===d.Platform.OS&&r.createElement(P.n,{loop:!0,autoPlay:!0,sourceUrl:c.url,style:g,speed:1})),!(null==c?void 0:c.url)&&!!v&&r.createElement(ce.az,{pr:"s5"},r.createElement(x.A,Object.assign({},(0,N.Z)("NEP_Logo"),{source:v,height:this.defaultGraphicSizeHeight,width:this.defaultGraphicSizeWidth}))),this.renderTitle(o,s,!!l,h),r.createElement(E.W5,Object.assign({},(0,N.Z)("NEP_Chevron")),this._renderChevron(e,24))),"ios"===d.Platform.OS&&e?this._renderAccordianContent(e):null):r.createElement(ce.az,null)},this.playLottie=()=>{var e,t;null===(t=null===(e=this.lottieRefHero)||void 0===e?void 0:e.play)||void 0===t||t.call(e)},this._onLottieAnimationFinish=e=>{this.state.animationLoopCount<e&&(this.playLottie(),this.setState({animationLoopCount:this.state.animationLoopCount+1}))},this._renderAccordianContent=e=>{var t,i,n,a,o,s,l,d,h,p,g,m,v,_,C,f;const A=(0,u.xH)(this.props.widgetSlotData),{offerSummariesRC:S,emiCalloutText:y}=null!=A?A:{},w=null===(i=null===(t=null==A?void 0:A.eitherOrGroupOffers)||void 0===t?void 0:t.value)||void 0===i?void 0:i.iconImageUrl,I=null===(a=null===(n=null==A?void 0:A.eitherOrGroupOffers)||void 0===n?void 0:n.value)||void 0===a?void 0:a.title,b=null===(s=null===(o=null==A?void 0:A.eitherOrGroupOffers)||void 0===o?void 0:o.value)||void 0===s?void 0:s.groupOfferSummariesRC;let D=this._getBankPaymentIndex(null===(l=null==b?void 0:b[this.state.selectedEOIndex].value)||void 0===l?void 0:l.offerSummariesRC);const P=this.state.selectedIndex?null===(_=null===(v=null===(m=null===(g=null===(p=null===(h=null===(d=null==b?void 0:b[this.state.selectedEOIndex].value)||void 0===d?void 0:d.offerSummariesRC)||void 0===h?void 0:h[D])||void 0===p?void 0:p.value)||void 0===g?void 0:g.paymentOffers)||void 0===m?void 0:m[0])||void 0===v?void 0:v.bankOfferToNEPPriceMap)||void 0===_?void 0:_[this.state.selectedIndex].discountedPrice:null===(f=null===(C=null==b?void 0:b[this.state.selectedEOIndex].value)||void 0===C?void 0:C.groupPrice)||void 0===f?void 0:f.text;return r.createElement(ce.az,null,y?this._renderEMICallout(y,this.isWowPriceView):null,S?r.createElement(E.Zo,{isWowPriceView:this.isWowPriceView},this.renderOfferSummariesRCList(S)):r.createElement(ce.az,null),r.createElement(ce.az,{py:"s4",px:"s4"},r.createElement(ce.fI,{justifyContent:"space-between",mb:"s2"},r.createElement(ce.fI,{alignItems:"center"},r.createElement(x.A,{height:20,width:20,source:w,style:c.C1.margin_right_6}),I&&r.createElement(T.A,{messages:I,textDefaultStyle:c.XT.fontFamilyInterSemiBold_12})),r.createElement(ce.JU,{style:c.XT.fontFamilyInterSemiBold_12},P)),b&&b.map(this._renderOfferGroupRadioButtons)))},this._isWidgetinViewPort=()=>{var e,t;this.props.actionDispatcher&&(null===(t=(e=this.props).actionDispatcher)||void 0===t||t.call(e,new W.YI(new W.qF(j.j.STICKY_NEP_IS_HIDDEN,new X(!0)))))},this._isWidgetOutOfViewport=()=>{var e,t;this.props.actionDispatcher&&(null===(t=(e=this.props).actionDispatcher)||void 0===t||t.call(e,new W.YI(new W.qF(j.j.STICKY_NEP_IS_HIDDEN,new X(!1)))))}}renderWidget(){var e;const t=(0,u.nS)(this.props.widgetSlotData),i=(0,u.xH)(this.props.widgetSlotData);if(!i)return;const{offerSummariesRC:n,containerBorderColor:a}=null!=i?i:{},o=null===(e=null==t?void 0:t.header)||void 0===e?void 0:e.value,s=new v.E;s.header=this._renderAccordianHeader,s.content="ios"===d.Platform.OS?void 0:this._renderAccordianContent;const l=[];l.push(s);const h=a?{borderColor:a}:c.C1.color_border_blue_100,p=o?{}:c.C1.border_top_radius_4,g=[c.C1.border_width_1,c.C1.border_bottom_radius_4,h,p],m=!!o,_=G.A.createNewInstance(this.state.trackingParams,this.props.pageInfo?this.props.pageInfo.tabImpressionId:void 0);return r.createElement(F.BA,{onViewAbilityEnded:this.onViewAbilityEnded,trackingInfo:_},r.createElement(z.Ay,{conditions:this._getMultiCondition()},r.createElement(E.gL,{isHeaderPresent:m},n&&r.createElement(v.A,{content:l,onChange:this._accordianClick,activeSections:this.state.isCollapsed?[]:[0],initialCollapsedState:this.state.isCollapsed,accordionContainerStyle:g}))))}_getMultiCondition(){const e=[];return e.push(new z.D_("_widgetIsVisible",100,90,this._isWidgetinViewPort,this._isWidgetOutOfViewport)),e}renderHeader(e){var t;const i=null===(t=null==e?void 0:e.header)||void 0===t?void 0:t.value,n=null==i?void 0:i.headerDetailsValue,a=null==i?void 0:i.backgroundDetails;return e.header?r.createElement(E.Ef,null,this.renderHeaderContent(n,a)):null}}class _e extends ve{constructor(){super(...arguments),this.renderTitle=e=>{const t=(0,u.xH)(this.props.widgetSlotData);if(!t)return;const{containerBorderColor:i}=null!=t?t:"",n=null==e?void 0:e.data,o=null==n?void 0:n.slice(0,-1),s=null==n?void 0:n.slice(-1)[0];return r.createElement(E.A2,{containerBorderColor:i},(null==o?void 0:o.length)>0&&r.createElement(a.fI,null,o.map((({value:e})=>r.createElement(m.A,{style:[c.C1.contentSelfAlignEnd],richTextData:e})))),r.createElement(E.eq,{dividerColor:i},"/"),(null==s?void 0:s.value)&&r.createElement(a.fI,null,r.createElement(m.A,{style:[c.C1.contentSelfAlignEnd],richTextData:s.value})))},this.renderDescription=(e,t)=>r.createElement(a.az,null,t?r.createElement(T.A,{messages:t,useInline:!0,useTextContainer:!0}):(null==e?void 0:e.description)?r.createElement(E.tg,{color:"primary.800"},e.description):null),this._renderAccordianHeader=e=>{var t,i;const n=(0,u.nS)(this.props.widgetSlotData),o=(0,u.xH)(this.props.widgetSlotData),{title:s,nepLogo:l,subTitle:c,containerBorderColor:h,collapsibleHeaderBgColor:p}=null!=o?o:{},g=this._getImgStyle(l),m=(null==l?void 0:l.loopCount)||4,v=null===(t=null==l?void 0:l.thumbnailImage)||void 0===t?void 0:t.dynamicImageUrl,_=!!(null===(i=null==n?void 0:n.header)||void 0===i?void 0:i.value);return s?r.createElement(a.az,null,r.createElement(E.E0,{isActive:e,containerBorderColor:h,collapsibleBgColor:p,isHeaderPresent:_},this.renderTitle(s),r.createElement(E.Wd,null,r.createElement(a.fI,{alignItems:"center"},!!(null==l?void 0:l.url)&&r.createElement(a.az,{pr:"s5"},("ios"===d.Platform.OS||"android"===d.Platform.OS)&&r.createElement(P.n,{ref:e=>{this.lottieRefHero=e},loop:!1,autoPlay:!0,sourceUrl:l.url,style:g,speed:1,onAnimationFinish:()=>this._onLottieAnimationFinish(m)}),"web"===d.Platform.OS&&r.createElement(P.n,{loop:!0,autoPlay:!0,sourceUrl:l.url,style:g,speed:1})),!(null==l?void 0:l.url)&&!!v&&r.createElement(a.az,{pr:"s5"},r.createElement(x.A,{source:v,height:this.defaultGraphicSizeHeight,width:this.defaultGraphicSizeWidth})),this.renderDescription(s,c)),r.createElement(E.W5,null,this._renderChevron(e,24,"primary.800")))),"ios"===d.Platform.OS&&e?this._renderAccordianContent(e):null):r.createElement(a.az,null)}}}class Ce extends J{renderWidget(){var e,t,i;const n=(0,u.xH)(this.props.widgetSlotData),o=null===(e=(0,u.nS)(this.props.widgetSlotData))||void 0===e?void 0:e.viewType;if(!n)return;const{offerSummariesRC:s,title:l,couponSummaries:h,offerTitle:p,fomoUrgencyInfo:g,titleAnimationEnabled:m,subTitle:v}=null!=n?n:{},{nepLogo:_,productImage:C,wowTag:f}=null!=n?n:{},A=null===(t=null==_?void 0:_.thumbnailImage)||void 0===t?void 0:t.dynamicImageUrl,S=null===(i=null==C?void 0:C.thumbnailImage)||void 0===i?void 0:i.dynamicImageUrl;return r.createElement(I.w.Consumer,null,(()=>r.createElement(a.az,null,f?r.createElement(a.az,{display:"flex",flexDirection:"row",bg:"raw.blue.50",px:"s6",py:"s5",alignItems:"center"},A&&r.createElement(x.A,{source:A,height:this.defaultGraphicSizeHeight,width:this.defaultGraphicSizeWidth,style:c.C1.margin_right_8}),l?this.renderTitle(l,g,m,v):null,r.createElement(a.az,{flexDirection:"row",alignContent:"center",bg:"common.white",borderColor:"raw.grey.100",borderWidth:1,borderRadius:4,px:"s2",py:"s2"},S&&r.createElement(x.A,{source:S,height:this.defaultGraphicSizeHeight,width:this.defaultGraphicSizeWidth}))):r.createElement(a.az,{display:"flex",flexDirection:"row",style:[c.C1.padding_horizontal_16,c.C1.padding_top_12,c.C1.padding_bottom_12]},l?this.renderTitle(l,g,m,v):null),r.createElement(E.p3,null,r.createElement(a.az,null,h?r.createElement(d.View,null,h.map(this.renderCouponOfferView)):null,p?r.createElement(T.A,{messages:p}):null,s?this.renderOfferSummariesRCList(s,o):null)))))}}var Ee;!function(e){e.NEP_CALLOUT="NEP_CALLOUT",e.NEP_BOTTOM_SHEET="NEP_BOTTOM_SHEET",e.SUPER_SAVER="SUPER_SAVER",e.NEP_HERO="NEP_HERO",e.NEP_HERO_EMI="NEP_HERO_EMI",e.NEP_EXPANDED="NEP_EXPANDED"}(Ee||(Ee={}));class Te extends n.A{getWidgetClass(e){const t=u.nS(e.widgetSlotData);switch(t?t.viewType:void 0){case"NEP_CALLOUT":return me;case"SUPER_SAVER":return he;case"NEP_HERO":return ve;case"NEP_HERO_EMI":return _e;case"NEP_EXPANDED":return Ce;default:return J}}getWidgetHeight(e){const t=u.nS(e.widgetSlotData);switch(t?t.viewType:void 0){case"NEP_CALLOUT":return me.getHeaderHeight(e);case"SUPER_SAVER":return he.getWidgetHeight(e);case"NEP_HERO":return ve.getWidgetHeight(e);case"NEP_HERO_EMI":return _e.getWidgetHeight(e);default:return J.getWidgetHeight(e)}}}},184105:(e,t,i)=>{"use strict";i.r(t),i.d(t,{RemoveItemConfirmationViewType:()=>n,default:()=>p});var n,r=i(465420),a=i(790458),o=i(52754),s=i(296540),l=i(334596),d=i(302019),c=i(957775),u=i(547134);class h extends a.A{constructor(){super(...arguments),this._popupWidth=this.props.appContext.uiContext.windowFrame.width-60}static getHeight(e){return 176+super.getAdditionalHeight(e)}componentDidMount(){super.componentDidMount(),this.props.actionDispatcher&&(0,c.dispatchDgAction)(`${u.A.REMOVE_ITEM_CONFIRMATION}|RemoveItemConfirmationSaalV2Widget`,this.props.actionDispatcher)}renderWidget(){var e,t;const i=(0,o.nS)(this.props.widgetSlotData),n=i?i.data:void 0;if(void 0===n)return;const r=null==n?void 0:n.title,a=null==n?void 0:n.subtitle,c=null==n?void 0:n.actions,u=null==c?void 0:c[0],h=null==c?void 0:c[1],p={text:null===(t=null===(e=n.callouts)||void 0===e?void 0:e[0])||void 0===t?void 0:t.text,image:n.icon};return s.createElement(d.az,{width:this._popupWidth},s.createElement(l.A,{title:r,subtitle:a,firstButton:u,secondButton:h,buttonAction:this.executeAction,highlightedValue:p}))}}!function(e){e.SAAL_V2_VIEW="SaalV2View"}(n||(n={}));class p extends r.A{getWidgetClass(e){const t=o.nS(e.widgetSlotData);return"SaalV2View"===(null==t?void 0:t.viewType)?h:a.A}getWidgetHeight(e){const t=o.nS(e.widgetSlotData);return"SaalV2View"===(null==t?void 0:t.viewType)?h.getHeight(e):a.A.getHeight(e)}}},189920:(e,t,i)=>{"use strict";i.r(t),i.d(t,{BasketPmuType:()=>l,default:()=>c});var n=i(465420),r=i(52754),a=i(186430),o=i(312446);const s=e=>{if("HORIZONTAL_GRID_VIEW"===r.KJ(e.widgetSlotData)){const t=(e=>{const t=(0,r.nS)(e.widgetSlotData),i=null==t?void 0:t.data,n=null==i?void 0:i.renderableComponents;return n?n.reduce(((e,t)=>{var i;return(null===(i=t.value)||void 0===i?void 0:i.listingId)?e+1:e}),0):0})(e);if(!t)return 0;let i=270+(0,o.Th)(e);return 32+140*t>e.appContext.uiContext.getDimension("window").width&&(i+=30),i}{const t=(0,r.nS)(e.widgetSlotData),i=t&&t.data;if(!i)return 0;const n=i.renderableComponents;return(null==n?void 0:n.length)?0:175*n.length+(0,o.Th)(e)}};var l,d=i(60803);!function(e){e.HORIZONTAL_GRID_VIEW="HORIZONTAL_GRID_VIEW",e.HORIZONTAL_GRID_VIEW_SUBSTITUTE="HORIZONTAL_GRID_VIEW_SUBSTITUTE",e.CART_BASKET_PMU="CART_BASKET_PMU",e.CART_BASKET_PMU_GROCERY_UNIFIED="CART_BASKET_PMU_GROCERY_UNIFIED",e.HORIZONTAL_LIST_BASED_GRID_VIEW="HORIZONTAL_LIST_BASED_GRID_VIEW",e.HORIZONTAL_GRID_VIEW_EXTENDED="HORIZONTAL_GRID_VIEW_EXTENDED"}(l||(l={}));class c extends n.A{getWidgetClass(e){const t=s(e);switch(r.KJ(e.widgetSlotData)){case"HORIZONTAL_GRID_VIEW":case"HORIZONTAL_GRID_VIEW_EXTENDED":case"HORIZONTAL_GRID_VIEW_SUBSTITUTE":return a.Vy.getLoadable(t+"HorizontalPMUWidgetV2Dls",(0,d.Ay)({resolved:{},chunkName:()=>"HorizontalPMUWidgetV2Dls",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>Promise.all([i.e(31932),i.e(59818)]).then(i.bind(i,592241)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>592241},{fallback:(0,a.zb)(t),resolveComponent:i=>(a.Vy.triggerLayout(e,t+"HorizontalPMUWidgetV2Dls"),i.default)}));case"CART_BASKET_PMU":case"CART_BASKET_PMU_GROCERY_UNIFIED":return a.Vy.getLoadable(t+"HorizontalPMUCartWidget",(0,d.Ay)({resolved:{},chunkName:()=>"HorizontalPMUCartWidget",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>Promise.all([i.e(31932),i.e(24709)]).then(i.bind(i,702635)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>702635},{fallback:(0,a.zb)(t),resolveComponent:i=>(a.Vy.triggerLayout(e,t+"HorizontalPMUCartWidget"),i.default)}));case"HORIZONTAL_LIST_BASED_GRID_VIEW":return a.Vy.getLoadable(t+"HorizontalPMUListWidget",(0,d.Ay)({resolved:{},chunkName:()=>"HorizontalPMUListWidget",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>Promise.all([i.e(31932),i.e(32971)]).then(i.bind(i,776173)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>776173},{fallback:(0,a.zb)(t),resolveComponent:i=>(a.Vy.triggerLayout(e,t+"HorizontalPMUListWidget"),i.default)}));default:return a.Vy.getLoadable(t+"BasketPMUWidgetDls",(0,d.Ay)({resolved:{},chunkName:()=>"BasketPMUWidgetDls",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(92400).then(i.bind(i,759914)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>759914},{fallback:(0,a.zb)(t),resolveComponent:i=>(a.Vy.triggerLayout(e,t+"BasketPMUWidgetDls"),i.default)}))}}getWidgetHeight(e){return s(e)}}},199835:(e,t,i)=>{"use strict";i.d(t,{$I:()=>I,vn:()=>P,yB:()=>V,LD:()=>O,Ie:()=>L,rQ:()=>D,SK:()=>N,y8:()=>b});var n=i(296540),r=i(877293),a=i(479892),o=i(761208),s=i(492418),l=i(672748),d=i(347924);const c=d.az.extendComponent({name:"LeftBox",defaultProps:{backgroundColor:"v2.neutral.0",width:27,marginRight:"s6",alignItems:"center"}}),u=d.ov.extendComponent({name:"CircleGreen",defaultProps:{height:24,width:24,borderRadius:15,borderColor:"#108934",borderWidth:1.4}}),h=u.extendComponent({name:"CircleGrey",defaultProps:{borderColor:"#E0E0E0"}}),p=d.ov.extendComponent({name:"Checkmark",defaultProps:{width:20,height:20,transform:[{rotate:"45deg"}],alignContent:"center"}}),g=d.vp.extendComponent({name:"CheckmarkStem",defaultProps:{width:1.4,height:10,bg:"v2.success.500",left:11,top:4,borderRadius:8}}),m=d.vp.extendComponent({name:"CheckmarkTick",defaultProps:{width:6,height:1.4,bg:"v2.success.500",left:6,top:13,borderRadius:4}}),v=d.az.extendComponent({name:"GrayLine",defaultProps:{width:1,bg:"v2.neutral.300",height:24,margin:"s2"}}),_=v.extendComponent({name:"GrayLineProgress",defaultProps:{height:50}}),C=v.extendComponent({name:"GrayLineProgress",defaultProps:{height:36}}),E=d.JU.extendComponent({name:"TitleStyle",defaultProps:{font:"l_medium",color:"v2.success.500"}}),T=E.extendComponent({name:"D2RTitleStyle",defaultProps:{mb:"s2",color:"v2.neutral.900"}}),f=d.JU.extendComponent({name:"D2RProgressTextStyle",defaultProps:{font:"m",mb:"s2",color:"v2.neutral.900"}}),A=d.JU.extendComponent({name:"SubTitleStyle",defaultProps:{font:"m",mb:"s7",color:"v2.neutral.900"}}),S=d.vp.extendComponent({name:"ValueOfferGrayLineProgress",defaultProps:{width:"100%",height:4,bg:"v2.neutral.300",borderRadius:2}}),y=d.az.extendComponent({name:"ValueOfferGreenLineProgress",defaultProps:{height:4,bg:"v2.success.500",borderTopLeftRadius:2,borderBottomLeftRadius:2}});var w=i(879052);const I=e=>n.createElement(r.View,Object.assign({},(0,w.Z)(`Tier_${e.index}`),{style:a.C1.rowWithoutFlex,key:`Basket_offer_applied_tier${e.index}`}),n.createElement(r.View,{style:o.fv.leftBox},n.createElement(r.View,{style:o.fv.circleGreenFilled},n.createElement(r.View,{style:o.fv.checkmark},n.createElement(r.View,{style:o.fv.checkmarkStem}),n.createElement(r.View,{style:o.fv.checkmarkKick}))),e.index+1!==e.length?n.createElement(r.View,{style:o.fv.greyLine}):null),n.createElement(x,{tier:e.tier})),b=e=>n.createElement(r.View,Object.assign({},(0,w.Z)(`Tier_${e.index}`),{style:a.C1.rowWithoutFlex,key:`Basket_offer_closed_tier${e.index}`}),n.createElement(r.View,{style:o.fv.leftBox},n.createElement(r.View,{style:o.fv.circleGreyFilled}),e.index+1!==e.length?n.createElement(r.View,{style:o.fv.greyLine}):null),n.createElement(x,{tier:e.tier})),D=e=>n.createElement(r.View,Object.assign({},(0,w.Z)(`Tier_${e.index}`),{style:a.C1.rowWithoutFlex,key:`Basket_offer_open_tier${e.index}`}),n.createElement(r.View,{style:o.fv.leftBox},n.createElement(r.View,{style:o.fv.circleGreyBorder}),e.index+1!==e.length?n.createElement(r.View,{style:o.fv.greyLine}):null),n.createElement(x,{tier:e.tier})),x=e=>{const t=e.titleTextStyle?[o.fv.titleStyle,e.titleTextStyle]:o.fv.titleStyle;return n.createElement(r.View,{style:a.C1.flex},n.createElement(r.Text,Object.assign({},(0,w.Z)("Tier_Title_Text"),{numberOfLines:1,style:t}),e.tier.title),n.createElement(r.Text,Object.assign({},(0,w.Z)("Tier_Description_Text"),{numberOfLines:1,style:o.fv.subTitleStyle}),e.tier.description))},P=e=>n.createElement(r.View,Object.assign({},(0,w.Z)(`Tier_${e.index}`),{style:a.C1.rowWithoutFlex,key:`Basket_offer_applied_tier${e.index}`}),n.createElement(r.View,{style:o.fv.leftBox},n.createElement(r.View,{style:o.fv.circleGreenFilled},n.createElement(r.View,{style:o.fv.checkmark},n.createElement(r.View,{style:o.fv.checkmarkStem}),n.createElement(r.View,{style:o.fv.checkmarkKick}))),e.index+1!==e.length?n.createElement(r.View,{style:o.fv.greyLine}):null),n.createElement(x,{tier:e.tier,titleTextStyle:a.XT.fkGreenText})),O=e=>{const{progress:t,title:i,description:d}=e.tier,{currentValue:c,targetValue:u}=t||{},h=(0,l.VO)(c,u),p=`${s.y3o}${c} / ${s.y3o}${u}`;return n.createElement(r.View,Object.assign({},(0,w.Z)(`Tier_${e.index}`),{style:a.C1.rowWithoutFlex,key:`Basket_offer_tier${e.index}`}),n.createElement(r.View,{style:o.fv.leftBox},n.createElement(r.View,{style:o.fv.circleGreenBorder}),e.index+1!==e.length?n.createElement(r.View,{style:o.M6.greyLineProgress}):null),n.createElement(r.View,{style:a.C1.col},n.createElement(r.View,{style:[a.C1.rowSpaceBetween,a.C1.alignItemCenter]},n.createElement(r.Text,Object.assign({},(0,w.Z)("Progress_Title"),{numberOfLines:1,style:o.fv.d2rTitleStyle}),i),n.createElement(r.Text,Object.assign({},(0,w.Z)("Progress_Message"),{numberOfLines:1,style:o.fv.d2rProgressTextStyle}),p)),n.createElement(R,{valueInPercent:h}),n.createElement(r.Text,Object.assign({},(0,w.Z)("Progress_Description"),{numberOfLines:1,style:o.fv.subTitleStyle}),d)))},R=e=>{const t=[o.M6.greenProgressLine,o.fv.leftRoundBorder,100===e.valueInPercent?o.fv.rightRoundBorder:void 0],i=[o.M6.greyProgressLine,o.fv.leftRoundBorder,o.fv.rightRoundBorder];return n.createElement(r.View,Object.assign({},(0,w.Z)("Progress_Bar_Container"),{style:a.C1.margin_bottom_8}),n.createElement(r.View,{style:i}),n.createElement(r.View,Object.assign({},(0,w.Z)(`Progress_Value_${e.valueInPercent}`),{style:[t,{width:`${e.valueInPercent}%`}]})))},k=e=>n.createElement(d.DD,null,n.createElement(E,Object.assign({},(0,w.Z)("Tier_Title_Text"),{numberOfLines:1,color:e.color||"v2.neutral.900"}),e.tier.title),n.createElement(A,Object.assign({},(0,w.Z)("Tier_Description_Text"),{numberOfLines:1}),e.tier.description)),V=e=>n.createElement(d.fI,Object.assign({},(0,w.Z)(`Tier_${e.index}`),{key:`Basket_offer_applied_tier${e.index}`}),n.createElement(c,null,n.createElement(u,null,n.createElement(p,null,n.createElement(g,null),n.createElement(m,null))),e.index+1!==e.length?n.createElement(v,null):null),n.createElement(k,{tier:e.tier,color:"v2.success.500"})),L=e=>{const{progress:t,title:i,description:r}=e.tier,{currentValue:a,targetValue:o}=t||{},h=(0,l.VO)(a,o),p=`${s.y3o}${a} / ${s.y3o}${o}`;return n.createElement(d.fI,Object.assign({},(0,w.Z)(`Tier_${e.index}`),{key:`Basket_offer_tier${e.index}`}),n.createElement(c,null,n.createElement(u,Object.assign({},(0,w.Z)("Green_Circle"))),e.index+1!==e.length?n.createElement(_,null):null),n.createElement(d.DD,null,n.createElement(d.fI,{justifyContent:"space-between",alignItems:"center"},n.createElement(T,Object.assign({},(0,w.Z)("Progress_Title"),{numberOfLines:1}),i),n.createElement(f,Object.assign({},(0,w.Z)("Progress_Message"),{numberOfLines:1}),p)),n.createElement(M,{valueInPercent:h}),n.createElement(A,Object.assign({},(0,w.Z)("Progress_Description"),{numberOfLines:1}),r)))},M=e=>{const t=100===e.valueInPercent?o.fv.rightRoundBorder:{};return n.createElement(d.az,Object.assign({},(0,w.Z)("Progress_Bar_Container"),{mb:"s4"}),n.createElement(S,null),n.createElement(y,Object.assign({},(0,w.Z)(`Progress_Value_${e.valueInPercent}`),{style:[{width:e.valueInPercent+"%"},t]})))},N=e=>n.createElement(d.fI,Object.assign({},(0,w.Z)(`Tier_${e.index}`),{key:`Basket_offer_open_tier${e.index}`}),n.createElement(c,null,n.createElement(h,Object.assign({},(0,w.Z)("Grey_Circle"))),e.index+1!==e.length?n.createElement(C,null):null),n.createElement(k,{tier:e.tier}))},204790:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AsmPopUpViewTypes:()=>P,default:()=>k});var n=i(465420),r=i(52754),a=i(296540),o=i(877293),s=i(716249),l=i(479892),d=i(912618),c=i(915742),u=i(352254),h=i(130872),p=i(701822),g=i(395567),m=i(97529);class v extends s.A{constructor(e,t){super(e,t),this._onCountDownFinish=()=>{if(this.props.actionDispatcher){const e=new h.gl({localActionTypes:p.j.DISMISS_SCREEN});this.props.actionDispatcher(new h.UK(e))}},this.containerStyle||(this.containerStyle=[l.C1.col,l.C1.alignItemCenter,l.C1.justifyContentCenter,l.C1.padding16],this.popupTextStyle=[l.XT.alignTextCenter,l.XT.fontMedium_16,l.XT.fkBlackPrimaryText,l.C1.padding_top_8],this.subTextContainerStyle=[l.C1.row,l.XT.alignTextCenter,l.C1.padding_top_8],this.subTextStyle=[l.XT.fontMedium_14,l.XT.fkWarnGrayText],this.timerTextStyle=[l.XT.fontMedium_14,l.XT.fkWarnDarkGrayText])}static getWidgetHeight(e){return 182+s.A.getAdditionalHeight(e)}renderWidget(){const e=(0,r.nS)(this.props.widgetSlotData),t=e&&e.data;if(!t||!t.callout)return;const i=t.popup&&t.popup.value&&t.popup.value;if(!i)return;const n=this.props.appContext.userManager.getDeviceTimeDeltaMilliSeconds();let s=0;return t.callout&&t.callout.subText&&t.callout.subText.saleTime&&(s=d.A.getTTL(t.callout.subText.saleTime,n||0,(new Date).getTime())),a.createElement(o.View,{style:this.containerStyle},a.createElement(u.A,{source:i.imageUrl,height:104,width:180}),i.text&&a.createElement(o.Text,{style:this.popupTextStyle},i.text),a.createElement(o.Text,{numberOfLines:1,ellipsizeMode:"middle",style:this.subTextContainerStyle},i.subText&&a.createElement(o.Text,{style:this.subTextStyle},i.subText),s&&a.createElement(c.Ay,{timestampInMillis:s,style:this.timerTextStyle,onCountDownFinish:this._onCountDownFinish,stringDelimiter:":",showTimeString:!1})))}shouldComponentUpdate(e,t,i){const n=super.shouldComponentUpdate(e,t,i);return"CROSS_SALE"===(0,r.KJ)(this.props.widgetSlotData)&&n&&this.trackWidget(),n}trackWidget(){this.props.actionDispatcher&&this.props.actionDispatcher(new g.m0(new g.wKV(m.A.ASM_TIMER_WIDGET_AVAILABLE,void 0)))}}var _=i(770068),C=i(575585),E=i(438993),T=i(813652),f=i(914944),A=i(787921),S=i(561310),y=i(938777),w=i(268662),I=i(166057),b=i(410752),D=i(420721);var x,P;!function(e){e[e.MAPI_ACTION=0]="MAPI_ACTION",e[e.DISMISS_DIALOG=1]="DISMISS_DIALOG"}(x||(x={}));class O{constructor(e,t,i,n){this.buttonTitles=[n({id:b.H.rex_string_CONTINUE})],this.dialogActionTypes=[1];const r=e.value;if(r&&(this.imageUrl=r.imageUrl,this.subTitleText=r.subText,this.titleText=r.text),t&&t.length>0){const e=t[0].value;if(e&&e.callout&&e.callout.subText&&(this.bottomBarSubTextStyle=e.callout.subText.style,e.callout.subText.saleTime&&(this.timeLeftMilliSeconds=d.A.getTTL(e.callout.subText.saleTime,i,(new Date).getTime()))),e&&e.callout&&e.callout.displayState){switch(e.callout.displayState){case _.L.RESERVED:this.buttonTitles=[n({id:b.H.rex_string_CONTINUE})],this.dialogActionTypes=[0];break;case _.L.OOS:this.buttonTitles=[n({id:b.H.rex_string_CLOSE}),n({id:b.H.rex_string_NOTIFY_ME})],this.dialogActionTypes=[1,0];break;case _.L.WAITLIST_AVAILABLE:this.buttonTitles=[n({id:b.H.rex_string_CANCEL}),n({id:b.H.rex_string_JOIN_WAITLIST})],this.dialogActionTypes=[1,0];break;default:this.buttonTitles=[n({id:b.H.rex_string_OK})],this.dialogActionTypes=[1]}}}}}class R extends E.A{constructor(){super(...arguments),this._onButtonPress=(e,t)=>{if(this.state.asmDialogViewModel&&this.state.asmDialogViewModel.dialogActionTypes&&0===this.state.asmDialogViewModel.dialogActionTypes[t])this._executeMapiAction();this._dismissDialog()},this._dismissDialog=()=>{this.props.actionDispatcher&&this.props.actionDispatcher(new S.iM(S.xH.CLOSE_MODAL))},this._executeMapiAction=()=>{if(this.props.actionDispatcher){const e=(0,r.nS)(this.props.widgetSlotData),t=e?e.data:void 0;if(t&&t.actions&&t.actions.length>0){const e=t.actions[0].action;if(e){let t=e;e.type===I.a.COMPLETE_PURCHASE&&(t=Object.assign(Object.assign({},e),{params:Object.assign(Object.assign({},e.params),{isAsmContinueClicked:!0})})),this.props.actionDispatcher({type:A.A.MAPI_ACTION,payload:new f.Oy(t)})}}}}}static getWidgetHeight(e){return 320}renderWidget(){if(!this.state.asmDialogViewModel)return;const e=this.state.asmDialogViewModel;return a.createElement(o.View,{style:[e.bottomBarSubTextStyle===y.Wfc?w.i.maxHeight_352:w.i.maxHeight_320,w.i.width_312,l.C1.col]},a.createElement(o.View,{style:[l.C1.alignItemCenter,l.C1.col]},a.createElement(u.A,{source:e.imageUrl,height:131,width:169,style:l.C1.margin_vertical_24}),e.titleText&&a.createElement(o.Text,{style:[l.XT.alignTextCenter,w.i.maxWidth_268,l.XT.fontRegular_18,l.XT.blackText,l.C1.margin_bottom_8]},e.titleText),e.subTitleText&&a.createElement(o.Text,{style:[l.XT.alignTextCenter,w.i.maxWidth_246,l.XT.fontRegular_14,l.XT.fkWarnGrayText]},e.subTitleText),e.bottomBarSubTextStyle===y.Wfc&&void 0!==e.timeLeftMilliSeconds&&e.timeLeftMilliSeconds>0&&a.createElement(o.View,{style:[l.C1.row,l.C1.margin_top_8,l.C1.margin_bottom_24,l.C1.alignItemCenter]},a.createElement(u.A,{source:T.asmTimer,style:l.C1.margin_right_8,height:17,width:17}),a.createElement(c.Ay,{timestampInMillis:e.timeLeftMilliSeconds,style:[l.XT.fontMedium_18,l.XT.alignTextCenter,l.XT.fkBlackPrimaryText],onCountDownFinish:this._dismissDialog}))),a.createElement(o.View,{style:[l.C1.rowWithoutFlex]},this._getButtons(e)))}getDerivedState(e,t){const i=(0,r.nS)(e.widgetSlotData),n=i?i.data:void 0,a=n?n.popup:void 0,o=e.appContext.userManager.getDeviceTimeDeltaMilliSeconds();return a&&n?Object.assign(Object.assign({},super.getDerivedState(e,t)),{asmDialogViewModel:new O(a,n.actions,o||0,this.localize)}):super.getDerivedState(e,t)}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i)||t.asmDialogViewModel!==this.state.asmDialogViewModel}_getButtons(e){return e.buttonTitles.map(((t,i)=>{const n=2===e.buttonTitles.length&&0===i;return a.createElement(C.S,{key:i,onPressParam:i,onPress:this._onButtonPress},a.createElement(o.View,{style:[l.C1.border_width_1,l.C1.color_border_grey,l.C1.flex,l.C1.contentAlignCenter,l.PH.buttonVerticalPadding]},a.createElement(o.Text,{style:[n?l.XT.blackText:l.XT.brightBlueText,l.XT.fontMedium_14]},t)))}))}}R.contextType=D.V8,function(e){e.CROSS_SALE="CROSS_SALE"}(P||(P={}));class k extends n.A{getWidgetClass(e){return"CROSS_SALE"===(0,r.KJ)(e.widgetSlotData)?v:R}getWidgetHeight(e){return"CROSS_SALE"===(0,r.KJ)(e.widgetSlotData)?v.getWidgetHeight(e):R.getWidgetHeight(e)}}},210669:(e,t,i)=>{"use strict";i.d(t,{d:()=>s});var n=i(877293),r=i(670563),a=i(887261);const o=n.Dimensions.get("window").width,s=n.StyleSheet.create({priceSummaryView:{flexDirection:"column",paddingHorizontal:16,width:o,marginTop:6,marginBottom:6},priceRow:{flexDirection:"row",marginTop:6,marginBottom:6,alignItems:"center",justifyContent:"space-between"},infoHeader:{backgroundColor:r.Jy.white,flexDirection:"row",alignItems:"center",justifyContent:"flex-start",margin:16},bottomSheetHeader:{color:r.Jy.darkBlack,flexDirection:"column",alignItems:"center",marginHorizontal:8,paddingVertical:8},modalHeaderIcon:{height:14,width:20,resizeMode:"contain"},infoHeaderText:{color:r.Jy.black,flexDirection:"column",alignItems:"center",left:8,right:10,fontSize:16,fontFamily:a.A$,marginLeft:10,paddingTop:4,paddingBottom:4},spacedRow:{width:"100%",flexDirection:"column",paddingLeft:16,paddingRight:16,paddingBottom:8,paddingTop:8},container:{padding:16,backgroundColor:r.Jy.white},labelText:{fontSize:14,color:r.Jy.blackPrimary,fontFamily:a.A$},labelSubText:{marginTop:4,fontSize:12,color:r.Jy.blackSecondary,fontFamily:a.A$},bottomSheetSubText:{fontSize:14,color:r.Jy.dimGray,paddingBottom:16,lineHeight:20},summaryLabel:{fontFamily:a.$u,includeFontPadding:!1,fontSize:16,color:r.Jy.textColor,padding:16},baseStyle:{fontFamily:a.A$,fontSize:14,textAlignVertical:"center"},iconImage:{alignSelf:"center",resizeMode:"contain",marginRight:5},headerBorder:{borderBottomWidth:1,borderBottomColor:r.SG},rowContainer:{paddingVertical:8,marginBottom:42},discountSheetWrapper:{backgroundColor:r.Jy.white,borderRadius:20,paddingHorizontal:16,paddingVertical:16},discountSheetHeader:{flexDirection:"row",alignItems:"center",marginBottom:12},discountSheetIconWrapper:{backgroundColor:r.Jy.couponGreen,borderRadius:16,padding:10,marginRight:12},discountSheetHeaderContent:{flex:1},discountHeaderTitle:{fontFamily:a.$u,fontSize:16,color:r.Jy.blackSecondary,marginBottom:4},discountAmountRow:{flexDirection:"row",alignItems:"baseline"},discountAmountDisplay:{fontFamily:a.$u,fontSize:22,color:r.Jy.textColor},discountAmountSuffix:{fontFamily:a.A$,fontSize:14,color:r.Jy.blackSecondary,marginLeft:4},discountDivider:{height:1,backgroundColor:r.Jy.borderGrey,marginBottom:12},discountScrollView:{width:"100%"},discountRowContainer:{paddingVertical:8},discountRowWrapper:{flexDirection:"row",alignItems:"flex-start",justifyContent:"space-between",paddingVertical:12},discountRowTextContainer:{flex:1,marginRight:12},discountRowLabelRow:{flexDirection:"row",alignItems:"center"},discountRowIcon:{marginRight:6},discountRowTitle:{fontSize:14,fontFamily:a.A$,color:r.Jy.blackPrimary},discountRowDescriptionText:{fontSize:12,fontFamily:a.A$,color:r.Jy.blackSecondary,marginTop:4},discountRowAmountContainer:{alignItems:"flex-end",minWidth:72},discountRowPrice:{fontSize:14,fontFamily:a.$u,color:r.Jy.green},discountRowDividerFull:{height:1,backgroundColor:r.Jy.borderGrey},invoiceText:{fontSize:12,fontFamily:a.A$,color:r.Jy.lightestBlack,paddingHorizontal:16},marginBottom_0:{marginBottom:0}})},212240:(e,t,i)=>{"use strict";i.d(t,{GE:()=>a,Zz:()=>c,cu:()=>u,gH:()=>s,jm:()=>l,mU:()=>d,pT:()=>o});var n=i(302019),r=i(492418);const a=n.az.extendComponent({name:"ListingPreservationView",defaultProps:{flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",paddingBottom:"s3",paddingTop:"s3"}}),o=n.JU.extendComponent({name:"ASMMessageLabel",defaultProps:{flex:1,flexWrap:"wrap",color:"error.primary",font:"m_medium",marginTop:"s4"}}),s=n.JU.extendComponent({name:"UnavailableAnnouncementLabel",defaultProps:{marginTop:"s5",color:"common.black",font:"xxl",paddingBottom:"s2"}}),l=n.JU.extendComponent({name:"PricePerUnitLabel",defaultProps:{flexWrap:"wrap",justifyContent:"flex-end",color:"raw.grey.400",font:"m_medium",marginLeft:"s4"}}),d=n.az.extendComponent({name:"QuantitySelectorView",defaultProps:{alignSelf:"flex-start"}}),c=n.az.extendComponent({name:"SummaryPriceContainer",defaultProps:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start"}}),u=n.az.extendComponent({name:"CalloutsBorder",defaultProps:{borderColor:r.V9u.borderGrey32,borderWidth:.5,ml:"s6",mr:"s6",mt:"s4",mb:"s4"}})},225602:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>f});var n=i(465420),r=i(716249),a=i(296540),o=i(877293),s=i(492418);const l=o.StyleSheet.create({headerGradient:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center"},headerGradientWeb:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",backgroundImage:s.hIQ.minutesHeaderGradient},header:{flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},iconContainer:{marginTop:20,width:48,height:48,overflow:"hidden"},headerTitle:{fontSize:18,fontWeight:"bold",color:"#8B0046",marginBottom:15,marginTop:5},rulesContainer:{marginTop:5,marginBottom:10},ruleItem:{flexDirection:"row",alignItems:"center",marginBottom:15,marginRight:10},ruleIcon:{width:20,height:20,marginLeft:10},ruleText:{flex:1,fontSize:14,color:"#333",paddingLeft:10},disclaimerContainer:{marginBottom:10},disclaimer:{fontSize:12,color:"#666",lineHeight:16},disclaimerLink:{color:s.Jyk.tobaccoDisclaimerLink},buttonContainer:{flexDirection:"row",justifyContent:"space-between",paddingHorizontal:16,paddingBottom:12,gap:16},cancelButton:{backgroundColor:s.Jyk.white,height:40,borderRadius:4,alignItems:"center",justifyContent:"center",borderWidth:1,borderColor:"#ddd"},acceptButton:{backgroundColor:s.Jyk.acceptButton,height:40,borderRadius:4,alignItems:"center",justifyContent:"center",borderWidth:1,borderColor:"#ddd"},buttonText:{textAlign:"center",fontSize:14,fontWeight:"bold"},dottedLine:{display:"flex",justifyContent:"center",alignItems:"center"},buttonWrapperView:{flex:1,width:"100%"}});var d=i(808584),c=i(52754),u=i(495176),h=i(5813),p=i(45426),g=i(398581),m=i(229022),v=i(415283),_=i(184452),C=i(801671),E=i(479892);class T extends r.A{constructor(){super(...arguments),this.onPressDisclaimer=(e,t)=>{t&&this.dispatchMAPIIndexedAction(t)},this.onPress=(e,t)=>{var i;const n=t.positiveIntent,r=Object.assign(Object.assign({},t.action),{positiveIntent:n});(null===(i=null==r?void 0:r.tracking)||void 0===i?void 0:i.type)&&this.trackDiscoveryContentEngagementEvent(r.tracking,Number(r.tracking.type)),this.dispatchAction(v.Q3.TOBACCO_CONSENT_ACTION,r)}}static getWidgetHeight(){return 470}renderPageHeader(e,t){const i=a.createElement(o.View,{style:l.iconContainer},t.icon&&a.createElement(d.A,{imageValue:t.icon,width:48,height:48}));return a.createElement(o.View,{style:l.header},"web"===o.Platform.OS?a.createElement(o.View,{style:l.headerGradientWeb},i):a.createElement(g.W,{gradientColors:[e.startBleedingColor,e.stopBleedingColor],style:l.headerGradient},i),a.createElement(u.A,{richTextData:t.title,style:l.headerTitle}))}renderRules(e){return a.createElement(o.View,{style:l.rulesContainer},e&&e.map(((e,t)=>a.createElement(o.View,{key:t,style:l.ruleItem},e&&e.icon&&a.createElement(d.A,{imageValue:e.icon,width:24,height:24,style:l.ruleIcon}),a.createElement(u.A,{richTextData:e.ruleText,style:l.ruleText})))))}_renderDottedLine(){return a.createElement(C.A,{style:[E.C1.col,E.C1.justifyContentCenter,C.X.lineHeight,E.C1.width_full]})}renderDisclaimer(e){const t=e&&e.length-1;return a.createElement(o.View,{style:l.disclaimerContainer},this._renderDottedLine(),e.map(((e,i)=>i===t?a.createElement(p.S,{key:i,onPress:this.onPressDisclaimer,onPressParam:e.action},a.createElement(h.Ay,{style:_.z,textDefaultStyle:l.disclaimerLink,messages:[e]})):a.createElement(h.Ay,{key:i,style:_.z,textDefaultStyle:l.disclaimer,messages:[e]}))),this._renderDottedLine())}renderButtons(e){return a.createElement(o.View,{style:l.buttonContainer},e.map(((e,t)=>a.createElement(o.View,{key:t,style:l.buttonWrapperView},a.createElement(m.A,{btnData:e,btnViewStyle:0===t?l.cancelButton:l.acceptButton,btnTextStyle:l.buttonText,onPress:this.onPress,onPressParam:0===t?{action:e.action,positiveIntent:!1}:{action:e.action,positiveIntent:!0}})))))}renderWidget(){const e=(0,c.xH)(this.props.widgetSlotData);if(!e)return;const t=e.consentWidgetDataValue,i=t.headerComponentData,n=t.ruleSet,r=t.disclaimerComponent,s=null==r?void 0:r.data,l=null==i?void 0:i.gradientValue,d=e.consentBtns;return a.createElement(o.View,null,l&&i&&this.renderPageHeader(l,i),n&&this.renderRules(n),s&&this.renderDisclaimer(s),d&&this.renderButtons(d))}}class f extends n.A{getWidgetClass(e){return T}getWidgetHeight(){return T.getWidgetHeight()}}},227230:(e,t,i)=>{"use strict";i.d(t,{A:()=>p});var n=i(296540),r=i(877293),a=i(800303),o=i(50745),s=i(915742),l=i(479892),d=i(410752),c=i(420721),u=i(492418),h=i(257246);class p extends n.PureComponent{constructor(){super(...arguments),this._defaultViewStyle=[l.C1.padding8H,l.C1.border_radius_4,l.C1.backgroundTransparentGreen]}static getHeight(e){return 13}render(){const e=this.props.urgency,t=this.props.offerInfoText,i=this.props.textStyle?this.props.textStyle:(0,a.getTextStyle)(o.Ys.offerPrimaryText),p=this.props.conjunctionText?this.props.conjunctionText:u.u1i,g=(0,c.ak)(this.context.locale,{id:d.H.rex_string_EXPIRED}),m=this.props.viewStyle?this.props.viewStyle:this._defaultViewStyle;return n.createElement(r.View,{style:[l.C1.padding4V,m]},n.createElement(r.Text,{style:[i,(0,h.z5)(this.props.pageThemeContext)],numberOfLines:1,ellipsizeMode:"tail"},t,e&&e.expiryTime&&n.createElement(s.Ay,{timestampInMillis:e.expiryTime,prependingText:p,textOnExpiry:g})))}}p.contextType=c.V8},229146:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>J});var n=i(465420),r=i(296540),a=i(877293),o=i(302019),s=i(716249),l=i(52754),d=i(813652),c=i(911294),u=i(347953),h=i(410752),p=i(45426),g=i(53606),m=i(972904),v=i(415283),_=i(311676),C=i(914944),E=i(395567),T=i(135789),f=i(479892),A=i(867953),S=i(516016),y=i(927443),w=i(938777),I=i(656671),b=i(352254),D=i(887261),x=i(492418),P=i(727e3),O=i(257246),R=i(398581),k=i(331547),V=i(808584),L=i(879052),M=i(988287),N=i(670563),H=i(386474);class W extends r.PureComponent{render(){var e;const t=this.getSellerRatingValue(),i=null===(e=null==t?void 0:t.rating)||void 0===e?void 0:e.average;return r.createElement(P.w.Consumer,null,(e=>r.createElement(o.fI,{alignItems:"center"},i&&this.renderRatingAverage(i,e),t&&this.renderStarRating(t,e),t&&this.renderTextAndIcon(t,e))))}getSellerRatingValue(){var e,t;return null===(t=null===(e=this.props.widgetData)||void 0===e?void 0:e.sellerRating)||void 0===t?void 0:t.value}renderRatingAverage(e,t){const i=(0,O.OJ)(t);return r.createElement(o.JU,{style:{color:i}},e)}renderStarRating(e,t){var i,n;const a=null==e?void 0:e.rating,s=null==a?void 0:a.average,l=(0,O.vZ)(t),d=null!==(i=l&&(0,H.tp)(l,.15))&&void 0!==i?i:N.Jy.paleBlue,c=null!==(n=l&&(0,H.tp)(l,.2))&&void 0!==n?n:N.Jy.blue100,u=null!=l?l:N.Wo.ratingColorSeller;return r.createElement(o.az,{style:f.C1.padding_left_6},s&&r.createElement(M.A,{rating:s,fillColor:u,backgroundColor:d,emptyColor:c,themeContext:t}))}renderTextAndIcon(e,t){var i,n;const a=null!==(i=null==e?void 0:e.sellerRatingText)&&void 0!==i?i:"",s=null==e?void 0:e.chevronIcon,l=null!==(n=null==s?void 0:s.dynamicImageUrl)&&void 0!==n?n:"",d=(0,O.OJ)(t);return r.createElement(B,null,r.createElement(U,null,r.createElement(o.JU,{style:[f.XT.lineHeight_18,{color:d}]},a)),r.createElement(F,null,r.createElement(b.A,{source:l,height:12,width:12})))}}const B=o.fI.extendComponent({name:"TextIconContainer",defaultProps:{alignItems:"center"}}),U=o.az.extendComponent({name:"SellerRatingTextContainer",defaultProps:{height:18}}),F=o.az.extendComponent({name:"ChevronIconContainer",defaultProps:{height:18,width:18,alignItems:"center",justifyContent:"center"}});var G,z=i(582045);!function(e){e[e.DASHED_UNDERLINE=0]="DASHED_UNDERLINE",e[e.BLUE_TEXT=1]="BLUE_TEXT",e[e.BLUE_TEXT_WITH_CHEVRON=2]="BLUE_TEXT_WITH_CHEVRON"}(G||(G={})),"android"===a.Platform.OS&&a.UIManager.setLayoutAnimationEnabledExperimental&&a.UIManager.setLayoutAnimationEnabledExperimental(!0);class j{constructor(e,t){var i,n,r,a,o,s,d,c,u,p,g,m,v,_,C,E,T,f;this.widget=(0,l.nS)(e.widgetSlotData),this.ratingSummaryData=this.widget?this.widget.data:void 0,this.ratingsAndReviews=null===(i=this.ratingSummaryData)||void 0===i?void 0:i.ratingsAndReviews,this.fAssuredIcon=null===(n=this.ratingSummaryData)||void 0===n?void 0:n.fAssuredIcon,this.ratingsValue=null===(a=null===(r=this.ratingsAndReviews)||void 0===r?void 0:r.value)||void 0===a?void 0:a.rating,this.ratingColor=null===(o=this.ratingsValue)||void 0===o?void 0:o.ratingColor,this.reviewCount=null===(d=null===(s=this.ratingsAndReviews)||void 0===s?void 0:s.value)||void 0===d?void 0:d.reviewCount,this.numberOfCustomerPhotos=null===(u=null===(c=this.ratingsAndReviews)||void 0===c?void 0:c.value)||void 0===u?void 0:u.reviewImageCount,this.customerPhotosText=null===(g=null===(p=this.ratingsAndReviews)||void 0===p?void 0:p.value)||void 0===g?void 0:g.imageAvailabilityText,this.reviewString=this.reviewCount&&this.ratingsValue&&this.ratingsValue.average&&this.ratingsValue.average>0?`& ${(0,y.m3)(this.reviewCount)} ${t({id:h.H.rex_string_REVIEWS})}`:this.reviewCount?`${(0,y.m3)(this.reviewCount)} ${t({id:h.H.rex_string_REVIEWS})}`:void 0,this.userReviews=null===(_=null===(v=null===(m=this.ratingsAndReviews)||void 0===m?void 0:m.value)||void 0===v?void 0:v.userReviews)||void 0===_?void 0:_.data,this.enableAspectRatingsViewAnimation=!1,this.scaleAspectComponents=null===(C=this.ratingSummaryData)||void 0===C?void 0:C.scaleAspectComponents,this.sellerRatings=null===(E=this.ratingSummaryData)||void 0===E?void 0:E.sellerRating,this.scaleAspectComponentsRC=null===(T=this.ratingSummaryData)||void 0===T?void 0:T.scaleAspectComponentsRC,this.scaleAspectComponentsRCTitle=null===(f=this.ratingSummaryData)||void 0===f?void 0:f.scaleAspectComponentsRCTitle}}class X extends m.A{constructor(e,t){super(e,t),this.MAX_ASPECT_RATINGS_TO_DISPLAY=5,this.isUserReviewsEnabled=!!u.A.getExperimentValue("highlightUserReviewsEnabled"),this.onPressRating=e=>{e&&this.dispatchAction(v.Q3.MAPI_ACTION,new C.Oy(e))},this._renderView=()=>{var e,t;const i=(0,l.nS)(this.props.widgetSlotData),n=null===(e=null==i?void 0:i.widgetAttributes)||void 0===e?void 0:e.widgetBleedingColor,a=null===(t=null==i?void 0:i.widgetAttributes)||void 0===t?void 0:t.widgetStopBleedingColor,s=n&&a,d=null==i?void 0:i.data,c=r.createElement(P.w.Consumer,null,(e=>{var t,i,n,a,s,l;const c=e?Object.assign(Object.assign({},this.ratingParentContainerStyle),{bg:(0,O.qU)(e)}):this.ratingParentContainerStyle;return r.createElement(r.Fragment,null,r.createElement(o.fI,Object.assign({},c),this.renderRating(),this.state.viewModel.fAssuredIcon&&this.renderFassuredTag()),(null===(t=this.state.viewModel)||void 0===t?void 0:t.scaleAspectComponentsRC)&&this.renderHorizontalRatings(),(null===(i=null==d?void 0:d.returnsAsSocialProofAnnouncement)||void 0===i?void 0:i.value)&&r.createElement(Y,null,(null===(a=null===(n=null==d?void 0:d.returnsAsSocialProofAnnouncement)||void 0===n?void 0:n.value)||void 0===a?void 0:a.backgroundImage)&&r.createElement(V.A,{imageValue:null==d?void 0:d.returnsAsSocialProofAnnouncement.value.backgroundImage,width:16,height:16}),r.createElement(q,null,null===(l=null===(s=null==d?void 0:d.returnsAsSocialProofAnnouncement)||void 0===s?void 0:s.value)||void 0===l?void 0:l.title)))}));return s?r.createElement(R.W,{gradientColors:[n,a],gradientStart:k._.TOP,gradientEnd:k._.BOTTOM,renderInWeb:!0},c):c},this.renderHorizontalRatings=()=>{var e;const t=null===(e=this.state.viewModel)||void 0===e?void 0:e.scaleAspectComponentsRC;return r.createElement(P.w.Consumer,null,(e=>{var i,n,s,l;return r.createElement(o.az,Object.assign({},(0,L.Z)("Product_Horizontal_Ratings_Star_Container"),{style:[this.ratingHorizontalBox,(0,O.No)(e)]}),r.createElement(o.az,null,(null===(n=null===(i=this.state.viewModel)||void 0===i?void 0:i.scaleAspectComponentsRCTitle)||void 0===n?void 0:n.title)&&r.createElement(o.JU,Object.assign({},(0,L.Z)("Product_Horizontal_Ratings_Star_Title"),{style:[this.topRatedForTextStyle,(0,O.Qn)(e)]}),null===(l=null===(s=this.state.viewModel)||void 0===s?void 0:s.scaleAspectComponentsRCTitle)||void 0===l?void 0:l.title)),r.createElement(a.ScrollView,{showsHorizontalScrollIndicator:!1,horizontal:!0},r.createElement(o.az,{style:this.innerScrollViewContainer},null==t?void 0:t.map(((t,i)=>this._renderRatingchips(t,i,e))))))}))},this._renderRatingchips=(e,t,i)=>{const{value:n,action:s}=e;return n?r.createElement(a.TouchableOpacity,Object.assign({},(0,L.Z)("Product_Horizontal_Ratings_Chips"),{onPress:()=>this.onPressRating(s),key:t,style:this.ratingChipStyle}),!!n.name&&r.createElement(o.JU,Object.assign({},(0,L.Z)("Product_Horizontal_Ratings_Name"),{style:[f.XT.fontRegular_12,(0,O.Qn)(i)]}),n.name),"number"==typeof n.average&&r.createElement(o.JU,Object.assign({},(0,L.Z)("Product_Horizontal_Ratings_Avarage"),{style:[this.ratingNumTextStyle,(0,O.z5)(i)]})," ",n.average)):null},this._renderSellerRatingAdjective=()=>{var e,t,i,n,a,s,l;return r.createElement(o.az,Object.assign({},this.sellerRatingAdjectiveContainerStyle),(null===(i=null===(t=null===(e=this.state.viewModel.sellerRatings)||void 0===e?void 0:e.value)||void 0===t?void 0:t.rating)||void 0===i?void 0:i.imageUrl)&&r.createElement(b.A,Object.assign({},(0,L.Z)("Product_Seller_Ratings_Image"),{source:null===(n=this.state.viewModel.sellerRatings)||void 0===n?void 0:n.value.rating.imageUrl,height:20,width:20,style:[f.C1.margin_right_4,f.C1.margin_top_0]})),r.createElement(o.JU,Object.assign({},(0,L.Z)("Product_Seller_Ratings_Text"),this.sellerRatingAdjectiveTextStyle),null===(l=null===(s=null===(a=this.state.viewModel.sellerRatings)||void 0===a?void 0:a.value)||void 0===s?void 0:s.rating)||void 0===l?void 0:l.ratingAdjective))},this.renderRating=()=>{var e,t,i,n,a;const s=this.isAspectRatingsPresent(),l=this.state.viewModel.ratingSummaryData;return(null===(i=null===(t=null===(e=null==l?void 0:l.sellerRating)||void 0===e?void 0:e.value)||void 0===t?void 0:t.rating)||void 0===i?void 0:i.ratingAdjective)?r.createElement(o.az,null,this._renderSellerRatingAdjective()):this.state.viewModel.ratingsValue||s||(null===(n=this.state.viewModel)||void 0===n?void 0:n.sellerRatings)?r.createElement(p.S,{onPress:this._handleRnRClick,onPressParam:this.state.viewModel.ratingsAndReviews?this.state.viewModel.ratingsAndReviews.action:this.state.viewModel.sellerRatings&&(null===(a=this.state.viewModel.sellerRatings)||void 0===a?void 0:a.action),disableFeedback:!0},r.createElement(o.az,null,r.createElement(o.az,Object.assign({},this.ratingContainerWithTagStyle),r.createElement(o.az,null,this.renderProductRatingView(!0))),s?this.renderAspectRatingsView():void 0)):void 0},this.renderFassuredTag=()=>{var e;const t=this.state.viewModel.fAssuredIcon;return t?r.createElement(p.S,{disableFeedback:!t.action,onPress:t.action?this._handleFassuredTagClick:void 0,onPressParam:t.action},r.createElement(b.A,Object.assign({},(0,L.Z)("FassuredTag"),{source:null===(e=t.value)||void 0===e?void 0:e.dynamicImageUrl,height:17,width:58}))):null},this._handleFassuredTagClick=(e,t)=>{this.dispatchMAPIIndexedAction(t)},this._handleRnRClick=(e,t)=>{const i=!!g.Ay.getReactNativeConfigGlobalValue("reviewUnderlined")||!!g.Ay.getReactNativeConfigGlobalValue("reviewBlueChevron")||!!g.Ay.getReactNativeConfigGlobalValue("reviewBlue");this._ratingsAndReviewsDG(this.getFetchId()),this.trackDiscoveryWidgetClickEvent(this.willCreateNewDwell(t)),t&&this.dispatchAction(v.Q3.MAPI_ACTION,new C.Oy(t)),i&&this.trackOmnitureEvent(new E.Wn3)},this._ratingsAndReviewsDG=e=>{const t=new _.zxP(e);this.trackDGEvent(t)},this._isHavingLongertext=e=>{let t=!1;return e&&(t=null==e?void 0:e.some((e=>{var t;return(null==e?void 0:e.name)&&(null===(t=null==e?void 0:e.name)||void 0===t?void 0:t.length)>8}))),t},this.getRatingColor=e=>e>=3?"raw.green.500":e>=2?"raw.mustard.500":"error.primary",this._startReviewsAnimationView=(e,t)=>{let{viewModel:i}=this.state;i=Object.assign(Object.assign({},i),{enableAspectRatingsViewAnimation:!0}),this.setState({viewModel:i})},this._getMultiCondition=()=>{const e=!!u.A.getExperimentValue(w.ZLM.IS_MCT_CONFIGURATION_ENABLED),t=this.isAspectRatingsPresent();if(e){const e=g.Ay.getMCTConfiguration(),i=(0,z.P)(w.GoU.ProductSummaryV3RatingAndReviewsWidget,e),n=i?i.minDelay:0;t&&!this.aspectRatingsViewCondition&&(this.aspectRatingsViewCondition=[],this.aspectRatingsViewCondition.push(new A.D_("_prefetchVideo",n,5,this._startReviewsAnimationView)))}else t&&!this.aspectRatingsViewCondition&&(this.aspectRatingsViewCondition=[],this.aspectRatingsViewCondition.push(new A.D_("_prefetchVideo",800,5,this._startReviewsAnimationView)));return this.aspectRatingsViewCondition||[]};const i=this.getScreenWidth();this.ratingsOuterContainerStyle={flexDirection:"row",justifyContent:"space-between",marginTop:"s2",marginBottom:"s0",alignSelf:"stretch",width:i-32},this.ratingReviewBoxStyle={alignItems:"center",marginRight:"s6"},this.ratingReviewTextStyle={font:"m_medium"},this.ratingStarStyle={font:"s_medium",marginLeft:"s1"},this.reviewTextBoxStyle={alignItems:"center",width:53},this.reviewTextStyle={font:"m_medium",textAlign:"center",color:"raw.grey.500"},this.ratingContainerWithTagStyle=this.isUserReviewsEnabled?Object.assign(Object.assign({},I.ZY.ratingContainerWithTag),{flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start"}):I.ZY.ratingContainerWithTag,this.ratingParentContainerStyle={paddingHorizontal:"s6",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap"},this.sellerRatingAdjectiveContainerStyle={flexDirection:"row",alignItems:"center"},this.sellerRatingAdjectiveTextStyle={color:"raw.grey.500"},this.ratingChipStyle={alignItems:"center",flexDirection:"row",paddingHorizontal:12,paddingVertical:5,marginHorizontal:4,borderRadius:20,borderStyle:"solid",borderWidth:1,borderColor:x.V9u.lightestGrey},this.ratingNumTextStyle={color:x.Cf1.fkGreen,fontFamily:D.A$,fontSize:12},this.ratingHorizontalBox={flex:1,flexDirection:"row",padding:16,paddingRight:4,paddingBottom:24,alignItems:"center",justifyContent:"center"},this.topRatedForTextStyle={paddingRight:8,fontFamily:D.A$,fontSize:12},this.innerScrollViewContainer={flex:1,flexDirection:"row",marginLeft:-4}}static getWidgetHeight(e){var t;let i=0;const n=(0,l.nS)(e.widgetSlotData),r=n&&n.data;if(!r)return i;const a=r.ratingsAndReviews;return(null===(t=null==a?void 0:a.value)||void 0===t?void 0:t.rating)&&(i+=32),(null==r?void 0:r.scaleAspectComponents)&&(i+=44),(null==r?void 0:r.scaleAspectComponentsRC)&&(i+=90),i+s.A.getAdditionalHeight(e)}getDerivedState(e,t){let i=new j(e,this.localize);return(null==t?void 0:t.viewModel.enableAspectRatingsViewAnimation)&&(i=Object.assign(Object.assign({},i),{enableAspectRatingsViewAnimation:!0})),Object.assign(Object.assign({},super.getDerivedState(e,t)),{viewModel:Object.assign({},i)})}renderWidget(){if(!this.state.viewModel.ratingSummaryData)return;return this.isAspectRatingsPresent()?r.createElement(A.Ay,{conditions:this._getMultiCondition()},this._renderView()):this._renderView()}renderProductRatingView(e,t,i,n,a,o){var s,l,c,u,h,p,m;const v=this.state.viewModel;if(!v.ratingsValue&&!v.sellerRatings)return;const _=this.getProductPageContext(),C=null==_?void 0:_.marketplace;let E,T,A,y,b=!0,D={color:"raw.grey.500"};if(g.Ay.getReactNativeConfigGlobalValue("reviewUnderlined")?E=0:g.Ay.getReactNativeConfigGlobalValue("reviewBlueChevron")?E=2:g.Ay.getReactNativeConfigGlobalValue("reviewBlue")?E=1:b=!1,b){switch(E){case 1:D={color:"primary.main"};break;case 2:D={color:"primary.main"},i=[f.C1.margin_left_6,f.C1.margin_top_1,{resizeMode:"contain"}],T=14,A=7}D=t?Object.assign(Object.assign({},D),{font:"s_medium",marginTop:"s2"}):Object.assign(Object.assign({},D),{font:"m",marginTop:"s2"}),y=I.ZY.ratingCountContainerStyle}const x=a?"":n?"reviews":"ratings",P=b?D:t||Object.assign(Object.assign({},I.ZY.ratingCountStyle),{color:null!==(s=(0,O.o0)(this.props.themeContext))&&void 0!==s?s:"primary.500",marginLeft:"s3"}),R=e||b?I.ZY.pillBorderStyle:void 0,k=b?I.ZY.ratingView:{flexDirection:"row",marginRight:"s2"};return v.ratingsValue?r.createElement(S.i2,{rating:v.ratingsValue?v.ratingsValue:v.sellerRatings&&(null===(c=null===(l=v.sellerRatings)||void 0===l?void 0:l.value)||void 0===c?void 0:c.rating),countType:x,parentStyle:k,ratingCountStyle:P,ratingColor:v.ratingColor,ratingCountImageStyle:i,pillBorderStyle:R,type:0,imageSource:i?d.chevronBlue:void 0,ratingCountContainerStyle:y,iconHeight:T,iconWidth:A,decorationType:b&&0===E?0:void 0,userReviews:v.userReviews,showRatingAdjective:this.showRatingAdjective(),marketplace:C,reviewString:v.reviewString,isSeller:!(v.ratingsValue||!v.sellerRatings),sellerRatingText:null===(p=null===(h=null===(u=v.sellerRatings)||void 0===u?void 0:u.value)||void 0===h?void 0:h.rating)||void 0===p?void 0:p.ratingAdjective,showRatingInStars:o,numberOfCustomerPhotos:v.numberOfCustomerPhotos,customerPhotoText:v.customerPhotosText,showRatingAdjectiveBeforeRating:!0,ratingAdjectiveSeparator:w.y0I,ratingAdjectiveStyle:I.ZY.ratingAdjectiveStyle,showNumericalRatingNumer:!0}):r.createElement(W,{widgetData:null===(m=null==v?void 0:v.widget)||void 0===m?void 0:m.data,dispatchAction:this.dispatchAction})}isAspectRatingsPresent(){const e=this.state.viewModel.scaleAspectComponents;return!!(e&&(null==e?void 0:e.length)>0)}renderAspectRatingsView(){const e=this.state.viewModel,t=e.scaleAspectComponents;if(!t)return;const i=t&&(null==t?void 0:t.length)>this.MAX_ASPECT_RATINGS_TO_DISPLAY?this.MAX_ASPECT_RATINGS_TO_DISPLAY:null==t?void 0:t.length,n=t&&t.slice(0,i),s=r.createElement(o.az,Object.assign({},this.ratingsOuterContainerStyle),null==n?void 0:n.map(((e,t)=>{const i=this.getRatingColor(null==e?void 0:e.average),n=null==e?void 0:e.name,a=Object.assign(Object.assign({},this.ratingReviewTextStyle),{color:i}),s=Object.assign(Object.assign({},this.ratingStarStyle),{color:i});return r.createElement(o.az,Object.assign({},this.ratingReviewBoxStyle,{key:`aspect_rating_${t}`}),r.createElement(o.az,Object.assign({},(0,L.Z)("Product_Aspect_Ratings"),I.ZY.ratingReviewStarBoxStyle),r.createElement(o.JU,Object.assign({},(0,L.Z)("Product_Aspect_Ratings_Review_Text"),a),null==e?void 0:e.average),r.createElement(o.JU,Object.assign({},(0,L.Z)("Product_Aspect_Ratings_Star"),s),c.bh)),r.createElement(o.az,Object.assign({},this.reviewTextBoxStyle),r.createElement(o.JU,Object.assign({},(0,L.Z)("Product_Aspect_Ratings_Review_Name"),this.reviewTextStyle,{numberOfLines:2,ellipsizeMode:"tail"}),n)))})));if(t&&e.enableAspectRatingsViewAnimation&&"web"!==a.Platform.OS){const t=this._isHavingLongertext(null==e?void 0:e.scaleAspectComponents),i={type:T.J6.JSON,triggerType:T.Zr.ON_LOAD,triggerDelay:1e3,animationConfig:{transforms:[{key:"height",from:0,to:t?56:40},{key:"opacity",from:0,to:1}],duration:500,interpolation:{easing:"ease-out"}}};return a.LayoutAnimation.configureNext(a.LayoutAnimation.Presets.linear),r.createElement(T.tY,{animationConfig:i},r.createElement(o.az,{alignSelf:"stretch"},s))}}showRatingAdjective(){return!0}renderDivider(){}}const Y=o.fI.extendComponent({name:"ReturnsAsSocialProofContainer",defaultProps:{flexDirection:"row",paddingLeft:"s6",alignItems:"center",justifyContent:"flex-start",marginTop:"s2"}}),q=o.JU.extendComponent({name:"ReturnsAsSocialProofLabel",defaultProps:{marginLeft:"s2"}});class J extends n.A{getWidgetClass(e){return X}getWidgetHeight(e){return X.getWidgetHeight(e)}}},236506:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>S});var n=i(465420),r=i(296540),a=i(972904),o=i(52754),s=i(877293),l=i(99394),d=i(456874),c=i(716249),u=i(352254),h=i(45426),p=i(415283),g=i(420721),m=i(848464),v=i(479892),_=i(315380),C=i(876505),E=i(690423),T=i(644598),f=i(614006);class A extends a.A{constructor(e,t){super(e,t),this.widgetTitleContainerStyle=[v.C1.margin_top_16,v.C1.margin_horizontal_16,v.C1.margin_bottom_8],this.widgetTitleTextStyle=[v.XT.fontMedium_14,v.XT.lineHeight_20],this.cardTextStyle=[v.XT.fontRegular_12,v.XT.lineHeight_16],this.cardImageContainerStyle=[_.u.freebieImageContainer],this.cardContentCarouselStyle={width:"75%"},this.cardTitleNumberOfLines=1,this.cardHeightDefault=60,this.cardHeightNonEN=76,this.carouselContainerMargin=20,this.cardStyle=[_.u.freebieCardLayout,_.u.initialFreebieCarouselOffset,{height:this.cardHeightDefault}],this.titleParentContainerStyle=[v.C1.flexZero,v.C1.flexAuto],this.cardContentStyle={width:"80%"},this.carouselContainerStyle=[v.C1.margin_left_16,{height:this.cardHeightDefault+this.carouselContainerMargin}],this._renderItem=e=>{var t;const i=e&&e.item&&(null===(t=e.item)||void 0===t?void 0:t.value);if(!i||!i.iconUrl||!i.type)return null;const n=r.createElement(h.S,{onPress:this._freebieCardClicked,onPressParam:e,disableFeedback:!0},r.createElement(s.View,{style:this.cardStyle},r.createElement(s.View,{style:this.cardImageContainerStyle},i.iconUrl&&this._renderImage(i.iconUrl)),r.createElement(s.View,{style:this.cardContentStyle},i.title&&this._renderText(i.title,void 0,this.cardTextStyle,this.titleParentContainerStyle,this.cardTitleNumberOfLines),i.subText&&this._renderText(i.subText,void 0,this.cardTextStyle,void 0,1))));return this.getTrackableContentView(n,e.item.tracking)},this._renderImage=e=>r.createElement(u.A,{source:e.value?e.value.dynamicImageUrl:void 0,height:36,width:36,resizeMode:"contain"}),this._renderText=(e,t,i,n,a)=>r.createElement(l.A,{messages:e.data,parentContainerStyle:n,data:e,textContainerStyle:t,numberOfLines:a,textDefaultStyle:i,appContext:this.props.appContext}),this._freebieCardClicked=(e,t)=>{if(t&&void 0!==t.index&&t.item&&t.item.tracking&&this.trackDiscoveryContentClickEvent(t.item.tracking,!1,t.index),!t.item.action)return;const i=t.item.action,n=i.params[a.A.KEY_OFFER_ID],r=i.params[a.A.KEY_URL];i&&n&&r&&this.dispatchAction(p.Q3.STATIC_WEB_PAGE_ACTION,new m.h(r,n,m.Q.TNC_MODAL))},this.updateAggregatedCTATransientData=()=>{const e=(0,o.nS)(this.props.widgetSlotData),t=e&&e.data,i=t&&(null==t?void 0:t.freebieCard),n=(0,o.wU)(this.props.widgetSlotData)||f.n.FREEBIE;if(!i)return;const r={},a=t&&t.parentProductId,s=t&&t.parentListingId;i.forEach((e=>{var t;const i=e.value,o=null==i?void 0:i.productId,l=null==i?void 0:i.listingId;if(!i||!o||!l)return;const d=(null==i?void 0:i.title)?this.getFreebieTitle(i.title):"",c=E.A.generateTransientDataKey(o),u=i&&i.freebieType.toString();r[c]={listingId:l,aggregatedCartContext:E.A.createCartContext(o,0,e.tracking,d,!1,!1,n,u,a,s),priceCallout:null===(t=null==i?void 0:i.bottomSheetText)||void 0===t?void 0:t.text}})),this.dispatchAction(p.Q3.AGGREGATED_CTA,new T.Y(T.m.UPDATE_CTA_STATE,r))},this.getFreebieTitle=e=>{let t="";return e&&e.data.forEach((e=>{var i;const n=e.value,r=n&&(null==n?void 0:n.data),a=r&&(null===(i=r.value)||void 0===i?void 0:i.text);t+=a||""})),t},this._screenWidth=this.props.appContext.uiContext.windowFrame.width,this.itemWidth=.8*this._screenWidth-24,this.widgetTitleContainerStyle=[this.widgetTitleContainerStyle,{width:this._screenWidth-32}],this.cardStyle=[this.cardStyle,{width:this.itemWidth-24}],this.props.appContext.locale!==g.Vn.EN&&(this.cardTitleNumberOfLines=2,this.cardStyle=[this.cardStyle,{height:this.cardHeightNonEN}],this.carouselContainerStyle={height:this.cardHeightNonEN+this.carouselContainerMargin})}static getWidgetHeight(e){return 156}renderWidget(){const e=(0,o.nS)(this.props.widgetSlotData),t=e&&(null==e?void 0:e.data),i=t&&(null==t?void 0:t.title),n=t&&(null==t?void 0:t.freebieCard);if(!t)return;this.updateAggregatedCTATransientData();const a=r.createElement(s.View,{style:1===(null==n?void 0:n.length)?v.C1.margin_right_16:null},i&&this._renderText(i,this.widgetTitleContainerStyle,this.widgetTitleTextStyle,void 0,1),n&&this._renderCarousel(n));if(null==e?void 0:e.tracking){const t=c.A.getTrackingParams(this.props,e.tracking),i=this.getContentViewTrackingData(t);return r.createElement(C.A,{trackingInfo:i},a)}return a}_renderCarousel(e){return e&&0!==e.length?1===e.length?(this.cardStyle=[this.cardStyle,{width:this._screenWidth-32}],r.createElement(s.View,{style:v.C1.margin_left_16},this._renderItem({item:e[0],index:0}))):(this.cardContentStyle=this.cardContentCarouselStyle,r.createElement(s.View,{style:this.carouselContainerStyle},r.createElement(d.A,{data:e,renderItem:this._renderItem,scrollEnabled:e.length>1,sliderWidth:this._screenWidth,itemWidth:this.itemWidth-16,activeSlideOffset:12,inactiveSlideOpacity:1,inactiveSlideScale:1,activeSlideAlignment:"start"}))):null}}class S extends n.A{getWidgetClass(e){return A}getWidgetHeight(e){return A.getWidgetHeight(e)}}},238814:(e,t,i)=>{"use strict";i.d(t,{N:()=>J});var n=i(113043),r=i(309188),a=i(592260),o=i(53606),s=i(146387),l=i(347953),d=i(61364),c=i(938777),u=i(700036),h=i(877293),p=i(52754),g=i(847150),m=i(586347),v=i(37580),_=i(57522),C=i(294188);class E{constructor(e){this.type=_.j.PRODUCT_PAGE_PREVIEW,this.thumbnailUrl=e}}var T=i(366334),f=i(547134),A=i(56424),S=i(614006);var y=i(9461),w=i(918873),I=i(513805),b=i(408791),D=i(296540),x=i(479892),P=i(145169),O=i(249989);const R="ENABLE_3D_INIT_DELAY";class k{static enableInitDelay(){u.A.setBoolean(R,!0)}static disableInitDelay(){u.A.setBoolean(R,!1)}static shouldInitWithDelay(){return u.A.getBoolean(R)}}var V=i(505293),L=i(622597),M=i(80733),N=i(879052),H=i(738656),W=i(339599),B=i(492418),U=i(614941),F=i(241598),G=i(345617),z=i(592654),j=i(295421),X=i(976321),Y=i(85785);const q="FK_MODE_KEY_PP";class J extends n.J{constructor(){super(...arguments),this.DEVICE_HEIGHT=this.props.appContext.uiContext.getDimension("window").height,this.DEVICE_WIDTH=this.props.appContext.uiContext.getDimension("window").width,this._keyboardDidShow=null,this._keyboardDidHide=null,this._slidingSnackbarStyle=[x.C1.absoluteBottomFlex],this.isAtlasAttributeLogged=!1,this._lottieStyle={position:"absolute",bottom:0,left:0,right:0,height:200,alignSelf:"flex-end"},this._dismissKeyboard=()=>{const e=p.TV(this.props,_.j.PRODUCT_PAGE_KEYBOARD_FLIPPI);(null==e?void 0:e.flippiKeyboardShown)&&h.Keyboard.isVisible()&&h.Keyboard.dismiss()},this.onKeyboardHide=()=>{this._dismissKeyboard()},this.onKeyboardShow=e=>{this._keyboardTimerID=setTimeout((()=>{this._bringTextToFocus(e)}),250)},this._bringTextToFocus=e=>{var t,i,n,r,a,o,s,l;const d=(null===(t=this._progressiveListViewRef)||void 0===t?void 0:t.getCurrentScrollOffset())||0,c=null===(n=null===(i=this.props.widgetsData)||void 0===i?void 0:i.slots)||void 0===n?void 0:n.findIndex((e=>{var t,i;return null===(i=null===(t=null==e?void 0:e.slotData)||void 0===t?void 0:t.widget)||void 0===i?void 0:i.type.includes("INLINE_VISUAL_WIDGET_FLIPPI")})),u=c,h=d+(this.bottomBarWidgetsHeight()+(null!==(o=null===(a=null===(r=this._widgetListViewRef)||void 0===r?void 0:r._stickyFooterLayout)||void 0===a?void 0:a.height)&&void 0!==o?o:0))+54;if(u&&-1!==u){const e=null===(s=this._progressiveListViewRef)||void 0===s?void 0:s.getLayout(u);if(e&&h<e.y){const e=p.TV(this.props,_.j.PRODUCT_PAGE_KEYBOARD_FLIPPI);(null==e?void 0:e.flippiKeyboardShown)&&(null===(l=this._progressiveListViewRef)||void 0===l||l.scrollToOffset(0,h,!0))}}},this._renderSlidingBottomSnackbar=()=>{if(this._shouldRenderSlidingBottomSnackbar())return D.createElement(F.az,{style:[this._slidingSnackbarStyle,{bottom:this.bottomBarWidgetsHeight()}]},D.createElement(z.B,{data:this.state.slidingSnackbarData,actionDispatcher:this._actionDispatcher}))},this._shouldPlayLottieAnimation=()=>{var e,t,i;return!(!(null===(i=null===(t=null===(e=this._animationData)||void 0===e?void 0:e.actionMeta)||void 0===t?void 0:t.mediaValue)||void 0===i?void 0:i.url)||this.state.lottieAnimationComplete)},this.renderFloating=()=>{var e,t;return(null===(t=null===(e=this.props.widgetsData)||void 0===e?void 0:e.floatingSlots)||void 0===t?void 0:t.length)?D.createElement(V.A,{dlsWidgetBuilder:this.dlsWidgetBuilder,floatingSlots:this.props.widgetsData.floatingSlots,stickyFooterHeight:48,pageInfo:this.getPageInfo(),appContext:this.props.appContext,actionDispatcher:this.props.actionDispatcher}):null},this.shouldDelayPageLoad=()=>o.Ay.isPageLoadDelayEnabled()&&this._isFirstPageLoad,this.getScrollDirection=e=>{var t;if(!!!l.A.getExperimentValue("ppOptimisationEnabled"))return void this.props.actionDispatcher(new s.e(e));const i=null===(t=this.props.pageInstanceData)||void 0===t?void 0:t[O.z.PRODUCT_PAGE_SCROLL_DATA];(null==i?void 0:i.pageDirection)!==e&&this.props.actionDispatcher(new s.e(e))},this.getPageInfo=e=>{const t=this.appBarWidgetsHeight(),i=this.bottomBarWidgetsHeight(),n=y.E.getPageInfo({pageInstanceData:e?e.pageInstanceData:this.props.pageInstanceData,pageDataResponse:e?e.pageDataResponse:this.props.pageDataResponse,volatileData:e?e.volatileData:this.props.volatileData,pageMeta:e?e.pageMeta:this.props.pageMeta,pageLayoutInfo:{appBarHeight:t,bottomBarHeight:i}},this.getVisibleIndices);if((null==n?void 0:n.volatileData)&&this.isPerceptivePageLoadEnabled()){const e=this.props.pageMeta;n.volatileData[_.j.PRODUCT_PAGE_PREVIEW]=new E(null==e?void 0:e.thumbnailUrl)}return(0,y.S)(n,this.props.widgetsData)},this.getPreviewSlotsData=()=>{var e,t,i;const n=this.props.pageMeta,r="Mobile"===(null===(t=null===(e=null==n?void 0:n.previewData)||void 0===e?void 0:e.tracking)||void 0===t?void 0:t.superCategory),a=null===(i=null==n?void 0:n.previewData)||void 0===i?void 0:i.value;if(!(r&&this.isPerceptivePageLoadEnabled()&&a&&(null==n?void 0:n.thumbnailUrl)))return;const o={browseCardData:a,pageUri:n.pageURI},s=(l=o,d=n.thumbnailUrl,[{slotData:{slotType:A.n.WIDGET,id:10,parentId:0,layoutParams:{elevation:1,backgroundColor:"#FFFFFF",inAppBar:!1,margin:"0,64,0,0",orientation:"",widgetHeight:150,widgetWidth:12,overlayParamsMap:{wishlist:1}},dataId:"-134526164",elementId:"10-MULTIMEDIA",hasWidgetDataChanged:!0,ttl:3e3,widget:{type:S.n.MULTIMEDIA,viewType:"Carousal",data:{multimediaComponents:[{value:{type:"MediaValue",aspectRatio:"1:1",contentType:"IMAGE",source:"ORGANIC",url:d}}]}}},position:0,rowId:0,behaviour:0,elementId:"10-MULTIMEDIA",columnSpan:12,slotType:T.B8.NORMAL,pageNumber:0},{slotData:{slotType:A.n.WIDGET,id:12,parentId:0,layoutParams:{backgroundColor:"#FFFFFF",elevation:0,inAppBar:!1,margin:"0,0,0,0",orientation:""},dataId:"-1005369018",elementId:"12-PP_CONTENTFUL_LOADER",hasWidgetDataChanged:!0,ttl:3e3,widget:{type:f.A.PP_CONTENTFUL_LOADER,data:l}},position:1,rowId:0,behaviour:0,elementId:"12-PP_CONTENTFUL_LOADER",columnSpan:12,slotType:T.B8.NORMAL,pageNumber:0}]);var l,d;return{slots:s,totalSlots:s.length}},this._onTitleClick=()=>{var e,t;if(o.Ay.isPPSearchBarClickEnabled()){if(o.Ay.isPPSearchBarClickLogEnabled()){const i=new I.fG;i.eventName="SEARCH_BAR_CLICK",i.value=`${null===(e=this.props.pageMeta)||void 0===e?void 0:e.pageType}_${null===(t=this.props.pageMeta)||void 0===t?void 0:t.marketPlace}`,I.LB.logCustomEvents([i])}const i=w.j.getSearchPageNavigationAction(this.props.pageMeta,this.props.pageMeta.marketPlace,void 0,void 0,{});this.props.actionDispatcher(i)}},this.updateSnackBarData=e=>{var t,i;const n=null===(i=null===(t=null==e?void 0:e.snackBar)||void 0===t?void 0:t.action)||void 0===i?void 0:i.params;n&&(0,X.CM)(n)&&(this._animationData=new j.IG({mediaValue:n,style:this._lottieStyle})),this.setState({slidingSnackbarData:e,lottieAnimationComplete:!1})},this.renderBottomBarShadow=()=>null}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount(),r.$.enableDisableFlyout(!1),k.enableInitDelay(),d.P8.sendFirebaseEventData(d.kA.PRODUCT_PAGE_LOAD,{processor:this.getProcessorType()})}componentWillUnmount(){var e,t;super.componentWillUnmount(),null===(e=this._keyboardDidShow)||void 0===e||e.remove(),null===(t=this._keyboardDidHide)||void 0===t||t.remove(),U.A.getInstance().off(G.A.NEP_PRICE_UPDATED,this.updateSnackBarData),r.$.enableDisableFlyout(!0),this._keyboardTimerID&&clearTimeout(this._keyboardTimerID)}handleOneViewBehaviour(e){var t,i;e?(this.disableAutoCollapseMountForDraggable=!0,this.isNewLogicForAppBarHeightEnabled=!!(null===(i=null===(t=this.props.widgetsData)||void 0===t?void 0:t.draggableSlots)||void 0===i?void 0:i.length)&&"android"===h.Platform.OS,this.hideDraggableHandleIcon=!0,this.draggableHandleThemeableColor=!0,this.useOffsetLayoutProvider=!0,this.draggableHandleImageSource=B.draggableHandleWithoutShadow,this.passDraggableVerticalScrollToRlV=!0,this.setDraggableContainerKey=!0,this.fixDraggableJitterOniOS=!0):(this.disableAutoCollapseMountForDraggable=void 0,this.isNewLogicForAppBarHeightEnabled=!1,this.hideDraggableHandleIcon=void 0,this.draggableHandleThemeableColor=void 0,this.useOffsetLayoutProvider=void 0,this.draggableHandleImageSource=void 0,this.passDraggableVerticalScrollToRlV=void 0,this.setDraggableContainerKey=void 0,this.fixDraggableJitterOniOS=void 0)}shouldComponentUpdate(e,t){var i,n,r,a,o,s,l,d,c,u;const p=e.pageMeta.fromBackPress,m=null===(i=e.pageDataResponse)||void 0===i?void 0:i.pageContext,v=null===(n=this.props.pageDataResponse)||void 0===n?void 0:n.pageContext,_=(0,C.A)(null===(o=null===(a=null===(r=null==m?void 0:m.fdpEventTracking)||void 0===r?void 0:r.events)||void 0===a?void 0:a.psi)||void 0===o?void 0:o.ed,null===(d=null===(l=null===(s=null==v?void 0:v.fdpEventTracking)||void 0===s?void 0:s.events)||void 0===l?void 0:l.psi)||void 0===d?void 0:d.ed);return(this.state.isPageViewTracked||!t.isPageViewTracked||"web"!==h.Platform.OS&&p)&&!_||((0,g.Qj)(m,this.props.actionDispatcher),this.isExhaustiveTrackingEnabled()&&void 0===this.ppEventsTracker&&(this.ppEventsTracker=new Y.m(e.pageDataResponse)),(null===(c=e.pageMeta)||void 0===c?void 0:c.fromBackPress)||null===(u=this.ppEventsTracker)||void 0===u||u.onPsiFired()),super.shouldComponentUpdate(e,t)}componentDidMount(){var e,t;if(super.componentDidMount(),o.Ay.isAtlasPPExperimentEnabled()&&l.A.getExperimentValue("atlas_pp"),this._keyboardDidShow=h.Keyboard.addListener("keyboardDidShow",this.onKeyboardShow),this._keyboardDidHide=h.Keyboard.addListener("keyboardDidHide",this.onKeyboardHide),U.A.getInstance().on(G.A.NEP_PRICE_UPDATED,this.updateSnackBarData),L.A.addListener(M.th.ON_SCROLL_DRAG_BEGIN,this.onKeyboardHide,this),this.props.loadingState===a.LA.loaded&&"web"===h.Platform.OS){const i=null===(t=null===(e=this.props)||void 0===e?void 0:e.pageDataResponse)||void 0===t?void 0:t.pageContext;(0,g.Qj)(i,this.props.actionDispatcher)}}saveMallModeState(e){u.A.setString(q,e)}UNSAFE_componentWillReceiveProps(e,t){var i,n,r,a,o,s,l,d,c,h;if(super.UNSAFE_componentWillReceiveProps(e,t),(null===(r=null===(n=null===(i=null==e?void 0:e.pageDataResponse)||void 0===i?void 0:i.trackingContext)||void 0===n?void 0:n.tracking)||void 0===r?void 0:r.isMallMode)!==(null===(l=null===(s=null===(o=null===(a=this.props)||void 0===a?void 0:a.pageDataResponse)||void 0===o?void 0:o.trackingContext)||void 0===s?void 0:s.tracking)||void 0===l?void 0:l.isMallMode)){const t="true"===(null===(h=null===(c=null===(d=null==e?void 0:e.pageDataResponse)||void 0===d?void 0:d.trackingContext)||void 0===c?void 0:c.tracking)||void 0===h?void 0:h.isMallMode);!t||"elite"===u.A.getString(q)&&u.A.getString(v.Ml)?t||this.saveMallModeState("blue"):(this.saveMallModeState("elite"),m.j.updateNavAndAppBarStateForMallMode(this.props.actionDispatcher,this.props.pageMeta.marketPlace,this.props.appContext.locale,this.props.viewModel.navigationBarViewModel,this.props.viewModel.appBarViewModel,void 0,!0))}}_shouldRenderSlidingBottomSnackbar(){var e,t;const i=!!(null===(t=null===(e=this.props.widgetsData)||void 0===e?void 0:e.footerSlots)||void 0===t?void 0:t.length);return!!this.state.slidingSnackbarData&&i}renderBottomBarInternal(e){const t=super.renderBottomBarInternal(e);return D.createElement(D.Fragment,null,this._renderSlidingBottomSnackbar(),t)}render(){var e,t,i,n,r;const a=super.render(),s=null!==(i=null===(t=null===(e=this.props.pageDataResponse)||void 0===e?void 0:e.pageContext)||void 0===t?void 0:t.listingId)&&void 0!==i?i:"Not_Available",l=[x.C1.absoluteOverlay,{height:"100%",width:"100%"}],d=this.props.appContext.uiContext.windowFrame.width,c=o.Ay.enableOneView()?H.ZP.Provider:D.Fragment;return D.createElement(c,{value:(0,W.getScreenSize)(d)},D.createElement(h.View,Object.assign({},(0,N.Z)(`Product_Page_Listing_Id_${s}`,!1,!0),{style:x.C1.flex}),(null===(r=null===(n=this.props.pageDataResponse)||void 0===n?void 0:n.layoutParams)||void 0===r?void 0:r.backgroundAnimation)&&D.createElement(h.View,{style:l},D.createElement(b.n,{sourceUrl:this.props.pageDataResponse.layoutParams.backgroundAnimation,style:{height:this.DEVICE_HEIGHT,width:this.DEVICE_WIDTH},preserveAspectRatio:"xMaxYMax slice",speed:1,loop:!0,autoPlay:!0})),a,"web"!==h.Platform.OS&&this._shouldPlayLottieAnimation()&&this.renderLottieAnimation(this._animationData)))}resetAnimationData(){this._animationData=void 0}shouldInitiateRenderAheadInMount(e){const t="oneView"===e;return!this.isAtlasAttributeLogged&&t&&(0,o.EO)()&&(this.isAtlasAttributeLogged=!0,I.LB.addAttributes([{key:"ATLAS_PP",value:"true"}])),!(0,o.o_)()||!t}isExhaustiveTrackingEnabled(){return(0,o.Nk)()}getMaxRenderAheadOffset(){return l.A.getExperimentValue("dynamicRenderAheadOffsetOnPP")?o.Ay.setProductPageRenderAheadOffset():Number.MAX_VALUE}shouldEnableOnLayoutMeasurement(){return(0,o.zK)()}isPerfMetricsEnabled(){return!!l.A.getExperimentValue(c.ZLM.ENABLE_PERF_VIEW_ON_CORE_PAGES)}getPageCategory(e){var t,i,n;const r=null===(t=null==e?void 0:e.pageDataResponse)||void 0===t?void 0:t.pageContext;return{category:null===(i=null==r?void 0:r.analyticsData)||void 0===i?void 0:i.category,vertical:null===(n=null==r?void 0:r.analyticsData)||void 0===n?void 0:n.vertical}}geActionParamNavigationBarColor(e){var t,i;const n=!0===l.A.getExperimentValue("asSearchBarTheme"),r=p.KJ(null===(i=null===(t=this.props.widgetsData)||void 0===t?void 0:t.headerSlots)||void 0===i?void 0:i[0]);if(!(n&&r&&(0,P.$L)(r)))return super.geActionParamNavigationBarColor(e)}getAppBarScrollEffect(e,t){const i=l.A.getExperimentValue("hideSearchBarOnScroll");return(0,P.$L)(t)&&i?3:super.getAppBarScrollEffect(e,t)}getContentOffset(e){var t,i,n;const r=this.props.pageMeta,a="Mobile"===(null===(i=null===(t=null==r?void 0:r.previewData)||void 0===t?void 0:t.tracking)||void 0===i?void 0:i.superCategory),o=null===(n=null==r?void 0:r.previewData)||void 0===n?void 0:n.value;return a&&this.isPerceptivePageLoadEnabled()&&o&&(null==r?void 0:r.thumbnailUrl)?{x:0,y:this.appBarWidgetsHeight()||64}:super.getContentOffset(e)}isPerceptivePageLoadEnabled(){return!!l.A.getExperimentValue(c.ZLM.ENABLE_PERCEPTIVE_PAGE_LOAD)}getPageSpecificTestIdIdentifier(){var e,t,i;return null===(i=null===(t=null===(e=this.props.pageDataResponse)||void 0===e?void 0:e.pageContext)||void 0===t?void 0:t.analyticsData)||void 0===i?void 0:i.superCategory}}},239814:(e,t,i)=>{"use strict";i.d(t,{A:()=>M});var n=i(333346),r=i(787921),a=i(166057),o=i(311676),s=i(166025),l=i(390437),d=i(580555),c=i(274932),u=i(672748),h=i(847150),p=i(279037),g=i(537415),m=i(283774),v=i(296540),_=i(877293),C=i(6552),E=i(738221),T=i.n(E),f=i(428604),A=i(410752),S=i(420721),y=i(479892),w=i(670563),I=i(470496),b=i(427286),D=i(316102),x=i(329379),P=i(45426),O=i(879052),R=i(638282),k=i(773830);const V="web"===_.Platform.OS;class L extends v.PureComponent{constructor(e,t){super(e,t),this._removeCartLoader=!1,this.buttonHeight=x.A.getLineHeight(C.i5)+2*C.C9,this.kilosButtonHeight=this.buttonHeight-4,this.flagATCC=!1,this.onError=(e,t)=>{this.props.onQuantitySelected&&this.props.productId&&this.props.onQuantitySelected(this.props.productId),e&&e.errorMessage&&f.WU(e.errorMessage);const i=e&&e.quantity?e.quantity:t||0;this.setState({showLoader:!1,cartQuantity:i})},this.showLoader=()=>{this.setState({showLoader:!this._removeCartLoader})},this.editBasket=(e,t)=>{this.props.dispatchAction&&this.props.inQuantitySelector&&this.props.onQuantitySelected&&this.props.dispatchAction(r.A.CHANGE_PAGE_MASKED_LOADING_STATE);const i=this.state.cartQuantity,{minQuantity:n}=this.props,a=t?n&&0===i?n:i+1:n&&i===n?0:i-1;this.props.handleEditBasket?this.props.handleEditBasket(a):(this.setState({cartQuantity:a,showLoader:!this._removeCartLoader,previousQuantity:i}),this.props.inQuantitySelector?this._onSwatchAddedToBasketDebounced(i,a):((0,R.Zm)(!t,a,this.props.selectedLid,this.props.productId,this.props.dispatcher),this._makeEditBasketCallDebounced(i,a)))},this.state={cartQuantity:e.cartQuantity||0,showLoader:!1},this._makeEditBasketCallDebounced=T()(this._makeEditBasketCall,D.KL),this._onSwatchAddedToBasketDebounced=T()(this._onSwatchAddedToBasket,D.KL),this._removeCartLoader=!(e.showLoader&&!V)||!e.showLoader,this.props.selectedLid&&(this.selectedLID=this.props.selectedLid),this.props.tracking&&(this.impressionInfo=new I.A(this.props.tracking.impressionId)),this.productId=this.props.productId}componentDidUpdate(e,t,i){e.cartQuantity!==this.props.cartQuantity&&this.setState(Object.assign(Object.assign({},t),{cartQuantity:this.props.cartQuantity||0}))}render(){var e;const t=null!==(e=this.props.buttonText)&&void 0!==e?e:(0,S.ak)(this.context.locale,{id:A.H.rex_string_ADD_NEW}),i=this.props.hidePlusButton||!1,n=this.props.isKilos,r=i?n?w.Jy.white:w.Jy.royalBlue:w.Cf.fkBlueColor;return this.renderBasketButton(i,t,r)}renderBasketButton(e,t,i){var n;const{borderRadius:r,background:a,iconColor:o,borderWidth:s,borderColor:l}=null!==(n=this.props.cartQuantityButtonStyle)&&void 0!==n?n:{},d=this.props.isKilos,c=this.getIconColor(o,d);return v.createElement(_.View,Object.assign({},(0,O.Z)("Basket_Add_Btn")),this.state.cartQuantity?null:v.createElement(P.S,Object.assign({},(0,O.Z)("Basket_Add_Btn_Container"),{onPress:this.editBasket,onPressParam:!0,interactionType:{haptic:k.iX.TOUCH}}),v.createElement(_.View,{style:[C.Ay.parentView,e&&(d?y.C1.borderColorButterCup800:y.C1.borderColorRoyalBlue),C.Ay.parentViewBorder,this.props.customButtonViewStyle,{height:this.buttonHeight}]},v.createElement(_.View,{style:y.C1.rowCenter},v.createElement(_.Text,Object.assign({},(0,O.Z)("Basket_Add_Text"),{style:[C.Ay.addToBasketText,e&&(d?y.XT.butterCup800Color:y.XT.buttonTextRoyalBlue)]}),t),!this.props.hidePlusButton&&v.createElement(v.Fragment,null,v.createElement(_.View,{style:[C.Ay.verticalBar,e&&y.C1.backgroundRoyalBlue,{height:this.buttonHeight-2}]}),this.getCounterSign(!0,void 0,void 0,2,this.buttonHeight-2))))),this.state.cartQuantity>0?v.createElement(_.View,{style:[d?C.Ay.parentViewKilos:C.Ay.parentView,y.C1.rowWithoutFlex,{height:this.buttonHeight},this.props.customButtonViewStyle]},v.createElement(P.S,{onPress:this.editBasket,onPressParam:!1,interactionType:{haptic:k.iX.TOUCH}},this.getCounterSign(!1,null!=a?a:i,c,null!=r?r:2,void 0,l,s)),this.state.showLoader?v.createElement(b.A,{size:"small",color:i,style:C.Ay.loaderStyle}):v.createElement(_.Text,{style:d?C.Ay.counterTextKilos:C.Ay.counterText},this.state.cartQuantity),v.createElement(P.S,{onPress:this.editBasket,onPressParam:!0,interactionType:{haptic:k.iX.TOUCH}},this.getCounterSign(!0,null!=a?a:i,c,null!=r?r:2,void 0,l,s))):null)}getCounterSign(e,t,i,n,r,a,o){const s=this.props.isKilos;return v.createElement(_.View,{style:[C.Ay.counterButton,{backgroundColor:t||w.Jy.lightBlueBackgroundColor,borderRadius:n,height:s?this.kilosButtonHeight:r||this.buttonHeight,borderColor:null!=a?a:w.JO,borderWidth:null!=o?o:0}]},v.createElement(_.View,{style:[C.Ay.hBar,{backgroundColor:i||w.Cf.fkBlueColor}]}),e&&v.createElement(_.View,{style:C.Ay.vBarContainer},v.createElement(_.View,Object.assign({},(0,O.Z)("Basket_Add_Plus"),{style:[C.Ay.vBar,{backgroundColor:i||w.Cf.fkBlueColor}]}))))}getIconColor(e,t){return e||(t?w.Jy.butterCup_800:w.Jy.white)}}L.contextType=S.V8;class M extends L{constructor(){super(...arguments),this.onSuccess=e=>{var t,i;this.props.onQuantitySelected&&this.props.productId&&this.props.onQuantitySelected(this.props.productId),this.setState({showLoader:!1});const n=null===(t=this.props)||void 0===t?void 0:t.tracking;let r;const a=null==n?void 0:n.contextType,l=null===(i=this.props)||void 0===i?void 0:i.dfm;if(e&&(r=(0,h.vG)(e)),this.flagATCC&&this.selectedLID){let e,t,i,d;n&&Object.keys(n).length&&(n.findingMethod&&(e={findingMethod:n.findingMethod}),t={sellerId:n.sellerId,listingId:this.selectedLID,isAvailable:(0,h.F4)(null==n?void 0:n.isAvailable),isPreBook:(0,h.F4)(null==n?void 0:n.preBookAvailable),isFA:(0,h.F4)(null==n?void 0:n.faAvailable),isServiceable:(0,h.F4)(null==n?void 0:n.isServiceable),isFBF:(0,h.F4)(null==n?void 0:n.fbfAvailable),listingState:null==n?void 0:n.lisitingState,availabilityStatus:null==n?void 0:n.availabilityStatus},i={mrp:n.mrp?Number(n.mrp):void 0,fsp:n.fsp?Number(n.fsp):void 0},n.returnPolicy&&(d={returnPolicy:n.returnPolicy}));const c=new o.jto(this.selectedLID,a||s.N.WIDGET,void 0,this.impressionInfo,e,this.productId,void 0,t,d,void 0,void 0,void 0,void 0,i,void 0,void 0,l,r,void 0,void 0,void 0,null==n?void 0:n.contentMarketPlace,void 0,void 0,void 0,void 0,!0);this.props.trackDGEvent(c)}else if(this.productId&&n&&Object.keys(n).length){const e={iid:n.impressionId,pid:this.productId,lid:this.selectedLID,ua:this.state.cartQuantity,pua:this.state.previousQuantity,pr:n.mrp?Number(n.mrp):void 0,fp:n.finalPrice?Number(n.finalPrice):void 0,basketValues:r,contentMarketPlace:n.contentMarketPlace};this.props.trackDGEvent(new o.Upy(m.tb.quantity_change_remove_item,e))}}}_onSwatchAddedToBasket(e,t){var i;if(this.props.selectedLid){const n={previousQuantity:e,quantity:t,lid:this.props.selectedLid,onError:this.onError,productId:this.props.productId,productSwatchInfo:this.props.productSwatchInfo||this.props.minProductSwatchInfo,swatchIndex:this.props.swatchIndex,onSuccess:this.onSuccess,FOAIndex:this.props.FOAIndex,triggerOmnitureCall:this.props.triggerOmnitureCall,additionalParams:this.props.additionalParams||{},shopId:this.props.shopId,showToastOnSuccess:e<t&&this.props.showToastOnSuccess},a=new c.b(n);if(this.props.dispatchAction&&(this.showLoader(),this.props.dispatchAction(r.A.GROCERY_SWATCH_BASKET_ADD,a)),this.props.tracking){if(e<t){this.flagATCC=!0;const e=null===(i=this.props.tracking)||void 0===i?void 0:i.contentMarketPlace;if(this.props.productId){const t=new o.ytk((0,u.lk)(),this.props.productId,this.props.marketplace,this.props.selectedLid,void 0,e);this.props.trackDGEvent(t)}}else this.flagATCC=!1;this._fireDCEEvent(this.props.tracking,e,t)}this.props.closeModal&&this.props.closeModal()}}_makeEditBasketCall(e,t){var i,s,l,d,c,h,m,v,_,C;let E=[];if(this.props.getVisibleIndices&&(E=this.props.getVisibleIndices()),this.props.selectedLid){const T={previousQuantity:e,quantity:t,lid:this.props.selectedLid,onError:this.onError,visibleIndices:E,productSwatchInfo:this.props.productSwatchInfo||this.props.minProductSwatchInfo,onSuccess:this.onSuccess,FOAIndex:this.props.FOAIndex,triggerOmnitureCall:this.props.triggerOmnitureCall,shopId:this.props.shopId,showToastOnSuccess:e<t&&this.props.showToastOnSuccess,marketplace:this.props.marketplace,price:null!==(s=null===(i=this.props.price)||void 0===i?void 0:i.toString())&&void 0!==s?s:null===(d=null===(l=this.props.tracking)||void 0===l?void 0:l.fsp)||void 0===d?void 0:d.toString(),productId:this.props.productId},f=new n.n(T);if(this.props.dispatchAction){this.showLoader(),(null===(c=this.props.inlineRecoAction)||void 0===c?void 0:c.type)&&0===e&&t>e&&this.props.dispatchAction(this.props.inlineRecoAction.type,this.props.inlineRecoAction);const i=null===(h=this.props.actionParams)||void 0===h?void 0:h.type;if(i===a.a.IN_BASKET_ASSISTANT_ADD){const n=Object.assign(Object.assign({},this.props.actionParams),{uniqueViewId:this.props.uniqueViewId,productTrackingDetails:{productId:this.props.productId},quantity:t,previousQuantity:e});this.props.dispatchAction(r.A.MAPI_ACTION,new p.Bj({loginType:g.G.LOGIN_NOT_REQUIRED,params:n,type:i,screenType:"addToBasket",tracking:null!==(m=this.props.tracking)&&void 0!==m?m:{}},Object.assign(Object.assign({},this.props.tracking),{scAdd:t>e})))}else this.props.dispatchAction(r.A.BROWSE_BASKET_ADD,f)}if(this.props.tracking){if(e<t){this.flagATCC=!0;const e=null===(v=this.props)||void 0===v?void 0:v.tracking,t=null==e?void 0:e.marketPlace;let i;if((null==e?void 0:e.findingMethod)&&(i={findingMethod:e.findingMethod}),null===(_=this.props)||void 0===_?void 0:_.productId){const e=null===(C=this.props.tracking)||void 0===C?void 0:C.contentMarketPlace,n=new o.ytk((0,u.lk)(),this.props.productId,t,this.props.selectedLid,i,e);this.props.trackDGEvent(n)}}else this.flagATCC=!1;this._fireDCEEvent(this.props.tracking,e,t)}}}_fireDCEEvent(e,t,i){var n,r;const a=i>t?l.O.INCREASE_UNIT:l.O.DECREASE_UNIT,s=new d.Ay(e),c=null===(n=this.props)||void 0===n?void 0:n.widgetType,u=null===(r=this.props)||void 0===r?void 0:r.widgetViewType;if(!(null==s?void 0:s.getWidgetType())&&c&&(null==s||s.setWidgetType(c)),!(null==s?void 0:s.getViewType())&&u&&(null==s||s.setViewType(u)),s){const e=new o.bTP(a,this.props.uniqueViewId,s);this.props.trackDGEvent(e)}}}},241811:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function r(e,t){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(r=e[i],a=t[i],!(r===a||n(r)&&n(a)))return!1;var r,a;return!0}const a=function(e,t){var i;void 0===t&&(t=r);var n,a=[],o=!1;return function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return o&&i===this&&t(r,a)||(n=e.apply(this,r),o=!0,i=this,a=r),n}}},242276:(e,t,i)=>{var n=i(251612),r=i(426196);t.decode=function(e,t){return(!t||t<=0?r.XML:r.HTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?r.XML:r.HTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?n.XML:n.HTML)(e)},t.encodeXML=n.XML,t.encodeHTML4=t.encodeHTML5=t.encodeHTML=n.HTML,t.decodeXML=t.decodeXMLStrict=r.XML,t.decodeHTML4=t.decodeHTML5=t.decodeHTML=r.HTML,t.decodeHTML4Strict=t.decodeHTML5Strict=t.decodeHTMLStrict=r.HTMLStrict,t.escape=n.escape},244034:(e,t,i)=>{"use strict";i.d(t,{A:()=>D});var n=i(296540),r=i(521722),a=i(793028),o=i(424803),s=i(876505),l=i(532655),d=i(938777),c=i(790260),u=i(809400),h=i(778358),p=i(877293),g=i(479892),m=i(45426),v=i(110941),_=i(352254),C=i(670563),E=i(235232),T=i(398581),f=i(331547),A=i(912618),S=i(911294),y=i(879052);const w=(e,t)=>{const i=e.width||t,n=v.A.getImageRatio(e.aspectRatio);return{width:i,height:n?n*i:e.height||i}},I=e=>{var t;const i=null===(t=e.data)||void 0===t?void 0:t.value;if(!i)return null;const r=e.width&&e.height?{width:e.width,height:e.height}:w(null==i?void 0:i.primaryImage,90),a=(null==i?void 0:i.playIcon)&&w(null==i?void 0:i.playIcon,34),o=i.borderRadius||0,s=[g.C1.contentAlignCenter,g.C1.positionAbsolute,{width:r.width,height:r.height,borderRadius:o}],l=[g.C1.positionAbsolute,{width:r.width,height:r.height,backgroundColor:C.Jy.black,opacity:.7,borderRadius:o}],d=[g.XT.fontMedium_16,g.XT.whiteText],c=[e.style,g.C1.overflowHidden,{borderRadius:o,width:r.width}],u=[g.C1.absolute_bottom_position,{height:r.height/4,borderRadius:o}],h={height:r.height/4,width:r.width};return n.createElement(m.S,Object.assign({},(0,y.Z)(`Review_Vedio_Container_${e.index}`),{onPress:e.didClickVideo,onPressParam:e.action,disableFeedback:!0}),n.createElement(p.View,{style:c},n.createElement(_.A,{source:i.primaryImage.dynamicImageUrl,height:r.height,width:r.width,style:r,roundedCorner:o,resizeMode:"cover"}),i.playIcon&&a&&n.createElement(p.View,{style:g.C1.absoluteCenter},n.createElement(_.A,Object.assign({},(0,y.Z)("Review_Vedio_Play_Icon"),{disableDefaultPlaceholderImage:!0,source:i.playIcon.dynamicImageUrl,height:a.height,width:a.width}))),n.createElement(p.View,{style:u},i.gradient?n.createElement(T.W,{gradientColors:[i.gradient.startBleedingColor,i.gradient.stopBleedingColor],gradientStart:f._.TOP,gradientEnd:f._.BOTTOM,style:h,borderBottomRightRadius:o,borderBottomLeftRadius:o}):null,(e=>{if(!e)return null;const{minutesLeftValue:t,secondsLeftValue:i}=A.A.getTimerObjectV2(e.timeRemaining),r=i<10?"0"+i:i,a=[g.XT.fontMedium,g.C1.absolute_bottom_left_4,{fontSize:e.textSize||16,color:e.textColor||C.Jy.white}];return n.createElement(p.Text,Object.assign({},(0,y.Z)("Review_Vedio_Duration"),{style:a}),`${t}:${r}`)})(i.timer)),"OVERLAY_COUNT_VIEW"===i.viewType&&i.additionalVideoCount?n.createElement(p.View,{style:s},n.createElement(p.View,{style:l}),n.createElement(p.Text,{style:d},((e,t)=>{const i=E.A.getRelativeNumber(e,t);return S.Zx+i})(i.additionalVideoCount,1))):null))};var b;!function(e){e.REVIEW_VIDEO="ReviewVideo",e.REVIEW_IMAGE="ReviewImage"}(b||(b={}));class D extends n.PureComponent{constructor(e){super(e),this._getView=e=>n.createElement(u.E,{data:e,renderItem:this._renderReviewMedia,calculateDimensions:this._calculateDimensions,viewStyle:a.H.productImageContainer,containerStyle:this._viewStyle,disableRecycling:!0,forceNonDeterministicRendering:!1}),this._calculateDimensions=()=>({width:this._mediaSize.width+r.H7,height:this._mediaSize.height}),this._renderReviewMedia=(e,t,i)=>{var n;switch(null===(n=t.value)||void 0===n?void 0:n.type){case"ReviewImage":return this._renderReviewImages(t,i);case"ReviewVideo":return this._renderReviewVideos(t,i);default:return null}},this._getReviewImageThumbnail=(e,t,i)=>n.createElement(h.A,{disableAdditionalImageCount:this.props.disableAdditionalMediaCount,productImageContainerStyle:this.props.productMediaContainerStyle,didClickImage:this._didClickImage,action:e,index:t,data:i,imageSize:this._mediaSize}),this._renderReviewImages=(e,t)=>{var i,r;const a=null===(i=null==e?void 0:e.action)||void 0===i?void 0:i.params,o=Object.assign(Object.assign({},e.action),{params:Object.assign(Object.assign({},a),{index:t})}),l=null===(r=null==e?void 0:e.value)||void 0===r?void 0:r.imageId,d=this._getViewTrackingInfo(t,l);return d?n.createElement(s.A,{key:l||t,trackingInfo:d},this._getReviewImageThumbnail(o,t,e)):this._getReviewImageThumbnail(o,t,e)},this._renderReviewVideos=(e,t)=>{var i,r;const a=null===(i=null==e?void 0:e.action)||void 0===i?void 0:i.params,o=Object.assign(Object.assign({},e.action),{params:Object.assign(Object.assign({},a),{index:t})}),s=(null===(r=null==e?void 0:e.value)||void 0===r?void 0:r.videoId)||t;return n.createElement(I,{key:s,width:this._mediaSize.width,height:this._mediaSize.height,didClickVideo:this._didClickVideo,data:e,action:o})},this._getViewTrackingInfo=(e,t)=>{if(!t||!this.props.trackingParams.fetchId)return;return new o.A(this.props.trackingParams.fetchId,e,t,this.props.trackingParams.productId,this.props.trackingParams.reviewId)},this._getCollectionViewTrackingData=()=>{const e=this.props.trackingParams.fetchId,t=this._getImageCount(),i=this._getImageCount(),n=this.props.trackingParams.productId,r=this.props.trackingParams.reviewId;if(!e||!t||!i)return;return new c.A(e,t,i,n,r)},this._didClickVideo=(e,t)=>{if(t){const e=Object.assign(Object.assign({},t),{params:Object.assign(Object.assign({},t.params),{pageKey:t.params.videoId,SELECTED_PAGE_ID:t.url})});this.props.didClickVideo(e)}},this._didClickImage=(e,t)=>{if(t){const e=this.props.trackingParams.sProduct,i=Object.assign(Object.assign({},t),{params:Object.assign(Object.assign({},t.params),{SELECTED_PAGE_ID:t.url}),tracking:Object.assign(Object.assign({},t.tracking),{source:t.params.screenName===d.BcD?this.props.trackingParams.source:l.A.Product})});e&&(i.tracking.sProduct=e);const n=i.params.imageId;this.props.didClickImage(i,n)}};const t=e.mediaMarginBottom?e.mediaMarginBottom:r.TO;this._mediaSize=D.getMediaSize(e),this._viewStyle={height:this._mediaSize.height+t}}static getDimensions(e){var t,i;switch(e.type){case"ReviewImage":const n=e,r=null===(t=n.imageStyle)||void 0===t?void 0:t.width,a=null===(i=n.imageStyle)||void 0===i?void 0:i.height;return r&&a?{width:r,height:a}:void 0;case"ReviewVideo":const o=e,s=o.primaryImage.width,l=v.A.getImageRatio(o.primaryImage.aspectRatio),d=l?l*s:o.primaryImage.height||s;return s&&d?{width:s,height:d}:void 0;default:return}}static getMediaSize(e){var t,i;const n=(null===(t=e.media[0])||void 0===t?void 0:t.value)&&D.getDimensions(null===(i=e.media[0])||void 0===i?void 0:i.value);if(n)return n;const a=e.screenWidth-32,o=e.mediaSize?e.mediaSize:(a-r.H7*(e.maxMediaCount-1))/e.maxMediaCount;return{width:o,height:o}}render(){const e=this.props.media?this.props.media.slice(0,this.props.maxMediaCount):void 0;if(!e)return null;const t=this._getCollectionViewTrackingData();return t?n.createElement(s.A,{trackingInfo:t},this._getView(e)):this._getView(e)}_getImageCount(){var e;let t=0;for(const i of this.props.media)"ReviewImage"===(null===(e=i.value)||void 0===e?void 0:e.type)&&t++;return t}}},246821:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.escapeUTF8=t.escape=t.encodeNonAsciiHTML=t.encodeHTML=t.encodeXML=void 0;var r=c(n(i(882165)).default),a=u(r);t.encodeXML=v(r);var o,s,l=c(n(i(495891)).default),d=u(l);function c(e){return Object.keys(e).sort().reduce((function(t,i){return t[e[i]]="&"+i+";",t}),{})}function u(e){for(var t=[],i=[],n=0,r=Object.keys(e);n<r.length;n++){var a=r[n];1===a.length?t.push("\\"+a):i.push(a)}t.sort();for(var o=0;o<t.length-1;o++){for(var s=o;s<t.length-1&&t[s].charCodeAt(1)+1===t[s+1].charCodeAt(1);)s+=1;var l=1+s-o;l<3||t.splice(o,l,t[o]+"-"+t[s])}return i.unshift("["+t.join("")+"]"),new RegExp(i.join("|"),"g")}t.encodeHTML=(o=l,s=d,function(e){return e.replace(s,(function(e){return o[e]})).replace(h,g)}),t.encodeNonAsciiHTML=v(l);var h=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,p=null!=String.prototype.codePointAt?function(e){return e.codePointAt(0)}:function(e){return 1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536};function g(e){return"&#x"+(e.length>1?p(e):e.charCodeAt(0)).toString(16).toUpperCase()+";"}var m=new RegExp(a.source+"|"+h.source,"g");function v(e){return function(t){return t.replace(m,(function(t){return e[t]||g(t)}))}}t.escape=function(e){return e.replace(m,g)},t.escapeUTF8=function(e){return e.replace(a,g)}},248044:e=>{"use strict";e.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},249788:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(918210),r=i(90513),a=i(229833);class o{handleAction(e,t,i){const o={};return a.A.addEvent(o,r.fM.EVENT714),n.A.addPageData(o),!0}}},251612:(e,t,i)=>{var n=s(i(248044)),r=l(n);t.XML=p(n,r);var a=s(i(312396)),o=l(a);function s(e){return Object.keys(e).sort().reduce((function(t,i){return t[e[i]]="&"+i+";",t}),{})}function l(e){var t=[],i=[];return Object.keys(e).forEach((function(e){1===e.length?t.push("\\"+e):i.push(e)})),i.unshift("["+t.join("")+"]"),new RegExp(i.join("|"),"g")}t.HTML=p(a,o);var d=/[^\0-\x7F]/g,c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function u(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}function h(e){return"&#x"+(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function p(e,t){function i(t){return e[t]}return function(e){return e.replace(t,i).replace(c,h).replace(d,u)}}var g=l(n);t.escape=function(e){return e.replace(g,u).replace(c,h).replace(d,u)}},252403:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>w});var n=i(465420),r=i(296540),a=i(877293),o=i(716249),s=i(849497),l=i(864084),d=i(670563),c=i(887261);const u=a.StyleSheet.create({description:{paddingHorizontal:16,paddingVertical:8,fontSize:12,lineHeight:18,color:d.J3.blackWithLargeAlpha},container:{display:"flex",alignItems:"center"},headerContainer:{flexDirection:"row",alignItems:"baseline",paddingHorizontal:8,paddingVertical:16},headerTitle:{fontSize:16,fontFamily:c.A$},title:{color:d.J3.black,paddingHorizontal:16,paddingTop:8,fontFamily:c.$u},imageStyle:{paddingRight:8},descriptionStyle:{fontSize:12,fontFamily:c.A$,includeFontPadding:!0,color:d.J3.blackWithLargeAlpha},richImageWrapper:{display:"flex",flexDirection:"row",paddingVertical:8,paddingHorizontal:16},contentCardWrapper:{display:"flex"}}),h=a.Dimensions.get("window").width,p=h-32;class g extends r.PureComponent{render(){var e,t,i,n;const{description:o,richContent:d}=this.props.data,c=null===(e=null==d?void 0:d.video)||void 0===e?void 0:e.videoId,h=null===(t=null==d?void 0:d.video)||void 0===t?void 0:t.videoUrl,g=null===(n=null===(i=null==d?void 0:d.video)||void 0===i?void 0:i.thumbnailImage)||void 0===n?void 0:n.dynamicImageUrl,m=[{height:200,width:p}];return r.createElement(a.View,{style:u.container,key:this.props.key},c&&h&&("web"===a.Platform.OS?r.createElement(s.A,{videoId:c,url:h,mediaWidth:p,mediaHeight:200,mediaValue:{thumbnailImageUrl:g,autoPlayRequired:!0,type:"VideoValue"}}):r.createElement(l.nv,{src:{videoId:c,url:h,mediaWidth:p,mediaHeight:200},style:m,showFullScreenButton:!0,showSeekBar:!0,showPlayPauseButton:!0,showVideoTitle:!1,showYoutubeButton:!0,autoPlayVideo:!1})),r.createElement(a.Text,{style:u.description},o))}}class m extends r.PureComponent{render(){const{description:e,title:t}=this.props.data;return r.createElement(a.View,{style:u.contentCardWrapper,key:this.props.key},t&&r.createElement(a.Text,{style:u.title},t),r.createElement(a.Text,{style:u.description},e))}}const v=a.StyleSheet.create({gradeContainer:{transform:[{rotate:"-90deg"}],alignItems:"flex-start",alignContent:"center"},gradedRefurbText:{fontSize:12,color:d.Jy.fkGrayForty,fontFamily:c.$u,includeFontPadding:!1},conditionContainer:{backgroundColor:d.Jy.emeraldGreen,fontSize:12,paddingHorizontal:4,marginTop:10,paddingVertical:4,borderRadius:4,color:d.J3.white,fontFamily:c.$u,includeFontPadding:!1},container:{flex:1},head:{height:120},wrapper:{flexDirection:"row"},title:{flex:1,flexWrap:"wrap"},row:{height:40},text:{textAlign:"center",alignSelf:"auto",fontSize:12,color:d.Jy.lightGrey,fontFamily:c.ak,includeFontPadding:!1},columnText:{fontSize:12,marginLeft:4,color:d.Jy.lightGrey,fontFamily:c.$u,includeFontPadding:!1},borderStyle:{borderWidth:1,borderColor:d.GJ}});var _=i(324773),C=i(760750),E=i(911294);class T extends r.PureComponent{constructor(){super(...arguments),this.processTable=(e,t,i)=>{var n,o;const s=[],l=null===(o=null===(n=null==e?void 0:e.rowHeader)||void 0===n?void 0:n.cellValues)||void 0===o?void 0:o.map((e=>(s.push(40),e.contentValue?e.contentValue:""))),d=[],c=[],u=[];l.length>0&&(c.push(1),d.push(r.createElement(a.View,{style:v.gradeContainer}))),t.forEach((e=>{var t;const i=null===(t=null==e?void 0:e.metaData)||void 0===t?void 0:t.grade_id,n=JSON.parse(C.A)[i];d.push(r.createElement(a.View,{style:v.gradeContainer},r.createElement(a.Text,{style:v.gradedRefurbText},n.gradeType),r.createElement(a.Text,{style:v.conditionContainer},n.gradeClassifier))),c.push(1),u.push(1)}));const h=[];if(i)for(let e=0;e<i.length;e++){const i=[];t.map(((t,n)=>{var r,a;"String"===(null===(r=t.cellValues)||void 0===r?void 0:r[e].contentType)?i.push(null===(a=t.cellValues)||void 0===a?void 0:a[e].contentValue):i.push(E.RQ)})),i&&h.push(i)}return{colCellHeightArray:s,richHeadData:d,headingRowFlexArr:c,rowHeaderData:l,richTableRows:h,rowFlexArr:u}}}render(){var e,t,i,n,o,s;const l=null===(i=null===(t=null===(e=this.props)||void 0===e?void 0:e.data)||void 0===t?void 0:t.richContent)||void 0===i?void 0:i.table;if(!(null===(o=null===(n=null==l?void 0:l.matrix)||void 0===n?void 0:n[0])||void 0===o?void 0:o.cellValues))return null;const d=l.matrix,c=null===(s=null==d?void 0:d[0])||void 0===s?void 0:s.cellValues,{colCellHeightArray:u,richHeadData:h,headingRowFlexArr:p,rowHeaderData:g,richTableRows:m,rowFlexArr:C}=this.processTable(l,d,c);return r.createElement(a.View,{style:v.container},r.createElement(_.XI,{borderStyle:v.borderStyle},h.length>0&&r.createElement(_.fI,{data:h,style:v.head,flexArr:p,textStyle:v.text}),r.createElement(_.AC,{style:v.wrapper},g.length>0&&r.createElement(_.fv,{data:g,flex:1,style:v.title,heightArr:u,textStyle:v.columnText}),r.createElement(_.Sc,{data:m,style:v.row,flexArr:C,textStyle:v.text}))))}}var f=i(352254);class A extends r.PureComponent{render(){const{data:e}=this.props,t=null==e?void 0:e.title,i=e.richContent,n=null==i?void 0:i.image;let o=null;return n&&(o=r.createElement(f.A,{source:n.dynamicImageUrl,height:20,width:20})),r.createElement(a.View,{style:u.richImageWrapper},n&&r.createElement(a.View,{style:u.imageStyle},o),t&&r.createElement(a.Text,{style:u.descriptionStyle},t))}}var S;!function(e){e.RICH_VIDEO_CONTENT="RichVideoContent",e.CONTENT_CARD="ContentCard",e.RICH_TABLE_CONTENT="RichTableContent",e.RICH_IMAGE_CONTENT="RichImageContent",e.RICH_TEXT_CONTENT_CARD="RichTextContentCard"}(S||(S={}));class y extends o.A{constructor(){super(...arguments),this.getContentCard=e=>{const t=e&&e.data,i=null==t?void 0:t.renderableComponents;return i&&i.map((e=>this.renderComponent(e)))},this.renderComponent=e=>{var t;const i=null===(t=e.value)||void 0===t?void 0:t.contentCards;return i&&i.map(((e,t)=>this.getContentCardsWidgets(e,t)))},this.getContentCardsWidgets=(e,t)=>{switch(e.type){case"RichVideoContent":return r.createElement(g,{data:e,key:t});case"RichImageContent":return r.createElement(A,{data:e,key:t});case"RichTableContent":return r.createElement(T,{data:e,key:t});case"ContentCard":return r.createElement(m,{data:e,key:t});default:return null}}}static getWidgetHeight(e){return 100+o.A.getAdditionalHeight(e)}renderWidget(){const e=this.props.widgetSlotData&&this.props.widgetSlotData.slotData,t=e&&e.widget;return r.createElement(a.View,null,t&&this.getContentCard(t))}}class w extends n.A{getWidgetClass(e){return y}getWidgetHeight(e){return y.getWidgetHeight(e)}}},254194:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>me});var n=i(465420),r=i(296540),a=i(347924),o=i(45426),s=i(716249),l=i(52754),d=i(877293),c=i(479892),u=i(495176),h=i(198213),p=i(670563);class g extends r.PureComponent{render(){var e,t,i;const n=this.props.address,a=n?n.addressLine1+(n.addressLine2?", "+n.addressLine2:"")+", "+n.city:void 0;return r.createElement(m,null,r.createElement(_,null,(null===(e=n.icon)||void 0===e?void 0:e.dynamicImageUrl)?r.createElement(C,null,r.createElement(h.Dk,{source:n.icon.dynamicImageUrl,height:16,width:16})):null,r.createElement(E,null,(this.props.postfixRichText||this.props.postfixText)&&r.createElement(u.A,{text:this.props.postfixText,style:[c.XT.alignTextCenterVertical,c.XT.noTopPadding,c.XT.fontFamilyInterSemiBold_14,c.C1.shrinkContent,c.C1.padding_right_10],numberOfLines:1,ellipsizeMode:"tail",noSpaceAppend:!0}),(null===(t=null==n?void 0:n.addressStatusTag)||void 0===t?void 0:t.text)?r.createElement(u.A,{text:n.addressStatusTag.text,style:[null===(i=null==n?void 0:n.addressStatusTag)||void 0===i?void 0:i.containerStyle,{color:p.Jy.blue_700},c.XT.fontFamilyInterSemiBold,c.XT.fontSize_12,c.C1.padding3,c.C1.padding_left_6,c.C1.padding_right_4,c.C1.overflowHidden]}):null)),a?r.createElement(v,null,a):null)}}const m=a.az.extendComponent({name:"AddressContainer",defaultProps:{flex:1,flexDirection:"column"}}),v=a.JU.extendComponent({name:"AddressTextLabel",defaultProps:{position:"relative",font:"subtext",mt:"s2",color:"neutral.500",numberOfLines:1,ellipsizeMode:"tail"}}),_=a.az.extendComponent({name:"Addresscontentbox",defaultProps:{flex:1,flexDirection:"row",alignItems:"center"}}),C=a.az.extendComponent({name:"Addressiconbox",defaultProps:{mr:"s4"}}),E=a.az.extendComponent({name:"Postfixtextbox",defaultProps:{flex:1,flexDirection:"row",alignItems:"center"}});var T=i(166057),f=i(311676),A=i(258481),S=i(204495),y=i(914944),w=i(415283),I=i(927443),b=i(801671),D=i(614941),x=i(345617),P=i(879052),O=i(398581),R=i(331547),k=i(624801),V=i(175968),L=i(537089),M=i(662999),N=i(16553),H=i(736581);class W extends s.A{constructor(){super(...arguments),this.ADDRESS_CONTAINER_HEIGHT=70,this.dropdownRefs={},this.handleCalloutButtonAction=e=>{if(e&&this.props.actionDispatcher){const{source:t,actionType:i}=e.tracking;t&&i&&this.props.actionDispatcher&&H.F.triggerAddressCaptureAction(t,i,this.props.actionDispatcher),this.props.actionDispatcher(new M.G({type:N.e.DISMISS_AND_DISPATCH,btnAction:e}))}},this.handleUpdateAddress=(e,t)=>{var i,n,r,a;const o=e&&e.action;if(!o||!this.props.actionDispatcher)return;o.tracking&&this.handleTracking(o.tracking);const s=null===(i=e.value)||void 0===i?void 0:i.id;if(s)if(o.type===T.a.UPDATE_LOCATION){const i=(0,l.nS)(this.props.widgetSlotData),d=i&&i.data,c=null===(n=null==d?void 0:d.renderableComponents)||void 0===n?void 0:n.length;if(void 0===c)return;const u=i&&i.tracking&&"FilterV4"===i.tracking.trackingSource?"address":void 0,{widgetViewType:h,message:p,pagetype:g}=(0,A.sy)(i),m=null===(a=null===(r=e.value)||void 0===r?void 0:r.mapData)||void 0===a?void 0:a.highConfidence,v="boolean"==typeof m?m:void 0,_=(0,L.Rj)(o),C=new S.te(s,c,t,this.props.index,this.props.widgetSlotData.behaviour,this.props.widgetSlotData.rowId,u,h,p,g,o.params.redirectionUrl,v,void 0,_);this.props.actionDispatcher(new S.mU(C))}else this.dispatchMAPIIndexedAction(o)},this.handleAddNewAddressAction=e=>{var t;e&&(null===(t=this.dispatchMAPIIndexedAction)||void 0===t||t.call(this,(0,I.xG)(e,this.props.appContext.locale)),e.tracking&&this.handleTracking(e.tracking))},this.handleButtonPress=(e,t)=>{var i;const n=e.action;if(n&&this.props.actionDispatcher&&(n.tracking&&this.handleTracking(n.tracking),this.closeDropdowns(),this.props.actionDispatcher&&n)){const e=null!==(i=(0,I.xG)(n,this.props.appContext.locale))&&void 0!==i?i:n;this.props.actionDispatcher({type:w.Q3.MAPI_ACTION,payload:new y.Oy(e)})}},this.closeDropdowns=()=>{this.setState({activeDropdownIndex:void 0})},this.handleState=e=>{const t=(0,d.findNodeHandle)(this.dropdownRefs[e]);t&&d.UIManager.measureInWindow(t,((t,i,n,r)=>{const a=150+i+r>=d.Dimensions.get("window").height;this.setState((t=>Object.assign(Object.assign({},t),{activeDropdownIndex:t.activeDropdownIndex!==e?e:void 0,showDropdownAbove:a})))}))}}static getWidgetHeight(e){var t,i,n,r;const a=(0,l.xH)(e.widgetSlotData),o=(0,l.o6)(e.widgetSlotData),s=(null==a?void 0:a.errorMessage)||(null==a?void 0:a.loginActionButton)||!o?0:24;if(null==a?void 0:a.errorMessage)return s+116;if((null===(t=null==a?void 0:a.loginActionButton)||void 0===t?void 0:t.action)&&(null===(i=null==a?void 0:a.loginActionButton)||void 0===i?void 0:i.value))return s+48;const d=null!==(r=null===(n=null==a?void 0:a.renderableComponents)||void 0===n?void 0:n.length)&&void 0!==r?r:0;return s+(d>0?24+40*d:0)}shouldComponentUpdate(e,t,i){const n=(0,l.Nt)(this.props.widgetSlotData),r=(0,l.Nt)(e.widgetSlotData);return super.shouldComponentUpdate(e,t,i)||this.state.activeDropdownIndex!==t.activeDropdownIndex||n!==r}componentDidMount(){D.A.getInstance().on(x.A.EMIT_ADDRESS_BOTTOMSHEET_TOUCH_EVENT,this.closeDropdowns)}componentWillUnmount(){D.A.getInstance().off(x.A.EMIT_ADDRESS_BOTTOMSHEET_TOUCH_EVENT,this.closeDropdowns)}handleTracking(e){const t=null==e?void 0:e.locationType,i=null==e?void 0:e.actionType,n=null==e?void 0:e.source,r=null==e?void 0:e.formType,a=new f.pQ(t,i,n,void 0,r),o=new f.ax6(a);this.props.actionDispatcher&&this.props.actionDispatcher(o)}renderDottedLine(){return r.createElement(b.A,{style:{paddingRight:16,paddingLeft:16,paddingBottom:16}})}renderHeader(e){var t,i,n,s,l,d,c,u,p,g;const m=e&&(null==e?void 0:e.data),v=e.header;return r.createElement(a.az,null,!!(null==m?void 0:m.addressDialogueBox)&&this.renderAddressDialogBox(m.addressDialogueBox),this.renderDottedLine(),r.createElement(B,null,r.createElement(a.az,null,(null===(i=null===(t=null==v?void 0:v.value)||void 0===t?void 0:t.titleValue)||void 0===i?void 0:i.text)?r.createElement(U,null,v.value.titleValue.text):null),(null==m?void 0:m.addAddressButton)?r.createElement(o.S,{onPress:()=>this.handleAddNewAddressAction(null==m?void 0:m.addAddressButton.action)},r.createElement(F,null,(null===(l=null===(s=null===(n=null==m?void 0:m.addAddressButton)||void 0===n?void 0:n.value)||void 0===s?void 0:s.image)||void 0===l?void 0:l.dynamicImageUrl)?r.createElement(h.Dk,{source:null===(u=null===(c=null===(d=null==m?void 0:m.addAddressButton)||void 0===d?void 0:d.value)||void 0===c?void 0:c.image)||void 0===u?void 0:u.dynamicImageUrl,height:16,width:16}):null,(null===(g=null===(p=null==m?void 0:m.addAddressButton)||void 0===p?void 0:p.value)||void 0===g?void 0:g.title)?r.createElement(G,null,null==m?void 0:m.addAddressButton.value.title):null)):null))}renderDropdown(e,t,i){var n,a,s,l;return r.createElement(K,{index:i,size:(null==e?void 0:e.renderableComponents)&&(null===(n=null==e?void 0:e.renderableComponents)||void 0===n?void 0:n.length)-1,showAbove:this.state.showDropdownAbove},(null===(a=null==t?void 0:t.value)||void 0===a?void 0:a.addressCta.dropdownButtons)&&(null===(l=null===(s=t.value)||void 0===s?void 0:s.addressCta)||void 0===l?void 0:l.dropdownButtons.map(((e,i)=>{var n,a,s,l,d,c,u,p,g,m;return r.createElement(o.S,{onPress:t=>{this.handleButtonPress(e,t)},disableFeedback:!0},r.createElement(Q,{index:i,size:(null!==(l=null===(s=null===(a=null===(n=t.value)||void 0===n?void 0:n.addressCta)||void 0===a?void 0:a.dropdownButtons)||void 0===s?void 0:s.length)&&void 0!==l?l:0)-1},(null===(c=null===(d=null==e?void 0:e.value)||void 0===d?void 0:d.image)||void 0===c?void 0:c.dynamicImageUrl)?r.createElement(h.Dk,{source:null===(p=null===(u=null==e?void 0:e.value)||void 0===u?void 0:u.image)||void 0===p?void 0:p.dynamicImageUrl,height:16,width:16}):null,(null===(g=e.value)||void 0===g?void 0:g.title)?r.createElement(Z,{index:i},null===(m=e.value)||void 0===m?void 0:m.title):null))}))))}renderAddressDialogBox(e){var t,i,n;const{icon:s,title:l,subtitle:d,actionButton:c}=e,u=(0,k.resolveGradients)("brand.500To700",V.default),h="bold"===(null===(t=null==l?void 0:l.style)||void 0===t?void 0:t.fontWeight)||"medium"===(null===(i=null==l?void 0:l.style)||void 0===i?void 0:i.fontWeight)?"m_medium":"m",p="#1967F2"===(null==l?void 0:l.textColor)?"v2.primary.500":"neutral.900";return r.createElement(ee,null,r.createElement(te,null,r.createElement(ne,null,r.createElement(re,null,!!(null==s?void 0:s.dynamicImageUrl)&&r.createElement(ie,{source:s.dynamicImageUrl,height:s.height||16,width:s.width||16}),!!(null==l?void 0:l.text)&&r.createElement(a.JU,{font:h,color:p},l.text)),!!(null==d?void 0:d.text)&&r.createElement(a.az,{flex:1,mr:"s6"},r.createElement(a.JU,{font:"s",color:"neutral.900",numberOfLines:2,ellipsizeMode:"tail"},d.text)))),!!(null===(n=null==c?void 0:c.value)||void 0===n?void 0:n.title)&&!!c.action&&r.createElement(o.S,{onPress:()=>this.handleCalloutButtonAction(c.action)},r.createElement(ae,null,r.createElement(O.W,{gradientColors:u,gradientStart:R._.LEFT,gradientEnd:R._.RIGHT,style:{position:"absolute",left:0,right:0,top:0,bottom:0}}),r.createElement(a.JU,{font:"s_medium",color:"common.white"},c.value.title))))}renderWidget(){var e,t,i,n,s,p,g;const m=(0,l.nS)(this.props.widgetSlotData),v=[c.C1.pageBackgroundWhite,c.C1.padding_top_8,c.C1.padding_right_16,c.C1.padding_bottom_8,c.C1.padding_left_16,{height:36},c.C1.alignItemCenter,c.C1.border_radius_8],_=m&&(null==m?void 0:m.data);if(_){if(_.errorMessage){const{errorMessage:i}=_;return r.createElement(z,null,(null===(e=i.message)||void 0===e?void 0:e.text)?r.createElement(u.A,{style:v,text:i.message.text}):null,r.createElement(a.az,null,(null===(t=i.image)||void 0===t?void 0:t.dynamicImageUrl)&&r.createElement(h.Dk,{source:i.image.dynamicImageUrl,height:115,width:134})))}if((null===(i=_.loginActionButton)||void 0===i?void 0:i.action)&&(null===(n=_.loginActionButton)||void 0===n?void 0:n.value)){const{loginActionButton:e}=_;return r.createElement(o.S,{onPress:()=>this.dispatchMAPIIndexedAction(e.action)},r.createElement(j,null,r.createElement(X,null,(null===(p=null===(s=e.value)||void 0===s?void 0:s.image)||void 0===p?void 0:p.dynamicImageUrl)?r.createElement(h.Dk,{source:e.value.image.dynamicImageUrl,height:24,width:24}):null,(null===(g=e.value)||void 0===g?void 0:g.title)?r.createElement(Y,null,e.value.title):null)))}if(_.renderableComponents&&0!==_.renderableComponents.length)return r.createElement(d.TouchableWithoutFeedback,{onPress:this.closeDropdowns},r.createElement(q,{size:_.renderableComponents.length,addressBoxMinHeight:this.ADDRESS_CONTAINER_HEIGHT},(null==_?void 0:_.renderableComponents)&&_.renderableComponents.length>0&&_.renderableComponents.map(((e,t)=>{var i,n,s,l,d,c,u,p,g,m,v;return r.createElement($,Object.assign({},(0,P.Z)(`Bottomsheet_Address_container_${t}`),{index:t,currstate:this.state.activeDropdownIndex,key:null===(i=e.value)||void 0===i?void 0:i.id}),r.createElement(o.S,{onPress:()=>this.handleUpdateAddress(e,t),key:null===(n=e.value)||void 0===n?void 0:n.id,disabled:void 0!==this.state.activeDropdownIndex},r.createElement(J,{key:null!==(l=null===(s=e.value)||void 0===s?void 0:s.id)&&void 0!==l?l:`${t}`,index:t},this.renderAddresses(null===(d=e.value)||void 0===d?void 0:d.name,e.value),r.createElement(o.S,{ref:e=>{this.dropdownRefs[t]=e},onPress:()=>this.handleState(t),disableFeedback:!0,disabled:void 0!==this.state.activeDropdownIndex},r.createElement(a.az,{mb:"s5",pl:"s6"},(null===(p=null===(u=null===(c=e.value)||void 0===c?void 0:c.addressCta)||void 0===u?void 0:u.image)||void 0===p?void 0:p.dynamicImageUrl)?r.createElement(h.Dk,{source:null===(v=null===(m=null===(g=e.value)||void 0===g?void 0:g.addressCta)||void 0===m?void 0:m.image)||void 0===v?void 0:v.dynamicImageUrl,height:24,width:24}):null)),this.state.activeDropdownIndex===t&&this.renderDropdown(_,e,t))))}))))}}renderAddresses(e,t){return r.createElement(g,{postfixText:e,address:t})}renderDivider(){}}const B=a.az.extendComponent({name:"Headerbox",defaultProps:{mx:"s6",justifyContent:"space-between",alignItems:"center",display:"flex",flexDirection:"row",pb:"s5"}}),U=a.JU.extendComponent({name:"Headerlabel",defaultProps:{font:"subheading"}}),F=a.fI.extendComponent({name:"Addbutton",defaultProps:{display:"flex",alignItems:"center"}}),G=a.JU.extendComponent({name:"Buttontitle",defaultProps:{font:"subheading",color:p.Jy.darkBlueText,pl:"s2"}}),z=a.az.extendComponent({name:"AddressnotavailableBox",defaultProps:{mb:"s8",mt:"s7",alignItems:"center"}}),j=a.az.extendComponent({name:"Loginbutton",defaultProps:{mx:"s6",mb:"s4",pl:"s"}}),X=a.fI.extendComponent({name:"Loginrow",defaultProps:{alignItems:"center",pt:"s4"}}),Y=a.JU.extendComponent({name:"Loginbuttontitle",defaultProps:{ml:"s5",color:"v2.primary.500",font:"m_medium"}}),q=a.az.extendComponent({name:"Addressbox",defaultProps:e=>({mx:"s6",mb:"s8",minHeight:e.size&&e.addressBoxMinHeight?e.size*e.addressBoxMinHeight+30:0})}),J=a.fI.extendComponent({name:"Addressrow",defaultProps:e=>({alignItems:"center",py:"s4",mt:0===e.index?"s0":"s4"})}),K=a.az.extendComponent({name:"Dropdownbox",defaultProps:e=>({position:"absolute",top:e.showAbove?-75:30,right:10,width:116,bg:"neutral.50",borderRadius:8,borderColor:"neutral.300",shadow:4})}),Q=a.az.extendComponent({name:"Buttonbox",defaultProps:e=>({position:"relative",py:"s5",pl:"s6",pr:"s6",display:"flex",flexDirection:"row",alignItems:"center",borderBottomColor:"neutral.100",borderBottomWidth:e.index===e.size?0:1})}),Z=a.JU.extendComponent({name:"Buttonlabel",defaultProps:e=>({font:"s",pl:"s6",color:1===e.index?"v2.error.500":"neutral.1000"})}),$=a.az.extendComponent({name:"DropdownView",defaultProps:e=>({zIndex:e.index===e.currstate?1:0,elevation:e.index===e.currstate?1:0})}),ee=a.az.extendComponent({name:"CalloutMainContainer",defaultProps:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",mb:"s4",mt:"s6",mx:"s6",p:"s6",bg:"v2.storeFront.skyBlue.50",borderRadius:16}}),te=a.az.extendComponent({name:"CalloutContentContainer",defaultProps:{flexDirection:"column",flex:1}}),ie=e=>{const t={marginRight:4},i=e.style?[t,e.style]:t;return r.createElement(h.Dk,{source:e.source,height:e.height,width:e.width,style:i})},ne=a.az.extendComponent({name:"CalloutTextContentBox",defaultProps:{flexDirection:"column"}}),re=a.az.extendComponent({name:"CalloutTitleTextBox",defaultProps:{flexDirection:"row",alignItems:"center",mb:"s2"}}),ae=a.az.extendComponent({name:"CalloutButtonBox",defaultProps:{px:"s6",py:"s4",overflow:"hidden",borderRadius:8}});var oe=i(577555);class se extends r.PureComponent{render(){var e,t;const i=this.props.address,n=i.phone,o=i?i.addressLine1+(i.addressLine2?", "+i.addressLine2:"")+", "+i.city+", "+i.pincode:void 0;return r.createElement(le,null,r.createElement(ue,null,r.createElement(he,null,(null===(e=i.icon)||void 0===e?void 0:e.dynamicImageUrl)&&r.createElement(h.Dk,{source:i.icon.dynamicImageUrl,height:16,width:16})),r.createElement(pe,null,this.props.postfixText?r.createElement(ce,null,this.props.postfixText):null,(null===(t=null==i?void 0:i.addressStatusTag)||void 0===t?void 0:t.text)?r.createElement(oe.A,{text:i.addressStatusTag.text,backgroundColor:"neutral.100",textColor:"common.black"}):null)),o?r.createElement(de,null,o):null,n?r.createElement(a.JU,{color:"neutral.500",font:"s_medium",pt:"s2"},n):null)}}const le=a.az.extendComponent({name:"AddressContainer",defaultProps:{flex:1,flexDirection:"column"}}),de=a.JU.extendComponent({name:"AddressTextLabel",defaultProps:{width:.7*d.Dimensions.get("screen").width,font:"subtext",mt:"s2",color:"neutral.500"}}),ce=a.JU.extendComponent({name:"LabelText",defaultProps:{font:"subheading",mr:"s2",mt:"s2"}}),ue=a.az.extendComponent({name:"AddressContentBox",defaultProps:{flex:1,flexDirection:"row",alignItems:"center"}}),he=a.az.extendComponent({name:"AddressIconBox",defaultProps:{mr:"s4"}}),pe=a.az.extendComponent({name:"PostfixTextBox",defaultProps:{flex:1,flexDirection:"row",alignItems:"center",mr:"s6"}});class ge extends W{constructor(){super(...arguments),this.ADDRESS_CONTAINER_HEIGHT=110}renderDottedLine(){}renderDivider(){}renderAddresses(e,t){return r.createElement(se,{postfixText:e,address:t})}}class me extends n.A{getWidgetClass(e){return"ACCOUNTS_PAGE_VIEW"===(0,l.KJ)(e.widgetSlotData)?ge:W}getWidgetHeight(e){return W.getWidgetHeight(e)}}},255288:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(296540),r=i(716249),a=i(52754),o=i(360697),s=i(756595);class l extends r.A{static getWidgetHeight(e){return 40}renderWidget(){const e=(0,a.nS)(this.props.widgetSlotData),t=e&&e.viewType,i=e?e.data:void 0,r=i?i.notes:void 0;if(r)return n.createElement(o.A,{productNoteValue:r,parentStyle:s.s.productPageContainer,widgetViewType:t,actionDispatcher:this.props.actionDispatcher})}}var d=i(465420);class c extends d.A{getWidgetClass(e){return l}getWidgetHeight(e){return l.getWidgetHeight(e)}}},256698:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}}},258536:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>S});var n=i(465420),r=i(52754),a=i(877293),o=i(296540),s=i(438993),l=i(887261),d=i(670563);const c=.85*a.Dimensions.get("window").width,u=a.StyleSheet.create({container:{borderRadius:2,flexDirection:"column",alignItems:"center",justifyContent:"center",width:c},title:{fontFamily:l.$u,includeFontPadding:!1,fontSize:16,color:d.Jy.blackPrimary,marginTop:20},callOutsContainer:{paddingHorizontal:38,justifyContent:"center",alignItems:"center",marginBottom:24},buttonContainer:{flexDirection:"row",height:48,borderTopWidth:1,width:"100%",borderTopColor:d.V9.linkWaterGrey},buttonWithBorderRight:{justifyContent:"center",alignItems:"center",flex:1,borderRightWidth:1,borderRightColor:d.V9.linkWaterGrey},buttonStyle:{fontSize:14,fontFamily:l.$u},buttonTextStyle:{fontFamily:l.$u,includeFontPadding:!1,textAlign:"center",paddingHorizontal:10},callOutsTextStyle:{textAlign:"center",lineHeight:20}});var h=i(352254),p=i(495176),g=i(561310),m=i(479892),v=i(204495),_=i(918210),C=i(90513),E=i(229022),T=i(957775),f=i(547134);class A extends s.A{constructor(){super(...arguments),this._renderHorizontalButton=e=>o.createElement(a.View,{style:u.buttonContainer},e.map(((e,t)=>o.createElement(a.View,{style:0===t?u.buttonWithBorderRight:m.C1.contentAlignCenterWithFlex},o.createElement(E.A,{onPress:this._handleAction,onPressParam:e.action,btnData:e,btnTextStyle:u.buttonTextStyle}))))),this._handleAction=(e,t)=>{this.props.actionDispatcher&&(this.props.actionDispatcher(new g.iM(g.xH.CLOSE_MODAL)),this.props.actionDispatcher(new v.mU(new v.te(t.params.addressId,0,0,this.props.index,this.props.widgetSlotData.behaviour,this.props.widgetSlotData.rowId,A._SERVICEABILITY_TEXT,void 0,void 0,void 0,t.params.redirectionUrl,!0,t.params.openAddressPickerScreen))),this._trackPincodeResolutionPopup(t.tracking.customLink))},this._renderCallouts=e=>e?o.createElement(p.A,{richTextData:e,style:u.callOutsTextStyle}):null,this._trackPincodeResolutionPopup=e=>{const t={};t[C.il]=e,_.A.addAndtrackEventUnderName(e,t)}}componentDidMount(){super.componentDidMount(),this._trackPincodeResolutionPopup(A._POPUP_DISPLAYED),this.props.actionDispatcher&&(0,T.dispatchDgAction)(f.A.PINCODE_RESOLUTION_POPUP,this.props.actionDispatcher)}static getHeight(e){return 320+super.getAdditionalHeight(e)}renderWidget(){var e;const t=(0,r.nS)(this.props.widgetSlotData),i=t&&t.data;if(void 0!==i)return o.createElement(a.View,{style:u.container},o.createElement(p.A,{style:u.title,text:i.title}),o.createElement(a.View,{style:m.C1.margin_vertical_14},o.createElement(h.A,{source:null===(e=null==i?void 0:i.icon)||void 0===e?void 0:e.dynamicImageUrl,height:A._IMAGE_SIZE,width:A._IMAGE_SIZE})),i.callouts&&o.createElement(a.View,{style:u.callOutsContainer},i.callouts.map(this._renderCallouts)),this._renderHorizontalButton(i.actions))}}A._IMAGE_SIZE=64,A._SERVICEABILITY_TEXT="address",A._POPUP_DISPLAYED="HL_pincode_resolution_widget_displayed";class S extends n.A{getWidgetClass(){return A}getWidgetHeight(e){return r.nS(e.widgetSlotData)?A.getHeight(e):0}}},260680:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(918210),r=i(90513),a=i(229833);class o{handleAction(e,t,i){const o=t.pageMeta.pageType,s=t.pageMeta.pageName,l={};l[r.Ay.EVAR3]=o,l[r.Ay.EVAR50]=s,a.A.addEvent(l,r.fM.EVENT503);const d=t.pageDataResponse&&t.pageDataResponse.pageContext&&t.pageDataResponse.pageContext;let c;return d&&d.trackingDataV2&&(c=d.trackingDataV2.sproduct,l[r.Ay.PRODUCTS]=c),n.A.addEventData(l),n.A.trackEventUnderName("3D_view_on_PP_Clicked"),!0}}},264188:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(918210),r=i(90513),a=i(532655),o=i(530136),s=i(229833);class l{handleAction(e,t,i){const l=e.payload.offerId,d=a.A.TermsAndConditionsPage,c=o.A.TermsAndConditionsPage,u={};return u[r.Ay.PROP3]=d,u[r.Ay.PROP4]=c,u[r.Ay.EVAR3]=d,u[r.Ay.EVAR50]=c,u[r.Ay.LIST2]=l,u[r.Ay.PROP62]="BMSM_"+l+"_OfferClicked",s.A.addEvent(u,r.fM.EVENT1),n.A.addEventData(u),n.A.trackEventUnderName(c),!0}}},268662:(e,t,i)=>{"use strict";i.d(t,{i:()=>n});const n=i(877293).StyleSheet.create({icon_168x40:{height:40,width:168},width_312:{width:312},maxWidth_246:{maxWidth:246},maxWidth_268:{maxWidth:268},maxHeight_320:{maxHeight:320},maxHeight_352:{maxHeight:352},minHeight_56:{minHeight:56}})},270568:(e,t,i)=>{"use strict";i.d(t,{A:()=>_});var n=i(296540),r=i(877293),a=i(479892),o=i(492418),s=i(495176),l=i(352254),d=i(723372),c=i(537528),u=i(867953),h=i(857850),p=i(914944),g=i(45426),m=i(915742),v=i(912830);class _ extends n.PureComponent{constructor(){super(...arguments),this.IMAGE_DIMENSION=16,this.NUMBER_OF_LINES=2,this._TAG_TOP_POSITION_WEB=54,this._TAG_TOP_POSITION_APP=-8,this._TAG_LEFT_POS_NEP=12,this._TAG_LEFT_POS_NON_NEP=20,this.animationDuration=5e3,this.newTitleContainerStyle=[a.C1.wrap,a.C1.contentSelfAlignStart,a.C1.margin_left_2],this.couponRowStyle=[a.C1.row,a.C1.padding_bottom_4,a.C1.padding_top_4],this.iconImageStyle=[a.C1.margin_top_2,a.C1.margin_right_8],this.titleTextStyle=[a.XT.fontRegular_14,a.XT.lineHeight_20],this.couponOfferView=[a.C1.row,a.C1.border_width_1,a.C1.border_radius_4,a.C1.color_border_darkest_grey],this.unlockButtonViewStyle=[a.C1.row,a.PH.buttonWithoutShadow,a.C1.contentSelfAlignStart,c.c.unlockButton,a.C1.margin_top_6],this.couponExpiryTimeThresholdTextStyle=[a.XT.fontMedium_12,a.XT.maroonRed],this.couponExpiryTimeTextStyle=[a.XT.fontMedium_12,a.XT.fkDimGrey],this.colorChangeAnimation=new r.Animated.Value(0),this._getMultiCondition=()=>{const e=[];return e.push(new u.D_("_couponTransition",500,5,this.animateView)),e||[]},this.animateView=()=>{r.Animated.timing(this.colorChangeAnimation,{toValue:1,duration:this.animationDuration,useNativeDriver:!1}).start()},this._buttonClickHandler=(e,t)=>{t&&this.props.actionDispatcher&&this.props.actionDispatcher({type:h.Q3.MAPI_ACTION,payload:new p.Oy(t)})}}render(){var e;const{couponTag:t,newTitle:i,iconUrl:h,subTitle:p,price:_,style:C,cta:E,expiryTime:T}=this.props.couponSummary,f=null==p?void 0:p.data,A=r.Dimensions.get("window").width-56-(h?28:0),S={backgroundColor:(null==C?void 0:C.backgroundColor)||o.Jyk.couponGreen},y=null==E?void 0:E.action,w=null===(e=null==E?void 0:E.value)||void 0===e?void 0:e.data[0],I=this.colorChangeAnimation.interpolate({inputRange:[0,1],outputRange:["rgb(231, 248, 236)","rgb(255, 255, 255)"]}),b="DYNAMIC_COUPON"===this.props.viewType?{backgroundColor:I}:S;return n.createElement(u.Ay,{style:a.C1.margin_vertical_12,conditions:this._getMultiCondition()},n.createElement(r.Animated.View,{style:[this.couponOfferView,!E&&b,c.c.couponOfferView,!this.props.isNep&&a.C1.margin_horizontal_10]},n.createElement(r.View,{style:a.C1.col},n.createElement(r.View,{style:this.couponRowStyle},h?n.createElement(l.A,{style:this.iconImageStyle,source:h,width:this.IMAGE_DIMENSION,height:this.IMAGE_DIMENSION}):null,i?n.createElement(r.View,{style:a.C1.col},n.createElement(r.View,{style:[this.newTitleContainerStyle,{maxWidth:A}]},n.createElement(d.A,{numberOfLinesForContainer:this.NUMBER_OF_LINES,messages:i,imageHeight:this.IMAGE_DIMENSION,textDefaultStyle:this.titleTextStyle,applyFontWeightFix:!0,useTextContainer:!0}))):null,_?n.createElement(s.A,{style:a.C1.padding_left_16,richTextData:_}):null),T&&n.createElement(r.View,{style:c.c.subtitleRowStyle},n.createElement(m.Ay,{timestampInMillis:T-Date.now(),prependingText:v.kZ,threshold:v.hR,thresholdStyle:this.couponExpiryTimeThresholdTextStyle,timerType:v.De.THRESHOLD_TIMER_DAYS,endTime:T,style:this.couponExpiryTimeTextStyle})),!T&&f&&n.createElement(r.View,{style:c.c.subtitleRowStyle},f.map(this.renderSubtitleText)),(null==w?void 0:w.value)&&n.createElement(g.S,{onPress:this._buttonClickHandler,onPressParam:y,disableFeedback:!0},n.createElement(r.View,{style:this.unlockButtonViewStyle},n.createElement(r.Text,{style:a.XT.buttonText},w.value.text))))),t?this.renderCouponTag(t):null)}renderCouponTag(e){const t=(null==e?void 0:e.data[0]).value,i="web"!==r.Platform.OS||this.props.isNep?{top:this._TAG_TOP_POSITION_APP}:{top:this._TAG_TOP_POSITION_WEB},o=this.props.isNep?{left:this._TAG_LEFT_POS_NEP}:{left:this._TAG_LEFT_POS_NON_NEP},l=e.style&&{backgroundColor:e.style.backgroundColor};return n.createElement(r.View,{style:[c.c.couponTagStyle,i,o,l]},n.createElement(s.A,{style:[a.XT.lineHeight_16,a.C1.alignSelfBaseline],richTextData:t}))}renderSubtitleText(e,t){return n.createElement(s.A,{richTextData:e.value,key:t})}}},272810:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(214181),r=i(820101),a=i(100600),o=i(312520),s=i(587069);class l extends n.default{constructor(e,t){super(e,t),this.getPageCreator=()=>r.P,this.getActionMapper=()=>s.A,a.default.loadedWidgetMappers.ProductPageMapper=o.default}}},274932:(e,t,i)=>{"use strict";i.d(t,{b:()=>a});var n=i(500331),r=i(787921);class a extends n.Q8{constructor(e,t,i){super(t,i),this.type=r.A.BROWSE_BASKET_ADD,this.actionMeta=e}}},278941:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(296540),r=i(877293),a=i(780074),o=i(492418);class s extends n.PureComponent{constructor(e){var t;super(e),this.svgStyle={};const i=null!==(t=this.props.initialProgress)&&void 0!==t?t:0;this.percentage=new r.Animated.Value(i),this.incompletePercentage=new r.Animated.Value(Math.abs(1-i));const n=this.props.inverted?["100%","0%"]:["0%","100%"];this.interpolatedPercentage=this.percentage.interpolate({inputRange:[0,1],outputRange:n}),this.interpolatedIncompletePercentage=this.incompletePercentage.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}componentDidMount(){this.props.progress>0&&this.update(this.props.progress)}componentDidUpdate(e){e.progress!==this.props.progress&&this.update(this.props.progress)}render(){return this.getProgressBar()}getProgressBar(){return this.props.disableAnimation?this.renderProgressBar():this.renderAnimatedProgressBar()}renderProgressBar(){return n.createElement(r.View,{style:[l.container,this.props.backgroundStyle]},n.createElement(r.View,{style:[this.props.progressStyle,{width:100*this.props.progress+"%"}]},!this.props.renderWithoutSvg&&this.renderProgressSvg(17,280,5)))}renderAnimatedProgressBar(){return n.createElement(r.View,{style:[l.container,this.props.backgroundStyle]},n.createElement(r.Animated.View,{style:[this.props.progressStyle,{width:this.interpolatedPercentage}]},!this.props.renderWithoutSvg&&this.renderProgressSvg(17,280,5)),n.createElement(r.Animated.View,{style:[this.props.incompleteStyle,{width:this.interpolatedIncompletePercentage}]}))}renderProgressSvg(e,t,i){const r=Math.ceil(t/e);return n.createElement(a.ui,{width:t,height:i,style:this.svgStyle},n.createElement(a.YJ,{id:"progress-bar"},Array.from({length:r},((t,n)=>this.renderShape(e,n,i,n%2==0?o.p$u:o.hAM)))))}renderShape(e,t,i,r){return n.createElement(a.yp,{d:this.getPath(e*t,0,e,i),stroke:r,strokeWidth:e})}getPath(e,t,i,n){var r,o,s,l,d,c,u,h,p;const g=new a.wA;return null===(p=null===(u=null===(d=null===(s=null===(r=g.moveTo)||void 0===r?void 0:(o=r.call(g,e,t)).lineTo)||void 0===s?void 0:(l=s.call(o,e+i,t)).lineTo)||void 0===d?void 0:(c=d.call(l,e+i+5,t+n)).lineTo)||void 0===u?void 0:(h=u.call(c,e+5,t+n)).lineTo)||void 0===p||p.call(h,e,t),g}update(e){const t=Math.abs(1-e),i=this.props.animationDuration||1e3;r.Animated.timing(this.percentage,{easing:this.props.easingFn||r.Easing.inOut(r.Easing.ease),duration:i,toValue:e,useNativeDriver:!1}).start(),r.Animated.timing(this.incompletePercentage,{easing:this.props.easingFn||r.Easing.inOut(r.Easing.ease),duration:i,toValue:t,useNativeDriver:!1}).start()}}const l=r.StyleSheet.create({container:{flexDirection:"row",overflow:"hidden",width:280},complete:{height:5}})},279037:(e,t,i)=>{"use strict";i.d(t,{Bj:()=>o,W$:()=>r,gA:()=>a,vF:()=>s});var n=i(914944);class r extends n.rs{constructor(e,t){super(e),this.trackingData=t}}class a extends n.rs{constructor(e,t,i){super(e),this.trackingData=i,this.omnitureType=t}}class o extends n.rs{constructor(e,t){super(e),this.trackingData=t}}class s extends n.rs{constructor(e,t){super(e),this.trackingData=t}}},279381:(e,t,i)=>{"use strict";i.d(t,{T:()=>s,_:()=>l});var n=i(877293),r=i(492418),a=i(887261),o=i(479892);const s=n.StyleSheet.create({aspectLayout:{flex:1,alignItems:"center"},aspectText:{marginTop:5,color:r.mUU,fontSize:10,textAlign:"center",fontFamily:a.$u,includeFontPadding:!1},widgetLayout:{paddingHorizontal:16,paddingBottom:16,paddingTop:8},header:{flexDirection:"row",height:40},title:{color:r.Jyk.lightGrey,fontFamily:a.$u,includeFontPadding:!1,flex:5},rateButton:{borderWidth:1,borderRadius:5,height:30,width:100,borderColor:r.Jyk.lightGrey,flex:2},buttonText:{marginLeft:5,marginTop:5,color:"blue"},ratingsViewLayout:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},aspectViewContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",marginTop:16},ratingDisplayContainer:{alignItems:"center",width:120},summaryText:{justifyContent:"center",textAlign:"center",color:r.Jyk.lightGrey,fontSize:12,lineHeight:18},verticalDivider:{height:85,width:1,backgroundColor:r.Zdg},bar:{marginTop:5,marginRight:5,height:5,width:80,backgroundColor:"red"},mainRating:{color:r.Jyk.blackPrimary,fontSize:32},ratingText:{color:r.Jyk.white,fontSize:32},mainRatingText:{fontSize:22,paddingVertical:4,paddingHorizontal:11,color:r.Jyk.white,fontFamily:a.$u},mainRatingWithBorderContainer:{borderWidth:1,borderRadius:16},star:{marginRight:2,fontSize:12},starText:{marginRight:2,fontSize:12},ratingNumbers:{fontSize:12,color:r.Jyk.lightGrey},histogramContainer:{alignItems:"flex-end"},headerActionContainer:{flexDirection:"row",alignItems:"center",position:"absolute",right:16,backgroundColor:r.Jyk.white,borderColor:r.SGl,borderRadius:2,borderWidth:1},headerActionButtonText:{marginTop:10,marginBottom:10,marginLeft:12,marginRight:12,color:r.Cf1.fkBlueColor,fontSize:12,fontFamily:a.$u,includeFontPadding:!1},headerContainer:{flexDirection:"row",flex:1,flexWrap:"wrap",padding:16,alignItems:"center"},headerText:{color:r.Jyk.blackPrimary,fontSize:16,lineHeight:25,fontFamily:a.$u,includeFontPadding:!1},verticalDividerRating:{width:1,backgroundColor:r.Jyk.blueWithOpacity8,opacity:.08},aspectRatingContainer:{height:32,backgroundColor:r.Jyk.white,borderRadius:16,paddingHorizontal:4,marginRight:16,borderWidth:1,marginBottom:12},aspectRatingV2:{height:22,width:52,borderTopLeftRadius:12,borderBottomLeftRadius:12,marginTop:4,paddingHorizontal:8,textAlignVertical:"center"},headerButton:{height:32,borderRadius:4,borderColor:r.V9u.borderLightGrey,borderStyle:"solid",borderWidth:1,elevation:0,shadowOpacity:0,paddingHorizontal:16,paddingVertical:6}});function l(e,t,i){return Object.assign(Object.assign({},e),{headerText:{fontFamily:a.Mq,fontSize:17,color:i},headerSubContainer:Object.assign(Object.assign(Object.assign({},o.C1.flex),o.C1.row),{paddingTop:6}),headerActionContainer:{borderWidth:0,paddingTop:0},headerActionButtonText:{color:t?i:r.Jyk.royalBlue,fontFamily:a.Mq},headerSubtitleText:{paddingLeft:4,color:r.Jyk.grey}})}},279450:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>v});var n=i(52754),r=i(877293),a=i(296540),o=i(716249),s=i(492418),l=i(887261);const d=r.StyleSheet.create({containerStyle:{flex:1,flexDirection:"row",padding:16},clockImageStyle:{height:20,width:20,marginRight:9},expiryContainerStyle:{flex:1,flexDirection:"row"},expiryHeadingStyle:{fontSize:14,fontFamily:l.$u,includeFontPadding:!1,textAlignVertical:"center"},expiryDateStyle:{fontSize:14,fontFamily:l.A$,textAlignVertical:"center",paddingTop:1,paddingBottom:2},messageStyle:{fontSize:12,color:s.M1q,fontFamily:l.A$}});var c=i(410752),u=i(879052),h=i(479892),p=i(352254);class g extends o.A{static getWidgetHeight(e){return 68}getExpiryIcon(e){const{expiryIcon:t,emojiUnicode:i}=e;return t&&t.dynamicImageUrl?a.createElement(p.A,{source:t.dynamicImageUrl,height:24,width:24,style:[h.C1.margin_right_12,h.C1.alignSelfCenter]}):a.createElement(r.Text,Object.assign({},(0,u.Z)("Expiry_Logo"),{style:d.clockImageStyle}),i)}renderWidget(){var e;const t=(0,n.nS)(this.props.widgetSlotData),i=t&&t.data,o=i&&i.renderableComponent,s=[d.containerStyle,(null===(e=null==o?void 0:o.value)||void 0===e?void 0:e.expiryIcon)?h.C1.alignItemCenter:{}];if(o&&o.value)return a.createElement(r.View,Object.assign({},(0,u.Z)("Expiry_Container"),{style:s}),this.getExpiryIcon(o.value),a.createElement(r.View,{style:d.expiryContainerStyle},a.createElement(r.Text,Object.assign({},(0,u.Z)("Expiry_Text"),{style:d.expiryHeadingStyle}),this.localize({id:c.H.rex_string_Expiry_colon})),a.createElement(r.Text,Object.assign({},(0,u.Z)("Expiry_Date"),{style:d.expiryDateStyle})," ",o.value.expiry)),a.createElement(r.Text,Object.assign({},(0,u.Z)("Expiry_Info"),{style:d.messageStyle}),o.value.mfgInfo))}}var m=i(465420);class v extends m.A{getWidgetClass(e){return g}getWidgetHeight(e){return g.getWidgetHeight(e)}}},282540:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});var n=i(765701);class r extends n.A{getModule(){return i(272810)}}},282625:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>T});var n=i(296540),r=i(972904),a=i(877293),o=i(352254),s=i(887261),l=i(670563);const d=a.StyleSheet.create({productCertificateWidgetContainer:{flexWrap:"wrap",flex:1,flexDirection:"row",justifyContent:"flex-start",alignItems:"center",backgroundColor:"#ffffff"},textViewContainer:{flexWrap:"wrap",flex:1,flexDirection:"column",justifyContent:"center",marginLeft:15},certificateImage:{marginTop:7},text:{fontFamily:s.$u,color:l.Jy.blackPrimary,fontSize:16},viewCertificateText:{fontFamily:s.$u,includeFontPadding:!1,color:l.Cf.fkBlueColor,fontSize:12,marginTop:5},brandImage:{marginRight:16},modelContainer:{backgroundColor:"transparent"}});var c=i(495176),u=i(52754),h=i(45426),p=i(110941),g=i(561310),m=i(547134),v=i(395567),_=i(97529);class C extends r.A{constructor(e){super(e),this._certificateImageWidth=57,this._brandImageWidth=72,this._certificateImageHeight=0,this._brandImageHeight=0,this._onViewCertificatePressed=(e,t)=>{const i=t&&t.brandData&&t.brandData.action,n=i&&i.params;if(!n)return;const r={modalType:"POPUP",widgetType:m.A.CERTIFICATE_POP_UP_MODAL,widgetData:n,modalStyle:d.modelContainer};this.props.actionDispatcher&&this.props.actionDispatcher(new g.iM(g.xH.OPEN_MODAL,r)),this.trackOmnitureEvent(new v.wKV(_.A.PRODUCT_CERTIFICATE_CLICK,void 0))};const t=(0,u.nS)(e.widgetSlotData),i=t&&t.data;i&&i.brandData&&i.brandData.value&&(this._certificateImageHeight=p.A.getHeight(this._certificateImageWidth,i.brandData.value.authenticityLogo.aspectRatio),this._brandImageHeight=p.A.getHeight(this._brandImageWidth,i.brandData.value.brandLogo.aspectRatio))}static getWidgetHeight(e){return 64}renderWidget(){const e=(0,u.nS)(this.props.widgetSlotData),t=e&&e.data,i=t&&t.brandData&&null!=t.brandData.action;if(t&&t.brandData&&t.brandData.value)return n.createElement(h.S,{onPress:this._onViewCertificatePressed,onPressParam:t,disableFeedback:!i},n.createElement(a.View,{style:[d.productCertificateWidgetContainer,{width:this.props.appContext.uiContext.windowFrame.width}]},t.brandData.value.authenticityLogo&&n.createElement(o.A,{style:d.certificateImage,height:this._certificateImageHeight,width:this._certificateImageWidth,source:t.brandData.value.authenticityLogo.dynamicImageUrl}),n.createElement(a.View,{style:[d.textViewContainer]},n.createElement(c.A,{style:d.text,text:t.brandData.value.title}),t.brandData.value.certificateAction&&t.brandData.value.certificateAction.value&&i&&n.createElement(c.A,{style:d.viewCertificateText,text:t.brandData.value.certificateAction.value.title})),t.brandData.value.brandLogo&&n.createElement(o.A,{style:d.brandImage,height:this._brandImageHeight,width:this._brandImageWidth,source:t.brandData.value.brandLogo.dynamicImageUrl})))}renderDivider(){}}var E=i(465420);class T extends E.A{getWidgetClass(){return C}getWidgetHeight(e){return C.getWidgetHeight(e)}}},284488:(e,t)=>{var i=t.getChildren=function(e){return e.children},n=t.getParent=function(e){return e.parent};t.getSiblings=function(e){var t=n(e);return t?i(t):[e]},t.getAttributeValue=function(e,t){return e.attribs&&e.attribs[t]},t.hasAttrib=function(e,t){return!!e.attribs&&hasOwnProperty.call(e.attribs,t)},t.getName=function(e){return e.name}},288030:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>w});var n=i(465420),r=i(296540),a=i(438993),o=i(52754),s=i(45426),l=i(302019),d=i(479892),c=i(561310),u=i(914944),h=i(415283),p=i(390437),g=i(670563),m=i(672748),v=i(957775),_=i(547134);class C extends a.A{constructor(){super(...arguments),this._handleButtonClick=(e,t)=>{var i,n,r,a,o;const s=Object.assign(Object.assign({},null===(i=e.action)||void 0===i?void 0:i.tracking),{impressionId:(0,m.lk)()});0===t?((null===(n=e.action)||void 0===n?void 0:n.tracking)&&this.trackDiscoveryContentEngagementEvent(s,p.O.NO),null===(a=(r=this.props).actionDispatcher)||void 0===a||a.call(r,new c.iM(c.xH.CLOSE_MODAL))):((null===(o=e.action)||void 0===o?void 0:o.tracking)&&this.trackDiscoveryContentEngagementEvent(s,p.O.YES),this.props.actionDispatcher&&e.action&&this.props.actionDispatcher({type:h.Q3.MAPI_ACTION,payload:new u.Oy(e.action)}))}}componentDidMount(){super.componentDidMount(),this.props.actionDispatcher&&(0,v.dispatchDgAction)(_.A.ADDRESS_CTA,this.props.actionDispatcher)}static getWidgetHeight(e){return 208}getLayoutDetailsForWidget(e){return[d.C1.backgroundWhite,{borderRadius:12}]}renderWidget(){var e;const t=(0,o.nS)(this.props.widgetSlotData),i=(null==t?void 0:t.data)&&(null==t?void 0:t.data);if(i)return r.createElement(E,null,i.title?r.createElement(T,null,i.title):null,i.subtitle?r.createElement(f,null,i.subtitle):null,r.createElement(A,null,null===(e=null==i?void 0:i.actionButtons)||void 0===e?void 0:e.map(((e,t)=>{var i,n;return r.createElement(s.S,{key:t,onPress:()=>this._handleButtonClick(e,t)},r.createElement(S,{index:t},(null===(i=e.value)||void 0===i?void 0:i.title)?r.createElement(y,{index:t},null===(n=e.value)||void 0===n?void 0:n.title):null))}))))}}const E=l.az.extendComponent({name:"PopUpcontainer",defaultProps:{width:328,display:"flex-wrap",flexDirection:"column",pt:"s6",pb:"s6"}}),T=l.JU.extendComponent({name:"Titlelabel",defaultProps:{pl:"s6",pr:"s6",font:"heading",maxWidth:300}}),f=l.JU.extendComponent({name:"Subtitlelabel",defaultProps:{pt:"s6",pl:"s6",pr:"s6",pb:"s6",color:g.Jy.fkGrayForty,font:"body"}}),A=l.az.extendComponent({name:"Buttoncontainer",defaultProps:{display:"flex",flexDirection:"row",alignItems:"flex-end",pl:"s5",pt:"s5"}}),S=l.az.extendComponent({name:"SingleButton",defaultProps:e=>({borderWidth:1,borderColor:"primary.400",borderRadius:12,width:148,justifyContent:"center",alignItems:"center",bg:0===e.index?"common.white":g.Jy.buttonBlue,mr:"s4"})}),y=l.JU.extendComponent({name:"Buttonlabel",defaultProps:e=>({font:"subheading",color:0===e.index?g.Jy.buttonBlue:"common.white",pt:"s5",pb:"s5"})});class w extends n.A{getWidgetClass(e){return C}getWidgetHeight(e){return C.getWidgetHeight(e)}}},295421:(e,t,i)=>{"use strict";i.d(t,{IG:()=>o,_G:()=>n});var n,r=i(500331),a=i(787921);!function(e){e[e.ID=0]="ID",e[e.INTEGER=1]="INTEGER"}(n||(n={}));r.Q8;r.Q8;r.Q8;r.Q8;class o{constructor(e){this.type=a.A.LOTTIE_ANIMATION,this.actionMeta=e}}r.Q8},298494:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});class n{constructor(e){this.scrollable=e}}},299520:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var n=i(296540),r=i(492418),a=i(927443),o=i(302019);const s=o.JU.extendComponent({name:"PriceLabel",defaultProps:{font:"xl_medium",color:"text.secondary",pt:"s3",opacity:.66}}),l=o.JU.extendComponent({name:"MainCalloutLabel",defaultProps:{font:"xl_medium",color:"raw.magenta.500",pt:"s2"}}),d=o.JU.extendComponent({name:"SubCalloutLabel",defaultProps:{font:"m",color:"text.secondary",pt:"s1"}});class c extends n.Component{render(){const e=this.props.oosCallout;return n.createElement(o.az,null,e.price&&n.createElement(s,null,`${r.y3o}${(0,a.m3)(e.price)}`),e.mainCallout&&n.createElement(l,null,e.mainCallout),e.subCallout&&n.createElement(d,null,e.subCallout))}}},304067:(e,t,i)=>{"use strict";i.r(t),i.d(t,{BannerWidgetViewTypes:()=>u,default:()=>p});var n=i(465420),r=i(52754),a=i(186430),o=i(312446),s=i(110941),l=i(938777);const d=(e,t)=>{const i=s.A.getImageRatio(e);return i?i*t:t*(4/9)},c=e=>{var t,i;if("FULL_SCREEN_MODAL_VIEW"===r.KJ(e.widgetSlotData)){const i=(0,r.nS)(e.widgetSlotData),n=null==i?void 0:i.data,a=null==n?void 0:n.imageData;return(null===(t=null==a?void 0:a.value)||void 0===t?void 0:t.dynamicImageUrl)?e.appContext.uiContext.getDimension("window").height:0}{const t=(e=>{const t=(0,r.nS)(e.widgetSlotData),i=t?t.data:void 0,n=i&&i.renderableComponents?i.renderableComponents:void 0;return n&&n[0]})(e),n=t&&t.value;if(!n)return 0;const a=e.appContext.uiContext.getDimension("window");let s=0;switch(e.widgetSlotData&&e.widgetSlotData.slotData.widget&&e.widgetSlotData.slotData.widget.viewType){case l.sr6:s=d(n.aspectRatio||"5:1",a.width);break;case l.Lqq:s=a.height;break;case l.i0m:let t=a.width;const r=null===(i=e.widgetSlotData.slotData.layoutParams)||void 0===i?void 0:i.margin;if(r){const e=r.split(",");t-=(Number(e[0])||0)+(e.length>2&&Number(e[2])||0)}s=d(n.aspectRatio,t);break;default:s=d(n.aspectRatio,a.width)}return s+(0,o.Th)(e)}};var u,h=i(60803);!function(e){e.FULL_SCREEN_MODAL_VIEW="FULL_SCREEN_MODAL_VIEW",e.VALID_RX_GUIDE="VALID_RX_GUIDE",e.SELECTED_RX="SELECTED_RX",e.ONE_CLICK_ACTIVATION="ONE_CLICK_ACTIVATION"}(u||(u={}));class p extends n.A{getWidgetClass(e){const t=c(e);switch(r.KJ(e.widgetSlotData)){case"FULL_SCREEN_MODAL_VIEW":return a.Vy.getLoadable(t+"BannerModalWidget",(0,h.Ay)({resolved:{},chunkName:()=>"BannerModalWidget",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(29468).then(i.bind(i,440159)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>440159},{fallback:(0,a.zb)(t),resolveComponent:i=>(a.Vy.triggerLayout(e,t+"BannerModalWidget"),i.default)}));case"VALID_RX_GUIDE":return a.Vy.getLoadable(t+"BannerRxWidget",(0,h.Ay)({resolved:{},chunkName:()=>"BannerRxWidget",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(71991).then(i.bind(i,816706)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>816706},{fallback:(0,a.zb)(t),resolveComponent:i=>(a.Vy.triggerLayout(e,t+"BannerRxWidget"),i.default)}));case"SELECTED_RX":return a.Vy.getLoadable(t+"BannerSelectedRx",(0,h.Ay)({resolved:{},chunkName:()=>"BannerSelectedRx",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(66476).then(i.bind(i,2847)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>2847},{fallback:(0,a.zb)(t),resolveComponent:i=>(a.Vy.triggerLayout(e,t+"BannerSelectedRx"),i.default)}));case"ONE_CLICK_ACTIVATION":return a.Vy.getLoadable(t+"OneClickActivationWidget",(0,h.Ay)({resolved:{},chunkName:()=>"OneClickActivationWidget",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(49467).then(i.bind(i,457991)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>457991},{fallback:(0,a.zb)(t),resolveComponent:i=>(a.Vy.triggerLayout(e,t+"OneClickActivationWidget"),i.default)}));default:return a.Vy.getLoadable(t+"BannerWidget",(0,h.Ay)({resolved:{},chunkName:()=>"BannerWidget",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(95797).then(i.bind(i,871789)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>871789},{fallback:(0,a.zb)(t),resolveComponent:i=>(a.Vy.triggerLayout(e,t+"BannerWidget"),i.default)}))}}getWidgetHeight(e){return c(e)}}},304392:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>y});var n=i(465420),r=i(877293),a=i(566829),o=i(53606),s=i(296540),l=i(479892),d=i(347953),c=i(57522),u=i(52754),h=i(727e3),p=i(361990),g=i(257246),m=i(379610),v=i(552946),_=i(914944),C=i(562906),E=i(616139),T=i(787921),f=i(419101),A=i(938777);class S extends a.A{constructor(){super(...arguments),this.carouselContainerStyle={marginBottom:8},this._onMediaClicked=(e,t)=>{var i,n,r,s;const l=m.A.getMultiMediaWidgetDataFromProps(this.props),d=null==l?void 0:l.comboMultimediaComponents;if(!(null==d?void 0:d.length))return;let c=[];"customComboType"===t?c=d[e]:(e--,c=d.reduce(((e,t)=>e.concat(t)),[]));const u=[];let h=0;if(c){if(e<c.length&&e>=0){const t=c[e].value;if(t&&v.A.isHighlightsImageValue(t))return}const t=a.A.isReviewMediaValue(null===(n=null===(i=null==l?void 0:l.multimediaComponents)||void 0===i?void 0:i[e])||void 0===n?void 0:n.value)?this.CONTENT_TYPE_REVIEW_GALLERY:void 0;this.trackMediaImpression(e,void 0,void 0,t),c.forEach(((t,i)=>{const n=Object.assign({},t),r=Object.assign({},n.value);p.e.shouldRemoveNoteInfoFromMultimedia()&&(r.info=void 0),n.value=r,v.A.isHighlightsImageValue(n.value)||v.A.isMediaTypeFK3D(n.value)?i<=e&&h++:u.push(n)}))}const g=e-h>0?e-h:0,C=null===(r=null==u?void 0:u[g])||void 0===r?void 0:r.value,E=null===(s=null==u?void 0:u[g])||void 0===s?void 0:s.action;if(C){const e=m.A.isYoutubeVideo(C),i=v.A.isFkVideo(C);if(e)this.handleYoutubeVideoClick(C.contentId,C.url,C.source,g);else if(i&&this.props.actionDispatcher&&E)this.dispatchAction(T.A.MAPI_ACTION,new _.Oy(E));else{const e=!!o.Ay.getReactNativeConfigGlobalValue("enableFkVideoDataPassToNative"),i=(0,f.E)(u,this.props.appContext.userManager.isFeatureAvailable(A.xbY),e,g,this.IS_IOS),n=i.multiMediaComponents,r="customComboType"===t?0:g-i.numOfIndicesToSkip;this.handleGalleryClick(r,n,!0)}}}}generateMutiMediaData(e){let t="";return{mulltiMediaData:e.reduce((function(e,i){var n;const r=null===(n=i[0].value)||void 0===n?void 0:n.url;return i.length>0&&(t=`${""!==t?`${t}|customComboSeperator|`:""}${r}`),[...e,...i]}),[]),urlString:t}}renderWidget(){var e;const t=m.A.getMultiMediaWidgetDataFromProps(this.props),i=t&&t.comboMultimediaComponents;if(!t||!i)return;const{mulltiMediaData:n,urlString:a}=this.generateMutiMediaData(i);let p=n;p=[{value:{type:"customComboType",url:a}},...p],t.multimediaComponents=p;const _=(null===(e=this.props.pageInfo)||void 0===e?void 0:e.pageContext)&&this.props.pageInfo.pageContext,T=null==_?void 0:_.productId,f=this.getMediaCarouselComponent(),A=(0,u.Qd)(this.props,c.j.PRODUCT_PAGE_PREVIEW),S=null==A?void 0:A.thumbnailUrl;return S&&(0,u.H7)(this.props,c.j.PRODUCT_PAGE_PREVIEW),s.createElement(h.w.Consumer,null,(e=>{var i,n;return s.createElement(r.View,{style:[this.carouselContainerStyle,(0,g.No)(e)]},s.createElement(f,{multimediaWidgetData:t,showPageIndicator:this.showPageIndicator(p),onMediaClicked:this._onMediaClicked,videoIndices:v.A.getVideoIndices(p),width:this.props.appContext.uiContext.getPageFrame().width,height:this.props.appContext.uiContext.getPageFrame().height,layoutKey:(0,u.UN)(this.props.widgetSlotData),onMediaSwipedTo:this._onMediaSwipedToPosition,viewType:"ComboCarousel",actionDispatcher:this.props.actionDispatcher,trackReviewBucketClick:this._sendReviewBucketClickTracking,getTrackingParams:this._getTrackingParams,getContentViewTrackingData:this._getContentViewTracking,key:this._carouselContains3DMediaValueAtPosZero()?"":T,loop:!!d.A.getExperimentValue("enableCarouselLooping"),autoZoomInAbValue:this._isAutoZoomEnabled(),restartAutoZoomEnabled:!!o.Ay.getReactNativeConfigGlobalValue("restartAutoZoomEnabled"),autoZoomStartDelay:o.Ay.getReactNativeConfigGlobalValue("autoZoomStartDelay"),autoZoomAnimationTime:o.Ay.getReactNativeConfigGlobalValue("autoZoomAnimationTime"),autoZoomInitialScale:o.Ay.getReactNativeConfigGlobalValue("autoZoomInitialScale"),autoZoomFinalScale:o.Ay.getReactNativeConfigGlobalValue("autoZoomFinalScale"),pageInfo:this.props.pageInfo,widgetType:null===(i=(0,u.nS)(this.props.widgetSlotData))||void 0===i?void 0:i.type,onYoutubeChangeState:this._onYoutubeChangeState,imageDimensionCache:this.cache,onReviewThumbnailClicked:this._onReviewThumbnailClicked,getTrackableContentView:this.getTrackableContentView,productId:T,trackDiscoveryContentClickEvent:this.trackDiscoveryContentClickEvent,thumbnailUrl:S,onCollapsedChanged:this.onCollapsedStateChange,localize:this.localize,safeAreaInset:this.props.appContext.uiContext.getWindowSafeAreaInset(),rootWidget:this,rootWidgetProps:this.props}),this.state.overlayIconsVisibility&&!this.state.isInImmersiveMode&&s.createElement(s.Fragment,null,(null===(n=t.spotlight)||void 0===n?void 0:n.value)&&!this.state.isReviewImageBucket&&!this.state.isInImmersiveMode&&this.renderSpotlight(t.spotlight.value,l.C1.flex,this._overlayAnimValueWithNativeDriver),s.createElement(E.A,{floatingActionValues:t.floatingActionValues,isReviewImageBucket:this.state.isReviewImageBucket,renderWishlistIcon:this.renderWishlistIcon,isInWishlist:this.state.isInWishlist,overlayAnimValueWithNativeDriver:this._overlayAnimValueWithNativeDriver,actionDispatcher:this.props.actionDispatcher,isInImmersiveMode:this.state.isInImmersiveMode}),this.state.bottomMediaOverlayVisibility&&s.createElement(C.A,{parentProps:this.props,parentState:this.state,overlayAnimValueWithNativeDriver:this._overlayAnimValueWithNativeDriver,overlayAnimValueWithoutNativeDriver:this._overlayAnimValueWithoutNativeDriver,localize:this.localize,getTrackableContentView:this.getTrackableContentView,trackingParams:this.state.trackingParams,getContentViewTrackingData:this.getContentViewTrackingData,trackDGEvent:this.trackDGEvent,trackDiscoveryContentClickEvent:this.trackDiscoveryContentClickEvent,trackOmnitureEvent:this.trackOmnitureEvent})))}))}}class y extends n.A{getWidgetClass(e){return S}getWidgetHeight(e){return S.getWidgetHeight(e)}}},304489:(e,t,i)=>{"use strict";i.d(t,{A:()=>m});var n=i(296540),r=i(877293),a=i(52754),o=i(438993),s=i(561310),l=i(857850),d=i(322392),c=i(229022),u=i(344570),h=i(4880),p=i(732026),g=i(957775);class m extends o.A{constructor(){super(...arguments),this._handleAction=(e,t)=>{var i;const{actionDispatcher:n}=this.props;if(n){if(n(new s.iM(s.xH.CLOSE_MODAL)),!t.params)return;const{params:{add:e,remove:r,snackBar:a},type:o}=t;if(o===d.X.CART_REMOVE){n({type:l.Q3.ATTACH_ACTION,payload:new h.A(e,r)});const t=null===(i=null==a?void 0:a.title.value)||void 0===i?void 0:i.text;if(e&&t){const e={design:0,type:0};(0,p.Pc)(e,t,n)}}}}}componentDidMount(){super.componentDidMount(),this.props.actionDispatcher&&(0,g.dispatchDgAction)(l.bu.ABB_POPUP,this.props.actionDispatcher)}renderWidget(){const e=(0,a.nS)(this.props.widgetSlotData),t=null==e?void 0:e.data,{title:i,subtitle:o,actions:[s,l]}=t;return n.createElement(r.View,{style:u.sk.popup},this._renderContent(i,o),this._renderActions(s,l))}_renderContent(e,t){return(e||t)&&n.createElement(r.View,null,this._renderTitle(e),this._renderDescription(t))}_renderTitle(e){return e&&n.createElement(r.View,null,n.createElement(r.Text,{style:u.sk.title},e))}_renderDescription(e){return e&&n.createElement(r.View,{style:u.sk.descriptionBox},n.createElement(r.Text,{style:u.sk.description},e.replace(/\*/,"")))}_renderActions(e,t){return(e||t)&&n.createElement(r.View,{style:u.sk.actionsBox},this._renderButton(t,u.sk.secondaryBtnText),this._renderButton(e,u.sk.primaryButtonText))}_renderButton(e,t,i=u.sk.actionButtonView){return e&&n.createElement(c.A,{btnData:e,onPress:this._handleAction,btnTextStyle:t,btnViewStyle:i})}}},310570:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var n=i(465420),r=i(296540),a=i(716249),o=i(52754),s=i(187551),l=i(723372),d=i(495176),c=i(751398);class u extends a.A{isHeaderBottomBorderEnabled(){return!1}renderWidget(){const e=(0,o.xH)(this.props.widgetSlotData);if(!e)return;const{offerSummariesRC:t}=e;return r.createElement(s.iA,null,this.renderOfferSummariesRCList(t))}renderOfferSummariesRCList(e){return(null==e?void 0:e.length)?e.map(((t,i)=>this._renderOfferSummariesRC(t,i,null==e?void 0:e.length))):r.createElement(r.Fragment,null)}_renderOfferSummariesRC(e,t,i){const n=null==e?void 0:e.value;if(!n)return;const{newTitle:a,price:o}=n;return r.createElement(s.N2,{key:t,hasBorder:i-1!==t},a&&r.createElement(l.A,{messages:a,imageHeight:16,applyFontWeightFix:!0,useTextContainer:!0}),o&&r.createElement(d.A,{richTextData:o}),r.createElement(c.A,{productOfferSummary:n,dispatchAction:this.dispatchAction}))}static getWidgetHeight(e){var t,i;const n=(0,o.xH)(e.widgetSlotData),r=null!==(i=null===(t=null==n?void 0:n.offerSummariesRC)||void 0===t?void 0:t.length)&&void 0!==i?i:0;let a=n?52+44*r:0;return a+=c.A.getComponentHeight(null==n?void 0:n.offerSummariesRC),a}}class h extends n.A{getWidgetClass(){return u}getWidgetHeight(e){return u.getWidgetHeight(e)}}},312396:e=>{"use strict";e.exports=JSON.parse('{"Aacute":"","aacute":"","Abreve":"","abreve":"","ac":"","acd":"","acE":"","Acirc":"","acirc":"","acute":"","Acy":"","acy":"","AElig":"","aelig":"","af":"","Afr":"","afr":"","Agrave":"","agrave":"","alefsym":"","aleph":"","Alpha":"","alpha":"","Amacr":"","amacr":"","amalg":"","amp":"&","AMP":"&","andand":"","And":"","and":"","andd":"","andslope":"","andv":"","ang":"","ange":"","angle":"","angmsdaa":"","angmsdab":"","angmsdac":"","angmsdad":"","angmsdae":"","angmsdaf":"","angmsdag":"","angmsdah":"","angmsd":"","angrt":"","angrtvb":"","angrtvbd":"","angsph":"","angst":"","angzarr":"","Aogon":"","aogon":"","Aopf":"","aopf":"","apacir":"","ap":"","apE":"","ape":"","apid":"","apos":"\'","ApplyFunction":"","approx":"","approxeq":"","Aring":"","aring":"","Ascr":"","ascr":"","Assign":"","ast":"*","asymp":"","asympeq":"","Atilde":"","atilde":"","Auml":"","auml":"","awconint":"","awint":"","backcong":"","backepsilon":"","backprime":"","backsim":"","backsimeq":"","Backslash":"","Barv":"","barvee":"","barwed":"","Barwed":"","barwedge":"","bbrk":"","bbrktbrk":"","bcong":"","Bcy":"","bcy":"","bdquo":"","becaus":"","because":"","Because":"","bemptyv":"","bepsi":"","bernou":"","Bernoullis":"","Beta":"","beta":"","beth":"","between":"","Bfr":"","bfr":"","bigcap":"","bigcirc":"","bigcup":"","bigodot":"","bigoplus":"","bigotimes":"","bigsqcup":"","bigstar":"","bigtriangledown":"","bigtriangleup":"","biguplus":"","bigvee":"","bigwedge":"","bkarow":"","blacklozenge":"","blacksquare":"","blacktriangle":"","blacktriangledown":"","blacktriangleleft":"","blacktriangleright":"","blank":"","blk12":"","blk14":"","blk34":"","block":"","bne":"=","bnequiv":"","bNot":"","bnot":"","Bopf":"","bopf":"","bot":"","bottom":"","bowtie":"","boxbox":"","boxdl":"","boxdL":"","boxDl":"","boxDL":"","boxdr":"","boxdR":"","boxDr":"","boxDR":"","boxh":"","boxH":"","boxhd":"","boxHd":"","boxhD":"","boxHD":"","boxhu":"","boxHu":"","boxhU":"","boxHU":"","boxminus":"","boxplus":"","boxtimes":"","boxul":"","boxuL":"","boxUl":"","boxUL":"","boxur":"","boxuR":"","boxUr":"","boxUR":"","boxv":"","boxV":"","boxvh":"","boxvH":"","boxVh":"","boxVH":"","boxvl":"","boxvL":"","boxVl":"","boxVL":"","boxvr":"","boxvR":"","boxVr":"","boxVR":"","bprime":"","breve":"","Breve":"","brvbar":"","bscr":"","Bscr":"","bsemi":"","bsim":"","bsime":"","bsolb":"","bsol":"\\\\","bsolhsub":"","bull":"","bullet":"","bump":"","bumpE":"","bumpe":"","Bumpeq":"","bumpeq":"","Cacute":"","cacute":"","capand":"","capbrcup":"","capcap":"","cap":"","Cap":"","capcup":"","capdot":"","CapitalDifferentialD":"","caps":"","caret":"","caron":"","Cayleys":"","ccaps":"","Ccaron":"","ccaron":"","Ccedil":"","ccedil":"","Ccirc":"","ccirc":"","Cconint":"","ccups":"","ccupssm":"","Cdot":"","cdot":"","cedil":"","Cedilla":"","cemptyv":"","cent":"","centerdot":"","CenterDot":"","cfr":"","Cfr":"","CHcy":"","chcy":"","check":"","checkmark":"","Chi":"","chi":"","circ":"","circeq":"","circlearrowleft":"","circlearrowright":"","circledast":"","circledcirc":"","circleddash":"","CircleDot":"","circledR":"","circledS":"","CircleMinus":"","CirclePlus":"","CircleTimes":"","cir":"","cirE":"","cire":"","cirfnint":"","cirmid":"","cirscir":"","ClockwiseContourIntegral":"","CloseCurlyDoubleQuote":"","CloseCurlyQuote":"","clubs":"","clubsuit":"","colon":":","Colon":"","Colone":"","colone":"","coloneq":"","comma":",","commat":"@","comp":"","compfn":"","complement":"","complexes":"","cong":"","congdot":"","Congruent":"","conint":"","Conint":"","ContourIntegral":"","copf":"","Copf":"","coprod":"","Coproduct":"","copy":"","COPY":"","copysr":"","CounterClockwiseContourIntegral":"","crarr":"","cross":"","Cross":"","Cscr":"","cscr":"","csub":"","csube":"","csup":"","csupe":"","ctdot":"","cudarrl":"","cudarrr":"","cuepr":"","cuesc":"","cularr":"","cularrp":"","cupbrcap":"","cupcap":"","CupCap":"","cup":"","Cup":"","cupcup":"","cupdot":"","cupor":"","cups":"","curarr":"","curarrm":"","curlyeqprec":"","curlyeqsucc":"","curlyvee":"","curlywedge":"","curren":"","curvearrowleft":"","curvearrowright":"","cuvee":"","cuwed":"","cwconint":"","cwint":"","cylcty":"","dagger":"","Dagger":"","daleth":"","darr":"","Darr":"","dArr":"","dash":"","Dashv":"","dashv":"","dbkarow":"","dblac":"","Dcaron":"","dcaron":"","Dcy":"","dcy":"","ddagger":"","ddarr":"","DD":"","dd":"","DDotrahd":"","ddotseq":"","deg":"","Del":"","Delta":"","delta":"","demptyv":"","dfisht":"","Dfr":"","dfr":"","dHar":"","dharl":"","dharr":"","DiacriticalAcute":"","DiacriticalDot":"","DiacriticalDoubleAcute":"","DiacriticalGrave":"`","DiacriticalTilde":"","diam":"","diamond":"","Diamond":"","diamondsuit":"","diams":"","die":"","DifferentialD":"","digamma":"","disin":"","div":"","divide":"","divideontimes":"","divonx":"","DJcy":"","djcy":"","dlcorn":"","dlcrop":"","dollar":"$","Dopf":"","dopf":"","Dot":"","dot":"","DotDot":"","doteq":"","doteqdot":"","DotEqual":"","dotminus":"","dotplus":"","dotsquare":"","doublebarwedge":"","DoubleContourIntegral":"","DoubleDot":"","DoubleDownArrow":"","DoubleLeftArrow":"","DoubleLeftRightArrow":"","DoubleLeftTee":"","DoubleLongLeftArrow":"","DoubleLongLeftRightArrow":"","DoubleLongRightArrow":"","DoubleRightArrow":"","DoubleRightTee":"","DoubleUpArrow":"","DoubleUpDownArrow":"","DoubleVerticalBar":"","DownArrowBar":"","downarrow":"","DownArrow":"","Downarrow":"","DownArrowUpArrow":"","DownBreve":"","downdownarrows":"","downharpoonleft":"","downharpoonright":"","DownLeftRightVector":"","DownLeftTeeVector":"","DownLeftVectorBar":"","DownLeftVector":"","DownRightTeeVector":"","DownRightVectorBar":"","DownRightVector":"","DownTeeArrow":"","DownTee":"","drbkarow":"","drcorn":"","drcrop":"","Dscr":"","dscr":"","DScy":"","dscy":"","dsol":"","Dstrok":"","dstrok":"","dtdot":"","dtri":"","dtrif":"","duarr":"","duhar":"","dwangle":"","DZcy":"","dzcy":"","dzigrarr":"","Eacute":"","eacute":"","easter":"","Ecaron":"","ecaron":"","Ecirc":"","ecirc":"","ecir":"","ecolon":"","Ecy":"","ecy":"","eDDot":"","Edot":"","edot":"","eDot":"","ee":"","efDot":"","Efr":"","efr":"","eg":"","Egrave":"","egrave":"","egs":"","egsdot":"","el":"","Element":"","elinters":"","ell":"","els":"","elsdot":"","Emacr":"","emacr":"","empty":"","emptyset":"","EmptySmallSquare":"","emptyv":"","EmptyVerySmallSquare":"","emsp13":"","emsp14":"","emsp":"","ENG":"","eng":"","ensp":"","Eogon":"","eogon":"","Eopf":"","eopf":"","epar":"","eparsl":"","eplus":"","epsi":"","Epsilon":"","epsilon":"","epsiv":"","eqcirc":"","eqcolon":"","eqsim":"","eqslantgtr":"","eqslantless":"","Equal":"","equals":"=","EqualTilde":"","equest":"","Equilibrium":"","equiv":"","equivDD":"","eqvparsl":"","erarr":"","erDot":"","escr":"","Escr":"","esdot":"","Esim":"","esim":"","Eta":"","eta":"","ETH":"","eth":"","Euml":"","euml":"","euro":"","excl":"!","exist":"","Exists":"","expectation":"","exponentiale":"","ExponentialE":"","fallingdotseq":"","Fcy":"","fcy":"","female":"","ffilig":"","fflig":"","ffllig":"","Ffr":"","ffr":"","filig":"","FilledSmallSquare":"","FilledVerySmallSquare":"","fjlig":"fj","flat":"","fllig":"","fltns":"","fnof":"","Fopf":"","fopf":"","forall":"","ForAll":"","fork":"","forkv":"","Fouriertrf":"","fpartint":"","frac12":"","frac13":"","frac14":"","frac15":"","frac16":"","frac18":"","frac23":"","frac25":"","frac34":"","frac35":"","frac38":"","frac45":"","frac56":"","frac58":"","frac78":"","frasl":"","frown":"","fscr":"","Fscr":"","gacute":"","Gamma":"","gamma":"","Gammad":"","gammad":"","gap":"","Gbreve":"","gbreve":"","Gcedil":"","Gcirc":"","gcirc":"","Gcy":"","gcy":"","Gdot":"","gdot":"","ge":"","gE":"","gEl":"","gel":"","geq":"","geqq":"","geqslant":"","gescc":"","ges":"","gesdot":"","gesdoto":"","gesdotol":"","gesl":"","gesles":"","Gfr":"","gfr":"","gg":"","Gg":"","ggg":"","gimel":"","GJcy":"","gjcy":"","gla":"","gl":"","glE":"","glj":"","gnap":"","gnapprox":"","gne":"","gnE":"","gneq":"","gneqq":"","gnsim":"","Gopf":"","gopf":"","grave":"`","GreaterEqual":"","GreaterEqualLess":"","GreaterFullEqual":"","GreaterGreater":"","GreaterLess":"","GreaterSlantEqual":"","GreaterTilde":"","Gscr":"","gscr":"","gsim":"","gsime":"","gsiml":"","gtcc":"","gtcir":"","gt":">","GT":">","Gt":"","gtdot":"","gtlPar":"","gtquest":"","gtrapprox":"","gtrarr":"","gtrdot":"","gtreqless":"","gtreqqless":"","gtrless":"","gtrsim":"","gvertneqq":"","gvnE":"","Hacek":"","hairsp":"","half":"","hamilt":"","HARDcy":"","hardcy":"","harrcir":"","harr":"","hArr":"","harrw":"","Hat":"^","hbar":"","Hcirc":"","hcirc":"","hearts":"","heartsuit":"","hellip":"","hercon":"","hfr":"","Hfr":"","HilbertSpace":"","hksearow":"","hkswarow":"","hoarr":"","homtht":"","hookleftarrow":"","hookrightarrow":"","hopf":"","Hopf":"","horbar":"","HorizontalLine":"","hscr":"","Hscr":"","hslash":"","Hstrok":"","hstrok":"","HumpDownHump":"","HumpEqual":"","hybull":"","hyphen":"","Iacute":"","iacute":"","ic":"","Icirc":"","icirc":"","Icy":"","icy":"","Idot":"","IEcy":"","iecy":"","iexcl":"","iff":"","ifr":"","Ifr":"","Igrave":"","igrave":"","ii":"","iiiint":"","iiint":"","iinfin":"","iiota":"","IJlig":"","ijlig":"","Imacr":"","imacr":"","image":"","ImaginaryI":"","imagline":"","imagpart":"","imath":"","Im":"","imof":"","imped":"","Implies":"","incare":"","in":"","infin":"","infintie":"","inodot":"","intcal":"","int":"","Int":"","integers":"","Integral":"","intercal":"","Intersection":"","intlarhk":"","intprod":"","InvisibleComma":"","InvisibleTimes":"","IOcy":"","iocy":"","Iogon":"","iogon":"","Iopf":"","iopf":"","Iota":"","iota":"","iprod":"","iquest":"","iscr":"","Iscr":"","isin":"","isindot":"","isinE":"","isins":"","isinsv":"","isinv":"","it":"","Itilde":"","itilde":"","Iukcy":"","iukcy":"","Iuml":"","iuml":"","Jcirc":"","jcirc":"","Jcy":"","jcy":"","Jfr":"","jfr":"","jmath":"","Jopf":"","jopf":"","Jscr":"","jscr":"","Jsercy":"","jsercy":"","Jukcy":"","jukcy":"","Kappa":"","kappa":"","kappav":"","Kcedil":"","kcedil":"","Kcy":"","kcy":"","Kfr":"","kfr":"","kgreen":"","KHcy":"","khcy":"","KJcy":"","kjcy":"","Kopf":"","kopf":"","Kscr":"","kscr":"","lAarr":"","Lacute":"","lacute":"","laemptyv":"","lagran":"","Lambda":"","lambda":"","lang":"","Lang":"","langd":"","langle":"","lap":"","Laplacetrf":"","laquo":"","larrb":"","larrbfs":"","larr":"","Larr":"","lArr":"","larrfs":"","larrhk":"","larrlp":"","larrpl":"","larrsim":"","larrtl":"","latail":"","lAtail":"","lat":"","late":"","lates":"","lbarr":"","lBarr":"","lbbrk":"","lbrace":"{","lbrack":"[","lbrke":"","lbrksld":"","lbrkslu":"","Lcaron":"","lcaron":"","Lcedil":"","lcedil":"","lceil":"","lcub":"{","Lcy":"","lcy":"","ldca":"","ldquo":"","ldquor":"","ldrdhar":"","ldrushar":"","ldsh":"","le":"","lE":"","LeftAngleBracket":"","LeftArrowBar":"","leftarrow":"","LeftArrow":"","Leftarrow":"","LeftArrowRightArrow":"","leftarrowtail":"","LeftCeiling":"","LeftDoubleBracket":"","LeftDownTeeVector":"","LeftDownVectorBar":"","LeftDownVector":"","LeftFloor":"","leftharpoondown":"","leftharpoonup":"","leftleftarrows":"","leftrightarrow":"","LeftRightArrow":"","Leftrightarrow":"","leftrightarrows":"","leftrightharpoons":"","leftrightsquigarrow":"","LeftRightVector":"","LeftTeeArrow":"","LeftTee":"","LeftTeeVector":"","leftthreetimes":"","LeftTriangleBar":"","LeftTriangle":"","LeftTriangleEqual":"","LeftUpDownVector":"","LeftUpTeeVector":"","LeftUpVectorBar":"","LeftUpVector":"","LeftVectorBar":"","LeftVector":"","lEg":"","leg":"","leq":"","leqq":"","leqslant":"","lescc":"","les":"","lesdot":"","lesdoto":"","lesdotor":"","lesg":"","lesges":"","lessapprox":"","lessdot":"","lesseqgtr":"","lesseqqgtr":"","LessEqualGreater":"","LessFullEqual":"","LessGreater":"","lessgtr":"","LessLess":"","lesssim":"","LessSlantEqual":"","LessTilde":"","lfisht":"","lfloor":"","Lfr":"","lfr":"","lg":"","lgE":"","lHar":"","lhard":"","lharu":"","lharul":"","lhblk":"","LJcy":"","ljcy":"","llarr":"","ll":"","Ll":"","llcorner":"","Lleftarrow":"","llhard":"","lltri":"","Lmidot":"","lmidot":"","lmoustache":"","lmoust":"","lnap":"","lnapprox":"","lne":"","lnE":"","lneq":"","lneqq":"","lnsim":"","loang":"","loarr":"","lobrk":"","longleftarrow":"","LongLeftArrow":"","Longleftarrow":"","longleftrightarrow":"","LongLeftRightArrow":"","Longleftrightarrow":"","longmapsto":"","longrightarrow":"","LongRightArrow":"","Longrightarrow":"","looparrowleft":"","looparrowright":"","lopar":"","Lopf":"","lopf":"","loplus":"","lotimes":"","lowast":"","lowbar":"_","LowerLeftArrow":"","LowerRightArrow":"","loz":"","lozenge":"","lozf":"","lpar":"(","lparlt":"","lrarr":"","lrcorner":"","lrhar":"","lrhard":"","lrm":"","lrtri":"","lsaquo":"","lscr":"","Lscr":"","lsh":"","Lsh":"","lsim":"","lsime":"","lsimg":"","lsqb":"[","lsquo":"","lsquor":"","Lstrok":"","lstrok":"","ltcc":"","ltcir":"","lt":"<","LT":"<","Lt":"","ltdot":"","lthree":"","ltimes":"","ltlarr":"","ltquest":"","ltri":"","ltrie":"","ltrif":"","ltrPar":"","lurdshar":"","luruhar":"","lvertneqq":"","lvnE":"","macr":"","male":"","malt":"","maltese":"","Map":"","map":"","mapsto":"","mapstodown":"","mapstoleft":"","mapstoup":"","marker":"","mcomma":"","Mcy":"","mcy":"","mdash":"","mDDot":"","measuredangle":"","MediumSpace":"","Mellintrf":"","Mfr":"","mfr":"","mho":"","micro":"","midast":"*","midcir":"","mid":"","middot":"","minusb":"","minus":"","minusd":"","minusdu":"","MinusPlus":"","mlcp":"","mldr":"","mnplus":"","models":"","Mopf":"","mopf":"","mp":"","mscr":"","Mscr":"","mstpos":"","Mu":"","mu":"","multimap":"","mumap":"","nabla":"","Nacute":"","nacute":"","nang":"","nap":"","napE":"","napid":"","napos":"","napprox":"","natural":"","naturals":"","natur":"","nbsp":"","nbump":"","nbumpe":"","ncap":"","Ncaron":"","ncaron":"","Ncedil":"","ncedil":"","ncong":"","ncongdot":"","ncup":"","Ncy":"","ncy":"","ndash":"","nearhk":"","nearr":"","neArr":"","nearrow":"","ne":"","nedot":"","NegativeMediumSpace":"","NegativeThickSpace":"","NegativeThinSpace":"","NegativeVeryThinSpace":"","nequiv":"","nesear":"","nesim":"","NestedGreaterGreater":"","NestedLessLess":"","NewLine":"\\n","nexist":"","nexists":"","Nfr":"","nfr":"","ngE":"","nge":"","ngeq":"","ngeqq":"","ngeqslant":"","nges":"","nGg":"","ngsim":"","nGt":"","ngt":"","ngtr":"","nGtv":"","nharr":"","nhArr":"","nhpar":"","ni":"","nis":"","nisd":"","niv":"","NJcy":"","njcy":"","nlarr":"","nlArr":"","nldr":"","nlE":"","nle":"","nleftarrow":"","nLeftarrow":"","nleftrightarrow":"","nLeftrightarrow":"","nleq":"","nleqq":"","nleqslant":"","nles":"","nless":"","nLl":"","nlsim":"","nLt":"","nlt":"","nltri":"","nltrie":"","nLtv":"","nmid":"","NoBreak":"","NonBreakingSpace":"","nopf":"","Nopf":"","Not":"","not":"","NotCongruent":"","NotCupCap":"","NotDoubleVerticalBar":"","NotElement":"","NotEqual":"","NotEqualTilde":"","NotExists":"","NotGreater":"","NotGreaterEqual":"","NotGreaterFullEqual":"","NotGreaterGreater":"","NotGreaterLess":"","NotGreaterSlantEqual":"","NotGreaterTilde":"","NotHumpDownHump":"","NotHumpEqual":"","notin":"","notindot":"","notinE":"","notinva":"","notinvb":"","notinvc":"","NotLeftTriangleBar":"","NotLeftTriangle":"","NotLeftTriangleEqual":"","NotLess":"","NotLessEqual":"","NotLessGreater":"","NotLessLess":"","NotLessSlantEqual":"","NotLessTilde":"","NotNestedGreaterGreater":"","NotNestedLessLess":"","notni":"","notniva":"","notnivb":"","notnivc":"","NotPrecedes":"","NotPrecedesEqual":"","NotPrecedesSlantEqual":"","NotReverseElement":"","NotRightTriangleBar":"","NotRightTriangle":"","NotRightTriangleEqual":"","NotSquareSubset":"","NotSquareSubsetEqual":"","NotSquareSuperset":"","NotSquareSupersetEqual":"","NotSubset":"","NotSubsetEqual":"","NotSucceeds":"","NotSucceedsEqual":"","NotSucceedsSlantEqual":"","NotSucceedsTilde":"","NotSuperset":"","NotSupersetEqual":"","NotTilde":"","NotTildeEqual":"","NotTildeFullEqual":"","NotTildeTilde":"","NotVerticalBar":"","nparallel":"","npar":"","nparsl":"","npart":"","npolint":"","npr":"","nprcue":"","nprec":"","npreceq":"","npre":"","nrarrc":"","nrarr":"","nrArr":"","nrarrw":"","nrightarrow":"","nRightarrow":"","nrtri":"","nrtrie":"","nsc":"","nsccue":"","nsce":"","Nscr":"","nscr":"","nshortmid":"","nshortparallel":"","nsim":"","nsime":"","nsimeq":"","nsmid":"","nspar":"","nsqsube":"","nsqsupe":"","nsub":"","nsubE":"","nsube":"","nsubset":"","nsubseteq":"","nsubseteqq":"","nsucc":"","nsucceq":"","nsup":"","nsupE":"","nsupe":"","nsupset":"","nsupseteq":"","nsupseteqq":"","ntgl":"","Ntilde":"","ntilde":"","ntlg":"","ntriangleleft":"","ntrianglelefteq":"","ntriangleright":"","ntrianglerighteq":"","Nu":"","nu":"","num":"#","numero":"","numsp":"","nvap":"","nvdash":"","nvDash":"","nVdash":"","nVDash":"","nvge":"","nvgt":">","nvHarr":"","nvinfin":"","nvlArr":"","nvle":"","nvlt":"<","nvltrie":"","nvrArr":"","nvrtrie":"","nvsim":"","nwarhk":"","nwarr":"","nwArr":"","nwarrow":"","nwnear":"","Oacute":"","oacute":"","oast":"","Ocirc":"","ocirc":"","ocir":"","Ocy":"","ocy":"","odash":"","Odblac":"","odblac":"","odiv":"","odot":"","odsold":"","OElig":"","oelig":"","ofcir":"","Ofr":"","ofr":"","ogon":"","Ograve":"","ograve":"","ogt":"","ohbar":"","ohm":"","oint":"","olarr":"","olcir":"","olcross":"","oline":"","olt":"","Omacr":"","omacr":"","Omega":"","omega":"","Omicron":"","omicron":"","omid":"","ominus":"","Oopf":"","oopf":"","opar":"","OpenCurlyDoubleQuote":"","OpenCurlyQuote":"","operp":"","oplus":"","orarr":"","Or":"","or":"","ord":"","order":"","orderof":"","ordf":"","ordm":"","origof":"","oror":"","orslope":"","orv":"","oS":"","Oscr":"","oscr":"","Oslash":"","oslash":"","osol":"","Otilde":"","otilde":"","otimesas":"","Otimes":"","otimes":"","Ouml":"","ouml":"","ovbar":"","OverBar":"","OverBrace":"","OverBracket":"","OverParenthesis":"","para":"","parallel":"","par":"","parsim":"","parsl":"","part":"","PartialD":"","Pcy":"","pcy":"","percnt":"%","period":".","permil":"","perp":"","pertenk":"","Pfr":"","pfr":"","Phi":"","phi":"","phiv":"","phmmat":"","phone":"","Pi":"","pi":"","pitchfork":"","piv":"","planck":"","planckh":"","plankv":"","plusacir":"","plusb":"","pluscir":"","plus":"+","plusdo":"","plusdu":"","pluse":"","PlusMinus":"","plusmn":"","plussim":"","plustwo":"","pm":"","Poincareplane":"","pointint":"","popf":"","Popf":"","pound":"","prap":"","Pr":"","pr":"","prcue":"","precapprox":"","prec":"","preccurlyeq":"","Precedes":"","PrecedesEqual":"","PrecedesSlantEqual":"","PrecedesTilde":"","preceq":"","precnapprox":"","precneqq":"","precnsim":"","pre":"","prE":"","precsim":"","prime":"","Prime":"","primes":"","prnap":"","prnE":"","prnsim":"","prod":"","Product":"","profalar":"","profline":"","profsurf":"","prop":"","Proportional":"","Proportion":"","propto":"","prsim":"","prurel":"","Pscr":"","pscr":"","Psi":"","psi":"","puncsp":"","Qfr":"","qfr":"","qint":"","qopf":"","Qopf":"","qprime":"","Qscr":"","qscr":"","quaternions":"","quatint":"","quest":"?","questeq":"","quot":"\\"","QUOT":"\\"","rAarr":"","race":"","Racute":"","racute":"","radic":"","raemptyv":"","rang":"","Rang":"","rangd":"","range":"","rangle":"","raquo":"","rarrap":"","rarrb":"","rarrbfs":"","rarrc":"","rarr":"","Rarr":"","rArr":"","rarrfs":"","rarrhk":"","rarrlp":"","rarrpl":"","rarrsim":"","Rarrtl":"","rarrtl":"","rarrw":"","ratail":"","rAtail":"","ratio":"","rationals":"","rbarr":"","rBarr":"","RBarr":"","rbbrk":"","rbrace":"}","rbrack":"]","rbrke":"","rbrksld":"","rbrkslu":"","Rcaron":"","rcaron":"","Rcedil":"","rcedil":"","rceil":"","rcub":"}","Rcy":"","rcy":"","rdca":"","rdldhar":"","rdquo":"","rdquor":"","rdsh":"","real":"","realine":"","realpart":"","reals":"","Re":"","rect":"","reg":"","REG":"","ReverseElement":"","ReverseEquilibrium":"","ReverseUpEquilibrium":"","rfisht":"","rfloor":"","rfr":"","Rfr":"","rHar":"","rhard":"","rharu":"","rharul":"","Rho":"","rho":"","rhov":"","RightAngleBracket":"","RightArrowBar":"","rightarrow":"","RightArrow":"","Rightarrow":"","RightArrowLeftArrow":"","rightarrowtail":"","RightCeiling":"","RightDoubleBracket":"","RightDownTeeVector":"","RightDownVectorBar":"","RightDownVector":"","RightFloor":"","rightharpoondown":"","rightharpoonup":"","rightleftarrows":"","rightleftharpoons":"","rightrightarrows":"","rightsquigarrow":"","RightTeeArrow":"","RightTee":"","RightTeeVector":"","rightthreetimes":"","RightTriangleBar":"","RightTriangle":"","RightTriangleEqual":"","RightUpDownVector":"","RightUpTeeVector":"","RightUpVectorBar":"","RightUpVector":"","RightVectorBar":"","RightVector":"","ring":"","risingdotseq":"","rlarr":"","rlhar":"","rlm":"","rmoustache":"","rmoust":"","rnmid":"","roang":"","roarr":"","robrk":"","ropar":"","ropf":"","Ropf":"","roplus":"","rotimes":"","RoundImplies":"","rpar":")","rpargt":"","rppolint":"","rrarr":"","Rrightarrow":"","rsaquo":"","rscr":"","Rscr":"","rsh":"","Rsh":"","rsqb":"]","rsquo":"","rsquor":"","rthree":"","rtimes":"","rtri":"","rtrie":"","rtrif":"","rtriltri":"","RuleDelayed":"","ruluhar":"","rx":"","Sacute":"","sacute":"","sbquo":"","scap":"","Scaron":"","scaron":"","Sc":"","sc":"","sccue":"","sce":"","scE":"","Scedil":"","scedil":"","Scirc":"","scirc":"","scnap":"","scnE":"","scnsim":"","scpolint":"","scsim":"","Scy":"","scy":"","sdotb":"","sdot":"","sdote":"","searhk":"","searr":"","seArr":"","searrow":"","sect":"","semi":";","seswar":"","setminus":"","setmn":"","sext":"","Sfr":"","sfr":"","sfrown":"","sharp":"","SHCHcy":"","shchcy":"","SHcy":"","shcy":"","ShortDownArrow":"","ShortLeftArrow":"","shortmid":"","shortparallel":"","ShortRightArrow":"","ShortUpArrow":"","shy":"","Sigma":"","sigma":"","sigmaf":"","sigmav":"","sim":"","simdot":"","sime":"","simeq":"","simg":"","simgE":"","siml":"","simlE":"","simne":"","simplus":"","simrarr":"","slarr":"","SmallCircle":"","smallsetminus":"","smashp":"","smeparsl":"","smid":"","smile":"","smt":"","smte":"","smtes":"","SOFTcy":"","softcy":"","solbar":"","solb":"","sol":"/","Sopf":"","sopf":"","spades":"","spadesuit":"","spar":"","sqcap":"","sqcaps":"","sqcup":"","sqcups":"","Sqrt":"","sqsub":"","sqsube":"","sqsubset":"","sqsubseteq":"","sqsup":"","sqsupe":"","sqsupset":"","sqsupseteq":"","square":"","Square":"","SquareIntersection":"","SquareSubset":"","SquareSubsetEqual":"","SquareSuperset":"","SquareSupersetEqual":"","SquareUnion":"","squarf":"","squ":"","squf":"","srarr":"","Sscr":"","sscr":"","ssetmn":"","ssmile":"","sstarf":"","Star":"","star":"","starf":"","straightepsilon":"","straightphi":"","strns":"","sub":"","Sub":"","subdot":"","subE":"","sube":"","subedot":"","submult":"","subnE":"","subne":"","subplus":"","subrarr":"","subset":"","Subset":"","subseteq":"","subseteqq":"","SubsetEqual":"","subsetneq":"","subsetneqq":"","subsim":"","subsub":"","subsup":"","succapprox":"","succ":"","succcurlyeq":"","Succeeds":"","SucceedsEqual":"","SucceedsSlantEqual":"","SucceedsTilde":"","succeq":"","succnapprox":"","succneqq":"","succnsim":"","succsim":"","SuchThat":"","sum":"","Sum":"","sung":"","sup1":"","sup2":"","sup3":"","sup":"","Sup":"","supdot":"","supdsub":"","supE":"","supe":"","supedot":"","Superset":"","SupersetEqual":"","suphsol":"","suphsub":"","suplarr":"","supmult":"","supnE":"","supne":"","supplus":"","supset":"","Supset":"","supseteq":"","supseteqq":"","supsetneq":"","supsetneqq":"","supsim":"","supsub":"","supsup":"","swarhk":"","swarr":"","swArr":"","swarrow":"","swnwar":"","szlig":"","Tab":"\\t","target":"","Tau":"","tau":"","tbrk":"","Tcaron":"","tcaron":"","Tcedil":"","tcedil":"","Tcy":"","tcy":"","tdot":"","telrec":"","Tfr":"","tfr":"","there4":"","therefore":"","Therefore":"","Theta":"","theta":"","thetasym":"","thetav":"","thickapprox":"","thicksim":"","ThickSpace":"","ThinSpace":"","thinsp":"","thkap":"","thksim":"","THORN":"","thorn":"","tilde":"","Tilde":"","TildeEqual":"","TildeFullEqual":"","TildeTilde":"","timesbar":"","timesb":"","times":"","timesd":"","tint":"","toea":"","topbot":"","topcir":"","top":"","Topf":"","topf":"","topfork":"","tosa":"","tprime":"","trade":"","TRADE":"","triangle":"","triangledown":"","triangleleft":"","trianglelefteq":"","triangleq":"","triangleright":"","trianglerighteq":"","tridot":"","trie":"","triminus":"","TripleDot":"","triplus":"","trisb":"","tritime":"","trpezium":"","Tscr":"","tscr":"","TScy":"","tscy":"","TSHcy":"","tshcy":"","Tstrok":"","tstrok":"","twixt":"","twoheadleftarrow":"","twoheadrightarrow":"","Uacute":"","uacute":"","uarr":"","Uarr":"","uArr":"","Uarrocir":"","Ubrcy":"","ubrcy":"","Ubreve":"","ubreve":"","Ucirc":"","ucirc":"","Ucy":"","ucy":"","udarr":"","Udblac":"","udblac":"","udhar":"","ufisht":"","Ufr":"","ufr":"","Ugrave":"","ugrave":"","uHar":"","uharl":"","uharr":"","uhblk":"","ulcorn":"","ulcorner":"","ulcrop":"","ultri":"","Umacr":"","umacr":"","uml":"","UnderBar":"_","UnderBrace":"","UnderBracket":"","UnderParenthesis":"","Union":"","UnionPlus":"","Uogon":"","uogon":"","Uopf":"","uopf":"","UpArrowBar":"","uparrow":"","UpArrow":"","Uparrow":"","UpArrowDownArrow":"","updownarrow":"","UpDownArrow":"","Updownarrow":"","UpEquilibrium":"","upharpoonleft":"","upharpoonright":"","uplus":"","UpperLeftArrow":"","UpperRightArrow":"","upsi":"","Upsi":"","upsih":"","Upsilon":"","upsilon":"","UpTeeArrow":"","UpTee":"","upuparrows":"","urcorn":"","urcorner":"","urcrop":"","Uring":"","uring":"","urtri":"","Uscr":"","uscr":"","utdot":"","Utilde":"","utilde":"","utri":"","utrif":"","uuarr":"","Uuml":"","uuml":"","uwangle":"","vangrt":"","varepsilon":"","varkappa":"","varnothing":"","varphi":"","varpi":"","varpropto":"","varr":"","vArr":"","varrho":"","varsigma":"","varsubsetneq":"","varsubsetneqq":"","varsupsetneq":"","varsupsetneqq":"","vartheta":"","vartriangleleft":"","vartriangleright":"","vBar":"","Vbar":"","vBarv":"","Vcy":"","vcy":"","vdash":"","vDash":"","Vdash":"","VDash":"","Vdashl":"","veebar":"","vee":"","Vee":"","veeeq":"","vellip":"","verbar":"|","Verbar":"","vert":"|","Vert":"","VerticalBar":"","VerticalLine":"|","VerticalSeparator":"","VerticalTilde":"","VeryThinSpace":"","Vfr":"","vfr":"","vltri":"","vnsub":"","vnsup":"","Vopf":"","vopf":"","vprop":"","vrtri":"","Vscr":"","vscr":"","vsubnE":"","vsubne":"","vsupnE":"","vsupne":"","Vvdash":"","vzigzag":"","Wcirc":"","wcirc":"","wedbar":"","wedge":"","Wedge":"","wedgeq":"","weierp":"","Wfr":"","wfr":"","Wopf":"","wopf":"","wp":"","wr":"","wreath":"","Wscr":"","wscr":"","xcap":"","xcirc":"","xcup":"","xdtri":"","Xfr":"","xfr":"","xharr":"","xhArr":"","Xi":"","xi":"","xlarr":"","xlArr":"","xmap":"","xnis":"","xodot":"","Xopf":"","xopf":"","xoplus":"","xotime":"","xrarr":"","xrArr":"","Xscr":"","xscr":"","xsqcup":"","xuplus":"","xutri":"","xvee":"","xwedge":"","Yacute":"","yacute":"","YAcy":"","yacy":"","Ycirc":"","ycirc":"","Ycy":"","ycy":"","yen":"","Yfr":"","yfr":"","YIcy":"","yicy":"","Yopf":"","yopf":"","Yscr":"","yscr":"","YUcy":"","yucy":"","yuml":"","Yuml":"","Zacute":"","zacute":"","Zcaron":"","zcaron":"","Zcy":"","zcy":"","Zdot":"","zdot":"","zeetrf":"","ZeroWidthSpace":"","Zeta":"","zeta":"","zfr":"","Zfr":"","ZHcy":"","zhcy":"","zigrarr":"","zopf":"","Zopf":"","Zscr":"","zscr":"","zwj":"","zwnj":""}')},312520:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(614006),r=i(547134);class a{static getWidgetGeneratorClass(e){let t;switch(e){case n.n.CONSENT_BS_WIDGET:t=i(225602);break;case n.n.BANNER:case n.n.BANNER_LOGGED_OUT:t=i(304067);break;case n.n.DYNAMIC_NAVBAR:t=i(788225);break;case n.n.MULTIMEDIA:case n.n.EMERALD_MULTIMEDIA:t=i(141792);break;case n.n.PRODUCTS_IN_COMBO:t=i(836868);break;case n.n.COMBO_PRICE_SUMMARY:t=i(817769);break;case n.n.PMU_COMBO:t=i(719987);break;case n.n.PMU_COMBO_REVAMPED:t=i(436991);break;case n.n.COMBO_PRODUCT_TITLE:t=i(84146);break;case n.n.COMBO_MULTIMEDIA:t=i(304392);break;case n.n.COMBO_DELIVERY:t=i(432883);break;case n.n.RATING_SUMMARY:t=i(229146);break;case n.n.SELLER_PROXY_RATING:t=i(44830);break;case n.n.PRODUCT_PRICE_SUMMARY:t=i(377434);break;case n.n.PRODUCT_TITLE:t=i(480274);break;case n.n.BRAND_STORE_CALLOUT:t=i(387979);break;case n.n.PRICING_AID:t=i(753664);break;case n.n.PRODUCT_PAGE_SUMMARY:case n.n.PRODUCT_PAGE_SUMMARY_V2:t=i(611878);break;case n.n.GROUPED_PMU_V2:t=i(855985);break;case n.n.GEN_AI_SUMMARY:t=i(903670);break;case n.n.NEP:t=i(179975);break;case n.n.ATLAS_NEP:t=i(377259);break;case n.n.ATLAS_NEP_V2:t=i(172292);break;case n.n.NEP_EMI:t=i(310570);break;case n.n.REASON_TO_BUY:t=i(845077);break;case n.n.OPERATOR_SUBVENTION_OFFER:t=i(833274);break;case n.n.NEP_ALTERNATE_OFFERS:t=i(839784);break;case n.n.PRODUCT_OFFERS_V3:t=i(704560);break;case n.n.ACTION:case n.n.EGV_ACTION:case n.n.EV_ACTION:case n.n.NOTIFY:t=i(218908);break;case n.n.SOLO_ACTION:t=i(571305);break;case r.A.BELOW_THE_FOLD:t=i(321955);break;case n.n.PRODUCT_ACTION_EXTENDED:t=i(124367);break;case n.n.COMPOSED_SWATCH:case n.n.EMERALD_SWATCH:case n.n.COMPOSED_SWATCH_EGV:t=i(482659);break;case n.n.EMERALD_PROMISE:t=i(72476);break;case n.n.CONTENT_CARD_WRAPPER:t=i(252403);break;case n.n.ASM:t=i(677184);break;case n.n.ASM_POPUP:t=i(204790);break;case n.n.RPD_SUMMARY:case n.n.RPD_V2:t=i(693467);break;case n.n.BRAND_AUTHENTICITY:t=i(282625);break;case r.A.CERTIFICATE_POP_UP_MODAL:t=i(940273);break;case n.n.ASPECT_RATING:t=i(814227);break;case n.n.REVIEW_IMAGES:t=i(156449);break;case n.n.ANNOUNCEMENT_V2:t=i(945641);break;case n.n.BRAND_TRUST_MARKER:t=i(610958);break;case n.n.TRY_THE_SHADE_BUTTON:t=i(218908);break;case n.n.TRY_THE_SHADE_IMAGE:t=i(726964);break;case n.n.USER_ADDRESS_SELECTION_V3:t=i(254194);break;case r.A.ADDRESS_CTA:t=i(288030);break;case n.n.PRODUCT_COMPARE:t=i(348249);break;case n.n.COLOR_SWATCH_VARIANTS:t=i(673241);break;case n.n.PRODUCT_OFFERS_V2:t=i(778348);break;case n.n.POLICY_DETAILS:t=i(446111);break;case n.n.AUGMENTED_REALITY_WIDGET:t=i(576732);break;case n.n.EXPERT_PROFILE:t=i(883562);break;case n.n.DELIVERY:t=i(534690);break;case n.n.RICH_ANNOUNCEMENT:t=i(412756);break;case n.n.DISCOUNT_BASKET_OFFER:t=i(808883);break;case n.n.SET_BASKET_OFFER:t=i(554606);break;case n.n.BASKET_OFFER_BOTTOM_WIDGET:t=i(441497);break;case n.n.COUPON_PP_ANNOUNCEMENT:case n.n.FORMATTED_ANNOUNCEMENT:t=i(521807);break;case n.n.FORMATTED_LIST_WIDGET:t=i(138412);break;case n.n.REMOVE_ITEM_CONFIRMATION:t=i(184105);break;case n.n.NOTIFY_V3:case n.n.NOTIFY_V4:case n.n.OOS_ACTION:t=i(397001);break;case n.n.DECORATED_ACTION_LIST:t=i(346847);break;case r.A.SERVICE_CALLOUT_POPUP:t=i(793997);break;case r.A.SERVICE_COIN_EARN_CALLOUT_POPUP:t=i(14001);break;case r.A.ENHANCED_SELLER_WIDGET_POPUP:t=i(660332);break;case n.n.VIEW_SIMILAR_WIDGET:t=i(910933);break;case r.A.SUPERCOINS_CALLOUT:t=i(713069);break;case r.A.FORWARD_NAVIGATION_EXPLICIT:t=i(367768);break;case n.n.VAS_V0:t=i(421092);break;case n.n.BASKET_PMU:t=i(189920);break;case n.n.PMU_V5_CAROUSEL:t=i(559075);break;case n.n.FREEBIE:t=i(236506);break;case n.n.TOP_CHARTS_WIDGET:t=i(167732);break;case n.n.GROUPED_PMU:t=i(120649);break;case n.n.ADVERTISEMENT:t=i(678955);break;case n.n.RBO_UNLOCKED:t=i(535529);break;case n.n.NEP_COUPON:t=i(896436);break;case n.n.CART_SWAP_CONFIRMATION:t=i(167630);break;case n.n.CUSTOM_DENOMINATION_WIDGET:t=i(928005);break;case r.A.PINCODE_RESOLUTION_POPUP:t=i(258536);break;case n.n.SWC_SINGLE_QUESTION_QUIZ:t=i(9149);break;case n.n.STYLE_MATCH:t=i(430622);break;case n.n.GROCERY_BOTTOM_BAR:t=i(322475);break;case r.A.ABB_POPUP:t=i(518320);break;case r.A.ABB_INSURANCE_RTO_POPUP:t=i(713e3);break;case n.n.STICKY_BASKET:case n.n.D2R_V2:t=i(158451);break;case n.n.PRODUCT_DETAILS:t=i(32659);break;case n.n.BASE_SUMMARY_WIDGET:t=i(343243);break;case n.n.TRANSACTION_BASED_STREAKS_WIDGET:t=i(436516);break;case n.n.MULTI_ATTACH:t=i(723845);break;case n.n.VALUE_ADDED_BENEFIT_WIDGET:t=i(457158);break;case n.n.FEATURE_ANNOUNCEMENT:t=i(852173);break;case n.n.SEARCH_FEED:t=i(230879);break;case n.n.VIEW_SIMILAR_SWIPE:t=i(599255);break;case n.n.COMBO_PRODUCTS_TAB:t=i(505675);break;case n.n.ACTIONABLE_ANNOUNCEMENT:t=i(109963);break;case n.n.SCRUBBABLE_BANNER:case n.n.TRY_AND_BUY_MOBILE_UI_BANNER:t=i(320928);break;case n.n.RTO_2W:case n.n.TWO_WHEELER_INSURANCE:case n.n.LOAN_CALLOUT:case n.n.LOAN_OFFER_DETAILS:t=i(610167);break;case n.n.PMU_V6:case n.n.PMU_V3:case n.n.PMU_OOS:t=i(512495);break;case n.n.COMPLETE_THE_LOOK:t=i(807080);break;case n.n.DLS_WIDGET:case r.A.ATLAS_WIDGET:t=i(572173);break;case n.n.PMU_HORIZONTAL_EXTENDED:t=i(564776);break;case r.A.REMOVE_ITEM_CONFIRMATION_SAALV2:t=i(117739);break;case n.n.FEE_DESCRIPTION:t=i(330652);break;case r.A.QUANTITY_SELECTOR_POPUP:t=i(326266);break;case n.n.POST_ORDER_ASSURANCE_WIDGET:t=i(775e3);break;case n.n.HIGHLIGHT_SECTION_WIDGET:t=i(841047);break;case n.n.ML_REVIEW_SUMMARY:t=i(635989);break;case n.n.ANNOUNCEMENT:case n.n.SALE_ANNOUNCEMENT:t=i(102461);break;case n.n.STICKY_NEP:t=i(628942);break;case n.n.ML_ALL_ASPECTS_REVIEW_SUMMARY:t=i(953027);break;case n.n.ML_ASPECT_REVIEW_SUMMARY:t=i(464010);break;case n.n.ALL_REVIEWS_TITLE:t=i(725423);break;case n.n.STICKER:t=i(67298);break;case n.n.DELIVERY_ADDRESS:t=i(100063);break;case n.n.PINCODE:t=i(909221);break;case n.n.ATLAS_VALUE_ADDED_SERVICES:t=i(836106);break;case r.A.ABB_BOTTOM_SHEET:t=i(467400);break;case n.n.EXPIRY:t=i(279450);break;case n.n.PINCODE_MIN:case n.n.PINCODE:t=i(909221);break;case n.n.PRODUCT_DETAILS:t=i(32659);break;case n.n.SELLER_V2:t=i(418457);break;case r.A.PRODUCT_PRICING_MODAL:t=i(171313);break;case n.n.RATING:t=i(94944);break;case n.n.PRODUCT_NOTE:t=i(255288);break;case n.n.REVIEWS:t=i(709735);break;case r.A.SWATCH_SELECTION_BOTTOM_SHEET:t=i(41669);break;case r.A.SWATCH_SELECTION_MODAL:t=i(405892);break;case n.n.HIGHLIGHTS_EXTENDED:t=i(780624);break;case n.n.QNA:t=i(920456);break;case r.A.STATIC_WEB_PAGE_MODAL:t=i(428814);break;case n.n.FREQUENTLY_BOUGHT_TOGETHER:t=i(542209);break;case r.A.OFFER_BOTTOM_SHEET:t=i(528078);break;case r.A.EMI_BOTTOM_SHEET:t=i(725943)}if(t)return t&&t.default?t.default:t}}},315380:(e,t,i)=>{"use strict";i.d(t,{u:()=>o});var n=i(877293),r=i(670563),a=i(887261);const o=n.StyleSheet.create({emptyPadding:{width:16},outerContainer:{backgroundColor:r.J3.lightBlueBackgroundColor,justifyContent:"flex-start",paddingTop:24,paddingBottom:12,height:176,alignContent:"stretch"},initialCarouselOffset:{marginLeft:16,marginTop:2,marginBottom:8,marginRight:4,paddingRight:4},initialFreebieCarouselOffset:{marginTop:2,marginBottom:16,marginRight:16,paddingTop:12},crossNodeLayout:{flexDirection:"row",backgroundColor:r.J3.white,height:130,borderColor:r.J3.black,borderRadius:2},freebieCardLayout:{flexDirection:"row",backgroundColor:r.J3.white,borderColor:r.V9.whiteSmokeLight,borderRadius:4,borderStyle:"solid",borderWidth:1,width:"100%"},reviewImageOuterContainer:{justifyContent:"flex-start",paddingTop:16,paddingBottom:12,height:250,alignContent:"stretch"},reviewImageInitialCarouselOffset:{marginLeft:12,marginTop:2,marginBottom:8},reviewImageGridLayoutWithShadow:{height:230,paddingTop:4,paddingLeft:4,paddingBottom:8},reviewImageGridLayout:{flexDirection:"column",backgroundColor:r.J3.white,height:200,borderColor:r.J3.black,borderRadius:4},imageContainer:{flexDirection:"row",justifyContent:"center"},freebieImageContainer:{paddingLeft:12,paddingRight:12},textContentLayout:{flexDirection:"column",paddingLeft:8,paddingRight:20,justifyContent:"center",flex:1},titleLabel:{color:r.J3.blackWithLargeAlpha,fontFamily:a.$u,includeFontPadding:!1,fontSize:16,lineHeight:18},subtitleLabel:{color:r.J3.blackWithMediumAlpha,fontFamily:a.A$,paddingTop:5,fontSize:12,lineHeight:16},image:{paddingLeft:8},iconStyle:{left:6},textWithImageStyle:{marginTop:12,marginBottom:4,flexDirection:"row",alignItems:"center"}})},317483:(e,t)=>{t.removeSubsets=function(e){for(var t,i,n,r=e.length;--r>-1;){for(t=i=e[r],e[r]=null,n=!0;i;){if(e.indexOf(i)>-1){n=!1,e.splice(r,1);break}i=i.parent}n&&(e[r]=t)}return e};var i=1,n=2,r=4,a=8,o=16,s=t.compareDocumentPosition=function(e,t){var s,l,d,c,u,h,p=[],g=[];if(e===t)return 0;for(s=e;s;)p.unshift(s),s=s.parent;for(s=t;s;)g.unshift(s),s=s.parent;for(h=0;p[h]===g[h];)h++;return 0===h?i:(d=(l=p[h-1]).children,c=p[h],u=g[h],d.indexOf(c)>d.indexOf(u)?l===t?r|o:r:l===e?n|a:n)};t.uniqueSort=function(e){var t,i,a=e.length;for(e=e.slice();--a>-1;)t=e[a],(i=e.indexOf(t))>-1&&i<a&&e.splice(a,1);return e.sort((function(e,t){var i=s(e,t);return i&n?-1:i&r?1:0})),e}},318923:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var n=i(229833),r=i(90513),a=i(918210),o=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};class s{handleAction(e,t,i){var s,l,d;const c=null===(l=null===(s=e.payload)||void 0===s?void 0:s.trackingParams)||void 0===l?void 0:l.getTracking();if(c){const{eVar106:e}=c,i=o(c,["eVar106"]),s=null===(d=null==t?void 0:t.pageDataResponse)||void 0===d?void 0:d.pageContext,{sproduct:l=""}=(null==s?void 0:s.trackingDataV2)||{};e&&(i[r.Ay.PRODUCTS]=n.A.getSProductAdding(r.Ay.EVAR106,e,l)),a.A.addAndtrackEventUnderName("G2N_Cancellation_fee_callout_Click",i)}return!0}}},320928:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>m});var n=i(465420),r=i(347924),a=i(296540),o=i(877293),s=i(716249),l=i(52754),d=i(899235),c=i(352254),u=i(110941);class h extends a.PureComponent{static getHeight(e,t){return h._getImageDimension(e.aspectRatio,t)}render(){const{image:e,dimensions:t}=this.props,i=e,n=t.width;return a.createElement(o.View,null,this.renderImage(i,n))}renderImage(e,t){if(e){const i=h._getImageDimension(e.aspectRatio,t);return a.createElement(o.View,{style:d.A5.outerContainer},a.createElement(c.A,{source:e.dynamicImageUrl,height:i,width:t,rukminiScaleFactor:"fx",resizeMode:"cover"}))}return null}static _getImageDimension(e,t){const i=u.A.getImageRatio(e);return i?i*t:t*(4/9)}}var p=i(479892);class g extends s.A{constructor(){super(...arguments),this.onPress=(e,t)=>{this.dispatchAndTrackWidgetClick(e,t)}}static getWidgetData(e){const t=(0,l.nS)(e.widgetSlotData);return null==t?void 0:t.data}static getBannerWidgetData(e){const t=g.getWidgetData(e);return null==t?void 0:t.banner}static getWidgetHeight(e){var t;const i=g.getBannerWidgetData(e),n=u.A.getImageRatio(null===(t=null==i?void 0:i.value)||void 0===t?void 0:t.aspectRatio),r=e.appContext.uiContext.getDimension("window");return g.getImageDimension(n,r.width).height}renderWidget(){const e=g.getBannerWidgetData(this.props),t=this.props.appContext.uiContext.getDimension("window");if(null==e?void 0:e.value)return a.createElement(r.SB,{onPress:this.onPress,onPressParam:e},a.createElement(o.View,{style:p.C1.flex},a.createElement(h,{dimensions:t,image:e.value})))}shouldTrackerMatchParentContainer(){return!0}renderDivider(){}}g.getImageDimension=(e,t)=>({height:e?e*t:4/9*t,width:t});class m extends n.A{getWidgetClass(){return g}getWidgetHeight(e){return g.getWidgetHeight(e)}}},321862:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var n=i(90513),r=i(229833),a=i(918210),o=i(722573);class s{handleAction(e,t,i){if(e.payload&&t){const i=t.pageMeta.pageType,s=t.pageDataResponse&&t.pageDataResponse.pageContext&&"ProductPageContext"===t.pageDataResponse.pageContext.type?t.pageDataResponse.pageContext:void 0,l=s&&s.analyticsData?s.analyticsData:void 0;let d="",c="",u="";const h=t.pageDataResponse&&t.pageDataResponse.tracking;l?(d=l.category?l.category:"",c=l.vertical?l.vertical:""):(d=h?h[o.R.CATEGORY]:"",c=h?h[o.R.VERTICAL]:"");const p=i+"_"+e.payload.trackingActionName;s&&(u=s&&s.marketplace?s.marketplace:"FLIPKART");const g={};r.A.fillOmnitureValues([n.Ay.PROP3],g,t),g[n.Ay.PROP62]=p,g[n.Ay.PRODUCTS]=r.A.getProductString(i,d,c,u),a.A.addAndtrackEventUnderName(p,g)}return!0}}},321955:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>_});var n=i(465420),r=i(296540),a=i(877293),o=i(23724),s=i(52754),l=i(716249),d=i(492418),c=i(427286),u=i(100600),h=i(410752),p=i(415283),g=i(146387);class m extends l.A{static getWidgetHeight(e){return 132}componentDidMount(){this._fetchData()}renderWidget(){const e=this.getScreenWidth();return r.createElement(a.View,{style:[o.A.container,{width:e}]},r.createElement(a.View,{style:[o.A.container,{width:e}]},r.createElement(a.Text,{style:o.A.loaderText},this.localize({id:h.H.rex_string_LOADER_TEXT})),r.createElement(a.View,{style:[o.A.loader]},r.createElement(c.A,{animating:!0,size:"large",color:d.Cf1.fkBlueColor}))))}_fetchData(){u.default.loadBelowTheFoldWidgets().then((()=>{const e=m._getBelowTheFoldData(this.props);e&&e.remainingSlots&&this.dispatchAction(p.Q3.HANDLE_BELOW_THE_FOLD_RESPONSE,new g.fu(e.remainingSlots))}))}static _getBelowTheFoldData(e){const t=s.nS(e.widgetSlotData);return t&&t.data&&t.data}}var v=i(310830);class _ extends n.A{getWidgetClass(e){return(0,s.nS)(e.widgetSlotData)?m:v.default}getWidgetHeight(e){return(0,s.nS)(e.widgetSlotData)?m.getWidgetHeight(e):v.default.getWidgetHeight(e)}}},322475:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>re});var n=i(465420),r=i(296540),a=i(877293),o=i(52754),s=i(45426),l=i(352254),d=i(656757),c=i(415283),u=i(914944),h=i(479892),p=i(395567),g=i(97529),m=i(580555),v=i(454334),_=i(146387),C=i(57522),E=i(670563),T=i(560203),f=i(163256),A=i(537415),S=i(740766),y=i(398581),w=i(198213),I=i(492418),b=i(331547),D=i(813652),x=i(408791),P=i(879052),O=i(455610),R=i(171539),k=i(241598),V=i(352815),L=i(83203),M=i(175968),N=i(339599);class H extends r.Component{constructor(e){super(e),this._lottieViewStyle={position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:10,width:"100%",height:"100%"},this._lottieBoxStyle={minHeight:60,position:"relative"},this._FADE_IN_ANIMATION_CONFIG={toValue:1,duration:500,easing:a.Easing.linear,useNativeDriver:!1},this._FADE_OUT_ANIMATION_CONFIG={toValue:0,duration:3e3,easing:a.Easing.exp,useNativeDriver:!1},this._onLottieViewLoad=e=>{this._animationTimeout=setTimeout((()=>{this.setState({isLottieViewLoaded:!0})}),e)};const{layoutWidth:t}=H._getDeviceInfoStatic(e.screenWidth);this.state=H.getDerivedStateFromProps(e,void 0),this.state.width.setValue(this.state.widthRatio*t),this._fadeValue=new a.Animated.Value(1),this._fadeInAnimation=a.Animated.timing(this._fadeValue,this._FADE_IN_ANIMATION_CONFIG),this._fadeOutAnimation=a.Animated.timing(this._fadeValue,this._FADE_OUT_ANIMATION_CONFIG),this._showFadeOutAnimation=!1}componentDidUpdate(e,t){this._triggerProgressWidthAnimation(t)}componentDidMount(){this.setState({isMounted:!0})}componentWillUnmount(){var e,t;null===(e=this._fadeInAnimation)||void 0===e||e.stop(),null===(t=this._fadeOutAnimation)||void 0===t||t.stop(),this._animationTimeout&&clearTimeout(this._animationTimeout)}shouldComponentUpdate(e,t,i){var n,r,a,o,s,l;return(null===(a=null===(r=null===(n=this.props.d2rAggregateValue)||void 0===n?void 0:n.basketValue)||void 0===r?void 0:r.value)||void 0===a?void 0:a.basketValue)!==(null===(l=null===(s=null===(o=e.d2rAggregateValue)||void 0===o?void 0:o.basketValue)||void 0===s?void 0:s.value)||void 0===l?void 0:l.basketValue)||this.state.isLottieViewLoaded!==t.isLottieViewLoaded}static _getDeviceInfoStatic(e){const t=(0,N.getScreenSize)(e)===N.ScreenSize.sm;return{layoutWidth:t?e:540,isDesktop:!t&&"web"===a.Platform.OS}}static getDerivedStateFromProps(e,t){var i,n,r;const o=e.d2rAggregateValue,s=null==o?void 0:o.d2rBasketOffer;let l=1;const d=null==s?void 0:s.prioritisedBenefitIndex;if(void 0!==d&&(null==s?void 0:s.tiers)&&d<(null===(i=null==s?void 0:s.tiers)||void 0===i?void 0:i.length)){const e=null==s?void 0:s.tiers[d];e&&e.progress&&(l=(null===(n=e.progress)||void 0===n?void 0:n.currentValue)/(null===(r=e.progress)||void 0===r?void 0:r.targetValue))}const{layoutWidth:c}=H._getDeviceInfoStatic(e.screenWidth),u=new a.Animated.Value(l*c);return void 0===t?{width:u,widthRatio:l,isLottieViewLoaded:!1,isMounted:!1}:t.widthRatio!==l?Object.assign(Object.assign({},t),{width:u,widthRatio:l,isLottieViewLoaded:!1}):t}render(){var e,t;const{isDesktop:i}=H._getDeviceInfoStatic(this.props.screenWidth);if(i)return r.createElement(a.View,{style:{alignItems:"center"}},r.createElement(S.EQ,{style:{backgroundColor:E.JO,width:540}},this.renderD2ROfferMessage()));const{isLottieViewLoaded:n}=this.state,{lottieUrl:o,lottieTtl:s,lottieText:l}=null!==(t=null===(e=this.props.d2rAggregateValue)||void 0===e?void 0:e.d2rBasketOffer)&&void 0!==t?t:{};return r.createElement(S.Qu,{style:{backgroundColor:this.getD2RStripBackgroundColor()}},n||!o?this.renderD2ROfferMessage():this._renderLottieView(o,s,l))}renderDivider(){return r.createElement(T.A,{heightVal:1})}getD2RStripBackgroundColor(){return O.A.yellow[50]}renderD2ROfferMessage(){var e,t,i,n,o,s,l;const c=this.props.d2rAggregateValue,u=null==c?void 0:c.d2rBasketOffer;let h=!0,p=!0,g=[I.hIQ.gradientYellow03,I.hIQ.gradientYellow04],m=null==c?void 0:c.text;const v=[1,1],_=null==u?void 0:u.prioritisedBenefitIndex;if(null!=_&&(null==u?void 0:u.tiers)&&_<(null===(e=null==u?void 0:u.tiers)||void 0===e?void 0:e.length)){const e=null==u?void 0:u.tiers[_];e&&e.description&&(m=e.description),this.state.isMounted&&(null===(t=this._fadeInAnimation)||void 0===t||t.start()),this._showFadeOutAnimation=!0,(null==e?void 0:e.gradientColourArray)&&2===(null==e?void 0:e.gradientColourArray.length)&&(g=null==e?void 0:e.gradientColourArray),h=null!==(i=null==e?void 0:e.gradientColourEnable)&&void 0!==i?i:h,p=null!==(n=null==e?void 0:e.percentageGradientEnable)&&void 0!==n?n:p}else{const e=null==u?void 0:u.tiers[(null==u?void 0:u.tiers.length)-1];(null==e?void 0:e.gradientColourArray)&&2===(null==e?void 0:e.gradientColourArray.length)&&(g=null==e?void 0:e.gradientColourArray),h=null!==(o=null==e?void 0:e.gradientColourEnable)&&void 0!==o?o:h,p=null!==(s=null==e?void 0:e.percentageGradientEnable)&&void 0!==s?s:p,this.state.isMounted&&this._showFadeOutAnimation?null===(l=this._fadeOutAnimation)||void 0===l||l.start():this._fadeValue.setValue(0)}v[0]=this._getGradientStartPosition(h,p);const{width:C}=this.state;g=(0,L.Si)("secondary.500To700",M.default);const{isDesktop:E}=H._getDeviceInfoStatic(this.props.screenWidth),T=E?d.Ay.progressBarStyleDlsDesktop:d.Ay.progressBarStyleDls;return r.createElement(r.Fragment,null,r.createElement(a.Animated.View,{style:[T,{width:C,opacity:this._fadeValue}]},r.createElement(y.W,{gradientColors:g,gradientStart:b._.LEFT,gradientEnd:b._.RIGHT,style:[T,{width:"100%"}],borderTopRightRadius:8,borderBottomRightRadius:8,locations:v,renderInWeb:!0})),r.createElement(V.h,Object.assign({},(0,P.Z)("Sticky_Widget_Header_Text"),{numberOfLines:1,text:m,screenWidth:this.props.screenWidth})),r.createElement(S.l7,null,r.createElement(w.Dk,Object.assign({},(0,P.Z)("Sticky_Widget_Arrow"),{width:24,height:24,source:D.arrow_up_dls}))))}_renderLottieView(e,t,i){const{layoutWidth:n}=H._getDeviceInfoStatic(this.props.screenWidth);return r.createElement(R.az,{style:{width:n}},r.createElement(R.az,{backgroundColor:"backgroundBold.brandPrimary.emphasis",style:Object.assign(Object.assign({},this._lottieBoxStyle),{width:n}),alignItems:"center",justifyContent:"center",paddingVertical:"s4"},r.createElement(x.n,{loop:!1,autoPlay:!0,speed:1,sourceUrl:e,style:this._lottieViewStyle,onAnimationStart:()=>this._onLottieViewLoad(t)}),r.createElement(k.JU,{typography:"label",color:"foreground.inverted.primary",width:n,maxWidth:"100%",zIndex:20,paddingHorizontal:"s6"},i)))}_animateProgress(e,t){const{layoutWidth:i}=H._getDeviceInfoStatic(this.props.screenWidth),n=e*i,r=t*i;this.state.width.setValue(n),this.state.isMounted&&a.Animated.timing(this.state.width,{toValue:r,duration:200,useNativeDriver:!1}).start()}_getGradientStartPosition(e,t){if(e){if(t){const e=this.props.screenWidth,{layoutWidth:t}=H._getDeviceInfoStatic(this.props.screenWidth),i=this.state.widthRatio*t;if(0===i)return 1;return(i>e?i-e:0)/i}return 0}return 1}_triggerProgressWidthAnimation(e){if(e.widthRatio!==this.state.widthRatio)this._animateProgress(e.widthRatio,this.state.widthRatio);else{const{layoutWidth:e}=H._getDeviceInfoStatic(this.props.screenWidth);this.state.width.setValue(this.state.widthRatio*e)}}}var W=i(561310),B=i(390437),U=i(547134),F=i(410752),G=i(887903),z=i(938777),j=i(345617),X=i(614941),Y=i(400090),q=i(876505),J=i(716249),K=i(985234),Q=i(294188),Z=i(411384),$=i(53606),ee=i(513805),te=i(47361),ie=i(529548);class ne extends f.o{constructor(e,t){super(e,t),this._bottomBarContainerStyle=[h.C1.flex,h.C1.row,h.C1.overflowHidden,h.C1.margin_3],this._bottomBarIconContainerStyle=[h.C1.equalSpaceAroundContents,h.C1.row],this._basketIconStyle=[d.bv.cartCountView,d.bv.left15,h.C1.absolute_top_0],this._iconTextStyle=[h.XT.fontMedium_10,h.XT.lineHeight_16],this.rupeeText=this.localize({id:F.H.rex_string_rupee}),this._transientDataUpdDelay=300,this._handleBasketUpdate=e=>{const t={type:c.Q3.UPDATE_STICKY_BASKET_WITH_EVENT_EMITTER,params:Object.assign({},e),tracking:{},loginType:A.G.LOGIN_NOT_REQUIRED};(null==e?void 0:e.groceryBottomBarWidget)&&this.dispatchAction&&this.dispatchAction(c.Q3.MAPI_ACTION,new u.rs(t))},this.handleActivityStateEvent=e=>{var t;if(e.pageUID===(null===(t=this.props.pageInfo)||void 0===t?void 0:t.pageUID))switch(e.state){case Y.z.ON_RESUME:X.A.getInstance().on(j.A.EMIT_BASKET_DATA,this._handleBasketUpdate);break;case Y.z.ON_PAUSE:X.A.getInstance().off(j.A.EMIT_BASKET_DATA,this._handleBasketUpdate)}},this._checkTooltipCount=()=>{v.A.getValueInt("UnivNav:Tooltip").then((e=>{this._handleTooltipCountToShow(e)})).catch()},this._handleTooltipCountToShow=e=>{e<1&&(this.setState({showTooltip:e+1}),v.A.setValueInt("UnivNav:Tooltip",e+1))},this._animate=()=>{this._cartRotate.stopAnimation(),a.Animated.timing(this._cartRotate,{toValue:1,duration:150,easing:a.Easing.bezier(.69,0,.32,1),useNativeDriver:!0}).start((()=>this._cartRotate.setValue(0)))},this._navigate=(e,t)=>{const i=null==t?void 0:t.action,n=null==t?void 0:t.isSelected;if((null==i?void 0:i.tracking)&&this.trackDiscoveryContentClickEvent(i.tracking,this.willCreateNewDwell(i)),n){const e={type:c.Q3.SCROLL_TO_INDEX,tracking:{},loginType:A.G.LOGIN_NOT_REQUIRED,params:{index:0}};this.dispatchAction(c.Q3.MAPI_ACTION,new u.rs(e))}else i&&(this.dispatchAction(c.Q3.MAPI_ACTION,new u.rs(i)),i.tracking&&this.trackOmnitureEvent(new p.wKV(g.A.UNIVERSAL_NAV_BOTTOM_BAR_CLICK,new m.Ay(i.tracking))))},this._updateTooltipVolatileData=e=>{var t,i,n,r,a;if(this.state.showTooltip){const o=null==e?void 0:e.guidedNavigationData,s=this.props.appContext.uiContext.getWindowSafeAreaInset().bottom,l=this.props.appContext.uiContext.getDimension("window").width,d={ttl:null==o?void 0:o.ttl,data:{texts:[{fontSize:(null===(t=null==o?void 0:o.data)||void 0===t?void 0:t.texts[0].fontSize)||16,textColor:(null===(i=null==o?void 0:o.data)||void 0===i?void 0:i.texts[0].textColor)||E.Jy.white,text:null===(n=null==o?void 0:o.data)||void 0===n?void 0:n.texts[0].text}],layoutParams:{backgroundColor:null===(a=null===(r=null==o?void 0:o.data)||void 0===r?void 0:r.layoutParams)||void 0===a?void 0:a.backgroundColor,tooltipContainer:{position:"absolute",bottom:70,flex:1,marginHorizontal:8,left:l/8-18,width:3*l/4},triangleStyle:{width:0,height:0,borderLeftWidth:8,borderRightWidth:8,borderBottomWidth:10,borderStyle:"solid",backgroundColor:E.JO,borderLeftColor:E.JO,borderRightColor:E.JO,borderBottomColor:E.Jy.blackPrimary,transform:[{rotate:"180deg"}]},containerStyle:{paddingTop:8,paddingBottom:8,paddingLeft:12,paddingRight:12,borderRadius:4,backgroundColor:E.Jy.blackPrimary,shadowColor:E.Jy.blackPrimary,shadowOpacity:.5,shadowRadius:3,elevation:3,shadowOffset:{width:3,height:3},width:3*l/4+20},parentStyle:{position:"absolute",alignItems:"center",justifyContent:"center",display:"flex",flex:1,flexDirection:"column",paddingBottom:s},triangleContainerStyle:{}}}};this.props.actionDispatcher&&this.props.actionDispatcher(new _.YI(new _.qF(C.j.GROCERY_PAGE_TOOLTIP_VOLATILE_DATA,{tooltipData:d})))}},this._clearVolatileData=()=>{this.props.actionDispatcher&&this.props.actionDispatcher(new _.YI(new _.qF(C.j.GROCERY_PAGE_TOOLTIP_VOLATILE_DATA,{})))},this.openBottomSheet=(e,t)=>{const{isDesktop:i}=ne._getDeviceInfo(this.props),n={modalType:"BOTTOM_SHEET",widgetType:U.A.STICKY_BASKET_D2R_BOTTOM_SHEET,widgetData:null==t?void 0:t.data,disableSwipeToClose:!1,viewType:i?"D2R_FOR_DESKTOP":"UNIV_NAV",widgetLayoutParams:(0,o.lf)(this.props.widgetSlotData),onClosed:()=>{this.trackDiscoveryWidgetEngagementEvent(B.O.HIDE)}};this.trackOmnitureEvent(new p.wKV(g.A.STICKY_D2R_CLICK)),this.props.actionDispatcher&&this.props.actionDispatcher(new W.iM(W.xH.OPEN_MODAL,n)),this.trackDiscoveryContentClickEvent(null==t?void 0:t.tracking),this.trackDiscoveryWidgetEngagementEvent(B.O.UNHIDE)},this._cartRotate=new a.Animated.Value(0)}static _getDeviceInfo(e){var t;const i=e.appContext.uiContext.windowFrame.width;return{isDesktop:!((0,N.getScreenSize)(i)===N.ScreenSize.sm)&&"web"===a.Platform.OS||(null===(t=null===a.NativeModules||void 0===a.NativeModules?void 0:a.NativeModules.DesktopClientInfo)||void 0===t?void 0:t.isDesktopClient)}}static getWidgetHeight(e){var t,i,n,r,a,s,l,c,u,h,p;const g=(0,o.nS)(e.widgetSlotData),m=g&&g.data,v=te.a.isPersistentBottomBarEnabledOnGrocery(e)?0:z.epg,{isDesktop:_}=ne._getDeviceInfo(e);if($.Ay.bottomBarV2GroceryIssueLoggingEnabled()){const o=new ee.fG;o.eventName="BottomBar_V2_Event",o.values={bbEnabled:null===(t=e.pageInfo)||void 0===t?void 0:t.bottomBarEnabled,tabContainerId:null===(i=e.pageInfo)||void 0===i?void 0:i.tabContainerIdentifier,enablePersistentBB:null===(n=e.pageInfo)||void 0===n?void 0:n.enablePersistentBottomBar,pageUrl:null===(r=e.pageInfo)||void 0===r?void 0:r.pageURI,marketplace:null===(a=e.pageInfo)||void 0===a?void 0:a.marketPlace},ee.LB.logCustomEvents([o])}return _?m&&!(0,Z.dB)(null===(s=e.pageInfo)||void 0===s?void 0:s.pageContext)&&((null===(l=m.d2rAggregateValue)||void 0===l?void 0:l.d2rBasketOffer)||(null===(c=m.d2rAggregateValue)||void 0===c?void 0:c.d2rAggregateNavigationValue))?64:0:m&&!(0,Z.dB)(null===(u=e.pageInfo)||void 0===u?void 0:u.pageContext)&&((null===(h=m.d2rAggregateValue)||void 0===h?void 0:h.d2rBasketOffer)||(null===(p=m.d2rAggregateValue)||void 0===p?void 0:p.d2rAggregateNavigationValue))&&m.contents.length>0?v+d.Sg+d.yk:m&&m.contents.length>0?v+d.yk:0}componentDidMount(){this._checkTooltipCount();const e=(0,o._t)(this.props,K.V.UNIV_NAV_DATA),t=(0,o.xH)(this.props.widgetSlotData);void 0===e&&(this._updTransientTimeout=setTimeout((()=>{this._updateUnivNavTransientData(t)}),this._transientDataUpdDelay)),X.A.getInstance().on(j.A.EMIT_BASKET_DATA,this._handleBasketUpdate),"ios"===a.Platform.OS&&Y.N.addListener(G.t.HANDLE_ACTIVITY_STATE_CHANGE,this.handleActivityStateEvent)}componentDidUpdate(){const e=(0,o._t)(this.props,K.V.UNIV_NAV_DATA),t=(0,o.xH)(this.props.widgetSlotData);void 0===e&&(this._updTransientTimeout=setTimeout((()=>{this._updateUnivNavTransientData(t)}),this._transientDataUpdDelay))}componentWillUnmount(){this._clearVolatileData();const e=(0,o.Qd)(this.props,C.j.LIST_BASED_DATA);if(this.props.actionDispatcher&&e){const t=Object.assign(Object.assign({},e),{bottomBarHeight:0});this.props.actionDispatcher(new _.YI(new _.qF(C.j.LIST_BASED_DATA,t)))}clearTimeout(this._updTransientTimeout),X.A.getInstance().off(j.A.EMIT_BASKET_DATA,this._handleBasketUpdate),Y.N.removeListener(G.t.HANDLE_ACTIVITY_STATE_CHANGE,this.handleActivityStateEvent)}shouldComponentUpdate(e,t,i){var n,r,a,s,l,d,c,u;const h=(0,o.nS)(this.props.widgetSlotData),p=null==h?void 0:h.data,g=null==p?void 0:p.d2rAggregateValue,m=(0,o.nS)(e.widgetSlotData),v=null==m?void 0:m.data,_=v&&v.d2rAggregateValue,C=(0,o._t)(this.props,K.V.UNIV_NAV_DATA),E=(0,o._t)(e,K.V.UNIV_NAV_DATA);return(null===(r=null===(n=null==g?void 0:g.basketValue)||void 0===n?void 0:n.value)||void 0===r?void 0:r.basketItemCount)!==(null===(s=null===(a=null==_?void 0:_.basketValue)||void 0===a?void 0:a.value)||void 0===s?void 0:s.basketItemCount)&&this._animate(),(null===(d=null===(l=null==g?void 0:g.basketValue)||void 0===l?void 0:l.value)||void 0===d?void 0:d.basketValue)!==(null===(u=null===(c=null==_?void 0:_.basketValue)||void 0===c?void 0:c.value)||void 0===u?void 0:u.basketValue)||(0,Q.A)(C,E)||this.state.showTooltip!==t.showTooltip||super.shouldComponentUpdate(e,t,i)}_renderD2r(e,t){var i;if((null==e?void 0:e.d2rBasketOffer)&&!(0,Z.dB)(null===(i=this.props.pageInfo)||void 0===i?void 0:i.pageContext))return r.createElement(s.S,{onPress:this.openBottomSheet,onPressParam:t},r.createElement(a.View,null,r.createElement(H,{d2rAggregateValue:e,screenWidth:this.getScreenWidth()})))}renderWidget(){var e;const t=(0,o.nS)(this.props.widgetSlotData),i=t&&t.data,n=null==i?void 0:i.d2rAggregateValue,{isDesktop:s}=ne._getDeviceInfo(this.props);return i&&this._updateTooltipVolatileData(i),s?r.createElement(a.View,{style:h.C1.flex},(null==n?void 0:n.d2rBasketOffer)&&!(0,Z.dB)(null===(e=this.props.pageInfo)||void 0===e?void 0:e.pageContext)&&this._renderDesktopLayout(n,t)):r.createElement(a.View,{style:h.C1.flex},this._renderD2r(n,t),!te.a.isPersistentBottomBarEnabledOnGrocery(this.props)&&r.createElement(T.A,{heightVal:1}),!te.a.isPersistentBottomBarEnabledOnGrocery(this.props)&&this._renderGHPBottomBar(i))}_renderDesktopLayout(e,t){return r.createElement(a.View,{style:[h.C1.flex,{alignItems:"center"}]},r.createElement(a.View,{style:{backgroundColor:"#FFFAE7",overflow:"hidden",width:540,borderRadius:12,borderBottomWidth:1.5,borderBottomColor:"#E0E0E0",shadowColor:"rgba(0, 0, 0, 0.40)",shadowOffset:{width:0,height:0},shadowRadius:24,shadowOpacity:1,elevation:8}},r.createElement(s.S,{onPress:this.openBottomSheet,onPressParam:t},r.createElement(a.View,null,r.createElement(H,{d2rAggregateValue:e,screenWidth:this.getScreenWidth()})))))}applyLayoutDetailsToWidget(e){var t;const{isDesktop:i}=ne._getDeviceInfo(this.props);let n=(0,o.lf)(this.props.widgetSlotData);return n=Object.assign(Object.assign({},n),{backgroundColor:i?E.JO:null==n?void 0:n.backgroundColor}),ie.A.apply(n,e,null===(t=this.props.pageInfo)||void 0===t?void 0:t.isiOSLayoutHackForHPEnabled,this.props.appContext.isDlsScreen)}_renderGHPBottomBar(e){var t,i,n,c,u;const p=(null===(n=null===(i=null===(t=null==e?void 0:e.d2rAggregateValue)||void 0===t?void 0:t.basketValue)||void 0===i?void 0:i.value)||void 0===n?void 0:n.basketItemCount)||0,g=null===(u=null===(c=null==e?void 0:e.d2rAggregateValue)||void 0===c?void 0:c.basketValue)||void 0===u?void 0:u.value,m=`${this.rupeeText}${null==g?void 0:g.basketValue}`,v=(0,o._t)(this.props,K.V.UNIV_NAV_DATA),_=null==v?void 0:v.selectedIndex,C=this._cartRotate.interpolate({inputRange:[0,.5,1],outputRange:["0deg","180deg","360deg"]}),E=void 0!==_?_:null==e?void 0:e.selectedIndex;return r.createElement(a.View,{style:this._bottomBarContainerStyle},e&&e.contents.map(((e,t)=>{var i,n,o,c,u,v,_,T,f,A,S,y,w,I,b;if(e.value)return r.createElement(a.View,{key:`GHP_uni_nav_item_container_${t}`,style:this._bottomBarIconContainerStyle},r.createElement(q.A,{trackingInfo:this.getDCIDataforIcon(null==e?void 0:e.tracking)},r.createElement(s.S,{onPress:this._navigate,onPressParam:{action:e.action,isSelected:t===E}},r.createElement(a.View,{style:h.C1.alignItemCenter},(null===(n=null===(i=e.value)||void 0===i?void 0:i.lottieAnimation)||void 0===n?void 0:n.url)?r.createElement(a.View,{style:[h.C1.overflowHidden,h.C1.border_radius_100,{width:50,height:50}]},r.createElement(x.n,{style:{width:50,height:50},speed:1,loop:null===(u=null===(c=null===(o=e.value)||void 0===o?void 0:o.lottieAnimation)||void 0===c?void 0:c.loop)||void 0===u||u,autoPlay:null===(T=null===(_=null===(v=e.value)||void 0===v?void 0:v.lottieAnimation)||void 0===_?void 0:_.autoplay)||void 0===T||T,enableUserInteraction:null===(S=null===(A=null===(f=e.value)||void 0===f?void 0:f.lottieAnimation)||void 0===A?void 0:A.enableUserInteraction)||void 0===S||S,resizeMode:"contain",sourceUrl:null===(w=null===(y=e.value)||void 0===y?void 0:y.lottieAnimation)||void 0===w?void 0:w.url})):r.createElement(a.View,Object.assign({},(0,P.Z)("Grocery_bottomBar_icon"),{style:[h.C1.margin_horizontal_5,h.C1.margin_top_5]}),r.createElement(l.A,{source:t===E?null===(I=e.value.selectedIcon)||void 0===I?void 0:I.dynamicImageUrl:null===(b=e.value.icon)||void 0===b?void 0:b.dynamicImageUrl,width:24,height:24})),e.value.showBasketValue&&p>0?r.createElement(a.Animated.View,{style:[{transform:[{rotateY:C}]},this._basketIconStyle]},r.createElement(a.Text,{style:d.bv.cartCountText},p)):null,e.value.showBasketValue&&(null==g?void 0:g.basketValue)&&(null==g?void 0:g.basketValue)>0?r.createElement(a.Text,Object.assign({},(0,P.Z)("Basket_Price"),{style:[this._iconTextStyle,{color:t===E?e.value.selectedTitleColor:e.value.titleColor}]}),m):r.createElement(a.Text,{style:[this._iconTextStyle,{color:t===E?e.value.selectedTitleColor:e.value.titleColor}]},e.value.title)))))})))}getDCIDataforIcon(e){if(e){const t=J.A.getTrackingParams(this.props,e);return this.getContentViewTrackingData(t)}}renderDivider(){}_updateUnivNavTransientData(e){var t,i;const n=e.selectedIndex;this.props.actionDispatcher&&(null===(i=(t=this.props).actionDispatcher)||void 0===i||i.call(t,new _.zF(new _.pN(K.V.UNIV_NAV_DATA,{selectedIndex:n}))))}}class re extends n.A{getWidgetClass(){return ne}getWidgetHeight(e){return ne.getWidgetHeight(e)}}},324773:(e,t,i)=>{"use strict";i.d(t,{fv:()=>p,fI:()=>c,Sc:()=>u,XI:()=>g,AC:()=>m});var n=i(296540),r=i(877293);const a=r.StyleSheet.create({cell:{justifyContent:"center"},text:{backgroundColor:"transparent"},cols:{flexDirection:"row"},row:{flexDirection:"row",overflow:"hidden"}});var o=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};class s extends n.PureComponent{render(){const e=this.props,{data:t,width:i,height:s,flex:l,style:d,textStyle:c,borderStyle:u}=e,h=o(e,["data","width","height","flex","style","textStyle","borderStyle"]),p=n.isValidElement(t)?t:n.createElement(r.Text,Object.assign({style:[c,a.text]},h),t),g=u&&u.borderWidth||1,m=g,v=u&&u.borderColor||"#000";return n.createElement(r.View,{style:[{borderTopWidth:g,borderRightWidth:m,borderColor:v},a.cell,{width:i},{height:s},{flex:l},!i&&!l&&!s&&!d&&{flex:1},d]},p)}}var l=i(130653),d=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};class c extends n.PureComponent{render(){const e=this.props,{data:t,style:i,widthArr:o,height:c,flexArr:u,textStyle:h}=e,p=d(e,["data","style","widthArr","height","flexArr","textStyle"]),g=o&&(0,l.c)(o);return t?n.createElement(r.View,{style:[{height:c},{width:g},a.row,i]},t.map(((e,t)=>{const i=u&&u[t],r=o&&o[t];return n.createElement(s,Object.assign({key:t,data:e,width:r,height:c,flex:i,textStyle:h},p))}))):null}}class u extends n.PureComponent{render(){const e=this.props,{data:t,style:i,widthArr:a,heightArr:o,flexArr:s,textStyle:u}=e,h=d(e,["data","style","widthArr","heightArr","flexArr","textStyle"]),p=s&&(0,l.c)(s),g=a&&(0,l.c)(a);return t?n.createElement(r.View,{style:[{flex:p},{width:g}]},t.map(((e,t)=>{const r=o&&o[t];return n.createElement(c,Object.assign({key:t,data:e,widthArr:a,height:r,flexArr:s,style:i,textStyle:u},h))}))):null}}var h=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};class p extends n.PureComponent{render(){const e=this.props,{data:t,style:i,width:a,heightArr:o,flex:l,textStyle:d}=e,c=h(e,["data","style","width","heightArr","flex","textStyle"]);return t?n.createElement(r.View,{style:[a?{width:a}:{flex:1},{flex:l},i]},t.map(((e,t)=>{const i=o&&o[t];return n.createElement(s,Object.assign({key:t,data:e,width:a,height:i,textStyle:d},c))}))):null}}n.PureComponent;class g extends n.Component{render(){const{borderStyle:e}=this.props,t=e&&e.borderWidth||1,i=t,a=e&&e.borderColor||"#000";return n.createElement(r.View,{style:[this.props.style,{borderLeftWidth:t,borderBottomWidth:i,borderColor:a}]},this._renderChildren(this.props))}_renderChildren(e){return n.Children.map(e.children,(t=>{const i=t;return n.cloneElement(i,e.borderStyle&&i.type&&"string"!=typeof i.type&&"ScrollView"!==i.type.displayName?{borderStyle:e.borderStyle}:{})}))}}class m extends n.Component{render(){const{style:e}=this.props;return n.createElement(r.View,{style:e},this._renderChildren(this.props))}_renderChildren(e){return n.Children.map(e.children,(t=>n.cloneElement(t,e.borderStyle?{borderStyle:e.borderStyle}:{})))}}},326266:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>V});var n=i(465420),r=i(52754),a=i(877293),o=i(296540),s=i(787921),l=i(914944),d=i(438993),c=i(887261),u=i(670563);const h=264*a.Dimensions.get("window").width/360,p=a.StyleSheet.create({container:{borderRadius:2,flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start"},title:{fontFamily:c.$u,includeFontPadding:!1,fontSize:16,color:u.Jy.blackPrimary,marginHorizontal:24,marginTop:24},inputBox:{marginTop:8,height:48,marginBottom:16,width:h,marginHorizontal:24},updatedInbox:{marginTop:16,height:40,marginBottom:4,width:h,marginHorizontal:16,borderRadius:4,borderWidth:1,paddingLeft:12,borderColor:u.Jy.royalBlue},zeroQtyPlaceHolderText:{fontFamily:c.A$,fontSize:12,color:u.Jy.dimGray,lineHeight:16,marginHorizontal:16,marginBottom:16},buttonContainer:{alignSelf:"stretch",flexDirection:"row"},leftButtonText:{color:u.Jy.blackPrimary,marginLeft:9,fontFamily:c.$u,includeFontPadding:!1,fontSize:14},rightButtonText:{color:u.Cf.fkBlueColor,marginLeft:9,fontFamily:c.$u,includeFontPadding:!1,fontSize:14},leftbutton:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center",borderColor:u.Jy.separator,borderTopWidth:1,borderLeftWidth:1,borderRightWidth:1,height:46},rightButton:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center",borderColor:u.Jy.separator,borderTopWidth:1,height:46},icon:{height:13,width:11}});var g=i(495176),m=i(45426),v=i(561310),_=i(395567),C=i(453018),E=i(90513),T=i(229833),f=i(410752),A=i(57522),S=i(327318),y=i(146387),w=i(985234),I=i(524488),b=i(311676),D=i(749041),x=i(479892),P=i(879052),O=i(957775),R=i(547134);class k extends d.A{constructor(e){super(e),this.getTextInputStyle=e=>e?[p.updatedInbox]:[p.inputBox,{outline:"none"}],this._textChanged=e=>{const t=(0,r.nS)(this.props.widgetSlotData),i="QUANTITY_SELECTOR_WITH_REMOVE_OPTION"===(null==t?void 0:t.viewType);e.length>0&&!isNaN(+e)&&(Number(e)>0||i&&0===Number(e))?(this.setState({isApplyEnabled:!0,quantity:Number(e)}),this.props.actionDispatcher&&this.props.actionDispatcher(new y.zF(new y.pN(w.V.PP_QTY_SELECTOR_DATA,{selectedQty:Number(e)})))):0===e.length&&(this.setState({quantity:0,isApplyEnabled:!1}),this.props.actionDispatcher&&this.props.actionDispatcher(new y.zF(new y.pN(w.V.PP_QTY_SELECTOR_DATA,{selectedQty:0}))))},this._closePopup=e=>{this.props.actionDispatcher&&this.props.actionDispatcher(new v.iM(v.xH.CLOSE_MODAL))},this._updateQuantityInfo=(e,t)=>{var i,n,a,o,d,c,u,h,p;if(0===this.state.quantity){const e=(0,r.nS)(this.props.widgetSlotData),t=null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.removeButton;"QUANTITY_SELECTOR_WITH_REMOVE_OPTION"===(null==e?void 0:e.viewType)&&(this.dispatchAction(s.A.TRANSACT_ACTION,t),null===(a=(n=this.props).actionDispatcher)||void 0===a||a.call(n,new v.iM(v.xH.CLOSE_MODAL)))}else if(this.props.actionDispatcher&&this.state.quantity){this.props.actionDispatcher(new v.iM(v.xH.CLOSE_MODAL));const e=t.params.quantity,i=t.params.comboAction;t.params.quantity=this.state.quantity,delete t.params.comboAction;const n={quantity:""+this.state.quantity};if(n[E.PY.VAR_SPRODUCT]=T.A.getProductStringFromRawData(null===(o=t.tracking)||void 0===o?void 0:o.fsn,null===(d=t.tracking)||void 0===d?void 0:d.sProductSuffix),i&&e>this.state.quantity){const e=0===this.state.quantity;this.props.actionDispatcher(new y.YI(new y.qF(A.j.COMBO_OFFER_REMOVE_ACTION,new S.x(t,!1,e,n)))),this.props.actionDispatcher({type:s.A.TRANSACT_ACTION,payload:e?i.removeAction:i.updateAction})}else{this.dispatchAction(s.A.MAPI_ACTION,new l.rs(t));const e=(0,r.nS)(this.props.widgetSlotData),i=e&&e.data;(null===(c=null==i?void 0:i.params)||void 0===c?void 0:c.expressCheckoutActionEvent)?(this.trackOmnitureEvent(new _.I1q(I.CheckoutOmnitureTypes.EXPRESS_CO_QUANTITY_CHANGED,n)),this.triggerFdpTracking(null===(u=null==i?void 0:i.params)||void 0===u?void 0:u.expressCheckoutActionEvent,null===(h=null==i?void 0:i.params)||void 0===h?void 0:h.selectedQuantity,null===(p=this.state)||void 0===p?void 0:p.quantity)):this.trackOmnitureEvent(new _.sYb(C.CartOmnitureTypes.QUANTITY_CHANGED,n))}}},this.state=Object.assign(Object.assign({},this.state),{quantity:0})}componentDidMount(){super.componentDidMount(),this.props.actionDispatcher&&(0,O.dispatchDgAction)(R.A.GZ_POPUP_VIEW,this.props.actionDispatcher)}static getHeight(e){return 168+super.getAdditionalHeight(e)}renderWidget(){var e;const t=(0,r.nS)(this.props.widgetSlotData),i="QUANTITY_SELECTOR_WITH_REMOVE_OPTION"===(null==t?void 0:t.viewType),n=i?null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.updateAction:null==t?void 0:t.data;if(void 0!==n)return o.createElement(a.View,{style:p.container},o.createElement(g.A,Object.assign({},(0,P.Z)("Quantity_Popup_Helper_Text"),{style:[p.title,i&&x.C1.margin_horizontal_16],text:this.localize({id:f.H.rex_string_ENTER_QUANTITY})})),o.createElement(a.TextInput,Object.assign({},(0,P.Z)("Quantity_Popup_Text_Box"),{style:this.getTextInputStyle(i),editable:!0,onChangeText:e=>this._textChanged(e),placeholder:this.localize({id:f.H.rex_string_QUANTITY}),placeholderTextColor:u.Jy.lightGrey,keyboardType:"numeric",autoFocus:!0,maxLength:6,value:0===this.state.quantity||void 0===this.state.quantity?"":String(this.state.quantity)})),i?o.createElement(g.A,{style:p.zeroQtyPlaceHolderText,text:this.localize({id:f.H.rex_string_REMOVE_INFO_WHEN_QTY_ZERO})}):void 0,o.createElement(a.View,{style:p.buttonContainer},o.createElement(m.S,Object.assign({},(0,P.Z)("Quantity_Popup_Button"),{tappableStyle:p.leftbutton,onPress:this._closePopup}),o.createElement(a.View,{style:p.leftbutton},o.createElement(g.A,{text:this.localize({id:f.H.rex_string_swatch_action_string_CANCEL}),style:p.leftButtonText}))),o.createElement(m.S,Object.assign({},(0,P.Z)("Quantity_Popup_Button"),{tappableStyle:p.rightButton,onPress:this._updateQuantityInfo,onPressParam:n}),o.createElement(a.View,{style:p.rightButton},o.createElement(g.A,{text:0===Number(this.state.quantity)&&i?this.localize({id:f.H.rex_string_REMOVE}):this.localize({id:f.H.rex_string_swatch_action_string_APPLY}),style:[p.rightButtonText,!this.state.isApplyEnabled&&{color:"grey"}]})))))}getDerivedState(e,t){return void 0!==t?Object.assign(Object.assign({},super.getDerivedState(e,t)),t):Object.assign(Object.assign({},super.getDerivedState(e,t)),{isApplyEnabled:!1,quantity:void 0})}shouldComponentUpdate(e,t,i){let n=!1;const a=(0,r._t)(this.props,w.V.PP_QTY_SELECTOR_DATA),o=(0,r._t)(e,w.V.PP_QTY_SELECTOR_DATA);return a&&o&&(n=a.selectedQty!==o.selectedQty),this.state.quantity!==t.quantity||n||super.shouldComponentUpdate(e,t,i)}triggerFdpTracking(e,t,i){var n,r;t&&i&&(i>t?e.actionType=2:i<t&&(e.actionType=3),e&&(null===(r=(n=this.props).actionDispatcher)||void 0===r||r.call(n,new b.ax6(new b.yDs(D.m,e)))))}}class V extends n.A{getWidgetClass(){return k}getWidgetHeight(e){return r.nS(e.widgetSlotData)?k.getHeight(e):0}}},327318:(e,t,i)=>{"use strict";i.d(t,{x:()=>r});var n=i(57522);class r{constructor(e,t,i,r){this.type=n.j.COMBO_OFFER_REMOVE_ACTION,this.confirmAction=void 0,this.isBasket=!1,this.isRemoveAction=!0,this.omnitureData={},this.confirmAction=e,this.isBasket=t,this.isRemoveAction=i,this.omnitureData=r}}},327870:(e,t,i)=>{"use strict";i.d(t,{L:()=>h});var n=i(296540),r=i(877293),a=i(492418),o=i(88502),s=i(45426),l=i(479892),d=i(879052),c=i(398581),u=i(337528);class h extends n.Component{constructor(){super(...arguments),this._onClick=()=>{1!==this.props.buttonState&&this.props.onPress(this.props.buttonIndex,this.props.onPressParam)}}render(){return n.createElement(n.Fragment,null,this.props.isLiveStreamVariant?this._renderLiveStreamContainerVariant():n.createElement(s.S,{onPress:this._onClick,tappableStyle:l.C1.flex,disableFeedback:1===this.props.buttonState},n.createElement(r.View,{style:[o.kF.container,this.props.containerStyle?this.props.containerStyle:h._styleForContainer(this.props.mode,this.props.buttonState,this.props.isYellowCTAEnabled,this.props.isBlueCTAEnabled)]},this._renderButtonText())))}_renderLiveStreamContainerVariant(){return n.createElement(r.TouchableOpacity,{onPress:this._onClick,style:[o.kF.container,o.kF.liveStreamContainer]},n.createElement(c.W,{style:l.C1.width_full,gradientColors:0===this.props.buttonState?[a.hIQ.gradientBand500,a.hIQ.gradientBand700]:[a.Jyk.disabled,a.Jyk.disabled],gradientStart:u._.LEFT,gradientEnd:u._.RIGHT},n.createElement(r.View,{style:[l.C1.height_full,l.C1.contentAlignCenter]},this._renderButtonText())))}_renderButtonText(){const e=1===this.props.buttonState?"Swatch_Action_Button_Disabled":"Swatch_Action_Button",t=this.props.isLiveStreamVariant?o.kF.liveStreamActionText:{};return n.createElement(r.Text,Object.assign({},(0,d.Z)(e),{style:[o.kF.actionText,this.props.buttonTextStyle?this.props.buttonTextStyle:h._styleForActionText(this.props.mode,this.props.isYellowCTAEnabled),t]}),this.props.text)}static _styleForContainer(e,t,i,n){const r=n?a.Jyk.royalBlue:a.JWB;switch(e){case 1:return{backgroundColor:a.Jyk.white,borderRadius:2,borderWidth:1,borderColor:a.V9u.borderGrey,borderStyle:"solid",alignContent:"center"};case 0:if(i||n)return{backgroundColor:0===t?r:a.Jyk.disabled,alignContent:"center"};case 2:return{borderRadius:4,backgroundColor:0===t?a.Jyk.royalBlue:a.OIL.referralGreyText,paddingVertical:8};default:return{backgroundColor:0===t?a.Cf1.fkOrange:a.Jyk.disabled,alignContent:"center"}}}static _styleForActionText(e,t){switch(e){case 1:return{color:a.Jyk.blackPrimary};case 0:if(t)return{color:a.Jyk.darkBlack};default:return{color:a.Jyk.white}}}}},330652:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>f});var n=i(465420),r=i(296540),a=i(716249),o=i(52754),s=i(302019),l=i(198213),d=i(99394),c=i(857850),u=i(914944),h=i(479892),p=i(492418),g=i(877293);const m=s.JU.extendComponent({name:"Title",defaultProps:{font:"l_medium",paddingBottom:"s6",color:"v2.neutral.900"}}),v=s.az.extendComponent({name:"ProductImageWrapper",defaultProps:{paddingRight:"s4"}}),_=s.fI.extendComponent({name:"SingleImage",defaultProps:{borderRadius:10,display:"flex",alignItems:"flex-end",positionRight:"s4",position:"relative"}}),C=s.az.extendComponent({name:"QuantityContainer",defaultProps:{borderColor:"v2.neutral.300",borderWidth:1,width:16,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",bottom:0,right:0,bg:"background.default"}}),E=s.JU.extendComponent({name:"DescriptionHeading",defaultProps:{font:"m_medium",mb:"s1"}});class T extends a.A{constructor(){super(...arguments),this.VASCalloutTextStyle=[h.XT.primaryGreyText,h.XT.lineHeight_18,h.XT.fontFamilyInter_12],this._dispatchAction=e=>{(null==e?void 0:e.action)&&this.dispatchAction(c.Q3.MAPI_ACTION,new u.rs(e.action))},this.renderCalloutImage=e=>r.createElement(s.az,{pr:"s5"},e.dynamicImageUrl?r.createElement(l.Dk,{source:e.dynamicImageUrl,width:24,height:24}):null),this.renderCallout=e=>{const{descriptions:t,title:i,image:n}=e;return r.createElement(s.fI,{pb:"s6"},this.renderCalloutImage(n),r.createElement(s.az,{flex:1},i.text?r.createElement(E,null,i.text):null,r.createElement(s.az,null,null==t?void 0:t.map((e=>r.createElement(d.A,{messages:e.data,data:e,appContext:this.props.appContext,textDefaultStyle:this.VASCalloutTextStyle,dispatchAction:this._dispatchAction,overrideDefaultParentContainerStyle:!0,parentContainerStyle:h.C1.rowWithoutFlex}))))))},this.renderProductImages=e=>{const{height:t,width:i,dynamicImageUrl:n}=e.image;return r.createElement(v,null,r.createElement(_,null,n&&r.createElement(l.Dk,{source:n,height:t,width:i}),e.quantity>1&&r.createElement(C,null,r.createElement(s.JU,{font:"xs_medium",color:"v2.neutral.900"},e.quantity))))},this.renderTitle=e=>e.length?r.createElement(m,null,e.map(((e,t)=>r.createElement(r.Fragment,{key:t},t?r.createElement(s.JU,null,p.zlg):null,r.createElement(s.JU,null," ",e.text," "))))):null,this.renderProducts=e=>e.length?r.createElement(s.az,{flexDirection:"row",pb:"s6"},r.createElement(g.ScrollView,{horizontal:!0,showsHorizontalScrollIndicator:!1},e.map(this.renderProductImages))):null,this.renderSubtitle=e=>e.length?r.createElement(s.az,{pb:"s6"},e.map(((e,t)=>r.createElement(s.JU,{font:"m",color:"v2.neutral.700",key:t},e.text)))):null,this.renderDescription=e=>e.length?e.map(this.renderCallout):null,this.renderFooterSeparator=e=>e.text?r.createElement(s.fI,{pb:"s6"},r.createElement(s.xM,{alignItems:"center"},r.createElement(s.xM,{height:1,bg:"raw.grey.200"})),r.createElement(s.az,{px:"s4"},r.createElement(s.JU,{color:"v2.neutral.700",font:"s"},e.text)),r.createElement(s.xM,{alignItems:"center"},r.createElement(s.xM,{height:1,bg:"raw.grey.200"}))):null}static getWidgetHeight(e){let t=0;const i=(0,o.nS)(e.widgetSlotData),n=i&&i.data;if(!n)return t;const{title:r,subTitle:s,callouts:l,products:d,footerSeparator:c,footerData:u}=n;r&&(t+=40),s&&(t+=36),c&&(t+=24),d&&(t+=80);const h=e=>{let t=0;return e.map((e=>{const{title:i,descriptions:n}=e;i&&(t+=22),n&&n.map((()=>{t+=20}))})),t};return l&&(t+=h(l)),u&&(t+=h(u)),t+16+22+a.A.getAdditionalHeight(e)}renderWidget(){const e=(0,o.nS)(this.props.widgetSlotData),t=e&&e.data;if(!t)return;const{title:i,products:n,subTitle:a,callouts:l,footerSeparator:d,footerData:c}=t;return r.createElement(s.az,{px:"s6",pt:"s6",pb:"s3"},this.renderTitle(i),n&&this.renderProducts(n),this.renderSubtitle(a),this.renderDescription(l),d&&this.renderFooterSeparator(d),c&&this.renderDescription(c))}}class f extends n.A{getWidgetClass(e){return T}getWidgetHeight(e){return T.getWidgetHeight(e)}}},333346:(e,t,i)=>{"use strict";i.d(t,{n:()=>a});var n=i(500331),r=i(787921);class a extends n.Q8{constructor(e,t,i){super(t,i),this.type=r.A.BROWSE_BASKET_ADD,this.actionMeta=e}}},334596:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var n=i(296540),r=i(302019),a=i(229022),o=i(479892),s=i(198213),l=i(879052);class d extends n.PureComponent{constructor(){super(...arguments),this._buttonCallBack=(e,t)=>{this.props.buttonAction(e,t)}}render(){var e;const t=this.props.title,i=this.props.subtitle,d=this.props.firstButton,c=this.props.secondButton,u=[o.C1.padding8H,o.C1.padding12V],h=[o.XT.fkRoyalBlueText,o.XT.fontFamilyInterSemiBold_14],p=this.props.highlightedValue,g=null==p?void 0:p.text;return n.createElement(r.az,{padding:"s6"},n.createElement(r.az,{paddingBottom:"s2",mb:"s4"},n.createElement(r.JU,Object.assign({},(0,l.Z)("Confirmation_Popup_Title"),{font:"l_medium",color:"v2.neutral.900"}),t)),g&&n.createElement(r.az,Object.assign({},(0,l.Z)("Confirmation_Popup_Higlighted_Container"),{flexDirection:"row",bg:"v2.error.50",px:"s4",py:"s5",mb:"s4",borderRadius:4}),(null===(e=null==p?void 0:p.image)||void 0===e?void 0:e.dynamicImageUrl)&&n.createElement(s.Dk,Object.assign({},(0,l.Z)("Confirmation_Popup_Higlighted_Icon"),{source:p.image.dynamicImageUrl,height:18,width:18,style:o.C1.margin_right_4})),g&&n.createElement(r.az,{flex:1},n.createElement(r.JU,Object.assign({},(0,l.Z)("Confirmation_Popup_Higlighted_Text"),{font:"s",color:"v2.neutral.900"}),g))),n.createElement(r.JU,Object.assign({},(0,l.Z)("Confirmation_Popup_Subtitle"),{font:"m",color:"v2.neutral.700"}),i),n.createElement(r.az,Object.assign({},(0,l.Z)("Confirmation_Popup_Button_Container"),{flexDirection:"row",justifyContent:"flex-end"}),d&&n.createElement(a.A,{btnData:d,btnViewStyle:u,btnTextStyle:h,onPress:this._buttonCallBack,onPressParam:d}),c&&n.createElement(a.A,{btnData:c,btnViewStyle:u,btnTextStyle:h,onPress:this._buttonCallBack,onPressParam:c})))}}},339804:e=>{"use strict";e.exports=JSON.parse('{"Aacute":"","aacute":"","Acirc":"","acirc":"","acute":"","AElig":"","aelig":"","Agrave":"","agrave":"","amp":"&","AMP":"&","Aring":"","aring":"","Atilde":"","atilde":"","Auml":"","auml":"","brvbar":"","Ccedil":"","ccedil":"","cedil":"","cent":"","copy":"","COPY":"","curren":"","deg":"","divide":"","Eacute":"","eacute":"","Ecirc":"","ecirc":"","Egrave":"","egrave":"","ETH":"","eth":"","Euml":"","euml":"","frac12":"","frac14":"","frac34":"","gt":">","GT":">","Iacute":"","iacute":"","Icirc":"","icirc":"","iexcl":"","Igrave":"","igrave":"","iquest":"","Iuml":"","iuml":"","laquo":"","lt":"<","LT":"<","macr":"","micro":"","middot":"","nbsp":"","not":"","Ntilde":"","ntilde":"","Oacute":"","oacute":"","Ocirc":"","ocirc":"","Ograve":"","ograve":"","ordf":"","ordm":"","Oslash":"","oslash":"","Otilde":"","otilde":"","Ouml":"","ouml":"","para":"","plusmn":"","pound":"","quot":"\\"","QUOT":"\\"","raquo":"","reg":"","REG":"","sect":"","shy":"","sup1":"","sup2":"","sup3":"","szlig":"","THORN":"","thorn":"","times":"","Uacute":"","uacute":"","Ucirc":"","ucirc":"","Ugrave":"","ugrave":"","uml":"","Uuml":"","uuml":"","Yacute":"","yacute":"","yen":"","yuml":""}')},341038:(e,t,i)=>{"use strict";i.d(t,{A:()=>C});var n=i(296540),r=i(877293),a=i(479892),o=i(685847),s=i(285669),l=i(50745),d=i(300952),c=i(800303),u=i(440311),h=i(614006);class p{static _getHideProperty(e,t){let i;const n={finalPrice:!1,discountValue:!1,discountText:!1,tag:!1,pricePerUnitString:!0},r=p._getHideDiscountValueProperty(t,e);switch(e){case o.o.REGULAR:i=Object.assign(Object.assign({},n),{discountText:!0,discountValue:r});break;case o.o.GROUP_BUY:i=Object.assign(Object.assign({},n),{discountValue:r});break;default:i=n}return i}static _getHideDiscountValueProperty(e,t){return e!==h.n.PRODUCT_PAGE_SUMMARY_V2&&t===o.o.GROUP_BUY||e===h.n.PRODUCT_PAGE_SUMMARY_V2&&t===o.o.REGULAR}}var g=i(45426),m=i(938777),v=i(627333),_=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};class C extends n.PureComponent{render(){const e=this.props,{widgetType:t,marketplace:i=m.fOd.MARKETPLACE_FLIPKART}=e,h=_(e,["widgetType","marketplace"]);if(i===m.fOd.MARKETPLACE_FLIPKART)return n.createElement(v.A,Object.assign({},h));const E=this.props.priceVariants.data.map((e=>{const i=e.value;if(!i||!i.listingPriceType)return;const h=i.listingPriceType,m=p._getHideProperty(h,t),v=!(null==m?void 0:m.tag)&&n.createElement(u.A,{priceBreakupType:h}),_=m.pricePerUnitString?void 0:d.A.getPricePerUnitText(i.pricePerUnit),E=o.o.GROUP_BUY===h?(0,c.getTextStyle)(l.km.groupBuyproductPriceText):l.ly.regularProductPriceText,T=o.o.GROUP_BUY===h?this.props.sellingPriceStyle:l.ly.regularSellingPriceText;return n.createElement(r.View,{key:h},n.createElement(g.S,{disableFeedback:!0,onPress:this.props.onPress,onPressParam:this.props.onPressParam,disabled:C._isTappableDisabled(h)},n.createElement(r.View,{style:[l.Ys.priceContainerView,a.C1.margin_top_neg_8]},n.createElement(r.View,{style:l.ly.priceView},n.createElement(s.A,Object.assign({},this.props,{pricing:i,priceHideProperty:m,sellingPriceStyle:T,fontIncreasePageTypes:o.o.REGULAR===h?void 0:this.props.fontIncreasePageTypes,priceStyle:E,actionDispatcher:void 0}))),v,_&&n.createElement(r.Text,{style:l.ly.ppuString},_))))}));return n.createElement(r.View,{style:a.C1.col},E)}static _isTappableDisabled(e){return e!==o.o.GROUP_BUY}}},343243:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>g});var n=i(465420),r=i(296540),a=i(347924),o=i(198213),s=i(723372),l=i(479892),d=i(982561),c=i(716249);const u=i(877293).StyleSheet.create({summaryContainer:{flexDirection:"row",marginBottom:12,marginLeft:16,alignItems:"center"},imageStyle:{marginRight:8,borderRadius:4}});var h=i(52754);class p extends c.A{constructor(){super(...arguments),this._renderItem=e=>e?r.createElement(s.A,{style:l.C1.justifyContentCenter,messages:e,numberOfLines:1}):null,this._renderSummary=e=>{var t,i,n;const d=(null===(t=e.imageValue)||void 0===t?void 0:t.height)||p.IMAGE_HEIGHT,c=(null===(i=e.imageValue)||void 0===i?void 0:i.width)||p.IMAGE_HEIGHT;return r.createElement(a.fI,{alignItems:"center",mb:"s5",ml:"s6"},(null===(n=e.imageValue)||void 0===n?void 0:n.dynamicImageUrl)&&r.createElement(o.Dk,{style:u.imageStyle,source:e.imageValue.dynamicImageUrl,height:d,width:c}),r.createElement(s.A,{style:l.C1.flex,messages:e.data}))}}static getWidgetHeight(e){var t;const i=(0,h.xH)(e.widgetSlotData),n=i.socialProofingText?this.TICKER_HEIGHT:0;return 42*((null===(t=i.summary)||void 0===t?void 0:t.length)||0)+n+12}renderWidget(){var e;const t=(0,h.xH)(this.props.widgetSlotData);if(t)return r.createElement(a.az,null,null===(e=t.summary)||void 0===e?void 0:e.map((e=>this._renderSummary(e))),t.socialProofingText&&r.createElement(d.A,{itemHeight:p.TICKER_HEIGHT,renderItem:e=>{var i;return this._renderItem(null===(i=t.socialProofingText)||void 0===i?void 0:i[e])},itemCount:t.socialProofingText.length}))}}p.TICKER_HEIGHT=25,p.IMAGE_HEIGHT=30;class g extends n.A{getWidgetClass(e){return p}getWidgetHeight(e){return p.getWidgetHeight(e)}}},344207:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var n=i(918210),r=i(90513),a=i(530136),o=i(938777);class s{handleAction(e,t,i){if(!e.payload)return!1;const s={},l=e.payload.subTitle.replace(" ","");return s[r.Ay.PROP62]=o.fOd.MARKETPLACE_GROCERY+"_"+a.A.ProductPage+"_"+l,n.A.addPageData(s),!0}}},346847:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>_});var n=i(465420),r=i(716249),a=i(52754),o=i(296540),s=i(479892),l=i(99394),d=i(877293),c=i(50745),u=i(468248),h=i(914944),p=i(415283),g=i(352254),m=i(45426);class v extends r.A{constructor(){super(...arguments),this._renderCallouts=e=>o.createElement(m.S,{onPress:this._onValueClick,onPressParam:e.data[0]},o.createElement(d.View,{style:c.hK.themeStyleHolder},o.createElement(l.A,{messages:e.data,data:e,parentContainerStyle:s.C1.alignItemCenter,textContainerStyle:s.C1.row_wrap,textDefaultStyle:s.XT.fontRegular_14,imageContainerStyle:s.C1.margin_right_8,appContext:this.props.appContext}),o.createElement(d.View,{style:c.hK.chevronImageContainer},o.createElement(g.A,{source:u.j.getChevronSrc().uri,style:c.hK.chevronImageOffer,height:12,width:12})))),this._onValueClick=(e,t)=>{const i=null==t?void 0:t.action;if(i){const e=new h.Oy(i);this.dispatchAction(p.Q3.MAPI_ACTION,e),this.trackDiscoveryContentClickEvent(null==t?void 0:t.tracking)}}}static getWidgetHeight(e){const t=(0,a.nS)(e.widgetSlotData),i=t?t.data:void 0;if(!i)return 0;return(i.links?25*i.links.length:0)+this.getAdditionalHeight(e)}renderWidget(){const e=(0,a.nS)(this.props.widgetSlotData),t=e?e.data:void 0;if(t)return o.createElement(d.View,null,t.links&&t.links.length>0&&t.links.map(this._renderCallouts))}}class _ extends n.A{getWidgetClass(e){return v}getWidgetHeight(e){return v.getWidgetHeight(e)}}},346908:(e,t,i)=>{"use strict";i.d(t,{F:()=>ie});var n=i(296540),r=i(877293),a=i(311676),o=i(561310),s=i(422018),l=i(146387),d=i(492418),c=i(166057),u=i(410752),h=i(479892),p=i(670563);const g=r.StyleSheet.create({header:{flexDirection:"row",justifyContent:"center",alignItems:"flex-start",display:"flex"},btn_back:{color:p.J3.white,maxWidth:30,position:"absolute",overflow:"hidden",textAlignVertical:"center",marginLeft:16},account:{width:20,height:"auto"},title:{flex:1,flexDirection:"row",fontSize:16,height:52,color:p.J3.pageBackgroundColor,overflow:"hidden",alignItems:"center",textAlignVertical:"center",display:"flex",justifyContent:"flex-start"},navigationBarHeight:{height:d.vzS},navContainer:{alignItems:"center",height:52,width:56,position:"relative"}});var m,v=i(88502),_=i(249989),C=i(582389),E=i(985234),T=i(944083),f=i(52754),A=i(560203),S=i(171389),y=i(716249),w=i(176254),I=i(327870),b=i(242464),D=i(29960),x=i(74175),P=i(537415),O=i(322392),R=i(914944),k=i(415283),V=i(938777),L=i(808584),M=i(723372),N=i(876505),H=i(454334),W=i(580555),B=i(813652),U=i(53606),F=i(495176),G=i(249423),z=i(879052),j=i(257246),X=i(155805),Y=i(160251),q=i(547134);!function(e){e.ADDED_TO_CART_BOTTOMSHEET="ADDED_TO_CART_BOTTOMSHEET"}(m||(m={}));var J=i(968176),K=i(57522),Q=i(990543),Z=(i(309865),i(45426),i(887261),i(198213),i(420721),i(115551)),$=i(957775);const{width:ee}=r.Dimensions.get("window");y.A;var te=i(572144);class ie extends y.A{constructor(e,t){var i,d;super(e,t),this.TIMEOUT_FOR_ACTION_EXECUTION=300,this.isYellowCTAEnabled=this.isDlsEnabled(),this.spinAnim=new r.Animated.Value(0),this.chevronRotation=new r.Animated.Value(0),this.SWATCH_CALLOUT_PPV_COUNT="swatch-callout-ppv-count",this.calloutItemContainerStyle=[],this.imageViewStyle=[],this.fmvContainerStyle=[],this.calloutItemStyle=[],this.DEFAULT_PREF_COUNT=U.Ay.getSwatchAnimationCount(),this.startAnimtedView=()=>{this.state.shouldAnimateCallouts?H.A.getValueInt(this.SWATCH_CALLOUT_PPV_COUNT).then((e=>{null!==e&&e<=this.DEFAULT_PREF_COUNT?(this._startAnimation(this.spinAnim),this._setAnimationTimeOut(!1),this._timeOutBackgroundColor(void 0!==this.state.showCalloutsBg)):this.state.showCalloutsBg&&this._timeOutBackgroundColor(!1)})).catch((()=>{})):this.state.showCalloutsBg&&this._timeOutBackgroundColor(!1)},this.isDlsPage=()=>this.isDlsEnabled(),this._closeModal=()=>{this.props.actionDispatcher&&this.props.actionDispatcher(new o.iM(o.xH.CLOSE_MODAL))},this._renderProductSummary=(e,t,i)=>n.createElement(w.X,{summaryValue:e,ratingValue:t&&t.rating,showSuperTitle:!1,gbFlow:i}),this._renderAvailableSwatches=e=>{if(e&&e.swatches)return n.createElement(r.View,{style:this.getAvailableSwatchesContainerStyle()},e.swatches.map(this._renderSwatchItem))},this._getContentViewTracking=e=>this.getContentViewTrackingData(e),this._renderSwatchItem=(e,t)=>n.createElement(b.e0,{swatchIndex:t,data:e,viewModel:this.state.viewModel,onSwatchOptionPressed:this._onSwatchSelected,actionDispatcher:this.props.actionDispatcher,uiContext:this.props.appContext.uiContext,layoutKey:this.getLayoutKey(),renderHeader:this._shouldRenderSwatchTitle(),key:this._keyExtractor(t),viewType:this.state.viewType,swatchId:this._swatchId,disableSizeChartView:this.shouldDisableSizeChartView(),isSwatchExpanded:!0,widgetProps:this.props,getContentViewTrackingData:this._getContentViewTracking}),this._shouldRenderSwatchTitle=()=>!0,this._renderErrorMessagesView=e=>{if(e&&" "!==e)return"SWATCH_IN_BOTTOMSHEET"===this.state.viewType?this._renderErrorTextInBackground(e):this._renderErrorAsText(e)},this._renderBottomBarActions=e=>{const t=e.map(this._renderBottomBarActionAtIndex);return n.createElement(r.View,{style:v.h5.buttonContainer},t)},this._startAnimation=e=>{e.setValue(0),r.Animated.timing(e,{toValue:1,duration:1e3,easing:r.Easing.inOut(r.Easing.circle),useNativeDriver:!0,delay:1500}).start()},this._handleKnowMoreClick=(e,t)=>{t&&(this._closeModal(),this.dispatchAction(k.Q3.MAPI_ACTION,new R.rs(t)))},this._setAnimationTimeOut=e=>{this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout((()=>{this.setState({shouldAnimateCallouts:e})}),1500)},this._timeOutBackgroundColor=e=>{this._timer&&clearTimeout(this._timer),this._timer=setTimeout((()=>{this.setState({showCalloutsBg:e})}),1500)},this._renderSwatchWidgetCallouts=e=>{if(!e)return null;const t=e.map(this._renderSwatchCalloutItem);return n.createElement(r.View,null,t)},this._renderSwatchCalloutItem=e=>{if(!e||!e.value)return null;const t=e.value,i=t.animatedImage,a=t.imageValue,o=t.data,s=t.bgColor,l=t.actionText;let d=null==e?void 0:e.tracking,c=d&&d[W.qF];c&&(c=c.replace("pp","bs"),d=Object.assign(Object.assign({},d),{impressionId:c}));const u=d&&this.getContentViewTrackingData(new W.Ay(d)),p=this.spinAnim.interpolate({inputRange:[0,1],outputRange:["360deg","0deg"]});return this.state.showCalloutsBg&&this._timeOutBackgroundColor(!1),this.state.showCalloutsBg&&s?this.calloutItemContainerStyle=[...this.calloutItemContainerStyle,{backgroundColor:s}]:this.calloutItemContainerStyle=[...this.calloutItemContainerStyle,h.C1.backgroundWhite],n.createElement(N.A,{trackingInfo:u,style:[this.calloutItemContainerStyle,this.calloutItemStyle]},n.createElement(r.View,{style:h.C1.colWithoutFlex},a&&n.createElement(L.A,{style:this.imageViewStyle,imageValue:a,height:18,width:18}),n.createElement(r.Animated.View,{style:[{transform:[{rotate:p}]}]},i&&n.createElement(L.A,{imageValue:i,height:30,width:30}))),n.createElement(r.Text,{style:this.fmvContainerStyle},o&&n.createElement(M.A,{style:h.C1.margin_right_5,messages:o,useTextContainer:!0,useInline:!0}),(null==l?void 0:l.value)&&n.createElement(F.A,{style:h.XT.letterSpacing_15,richTextData:null==l?void 0:l.value,onPress:this._handleKnowMoreClick,onPressParam:l.action})))},this._renderErrorAsText=e=>n.createElement(r.Text,Object.assign({},(0,z.Z)("Multi_Swatch_Error_Text"),{style:v.h5.errorText}),e),this._renderErrorTextInBackground=e=>" "!==e?n.createElement(r.Text,Object.assign({},(0,z.Z)("Multi_Swatch_Error_Text"),{style:v.h5.errorTextWithBg}),e):null,this._keyExtractor=e=>"Multi_Swatch_select_"+e,this._renderBottomBarActionAtIndex=(e,t)=>{const i=this.state.actionButtonStates&&this.state.actionButtonStates[t];let r=e.text;return this.isDlsEnabled()&&(r=(0,G.nx)(r)),n.createElement(I.L,{key:t,buttonIndex:t,onPress:this._onSwatchActionButtonClicked,onPressParam:e,mode:e.buttonMode,text:r,buttonTextStyle:e.buttonTextStyle,containerStyle:e.buttonContainerStyle,buttonState:i,isYellowCTAEnabled:this.isYellowCTAEnabled,isLiveStreamVariant:this._isLiveStreamVariant()})},this._onSwatchSelected=(e,t)=>{this.props.actionDispatcher&&this.props.actionDispatcher(new s.lX(new s.aM(e,t,this.state.viewModel,this.state.swatchCombinationToPidMap,this.state.swatchWhitelistProductInfoMap,this.state.viewType,this.state.arEnabledSwatchCombinationToPidMap)))},this._onSwatchActionButtonClicked=(e,t)=>{var i,n,r,a,o,d,u,h,p,g,m,v,C,E;const T=this.state.viewModel;this._dispatchSwatchFinalizeDgEvent(this.state.fetchId,T.swatches,t.actionType,T.selectedPid);if(this._isSwatchSelectionRequiredAndCompleted(t.swatchSelectionRequired,T))switch(t.actionType){case c.a.SWATCH_SELECTION_CANCEL:if(t.callback){const e={};t.callback(e)}this._closeModal();break;case c.a.SWATCH_SELECTION_APPLY:case c.a.SWATCH_SELECTION_APPLY_THEN_FORWARD_ACTION:{const e=ie._getPageUIDFromProps(this.props),i=this.state.swatchWhitelistProductInfoMap;T.selectedPid&&T.selectedLid&&i&&(this._closeModal(),setTimeout((()=>{if(this.props.actionDispatcher&&T.selectedPid){const n=this.props.pageInfo&&this.props.pageInfo.pageContext&&this.isProductPageContext(this.props.pageInfo.pageContext)&&ie._populateSwatchSelectionInstanceData(T,this.props.pageInfo.pageContext,e);n&&this.props.actionDispatcher(new l.ev(new l.i1(_.z.SWATCH_SELECTION_COMPLETED_DATA,n))),t.baseAction&&this.props.actionDispatcher(t.baseAction),this.props.actionDispatcher(new s.lX(new s.$g(T.selectedPid,i,T.swatches,this.state.viewType)))}}),this.TIMEOUT_FOR_ACTION_EXECUTION));break}case c.a.SWATCH_SELECTION_WITH_CALLBACK:if(t.callback){let e;const i=this.state.swatchWhitelistProductInfoMap;T.selectedPid&&i&&(e=x.L.getSelectedUri(T.selectedPid,i,T.swatches));const n={pid:T.selectedPid,lid:T.selectedLid,newUri:e,listingSummary:T.listingSummary,extraParams:t.extraParams};t.callback(n)}this._closeModal();break;case c.a.SWATCH_VARIANT_SELECTION_THEN_FORWARD_ACTION:{const e=this.state.swatchWhitelistProductInfoMap,{selectedPid:t,selectedLid:s}=T;if(t&&s&&e){const e=null===(i=this.props.pageInfo)||void 0===i?void 0:i.pageContext,l=this.props.pageInfo,d=!!(null==l?void 0:l.isFromCartRecoCard),c=null==l?void 0:l.trackingParams,u=null==l?void 0:l.actionParams,h=null==e?void 0:e.serviceablityInfo;let p;p=d&&c?Object.assign(Object.assign({},c),{productId:t,listingId:s,sProduct:(null===(n=null==e?void 0:e.tracking)||void 0===n?void 0:n.sProduct)?null===(r=null==e?void 0:e.tracking)||void 0===r?void 0:r.sProduct:""}):{productId:t,listingId:s,sProduct:(null===(a=null==e?void 0:e.tracking)||void 0===a?void 0:a.sProduct)?null===(o=null==e?void 0:e.tracking)||void 0===o?void 0:o.sProduct:""};const g=d&&u?Object.assign(Object.assign({},u),{productId:t,listingId:s,saalListingInfo:h,isCartAddFromSwatch:d}):{productId:t,listingId:s,saalListingInfo:h,isCartAddFromSwatch:d},m={loginType:P.G.LOGIN_NOT_REQUIRED,params:g,tracking:p,screenType:"multiWidgetPage",type:O.X.ADD_VARIANT_TO_CART};this.dispatchAction(k.Q3.MAPI_ACTION,new R.Oy(m))}break}case c.a.SWATCH_VARIANT_SELECTION_PAGE_REFRESH:{const e=this.state.swatchWhitelistProductInfoMap,{selectedPid:t,selectedLid:i}=T;if(t&&i&&e){const e=null===(d=this.props.pageInfo)||void 0===d?void 0:d.pageContext,n=null==e?void 0:e.serviceablityInfo,r={loginType:P.G.LOGIN_NOT_REQUIRED,params:{productId:t,listingId:i,saalListingInfo:n,isFromBottomsheet:!0},tracking:{productId:t,listingId:i,sProduct:(null===(u=null==e?void 0:e.tracking)||void 0===u?void 0:u.sProduct)?null===(h=null==e?void 0:e.tracking)||void 0===h?void 0:h.sProduct:""},screenType:"multiWidgetPage",type:O.X.ADD_VARIANT_TO_CART};this.dispatchAction(k.Q3.MAPI_ACTION,new R.Oy(r))}break}case c.a.SWATCH_VARIANT_SELECTION_WITHOUT_REDIRECTION:case c.a.CART_ADD_WITH_SWATCH_BOTTOMSHEET:{const e=this.state.swatchWhitelistProductInfoMap,{selectedPid:t,selectedLid:i}=T;if(t&&i&&e){const e=null===(p=this.props.pageInfo)||void 0===p?void 0:p.pageContext,n=null==e?void 0:e.serviceablityInfo,r={loginType:P.G.LOGIN_NOT_REQUIRED,params:{productId:t,listingId:i,saalListingInfo:n,targetUri:O.X.ADD_VARIANT_TO_CART_NO_REDIRECTION},tracking:{productId:t,listingId:i,sProduct:(null===(g=null==e?void 0:e.tracking)||void 0===g?void 0:g.sProduct)?null===(m=null==e?void 0:e.tracking)||void 0===m?void 0:m.sProduct:""},screenType:"multiWidgetPage",type:O.X.ADD_VARIANT_TO_CART_NO_REDIRECTION};this.dispatchAction(k.Q3.MAPI_ACTION,new R.Oy(r))}break}case c.a.SWATCH_VARIANT_SELECTION_NO_REDIRECTION_DEALS:{const e=this.state.swatchWhitelistProductInfoMap,{selectedPid:i,selectedLid:n}=T;if(i&&n&&e){const e=null===(v=this.props.pageInfo)||void 0===v?void 0:v.pageContext,r=null==e?void 0:e.serviceablityInfo,a=this._isLiveStreamVariant()?{errorCallback:()=>{this._closeModal(),this.openVerticalTray()},successCallback:()=>{this.updateAddedProductsVolatileData(),this.openAddedToCartBottomSheet()}}:{},o={loginType:P.G.LOGIN_NOT_REQUIRED,params:{productId:i,listingId:n,saalListingInfo:r,apiCallbackHandler:a},tracking:{productId:i,listingId:n,sProduct:(null===(C=null==e?void 0:e.tracking)||void 0===C?void 0:C.sProduct)?null===(E=null==e?void 0:e.tracking)||void 0===E?void 0:E.sProduct:""},screenType:"multiWidgetPage",type:O.X.ADD_VARIANT_TO_CART_NO_REDIRECTION};if(this.dispatchAction(k.Q3.MAPI_ACTION,new R.Oy(o)),t.callback){const e={pid:T.selectedPid,lid:T.selectedLid,extraParams:t.extraParams};t.callback(e)}this._isLiveStreamVariant()||this._closeModal()}break}}},this.openVerticalTray=()=>{var e,t;this._isLiveStreamVertical()&&(null===(t=null===(e=this.props)||void 0===e?void 0:e.actionDispatcher)||void 0===t||t.call(e,new o.iM(o.xH.OPEN_MODAL,(0,Z.getVerticalTrayModalProps)())))},this._fireDCCEvent=e=>{const t=new W.Ay(e),i=this.state.trackingParams&&this.state.trackingParams.getImpressionInfo(),n=new a.dv9(t,i);this.trackDGEvent(n)},this._isLiveStreamVariant=()=>"LIVESTREAM_VARIANT"===this.state.viewType||"LIVESTREAM_VARIANT_V2"===this.state.viewType,this._isLiveStreamVertical=()=>"LIVESTREAM_VARIANT_V2"===this.state.viewType,this._swatchId=Math.random(),this._style=r.StyleSheet.create({container:{width:(0,X.wb)(null===(i=this.props.pageInfo)||void 0===i?void 0:i.pageURI,null===(d=this.props.pageInfo)||void 0===d?void 0:d.marketPlace)?Y.wc:e.appContext.uiContext.windowFrame.width,paddingBottom:this.props.appContext.uiContext.getWindowSafeAreaInset().bottom},header:{paddingTop:this.props.appContext.uiContext.getWindowSafeAreaInset().top}}),this.imageViewStyle=[h.C1.absoluteCenter,h.C1.margin_left_5,h.C1.margin_top_6],this.fmvContainerStyle=[h.C1.row,h.C1.alignItemFlexStart,h.C1.justifyContentStart,h.C1.margin_left_8,h.C1.wrap],this.calloutItemStyle=[h.C1.rowWithoutFlex,h.C1.padding16H,h.C1.padding_bottom_16,h.C1.alignItemCenter]}componentDidMount(){const e=this.state.viewModel,t=ie.getModalDataFromProps(this.props),i=null==t?void 0:t.swatchData;(null==e?void 0:e.currentSelection)&&!e.currentSelection.includes(-1)&&this._onSwatchSelected(0,e.currentSelection[0]),(null==i?void 0:i.callouts)&&(null==i?void 0:i.callouts.length)>0&&this.startAnimtedView(),super.componentDidMount(),this.props.actionDispatcher&&(0,$.dispatchDgAction)(q.A.SWATCH_SELECTION_MODAL,this.props.actionDispatcher)}static getWidgetHeight(e){return e.appContext.uiContext.windowFrame.height}getDerivedState(e,t){const i=ie.getModalDataFromProps(e);let n,r,a,o,s=" ";if(this._swatchExpanded(e))return t;const l=i&&i.actionButtons?i.actionButtons:[],d=(0,f.KJ)(e.widgetSlotData);let c;t&&(0,f.d9)(this.props.widgetSlotData,e.widgetSlotData)?(o=ie.getViewModelFromPageTransientData(e),s=ie._getErrorMessageFromPageTransientData(e),o||(o=t.viewModel),n=t.fetchId,r=t.swatchCombinationToPidMap,a=t.swatchWhitelistProductInfoMap,c=t.arEnabledSwatchCombinationToPidMap):(n=ie._getFetchIdFromProps(e),r=ie._getSwatchCombinationToPidMapFromProps(e),a=ie._getSwatchWhitelistProductInfoMapFromProps(e),o=this._getInitialViewModelFromProps(e,r,a),c=ie._getArEnabledSwatchCombinationToPidMapFromProps(e,d));const u=l.map((e=>e.swatchSelectionRequired&&o&&this.isSelectedCombinationUnavailable(o)||e.shouldDisableActionButtonOnError&&0!==s.trim().length?1:0)),h=(null==t?void 0:t.showCalloutsBg)||!1,p=(null==t?void 0:t.shouldAnimateCallouts)||!0;return Object.assign(Object.assign({},super.getDerivedState(e,t)),{fetchId:n,swatchCombinationToPidMap:r,swatchWhitelistProductInfoMap:a,viewModel:o,modalActionButtons:l,errorMessage:s,actionButtonStates:u,showCalloutsBg:h,shouldAnimateCallouts:p,viewType:d,arEnabledSwatchCombinationToPidMap:c})}shouldComponentUpdate(e,t,i){return this.state.viewModel!==t.viewModel||this.state.errorMessage!==t.errorMessage||this.state.showCalloutsBg!==t.showCalloutsBg||this.state.shouldAnimateCallouts!==t.shouldAnimateCallouts||super.shouldComponentUpdate(e,t,i)}getToolBarColor(e,t){if(e.marketPlace===V.fOd.MARKETPLACE_HYPERLOCAL)return d.Cf1.fkMarketPlaceHyperlocal;return"EMERALD_PPV_VARIANT_LISTVIEW"===t.viewType?d.tG0.refurbColor:d.Cf1.fkBlueColor}getNavigationBarThemeContext(e){const t=(0,j.gU)(e),i=(0,j.hN)(e),n=(0,j.bT)(e);if(t&&i&&n)return{backgroundColor:t,textColor:i,iconColor:n}}renderHeader(e){var t,i,a,o,s,l;const c=e.data;if(!c)return null;const h=null===(s=null===(o=null===(a=null===(i=null===(t=this.props)||void 0===t?void 0:t.widgetSlotData)||void 0===i?void 0:i.slotData)||void 0===a?void 0:a.widget)||void 0===o?void 0:o.params)||void 0===s?void 0:s.themeContext,p=(null===(l=this.props.pageInfo)||void 0===l?void 0:l.marketPlace)===V.fOd.MARKETPLACE_HYPERLOCAL,m=(null==h?void 0:h.systemTheme)||d.eqP.LIGHT;return n.createElement(r.View,{style:[p?v.h5.headerHyperlocal:this.isDlsEnabled()?v.h5.headerDls:v.h5.header,this._style.header]},n.createElement(S.Ay,{showBackButton:!0,showMainLogo:!1,navIcon:{uri:this.isDlsEnabled()?B.backArrow():d.DFE},style:this.isDlsEnabled()?Object.assign(Object.assign({},g.navigationBarHeight),{backgroundColor:p?v.h5.headerHyperlocal.backgroundColor:d.Jyk.white}):g.navigationBarHeight,theme:this.isDlsEnabled()?m:void 0,title:this.localize({id:u.H.rex_string_swatch_model_string_title}),titleColor:d.Jyk.white,onIconClicked:this._closeModal,toolBarColor:this.getToolBarColor(c,e),dlsEnabled:this.isDlsPage(),inBottomSheet:!1,themeContext:this.getNavigationBarThemeContext(h)}))}renderWidget(){var e;const t=this.state.viewModel,i=(0,f.nS)(this.props.widgetSlotData),a=null==i?void 0:i.data;return n.createElement(te.T,null,n.createElement(r.View,Object.assign({},(0,z.Z)("Swatch_BottomSheet"),{style:[v.h5.container,this.getContainerFlex(),this._style.container]}),n.createElement(r.ScrollView,null,this._renderProductSummary(t.listingSummary,t.ratingValue,t.gbFlow),this._renderDividerView(),this._renderAvailableSwatches(t),this._renderErrorMessagesView(this.state.errorMessage),this._renderSwatchWidgetCallouts(null===(e=null==a?void 0:a.swatchData)||void 0===e?void 0:e.callouts)),this._renderBottomBarActions(this.state.modalActionButtons)))}getContainerFlex(){return h.C1.flex}getAvailableSwatchesContainerStyle(){return h.C1.flex}shouldStateUpdate(e,t){const i=ie.getViewModelFromPageTransientData(e),n=ie._getErrorMessageFromPageTransientData(e);return this.state.viewModel!==i||this.state.errorMessage!==n||super.shouldStateUpdate(e,t)}_renderDividerView(){return n.createElement(A.A,{heightVal:1})}shouldDisableSizeChartView(){}getLayoutKey(){}isSelectedCombinationUnavailable(e){if(void 0===e.selectedPid)return!0;if(e.currentSelection&&e.currentSelection.length>0)for(let t=0;t<e.currentSelection.length;t++){const i=e.currentSelection[t];if(e.swatches.length>t&&e.swatches[t]&&void 0!==i&&i>=0&&e.swatches[t].options.length>i){const n=e.swatches[t].options[i];if(null==n?void 0:n.disabled)return!0}}return!1}isProductPageContext(e){return"ProductPageContext"===e.type}getLiveVolatileData(e){return(0,f.Qd)(e,K.j.LIVESTREAM_VOLATITLE_DATA)}updateAddedProductsVolatileData(){var e,t,i;const n=null===(e=(0,f.nS)(this.props.widgetSlotData))||void 0===e?void 0:e.data,r=this.getLiveVolatileData(this.props),a=Object.assign({},null==r?void 0:r.addedProducts),o=null==n?void 0:n.pid;o&&(a[o]={listingId:this.state.viewModel.selectedLid,isAdded:!0}),null===(i=(t=this.props).actionDispatcher)||void 0===i||i.call(t,new l.YI(new l.qF(K.j.LIVESTREAM_VOLATITLE_DATA,new J.L((null==r?void 0:r.rewardmachineState)||Q.Vt,(null==r?void 0:r.taggedProducts)||[],null==r?void 0:r.scrollPosition,a))))}openAddedToCartBottomSheet(){var e,t;const i={modalType:"BOTTOM_SHEET",widgetType:q.A.LIVE_VERTICAL_TRAY_BOTTOMSHEET,viewType:m.ADDED_TO_CART_BOTTOMSHEET,widgetData:(n=this._isLiveStreamVertical(),{shoudlOpenVerticalTray:n}),widgetLayoutParams:{flex:0,backgroundColor:"transparent"},onClosed:this.openVerticalTray};var n;null===(t=null===(e=this.props)||void 0===e?void 0:e.actionDispatcher)||void 0===t||t.call(e,new o.iM(o.xH.UPDATE_MODAL,i))}_isSwatchSelectionRequiredAndCompleted(e,t){if(!e||t.selectedPid)return!0;let i;return i=t.swatchSelectionCompleted&&!t.selectedPid?ie._getErrorMessageFromPageTransientData(this.props):this.localize({id:u.H.rex_string_swatch_error_constants_SWATCH_SELECTION_INCOMPLETE}),this.setState({errorMessage:i}),!1}_dispatchSwatchFinalizeDgEvent(e,t,i,n){var r;const o=t.filter((e=>e.selected)).map((e=>new T.KX(e.id,e.selectedOptionText)));switch(i){case c.a.SWATCH_SELECTION_CANCEL:this.trackDGEvent(new a.p8u(e,T.n_.Cancel,n,o));break;case c.a.SWATCH_SELECTION_APPLY:case c.a.SWATCH_SELECTION_APPLY_THEN_FORWARD_ACTION:this.trackDGEvent(new a.p8u(e,T.n_.Apply,n,o));break;case c.a.SWATCH_VARIANT_SELECTION_NO_REDIRECTION_DEALS:case c.a.SWATCH_VARIANT_SELECTION_WITHOUT_REDIRECTION:case c.a.CART_ADD_WITH_SWATCH_BOTTOMSHEET:const t=null===(r=this.props.widgetSlotData.slotData.widget)||void 0===r?void 0:r.tracking,i=null==t?void 0:t.fetchId;i&&this.trackDGEvent(new a.p8u(i,T.n_.Apply,n,o)),t&&this._fireDCCEvent(t)}}_swatchExpanded(e){return!!(e.pageInfo&&e.pageInfo.pageTransientData&&e.pageInfo.pageTransientData.data.SWATCH_EXPAND_VIEW&&this._swatchId&&e.pageInfo.pageTransientData.data.SWATCH_EXPAND_VIEW.swatchId&&this._swatchId===e.pageInfo.pageTransientData.data.SWATCH_EXPAND_VIEW.swatchId&&e.pageInfo.pageTransientData.data.SWATCH_EXPAND_VIEW.isExpanded)&&(this._swatchId=Math.random(),!0)}static _populateSwatchSelectionInstanceData(e,t,i){var n;const r=e.selectedLid,a=e.selectedPid;let o,s;if(t.trackingDataV2&&t.productId&&t.listingId&&r&&a){const e=Object.assign(Object.assign({},t.trackingDataV2),{listingId:r});s=e&&e.sproduct,s=null===(n=null==s?void 0:s.replace(t.listingId,r))||void 0===n?void 0:n.replace(t.productId,a),o=e.sProductSuffix,o=null==o?void 0:o.replace(t.listingId,r)}return new C.WP(a,r,s,o,i)}static getModalDataFromProps(e){const t=(0,f.nS)(e.widgetSlotData);return null==t?void 0:t.data}static getViewModelFromPageTransientData(e){const t=ie._getSwatchPageViewModelTransientDataFromProps(e);if(null==t?void 0:t.viewModel)return t.viewModel}static _getPageUIDFromProps(e){const t=(0,f.nS)(e.widgetSlotData),i=null==t?void 0:t.data;return i?i.pageUID:void 0}static _getSwatchPageViewModelTransientDataFromProps(e){var t,i;return(null===(i=null===(t=e.pageInfo)||void 0===t?void 0:t.pageTransientData)||void 0===i?void 0:i.data)&&e.pageInfo.pageTransientData.data[E.V.SWATCH_VIEW_MODEL]}static _getSwatchPageLastSelectionInstanceDataFromProps(e){var t;return(null===(t=e.pageInfo)||void 0===t?void 0:t.pageInstanceData)&&e.pageInfo.pageInstanceData[_.z.LAST_SWATCH_SELECTION_DATA]}static _getFetchIdFromProps(e){var t;const i=null===(t=null==e?void 0:e.pageInfo)||void 0===t?void 0:t.pageContext;return i&&i.fetchId?i.fetchId:""}static _getSwatchCombinationToPidMapFromProps(e){var t;const i=ie.getModalDataFromProps(e),n=(null===(t=null==i?void 0:i.swatchData)||void 0===t?void 0:t.swatchComponent)?i.swatchData.swatchComponent.value:void 0;return n?x.L.createSwatchCombinationToPidMap(n.products):new Map}static _getArEnabledSwatchCombinationToPidMapFromProps(e,t){var i;if("CAMERA_THREED_VIEWER"===t||"NEW_AR_WIDGET"===t||"DRISHYAMUKH_VIEW_TYPE"===t){const t=ie.getModalDataFromProps(e),n=(null===(i=null==t?void 0:t.swatchData)||void 0===i?void 0:i.swatchComponent)?t.swatchData.swatchComponent.value:void 0;return n?x.L.createAREnabledSwatchCombinationToPidMap(n.products):new Map}}static _getSwatchWhitelistProductInfoMapFromProps(e){var t;const i=ie.getModalDataFromProps(e),n=(null===(t=null==i?void 0:i.swatchData)||void 0===t?void 0:t.swatchComponent)?i.swatchData.swatchComponent.value:void 0;return n&&n.products}_getInitialViewModelFromProps(e,t,i){var n,r,a,o,s,l,d,c;const u=ie.getModalDataFromProps(e),h=null===(r=null===(n=null==u?void 0:u.swatchData)||void 0===n?void 0:n.swatchComponent)||void 0===r?void 0:r.value,p=ie._getSwatchPageLastSelectionInstanceDataFromProps(e);let g,m;p&&(p.swatchSelection&&(g=p.swatchSelection),p.pid&&(m=p.pid)),m||(m=u&&u.pid);const v=null===(o=null===(a=null==u?void 0:u.swatchData)||void 0===a?void 0:a.ratingsAndReviews)||void 0===o?void 0:o.value,_=null===(l=null===(s=null==u?void 0:u.actionButtons)||void 0===s?void 0:s[0].baseAction)||void 0===l?void 0:l.payload,C=null===(c=null===(d=null==_?void 0:_.mapiAction)||void 0===d?void 0:d.params)||void 0===c?void 0:c.gbBuyNowEligible;return new D.L(h,t,i,m,g,v,C)}static _getErrorMessageFromPageTransientData(e){const t=ie._getSwatchPageViewModelTransientDataFromProps(e);return t&&t.errorMessage?t.errorMessage:" "}static _getProductSwatchValueFromSwatchWidgetData(e){var t;return null===(t=null==e?void 0:e.swatchComponent)||void 0===t?void 0:t.value}}},347950:e=>{"use strict";e.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},348249:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>te});var n=i(465420),r=i(387393),a=i(296540),o=i(877293),s=i(716249),l=i(887261),d=i(670563);const c=184.5,u=o.StyleSheet.create({container:{display:"flex",flexDirection:"row",marginTop:12},productTitlePrefix:{height:32,fontFamily:l.$u,includeFontPadding:!1,fontSize:12,lineHeight:16,marginBottom:8},productTitle:{fontFamily:l.A$,fontSize:12,height:32,lineHeight:16,marginBottom:8},leftContainer:{position:"absolute",display:"flex",flexDirection:"column",zIndex:2},topOpacityContainer:{backgroundColor:d.Jy.whiteWithOpacity95,zIndex:1,width:90},bottomOpacityContainer:{backgroundColor:d.Jy.whiteWithOpacity95,zIndex:1,height:52,width:90},attributeContainer:{display:"flex",justifyContent:"flex-end",zIndex:1},darkBg:{backgroundColor:d.OK.moreGamesFallBack,paddingTop:13,paddingBottom:13,paddingLeft:8,paddingRight:8,width:90},lightBg:{backgroundColor:d.Jy.tableLightBackground,paddingTop:13,paddingBottom:13,paddingLeft:8,paddingRight:8,width:90},attributeFont:{fontSize:12,fontFamily:l.$u,color:d.OK.dataScoreTextColor},firstScrollContainer:{marginLeft:90,width:138,paddingRight:24,paddingLeft:24},scrollContainer:{width:114,paddingRight:24},imageContainer:{width:60,height:60,alignItems:"center",marginBottom:8,marginTop:24},ratingsContainer:{width:43,height:16,marginBottom:8},sellingPriceText:{fontSize:16,fontFamily:l.$u,lineHeight:24,width:90},discountedPriceText:{fontSize:12,textDecorationLine:"line-through",lineHeight:16,color:d.OK.pastGameTitle},emptyDiv:{fontSize:24,lineHeight:32},priceTopOffset:{marginTop:16},featureTextStyle:{fontSize:14,lineHeight:20},attributeValueContainerWithBackground:{backgroundColor:d.Jy.tableLightBackground,paddingTop:9,paddingBottom:11,textAlignVertical:"center"},attributeValueContainerWithoutBackground:{paddingTop:9,paddingBottom:11,textAlignVertical:"center"},aspectRatingContainerWithBackground:{backgroundColor:d.Jy.tableLightBackground,flex:1,justifyContent:"center",textAlignVertical:"center"},aspectRatingContainerWithoutBackground:{flex:1,justifyContent:"center",textAlignVertical:"center"},emptyCellText:{fontSize:12,lineHeight:16,letterSpacing:.3,fontFamily:l.A$,color:d.OK.dataScoreTextColor},attributeValuesContainerOffset:{display:"flex",justifyContent:"center",marginLeft:90,width:138},actionButton:{borderWidth:1,borderRadius:3,borderColor:d.OK.gemsBorderColor,paddingTop:9,paddingBottom:9,paddingLeft:10,paddingRight:10,marginTop:9,marginBottom:11,height:32},actionButtonText:{fontSize:12,fontFamily:l.$u,letterSpacing:0,textAlign:"center"},firstButtonContainer:{marginLeft:90,width:133,paddingRight:14,paddingLeft:19},disabledText:{color:d.OK.dataScoreTextColor},otherButtonContainer:{width:114,paddingRight:14},standardRoundedPillBorder:{borderRadius:4,height:20,maxWidth:38,paddingVertical:2,paddingHorizontal:4,fontFamily:l.oF},featureItemWidthStyle:{width:114,display:"flex",justifyContent:"center"}});var h,p=i(927443),g=i(492418),m=i(352254),v=i(495176),_=i(479892),C=i(560203),E=i(45426),T=i(329445),f=i(420721),A=i(354397),S=i(988287),y=i(410752),w=i(727e3);!function(e){e.ADD_TO_CART="ADD TO CART",e.GO_TO_CART="GO TO CART",e.BUY_NOW="BUY NOW"}(h||(h={}));class I extends a.PureComponent{constructor(){super(...arguments),this.renderTextFeatureItem=(e,t,i,n)=>a.createElement(o.View,{style:[0===t?u.attributeValuesContainerOffset:u.featureItemWidthStyle,i,n]},(null==e?void 0:e.value)?a.createElement(v.A,{style:u.featureTextStyle,text:e.value,numberOfLines:2}):a.createElement(v.A,{style:[u.featureTextStyle,u.disabledText],text:"N/A"})),this.renderAspectRatingFeatureItem=(e,t,i,n)=>{if(!e||!e.value)return this.renderEmptyCell(t,i,n);const r=e.value.average;return!r||r<1||r>5?this.renderEmptyCell(t,i,n):a.createElement(o.View,{style:[0===t?u.attributeValuesContainerOffset:u.featureItemWidthStyle,i]},a.createElement(o.View,{style:n},a.createElement(S.A,{rating:r,roundedStar:!0,dynamicFillColors:!0,smallStar:!0})),a.createElement(v.A,{style:n,text:r.toFixed(1)}))},this.renderEmptyCell=(e,t,i)=>{const n=(0,f.ak)(this.context.locale,{id:y.H.rex_string_RATING_NOT_AVAILABLE});return a.createElement(o.View,{style:[0===e?u.attributeValuesContainerOffset:u.featureItemWidthStyle,t]},a.createElement(v.A,{style:[u.emptyCellText,i],text:n}))}}render(){const e=this.props.productIdsInSortedOrder.map(((e,t)=>this.renderProductSummaryRowWise(this.props.compareSummaryData[e],t))),t=this.props.compareFeaturesData.map(((e,t)=>this.renderProductFeatureRowWise(e,t))),i=this.props.productIdsInSortedOrder.map(((e,t)=>this.renderProductActionRowWise(this.props.compareActionData[e],t))),n=this.props.viewType===H.PRODUCT_COMPARE_IN_BOTTOM_SHEET;return a.createElement(o.ScrollView,{horizontal:!0,showsHorizontalScrollIndicator:!1},a.createElement(o.View,{style:_.C1.col},a.createElement(o.View,{style:"web"===o.Platform.OS?_.C1.rowWithoutFlex:_.C1.row},e),a.createElement(o.View,null,a.createElement(C.A,{heightVal:1,marginTopVal:12})),a.createElement(o.View,{style:"web"===o.Platform.OS?_.C1.colWithoutFlex:_.C1.col},t),!n&&a.createElement(o.View,null,a.createElement(C.A,{heightVal:1,marginTopVal:-2})),a.createElement(o.View,{style:_.C1.row},i),n&&a.createElement(o.View,{style:"web"===o.Platform.OS?_.C1.height_60:_.C1.height_20})))}renderProductSummaryRowWise(e,t){var i,n,r,s,l;if(!e||!e.value)return null;const d=e&&e.value&&e.value.imageUrl,c=0===t?this.props.currentProductContextTitlePrefix:void 0,h=e&&e.value&&e.value.title,C=(null===(n=null===(i=e.value)||void 0===i?void 0:i.ratings)||void 0===n?void 0:n.average)?e.value.ratings.average.toFixed(1)+` ${g.bhs}`:void 0,T=(null===(r=null==e?void 0:e.value)||void 0===r?void 0:r.pricing)&&(0,p.m3)(e.value.pricing.finalPrice.value),f=(null===(l=null===(s=null==e?void 0:e.value)||void 0===s?void 0:s.pricing)||void 0===l?void 0:l.mrp)&&(0,p.m3)(e.value.pricing.mrp.value),A=e&&e.action,y=a.createElement(w.w.Consumer,null,(e=>a.createElement(o.View,{style:_.C1.row,onLayout:this.props.setProductSummaryHeight},a.createElement(o.View,{style:0===t?u.firstScrollContainer:u.scrollContainer},a.createElement(E.S,{onPress:this.props.mapiAction,onPressParam:A},a.createElement(o.View,null,d&&a.createElement(m.A,{style:_.C1.margin_bottom_8,height:60,width:60,source:d}),c?a.createElement(o.Text,{style:u.productTitlePrefix,numberOfLines:2},c,h&&a.createElement(o.Text,{style:u.productTitle}," ",h)):a.createElement(o.Text,{style:u.productTitle,numberOfLines:2},h),C&&a.createElement(o.View,{style:u.ratingsContainer},a.createElement(S.A,{rating:parseInt(C),themeContext:e})),T&&a.createElement(v.A,{style:u.sellingPriceText,text:`${g.y3o}`+T}),f?I._renderAmountWithRupeeSymbol(f):a.createElement(o.View,{style:u.priceTopOffset})))))));return this.props.getTrackableContentView(y,e.tracking)}renderProductFeatureRowWise(e,t){if(!e)return null;const i=t%2!=0?[u.attributeValueContainerWithBackground,{minHeight:this.props.maxHeightForEachRow[t]}]:[u.attributeValueContainerWithoutBackground,{minHeight:this.props.maxHeightForEachRow[t]}],n=t%2!=0?[u.aspectRatingContainerWithBackground,{minHeight:this.props.maxHeightForEachRow[t]}]:[u.aspectRatingContainerWithoutBackground,{minHeight:this.props.maxHeightForEachRow[t]}],r=this.props.productIdsInSortedOrder.map(((t,r)=>{var a,o;const s=0===r?[_.C1.padding_left_24,{paddingRight:24}]:{paddingRight:24},l=e.values[t];if(!e.properties||!(null===(a=e.properties)||void 0===a?void 0:a.featureType))return this.renderTextFeatureItem(l,r,i,s);switch(null===(o=e.properties)||void 0===o?void 0:o.featureType){case"StringFeatureValue":return this.renderTextFeatureItem(l,r,i,s);case"AspectRatingFeatureValue":return this.renderAspectRatingFeatureItem(l,r,n,s);default:return null}}));return a.createElement(o.View,{style:"web"===o.Platform.OS?_.C1.rowWithoutFlex:_.C1.row},r)}renderProductActionRowWise(e,t){var i;const n=null===(i=null==e?void 0:e.value)||void 0===i?void 0:i.text,r=e&&e.action;return n&&r&&(null==e?void 0:e.value)?a.createElement(o.View,{style:_.C1.col},a.createElement(o.View,{style:0===t?u.firstButtonContainer:u.otherButtonContainer},"ADD TO CART"===n||"GO TO CART"===n||"BUY NOW"===n?a.createElement(T.A,{btnTextStyle:I._styleForActionText(e.value),btnViewStyle:I._styleForContainer(e.value),text:n,onPress:this.props.mapiAction,onPressParam:r}):a.createElement(v.A,{text:n,style:u.actionButtonText}))):a.createElement(o.View,{style:0===t?u.firstButtonContainer:u.otherButtonContainer})}static _renderAmountWithRupeeSymbol(e){const t=u.discountedPriceText;return a.createElement(o.View,{style:_.C1.rowWithoutFlex},a.createElement(o.Text,{style:t},g.y3o),a.createElement(o.Text,{style:t},e))}static _styleForContainer(e){const t={borderWidth:1,borderRadius:3,borderColor:g.OKH.gemsBorderColor,paddingTop:9,paddingBottom:9,paddingLeft:10,paddingRight:10,marginTop:9,marginBottom:11,height:32,backgroundColor:"transparent"};if(e.actionType===A.Q.BUY_NOW)t.backgroundColor=g.Cf1.fkOrange;return e.buttonColor&&(t.backgroundColor=e.buttonColor),t}static _styleForActionText(e){const t={fontSize:12,fontFamily:l.$u,letterSpacing:0,textAlign:"center",includeFontPadding:!1,color:g.Jyk.black};if(e.actionType===A.Q.BUY_NOW)t.color=g.Jyk.white;return e.buttonTextColor&&(t.color=e.buttonTextColor),t}}I.contextType=f.V8;var b=i(475588);const D=e=>{const t=e.attributes.map(((t,i)=>{const n=[i%2?u.darkBg:u.lightBg,{height:0===i?e.heightForEachRow[i]+1:e.heightForEachRow[i]}];return a.createElement(o.View,{key:i,style:[n,_.C1.justifyContentCenter]},a.createElement(o.Text,{style:u.attributeFont},t))}));return a.createElement(o.View,{style:[u.attributeContainer,b.a.deepShadow]},t)};var x,P=i(415283),O=i(914944),R=i(52754),k=i(229833),V=i(90513),L=i(918210),M=i(198213),N=i(390437);!function(e){e.NAVIGATION="NAVIGATION",e.CART_ADD="CART_ADD"}(x||(x={}));class H extends s.A{constructor(){super(...arguments),this.TOP_MARGIN=12,this.layoutChangeHandle=e=>{this.setState({productSummaryHeight:e.nativeEvent.layout.height})},this.isHeaderBottomBorderEnabled=()=>{var e;return(null===(e=this.props)||void 0===e?void 0:e.widgetSlotData)&&(0,R.KJ)(this.props.widgetSlotData)!==H.PRODUCT_COMPARE_IN_BOTTOM_SHEET},this._onPress=(e,t)=>{const i=t.params.widgetType?t.params.widgetType:null;t&&(this.dispatchAction(P.Q3.MAPI_ACTION,new O.rs(t)),this.trackDiscoveryContentClickEvent(t.tracking),"PRODUCT_COMPARE"===i&&this.trackDiscoveryContentEngagementEvent(t.tracking,N.O.INCREASE_UNIT),"NAVIGATION"===t.type&&this._sendQuickCompareProductSummaryTracking())},this._sendQuickCompareProductSummaryTracking=()=>{const e={};k.A.addEvent(e,V.fM.EVENT476),L.A.addPageData(e)}}getDerivedState(e,t){if(!t){const i=(0,R.nS)(this.props.widgetSlotData),n=i&&i.data,r=null==n?void 0:n.compareFeatures,a=(null==r?void 0:r.length)||0;return Object.assign(Object.assign({},super.getDerivedState(e,t)),{productSummaryHeight:c,maxHeightForEachRow:Array(a).fill(40),gtcMap:{}})}return super.getDerivedState(e,t)}static getWidgetHeight(e){const t=(0,R.nS)(e.widgetSlotData),i=t&&t.data;if(!i)return 0;let n=0;n+=c;const r=i&&i.compareFeatures&&i.compareFeatures.length;return r&&(n+=50*r),n+52}componentDidMount(){var e;const t=(0,R.nS)(this.props.widgetSlotData),i=t&&t.data,n=i&&i.compareFeatures,r=this.state.maxHeightForEachRow.slice();n&&n.forEach(((e,t)=>{(null==e?void 0:e.featureName)&&e.featureName.length>10&&(r[t]=60),(null==e?void 0:e.values)&&Object.keys(e.values).forEach((i=>{var n,a,o;(null===(a=null===(n=e.values[i])||void 0===n?void 0:n.value)||void 0===a?void 0:a.length)&&e.values[i].value.toString().length>10&&(r[t]=60),"AspectRatingFeatureValue"===(null===(o=e.properties)||void 0===o?void 0:o.featureType)&&(r[t]=64)}))}));const a=null===(e=null==i?void 0:i.compareAction)||void 0===e?void 0:e.values,o=a&&Object.keys(a).map((e=>{var t,i,n;return null===(n=null===(i=null===(t=null==a?void 0:a[e])||void 0===t?void 0:t.action)||void 0===i?void 0:i.params)||void 0===n?void 0:n.listingId})),s={};o&&o.forEach((e=>{s[e]=this.props.appContext.userManager.isLIDInCart(e)})),this.setState({maxHeightForEachRow:r,gtcMap:s})}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i)||this.state.maxHeightForEachRow!==t.maxHeightForEachRow||this.state.gtcMap!==t.gtcMap||e!==this.props}renderWidget(){const e=(0,R.nS)(this.props.widgetSlotData),t=e&&e.data,i=e&&e.tracking?this.getContentViewTrackingData(s.A.getTrackingParams(this.props,e.tracking)):void 0;if(!t)return;const n=t&&t.compareSummary&&t.compareSummary.values,r=t.compareFeatures,l=r&&r.length;if(!l)return;const d=t.compareAction&&t.compareAction.values,c=t&&t.productIds,h=t&&t.currentProductContext&&t.currentProductContext.titlePrefix,p=r&&r.map((e=>null==e?void 0:e.featureName)),g=a.createElement(o.View,{style:u.container},a.createElement(o.View,{style:u.leftContainer},a.createElement(o.View,{style:[u.topOpacityContainer,{height:this.state.productSummaryHeight+this.TOP_MARGIN}]}),p&&a.createElement(D,{attributes:p,heightForEachRow:this.state.maxHeightForEachRow})),n&&r&&d&&a.createElement(I,{setProductSummaryHeight:this.layoutChangeHandle,compareSummaryData:n,compareFeaturesData:r,compareActionData:d,mapiAction:this._onPress,compareFeaturesLength:l,currentProductContextTitlePrefix:h,maxHeightForEachRow:this.state.maxHeightForEachRow,gtcMap:this.state.gtcMap,productIdsInSortedOrder:c,getTrackableContentView:this.getTrackableContentView,viewType:(0,R.KJ)(this.props.widgetSlotData)}));return i?a.createElement(M.BA,{trackingInfo:i},g):a.createElement(o.View,null,g)}}H.PRODUCT_COMPARE_IN_BOTTOM_SHEET="PRODUCT_COMPARE_IN_BOTTOM_SHEET";var W=i(302019);const B=W.az.extendComponent({name:"AttributesContainer",defaultProps:{py:"s5",px:"s4",width:90}}),U=W.az.extendComponent({name:"StartingViewSpace",defaultProps:e=>({width:e.isStartingView?90:0})}),F=W.JU.extendComponent({name:"AttributeLabel",defaultProps:{font:"s_medium",color:"text.secondary"}}),G=W.az.extendComponent({name:"ProductItemContainer",defaultProps:e=>({width:e.isStartingView?138:114,pl:e.isStartingView?"s8":"s0",pr:"s8"})}),z=W.JU.extendComponent({name:"ProductTitlePrefix",defaultProps:{height:32,font:"s_medium",mb:"s4"}}),j=W.JU.extendComponent({name:"ProductTitle",defaultProps:{font:"s",marginBottom:"s4",height:32}}),X=(W.JU.extendComponent({name:"DiscountedPrice",defaultProps:{font:"s",textDecorationLine:"line-through",color:"text.secondary"}}),W.az.extendComponent({name:"PillRatingContainer",defaultProps:{width:48,height:20,mb:"s4"}})),Y=W.az.extendComponent({name:"ButtonContainer",defaultProps:e=>({width:e.isStartingView?133:114,pr:"s5",pl:e.isStartingView?"s7":void 0})});W.az.extendComponent({name:"FeatureContainer",defaultProps:e=>({width:e.isStartingView?138:114})});var q,J=i(879052);!function(e){e.ADD_TO_CART="ADD TO CART",e.GO_TO_CART="GO TO CART",e.BUY_NOW="BUY NOW"}(q||(q={}));class K extends a.PureComponent{constructor(){super(...arguments),this.renderTextFeatureItem=(e,t,i,n)=>a.createElement(o.View,Object.assign({},(0,J.Z)(`Compare_Text_Container_${t}`,!1,!0),{style:[0===t?u.attributeValuesContainerOffset:u.featureItemWidthStyle,i,n]}),(null==e?void 0:e.value)?a.createElement(v.A,Object.assign({},(0,J.Z)("Compare_Text_Value"),{style:u.featureTextStyle,text:e.value,numberOfLines:2})):a.createElement(v.A,Object.assign({},(0,J.Z)("Compare_Text_NA"),{style:[u.featureTextStyle,u.disabledText],text:"N/A"}))),this.renderAspectRatingFeatureItem=(e,t,i,n)=>{if(!e||!e.value)return this.renderEmptyCell(t,i,n);const r=e.value.average;return!r||r<1||r>5?this.renderEmptyCell(t,i,n):a.createElement(o.View,{style:[0===t?u.attributeValuesContainerOffset:u.featureItemWidthStyle,i]},a.createElement(o.View,{style:n},a.createElement(S.A,{rating:r,roundedStar:!0,dynamicFillColors:!0,smallStar:!0})),a.createElement(v.A,{style:n,text:r.toFixed(1)}))},this.renderEmptyCell=(e,t,i)=>{const n=(0,f.ak)(this.context.locale,{id:y.H.rex_string_RATING_NOT_AVAILABLE});return a.createElement(o.View,{style:[0===e?u.attributeValuesContainerOffset:u.featureItemWidthStyle,t]},a.createElement(v.A,{style:[u.emptyCellText,i],text:n}))}}render(){const e=this.props.productIdsInSortedOrder.map(((e,t)=>this.renderProductSummaryRowWise(this.props.compareSummaryData[e],t))),t=this.props.compareFeaturesData.map(((e,t)=>this.renderProductFeatureRowWise(e,t))),i=this.props.productIdsInSortedOrder.some((e=>{var t;const i=this.props.compareActionData[e];return!!(i&&i.action&&(null===(t=i.value)||void 0===t?void 0:t.text))}));let n=this.props.productIdsInSortedOrder.map(((e,t)=>this.renderProductActionRowWise(this.props.compareActionData[e],t)));const r=this.props.viewType===H.PRODUCT_COMPARE_IN_BOTTOM_SHEET;return a.createElement(o.ScrollView,Object.assign({},(0,J.Z)("Quick_Compare_Scroll_Container"),{horizontal:!0,showsHorizontalScrollIndicator:!1}),a.createElement(W.DD,null,a.createElement(W.xM,{onLayout:this.props.setProductSummaryHeight},e),t.length>0?a.createElement(a.Fragment,null,a.createElement(W.az,null,a.createElement(C.A,{heightVal:1,marginTopVal:12})),a.createElement(W.DD,null,t)):void 0,i?a.createElement(a.Fragment,null,!r&&a.createElement(W.az,null,a.createElement(C.A,{heightVal:1,marginTopVal:-2})),a.createElement(W.xM,null,n)):void 0,r&&a.createElement(o.View,{style:"web"===o.Platform.OS?_.C1.height_60:_.C1.height_20})))}renderProductSummaryRowWise(e,t){var i,n,r,s,l,d;if(!e||!e.value)return null;const c=e&&e.value&&e.value.imageUrl,h=0===t?this.props.currentProductContextTitlePrefix:void 0,C=e&&e.value&&e.value.title,T=null===(r=null===(n=null===(i=e.value)||void 0===i?void 0:i.ratings)||void 0===n?void 0:n.average)||void 0===r?void 0:r.toFixed(1),f=T?parseFloat(T):void 0,A=f?`${f} ${g.bhs}`:void 0,y=(null===(s=null==e?void 0:e.value)||void 0===s?void 0:s.pricing)&&(0,p.m3)(e.value.pricing.finalPrice.value),I=(null===(d=null===(l=null==e?void 0:e.value)||void 0===l?void 0:l.pricing)||void 0===d?void 0:d.mrp)&&(0,p.m3)(e.value.pricing.mrp.value),b=e&&e.action,D=a.createElement(w.w.Consumer,null,(e=>a.createElement(W.xM,null,a.createElement(U,{isStartingView:0===t}),a.createElement(G,{isStartingView:0===t},a.createElement(E.S,Object.assign({},(0,J.Z)(`Compare_Summary_Container_${t}`,!1,!0),{onPress:this.props.mapiAction,onPressParam:b}),a.createElement(W.az,null,c&&a.createElement(m.A,Object.assign({},(0,J.Z)("Product_Image"),{style:_.C1.margin_bottom_8,height:60,width:60,source:c})),h?a.createElement(z,Object.assign({},(0,J.Z)("Product_Title"),{numberOfLines:2}),h,C&&a.createElement(j,null," ",C)):a.createElement(j,Object.assign({},(0,J.Z)("Product_Title"),{numberOfLines:2}),C),A&&f&&a.createElement(X,null,a.createElement(S.A,{rating:parseInt(A),themeContext:e})),y&&a.createElement(v.A,Object.assign({},(0,J.Z)("Product_Selling_Price"),{style:u.sellingPriceText,text:`${g.y3o}`+y})),I?K._renderAmountWithRupeeSymbol(I):a.createElement(o.View,{style:u.priceTopOffset})))))));return this.props.getTrackableContentView(D,e.tracking)}renderProductFeatureRowWise(e,t){if(!e)return null;const i=t%2!=0?[u.attributeValueContainerWithBackground,{minHeight:this.props.maxHeightForEachRow[t]}]:[u.attributeValueContainerWithoutBackground,{minHeight:this.props.maxHeightForEachRow[t]}],n=t%2!=0?[u.aspectRatingContainerWithBackground,{minHeight:this.props.maxHeightForEachRow[t]}]:[u.aspectRatingContainerWithoutBackground,{minHeight:this.props.maxHeightForEachRow[t]}],r=this.props.productIdsInSortedOrder.map(((t,r)=>{var a,o;const s=0===r?[_.C1.padding_left_24,{paddingRight:24}]:{paddingRight:24},l=e.values[t];if(!e.properties||!(null===(a=e.properties)||void 0===a?void 0:a.featureType))return this.renderTextFeatureItem(l,r,i,s);switch(null===(o=e.properties)||void 0===o?void 0:o.featureType){case"StringFeatureValue":return this.renderTextFeatureItem(l,r,i,s);case"AspectRatingFeatureValue":return this.renderAspectRatingFeatureItem(l,r,n,s);default:return null}}));return a.createElement(o.View,{style:_.C1.row},r)}renderProductActionRowWise(e,t){var i;const n=null===(i=null==e?void 0:e.value)||void 0===i?void 0:i.text,r=e&&e.action;return n&&r&&(null==e?void 0:e.value)?a.createElement(W.DD,null,a.createElement(Y,{isStartingView:0===t},"ADD TO CART"===n||"GO TO CART"===n||"BUY NOW"===n?a.createElement(T.A,{btnTextStyle:K._styleForActionText(e.value),btnViewStyle:K._styleForContainer(e.value),text:n,onPress:this.props.mapiAction,onPressParam:r}):a.createElement(v.A,{text:n,style:u.actionButtonText}))):a.createElement(o.View,{style:0===t?u.firstButtonContainer:u.otherButtonContainer})}static _renderAmountWithRupeeSymbol(e){const t=u.discountedPriceText;return a.createElement(W.fI,null,a.createElement(o.Text,{style:t},g.y3o),a.createElement(o.Text,Object.assign({},(0,J.Z)("Product_Mrp"),{style:t}),e))}static _styleForContainer(e){const t={borderWidth:1,borderRadius:3,borderColor:g.OKH.gemsBorderColor,paddingTop:9,paddingBottom:9,paddingLeft:10,paddingRight:10,marginTop:9,marginBottom:11,height:32,backgroundColor:"transparent"};if(e.actionType===A.Q.BUY_NOW)t.backgroundColor=g.Cf1.fkOrange;return e.buttonColor&&(t.backgroundColor=e.buttonColor),t}static _styleForActionText(e){const t={fontSize:12,fontFamily:l.$u,letterSpacing:0,textAlign:"center",includeFontPadding:!1,color:g.Jyk.black};if(e.actionType===A.Q.BUY_NOW)t.color=g.Jyk.white;return e.buttonTextColor&&(t.color=e.buttonTextColor),t}}K.contextType=f.V8;const Q=e=>{const t=e.attributes.map(((t,i)=>{const n=i%2?"background.grey":"background.information";let r=e.heightForEachRow[i];return 0===i&&(r+=1),a.createElement(B,Object.assign({},(0,J.Z)(`Attribute_Container_${i}`),{justifyContent:"center",height:r,bg:n}),a.createElement(F,Object.assign({},(0,J.Z)("Attribute_Container_Value")),t))}));return a.createElement(W.az,{justifyContent:"flex-end",zIndex:1,shadow:3},t)};var Z;!function(e){e.NAVIGATION="NAVIGATION",e.CART_ADD="CART_ADD"}(Z||(Z={}));class $ extends s.A{constructor(){super(...arguments),this.TOP_MARGIN=0,this.ATTRIBUTES_TOP_PADDING=12.5,this.layoutChangeHandle=e=>{this.setState({productSummaryHeight:e.nativeEvent.layout.height+this.ATTRIBUTES_TOP_PADDING})},this.isHeaderBottomBorderEnabled=()=>{var e;return(null===(e=this.props)||void 0===e?void 0:e.widgetSlotData)&&(0,R.KJ)(this.props.widgetSlotData)!==$.PRODUCT_COMPARE_IN_BOTTOM_SHEET},this._onPress=(e,t)=>{const i=t.params.widgetType?t.params.widgetType:null;t&&(this.dispatchAction(P.Q3.MAPI_ACTION,new O.rs(t)),this.trackDiscoveryContentClickEvent(t.tracking),"PRODUCT_COMPARE"===i&&this.trackDiscoveryContentEngagementEvent(t.tracking,N.O.INCREASE_UNIT),"NAVIGATION"===t.type&&this._sendQuickCompareProductSummaryTracking())},this._sendQuickCompareProductSummaryTracking=()=>{const e={};k.A.addEvent(e,V.fM.EVENT476),L.A.addPageData(e)}}getDerivedState(e,t){if(!t){const i=(0,R.nS)(this.props.widgetSlotData),n=i&&i.data,r=null==n?void 0:n.compareFeatures,a=(null==r?void 0:r.length)||0;return Object.assign(Object.assign({},super.getDerivedState(e,t)),{productSummaryHeight:c,maxHeightForEachRow:Array(a).fill(40),gtcMap:{}})}return super.getDerivedState(e,t)}static getWidgetHeight(e){const t=(0,R.nS)(e.widgetSlotData),i=t&&t.data;if(!i)return 0;let n=0;n+=c;const r=i&&i.compareFeatures&&i.compareFeatures.length;return r&&(n+=50*r),n+52}componentDidMount(){const e=(0,R.nS)(this.props.widgetSlotData),t=e&&e.data,i=t&&t.compareFeatures,n=this.state.maxHeightForEachRow.slice();i&&i.forEach(((e,t)=>{(null==e?void 0:e.featureName)&&e.featureName.length>10&&(n[t]=60),(null==e?void 0:e.values)&&Object.keys(e.values).forEach((i=>{var r,a,o;(null===(a=null===(r=e.values[i])||void 0===r?void 0:r.value)||void 0===a?void 0:a.length)&&e.values[i].value.toString().length>10&&(n[t]=60),"AspectRatingFeatureValue"===(null===(o=e.properties)||void 0===o?void 0:o.featureType)&&(n[t]=64)}))}));const r=t&&t.compareAction&&t.compareAction.values,a=r&&Object.keys(r).map((e=>{var t,i;return null===(i=null===(t=null==r?void 0:r[e].action)||void 0===t?void 0:t.params)||void 0===i?void 0:i.listingId})),o={};a&&a.forEach((e=>{o[e]=this.props.appContext.userManager.isLIDInCart(e)})),this.setState({maxHeightForEachRow:n,gtcMap:o})}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i)||this.state.productSummaryHeight!==t.productSummaryHeight||this.state.maxHeightForEachRow!==t.maxHeightForEachRow||this.state.gtcMap!==t.gtcMap||e!==this.props}renderWidget(){const e=(0,R.nS)(this.props.widgetSlotData),t=e&&e.data,i=e&&e.tracking?this.getContentViewTrackingData(s.A.getTrackingParams(this.props,e.tracking)):void 0;if(!t)return;const n=t&&t.compareSummary&&t.compareSummary.values,r=t.compareFeatures,l=r&&r.length;if(!l)return;const d=t.compareAction&&t.compareAction.values,c=t&&t.productIds,h=t&&t.currentProductContext&&t.currentProductContext.titlePrefix,p=r&&r.map((e=>null==e?void 0:e.featureName)),g=a.createElement(o.View,{style:u.container},a.createElement(o.View,{style:u.leftContainer},a.createElement(o.View,{style:[u.topOpacityContainer,{height:this.state.productSummaryHeight+this.TOP_MARGIN}]}),p&&a.createElement(Q,{attributes:p,heightForEachRow:this.state.maxHeightForEachRow})),n&&r&&d&&a.createElement(K,{setProductSummaryHeight:this.layoutChangeHandle,compareSummaryData:n,compareFeaturesData:r,compareActionData:d,mapiAction:this._onPress,compareFeaturesLength:l,currentProductContextTitlePrefix:h,maxHeightForEachRow:this.state.maxHeightForEachRow,gtcMap:this.state.gtcMap,productIdsInSortedOrder:c,getTrackableContentView:this.getTrackableContentView,viewType:(0,R.KJ)(this.props.widgetSlotData)}));return i?a.createElement(M.BA,{trackingInfo:i},g):a.createElement(o.View,null,g)}hideWidgetEdgeDivider(){return!0}}$.PRODUCT_COMPARE_IN_BOTTOM_SHEET="PRODUCT_COMPARE_IN_BOTTOM_SHEET";const ee=(0,r.A)(H,$);class te extends n.A{getWidgetClass(e){return ee}getWidgetHeight(e){return ee.getWidgetHeight(e)}}},349350:(e,t)=>{"use strict";!function(e){e.AUDIO="AUDIO",e.VIDEO="VIDEO",e.IMAGE="IMAGE",e.IMAGE_360="IMAGE_360",e.IMAGE_BUCKETS="IMAGE_BUCKETS",e.THREED_AR="THREED_AR",e.ICON="ICON",e.FK_3D="FK_3D",e.TESTIMONIAL="TESTIMONIAL",e.BRAND_CERTIFICATE="BRAND_CERTIFICATE",e.LOTTIE="LOTTIE"}(t.z||(t.z={}))},349773:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(918210),r=i(90513);class a{handleAction(e,t,i){const a=e.payload.widgetPageName;if(!a)return!1;const o={};return o[r.Ay.EVAR50]=a,n.A.addPageData(o),n.A.trackPage(a),!0}}},351163:(e,t,i)=>{"use strict";i.d(t,{_:()=>r});var n=i(877293);const r=n.StyleSheet.create({container:{flex:1,marginBottom:10,width:n.Dimensions.get("window").width,height:n.Dimensions.get("window").height}})},352815:(e,t,i)=>{"use strict";i.d(t,{h:()=>l});var n=i(241598),r=i(296540),a=i(877293),o=i(879052),s=i(339599);class l extends r.PureComponent{constructor(e,t){super(e,t),this._viewStyle={paddingLeft:"s6",paddingRight:"s5",maxWidth:"90%"},this.state=l.getDerivedStateFromProps(e,void 0)}static getDerivedStateFromProps(e,t){return void 0===t?{displayText:e.text,opacity:new a.Animated.Value(1)}:t}componentDidUpdate(e,t){if(e.text!==this.props.text){const t=void 0!==this.props.duration?this.props.duration:200;this.animateView(e.text,this.props.text,t)}}render(){var e;const{opacity:t}=this.state,i=null!==(e=this.props.screenWidth)&&void 0!==e?e:0,l=(0,s.getScreenSize)(i)===s.ScreenSize.sm;return r.createElement(n.az,Object.assign({},this._viewStyle),r.createElement(a.Animated.View,{style:{opacity:t}},r.createElement(n.JU,Object.assign({},(0,o.Z)("Cross_Fade_Text"),{numberOfLines:this.props.numberOfLines,typography:l?"label":"subheading",color:"foreground.default.primary"}),this.state.displayText)))}animateView(e,t,i){this.setState({displayText:e}),a.Animated.timing(this.state.opacity,{toValue:0,duration:i,useNativeDriver:!1}).start((()=>{this.setState({displayText:t}),a.Animated.timing(this.state.opacity,{toValue:1,duration:i,useNativeDriver:!1}).start()}))}}},361161:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>l,L8:()=>o,ph:()=>a});var n=i(296540),r=i(877293);const a=500,o=(e,t,i)=>{const a=(0,n.useRef)(new Map).current,o=(0,n.useRef)(e);(0,n.useEffect)((()=>{t&&o.current!==e&&(o.current=e,a.clear())}),[e,t]);const l=(0,n.useCallback)(((t,n)=>{if(a.set(n,t.nativeEvent.layout.width),a.size===e.length){const e=Math.max(...Array.from(a.values()));i(e)}}),[e.length,a,i]);return n.createElement(r.View,{style:s.measurementContainer,pointerEvents:"none"},t&&e.map(((e,t)=>n.createElement(r.View,{key:`measure_${t}`,onLayout:e=>l(e,t)},e))))},s=r.StyleSheet.create({measurementContainer:{opacity:0,position:"absolute",zIndex:-1},itemContainer:{position:"absolute",top:0,left:0,right:0,bottom:0,justifyContent:"center",alignItems:"center"}}),l=e=>{const{items:t,height:i,width:l,containerStyle:d,isActive:c=!0,showStaticText:u=!1,staticTextIndex:h=0,onWidthCalculated:p}=e,{animatedWidth:g,widthDiscoveryHandler:m,isWidthCalculated:v}=((e,t)=>{const[i,a]=(0,n.useState)(null),[o,s]=(0,n.useState)(0),l=(0,n.useRef)(new r.Animated.Value(null!=t?t:0)).current,d=(0,n.useCallback)((t=>{a(t),null==e||e(t)}),[e]);return(0,n.useEffect)((()=>{void 0===t?null!=i&&i!==o&&(0===o?l.setValue(i):r.Animated.timing(l,{toValue:i,duration:250,easing:r.Easing.out(r.Easing.ease),useNativeDriver:!1}).start(),s(i)):l.setValue(t)}),[i,o,l,t]),{animatedWidth:l,widthDiscoveryHandler:d,isWidthCalculated:null!==i}})(p,l),_=o(t,void 0===l,m),C=c&&v,{animA:E,animB:T,itemAIndex:f,itemBIndex:A}=(({items:e,height:t,isActive:i,displayDuration:o,loopCount:s,onAnimationFinish:l,onIndexChange:d,onAnimationStart:c})=>{const[u,h]=(0,n.useState)({currentIndex:0,activeView:"A"}),p=(0,n.useRef)(null),{currentIndex:g,activeView:m}=u,{animA:v,animB:_}=(0,n.useMemo)((()=>({animA:{translateY:new r.Animated.Value(0),opacity:new r.Animated.Value(1)},animB:{translateY:new r.Animated.Value(t),opacity:new r.Animated.Value(0)}})),[t]);(0,n.useEffect)((()=>{null==d||d(g)}),[g,d]),(0,n.useEffect)((()=>{if(!i||e.length<=1)return;const n=setTimeout((()=>{const i=(g+1)%e.length,[n,o]="A"===m?[v,_]:[_,v];null==c||c(i),p.current=r.Animated.parallel([r.Animated.timing(n.translateY,{toValue:-t,duration:a,easing:r.Easing.bezier(.4,0,.2,1),useNativeDriver:!0}),r.Animated.timing(n.opacity,{toValue:0,duration:a,easing:r.Easing.ease,useNativeDriver:!0}),r.Animated.timing(o.translateY,{toValue:0,duration:a,easing:r.Easing.bezier(.4,0,.2,1),useNativeDriver:!0}),r.Animated.timing(o.opacity,{toValue:1,duration:a,easing:r.Easing.ease,useNativeDriver:!0})]),p.current.start((({finished:r})=>{r&&(n.translateY.setValue(t),h({currentIndex:i,activeView:"A"===m?"B":"A"}),1===s&&i===e.length-1&&(null==l||l()))}))}),o||2e3);return()=>{var e;clearTimeout(n),null===(e=p.current)||void 0===e||e.stop()}}),[u,i,v,_,o,t,e.length,s,l,c,d]);const C="A"===m?g:(g+1)%e.length,E="B"===m?g:(g+1)%e.length;return{animA:v,animB:_,itemAIndex:C,itemBIndex:E}})(Object.assign(Object.assign({},e),{isActive:C}));return t&&0!==t.length?u?n.createElement(r.View,{style:d},t[h]||t[0]):n.createElement(n.Fragment,null,_,n.createElement(r.Animated.View,{style:[{height:i,width:g,overflow:"hidden"},d]},n.createElement(r.Animated.View,{style:[s.itemContainer,{transform:[{translateY:E.translateY}],opacity:E.opacity}]},t[f]),n.createElement(r.Animated.View,{style:[s.itemContainer,{transform:[{translateY:T.translateY}],opacity:T.opacity}]},t[A]))):null}},365621:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var n=i(918210),r=i(90513),a=i(532655),o=i(530136);class s{handleAction(e,t,i){var a,o;const s=e.payload;if(!s)return!1;const l=null===(a=s.trackingParams)||void 0===a?void 0:a.getTracking(),d=null===(o=s.trackingParams)||void 0===o?void 0:o.getPev2(),c={},{eVar30:u}=l||{};return!(!d||!u)&&(c[r.Ay.EVAR30]=u,c[r.Ay.EVAR50]=this.getPageName(t),n.A.addAndtrackEventUnderName(d,c),!0)}getPageName(e){var t,i,n,r,s;let l;switch(e.pageMeta.pageType){case a.A.CLP:const d=null===(t=e.pageDataResponse)||void 0===t?void 0:t.trackingContext,c=null===(i=e.pageDataResponse)||void 0===i?void 0:i.pageTitle,{pageName:u}=d||{};l=c?`${u}:${c}`:u;break;case a.A.CartPage:const h=(null===(n=e.pageDataResponse)||void 0===n?void 0:n.pageContext)&&e.pageDataResponse.pageContext;l=null==h?void 0:h.pageName;break;case a.A.Product:const p=(null===(r=e.pageDataResponse)||void 0===r?void 0:r.pageContext)&&e.pageDataResponse.pageContext,g=null==p?void 0:p.analyticsData,m=null!==(s=null==g?void 0:g.category)&&void 0!==s?s:"";l=`${o.A.ProductViewPage} : ${m}`;break;default:l=e.pageMeta.pageName}return null!=l?l:e.pageMeta.pageName}}},367768:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>A});var n=i(465420),r=i(296540),a=i(877293),o=i(52754),s=i(495176),l=i(438993),d=i(561310),c=i(45426),u=i(914944),h=i(352254),p=i(395567),g=i(97529),m=i(580555),v=i(479892),_=i(155805),C=i(160251),E=i(957775),T=i(547134);class f extends l.A{constructor(){super(...arguments),this._containerStyle=[v.C1.colWithoutFlex,v.C1.padding_top_24,v.C1.alignItemCenter],this._nudgeMessageTextStyle=[v.XT.alignTextCenter,v.C1.wrap,v.C1.margin_horizontal_16,v.XT.fkLabelColorText,v.XT.fontRegular_14,v.XT.lineHeight_20,v.C1.margin_top_16,v.C1.margin_bottom_16],this._buttonContainerStyle=[v.C1.alignItemStretch,v.C1.rowWithoutFlex,v.C1.width_full,v.C1.padding4H,v.C1.padding8V],this._leftButtonStyle=[v.C1.contentAlignCenterWithFlex,v.C1.rowWithoutFlex,v.C1.border_width_1,v.C1.margin_horizontal_4,v.C1.color_border_darkest_grey,v.C1.border_radius_4,{height:40}],this._rightButtonStyle=[v.C1.contentAlignCenterWithFlex,v.C1.rowWithoutFlex,v.C1.backgroundFKBlue,v.C1.margin_horizontal_4,v.C1.border_radius_4,{height:40}],this._leftButtonTextStyle=[v.C1.shrinkContent,v.XT.fkBlackPrimaryText,v.XT.fontMedium_14,v.XT.lineHeight_24,v.C1.backgroundClear],this._rightButtonTextStyle=[v.XT.fontMedium_14,v.XT.lineHeight_24,v.C1.backgroundClear,v.XT.whiteText],this._renderButton=(e,t,i)=>{const n=e.onPressParam.buttonValue.value;return r.createElement(c.S,{tappableStyle:v.C1.flex,onPress:this._onButtonClick,onPressParam:e.onPressParam},(null==n?void 0:n.title)&&r.createElement(a.View,{style:t},r.createElement(s.A,{text:n.title,style:i})))},this._onButtonClick=(e,t)=>{const i=t.buttonValue,n=(null==i?void 0:i.tracking)||{},r=t.omnitureActionType;this.props.actionDispatcher&&r&&(this.props.actionDispatcher(new d.iM(d.xH.CLOSE_MODAL)),this.props.actionDispatcher(new p.m0(new p.wKV(r,new m.Ay(n)))),(null==i?void 0:i.action)&&this.props.actionDispatcher(new u.E8(new u.rs(i.action))))}}static getHeight(e){var t,i;let n=0;const r=(0,o.nS)(e.widgetSlotData),a=null==r?void 0:r.data,s=null===(t=null==a?void 0:a.widget)||void 0===t?void 0:t.data,l=null==s?void 0:s.renderableComponents,d=null===(i=null==l?void 0:l[0])||void 0===i?void 0:i.value;return(null==d?void 0:d.icon)&&(n+=57),(null==d?void 0:d.subtitle)&&(n+=64),(null==d?void 0:d.actions)&&d.actions.length>0&&(n+=56),n+super.getAdditionalHeight(e)}componentDidMount(){var e,t;const i=this._getWidgetData(),n=(null===(t=null===(e=null==i?void 0:i.renderableComponents)||void 0===e?void 0:e[0])||void 0===t?void 0:t.tracking)||{};this.trackOmnitureEvent(new p.wKV(g.A.FORWARD_NAVIGATION_EXPLICIT_NUDGE_LOAD,new m.Ay(n))),this.props.actionDispatcher&&(0,E.dispatchDgAction)(T.A.FORWARD_NAVIGATION_EXPLICIT,this.props.actionDispatcher)}renderWidget(){var e;const t=this._getWidgetData(),i=null==t?void 0:t.renderableComponents,n=null===(e=null==i?void 0:i[0])||void 0===e?void 0:e.value;if(void 0===n)return;const o=n.icon,l=n.subtitle,d=n.actions,c=null==d?void 0:d[0],u=null==d?void 0:d[1],p=this.props.appContext.uiContext.getWindowSafeAreaInset().bottom,m=this.props.appContext.uiContext.windowFrame.width,v=(0,_.he)()?C.wc:328*m/360;return r.createElement(a.View,{style:[this._containerStyle,{paddingBottom:p}]},(null==o?void 0:o.source)&&r.createElement(h.A,{width:128,height:25,source:o.source}),!!l&&r.createElement(s.A,{text:l,style:[this._nudgeMessageTextStyle,{width:v}]}),r.createElement(a.View,{style:this._buttonContainerStyle},c&&this._renderButton({onPressParam:{buttonValue:c,omnitureActionType:g.A.FORWARD_NAVIGATION_EXPLICIT_NUDGE_CLOSE}},this._leftButtonStyle,this._leftButtonTextStyle),u&&this._renderButton({onPressParam:{buttonValue:u,omnitureActionType:g.A.FORWARD_NAVIGATION_EXPLICIT_NUDGE_PROCEED}},this._rightButtonStyle,this._rightButtonTextStyle)))}_getWidgetData(){var e;const t=(0,o.nS)(this.props.widgetSlotData),i=null==t?void 0:t.data;return null===(e=null==i?void 0:i.widget)||void 0===e?void 0:e.data}}class A extends n.A{getWidgetClass(){return f}getWidgetHeight(e){return f.getHeight(e)}}},377434:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ViewTypes:()=>Le,default:()=>Me});var n=i(465420),r=i(296540),a=i(877293),o=i(302019),s=i(800303),l=i(716249),d=i(867953),c=i(722078),u=i(52754),h=i(420721),p=i(53606),g=i(415283),m=i(938777),v=i(410752),_=i(347953),C=i(950617),E=i(672301),T=i(492448),f=i(492418),A=i(395567),S=i(163256),y=i(395901),w=i(57522),I=i(146387),b=i(985234),D=i(227230),x=i(33629),P=i(300952),O=i(103041),R=i(476519),k=i(479892),V=i(427891),L=i(608580),M=i(637608),N=i(45426),H=i(547134),W=i(868882),B=i(99394),U=i(914944),F=i(700036),G=i(544578),z=i(437842),j=i(561310),X=i(656671),Y=i(212240),q=i(294188),J=i(299520),K=i(341038),Q=i(927443),Z=i(911294),$=i(738656),ee=i(257246),te=i(398581),ie=i(331547),ne=i(670563),re=i(644598),ae=i(690423),oe=i(614006),se=i(627333),le=i(74175),de=i(495176),ce=i(723372),ue=i(751259),he=i(545992),pe=i(400090),ge=i(614941),me=i(345617),ve=i(887903),_e=i(879052),Ce=i(198213),Ee=i(708889),Te=i(915742),fe=i(893052),Ae=i(743764);const Se="PRICE_ANIMATION_ONCE_PER_PAGE";class ye{constructor(e){var t,i,n,r,a,o,s,l,d,c,h,p,g,m,v,_,C,E,T,f,A,S,y,w,I,b,D,x,P,R,k,L,M,N,H,W,B,U,F,G;this.widget=(0,u.nS)(e.widgetSlotData),this.priceSummaryData=this.widget?this.widget.data:void 0,this.oosCallout=null===(t=this.priceSummaryData)||void 0===t?void 0:t.oosCallout,this.couponCta=null===(i=this.priceSummaryData)||void 0===i?void 0:i.couponCta,this.couponSummaryVariant=null===(n=this.priceSummaryData)||void 0===n?void 0:n.couponSummariesVariant,this.couponApplied=null===(r=this.priceSummaryData)||void 0===r?void 0:r.couponApplied,this.offerExpiryInfo=null===(a=this.priceSummaryData)||void 0===a?void 0:a.offerExpiryInfo,this.offerInfo=null===(o=this.priceSummaryData)||void 0===o?void 0:o.offerInfo,this.offerSummary=null===(s=this.priceSummaryData)||void 0===s?void 0:s.offerSummary,this.offerSummaryGroup=null===(l=this.priceSummaryData)||void 0===l?void 0:l.offerSummaryGroups,this.offerValue=(null===(c=null===(d=this.offerInfo)||void 0===d?void 0:d.value)||void 0===c?void 0:c.offerGroups)&&this.offerInfo.value.offerGroups.length>0?this.offerInfo.value.offerGroups[0].offers:void 0,this.priceVariants=null===(h=this.priceSummaryData)||void 0===h?void 0:h.priceVariants,this.pricing=null===(p=this.priceSummaryData)||void 0===p?void 0:p.pricing,this.quantityMetaData=null===(g=this.priceSummaryData)||void 0===g?void 0:g.quantityMetaData,this.nepCallouts=null===(m=this.priceSummaryData)||void 0===m?void 0:m.nepCallouts,this.otherCallouts=null===(v=this.priceSummaryData)||void 0===v?void 0:v.otherCallouts,this.showDiscountAsAmmount=null===(C=null===(_=this.pricing)||void 0===_?void 0:_.value)||void 0===C?void 0:C.showDiscountAsAmount,this.pricePerUnit=null===(T=null===(E=this.pricing)||void 0===E?void 0:E.value)||void 0===T?void 0:T.pricePerUnit,this.urgency=null===(f=this.priceSummaryData)||void 0===f?void 0:f.urgency,this.urgencyMessage=null===(A=this.urgency)||void 0===A?void 0:A.urgencyMessage,this.urgencyText=(null===(S=this.urgency)||void 0===S?void 0:S.expiry)&&(null===(y=this.urgency)||void 0===y?void 0:y.offerExpiryMessage)?` ${this.urgency.offerExpiryMessage}`:void 0,this.extraDiscountInfo=(null===(w=this.urgency)||void 0===w?void 0:w.extraDiscountInfo)?` ${this.urgency.extraDiscountInfo}`:void 0,this.offerInfoText=((null===(b=null===(I=this.offerInfo)||void 0===I?void 0:I.value)||void 0===b?void 0:b.primaryTitle)?this.offerInfo.value.primaryTitle:"")+(this.urgencyText?this.urgencyText:"")+(this.extraDiscountInfo?this.extraDiscountInfo:""),this.offerInfoDefaultText=((null===(x=null===(D=this.offerInfo)||void 0===D?void 0:D.value)||void 0===x?void 0:x.primaryTag)?this.offerInfo.value.primaryTag:"")+(this.urgencyText?this.urgencyText:"")+(this.extraDiscountInfo?this.extraDiscountInfo:""),this.asmMessage=null===(P=this.priceSummaryData)||void 0===P?void 0:P.asmMessage,V.A.loadStyleConfig(O.P.PRE_BOOK.toString()),this.enableUrgencyViewAnimation=!1,this.dealTags=null===(k=null===(R=this.priceSummaryData)||void 0===R?void 0:R.dealTags)||void 0===k?void 0:k.tagItems,this.couponSummaries=null===(L=this.priceSummaryData)||void 0===L?void 0:L.couponSummaries,this.couponSummaryEnabled=!!(this.couponSummaries&&this.couponSummaries.length>0);const z=e.appContext.userManager.getCartContents(),j=null===(M=e.pageInfo&&e.pageInfo.pageContext)||void 0===M?void 0:M.listingId;this.quantity=j&&null!==(H=null===(N=z[j])||void 0===N?void 0:N.quantity)&&void 0!==H?H:0,this.heroEmiAction=null===(W=this.priceSummaryData)||void 0===W?void 0:W.heroEmiAction,this.slotWiseSnippets=null===(B=this.priceSummaryData)||void 0===B?void 0:B.slotWiseSnippets,this.protectPromiseFeeCallout=null===(U=this.priceSummaryData)||void 0===U?void 0:U.protectPromiseFeeCallout,this.priceLock=null===(F=this.priceSummaryData)||void 0===F?void 0:F.priceLock,this.xtraSaverCallout=null===(G=this.priceSummaryData)||void 0===G?void 0:G.xtraSaverCallout}}class we extends S.o{constructor(e,t){super(e,t),this.highlightedStyle=[k.C1.padding_vertical_neg_6,k.C1.margin_bottom_neg_2],this.isSpecialPriceHighlightABEnabled=!0,this.valueTagEnhancement=!!_.A.getExperimentValue("enhancedDealsTagAB"),this.progressBarWidth=new a.Animated.Value(0),this.bgColor=new a.Animated.Value(0),this._handleSWCPopupUnmount=()=>{const e=(0,u.Qd)(this.props,w.j.SWC_COUPON_APPLIED_DATA);(null==e?void 0:e.isCouponApplyClicked)&&this.setState(Object.assign(Object.assign({},this.state),{swcPopupUnmounted:!0}))},this.handleActivityStateEvent=e=>{var t;if(e.pageUID===(null===(t=this.props.pageInfo)||void 0===t?void 0:t.pageUID)&&e.state===pe.z.ON_RESUME)ge.A.getInstance().on(me.A.EMIT_SWC_POPUP_UNMOUNT,this._handleSWCPopupUnmount)},this._updateVasChildState=()=>{var e,t,i,n,r;const a=u.wU(this.props.widgetSlotData)||oe.n.VALUE_ADDED_BENEFIT_WIDGET,o=null===(r=null===(n=null===(i=null===(t=null===(e=this.state.viewModel)||void 0===e?void 0:e.otherCallouts)||void 0===t?void 0:t[0])||void 0===i?void 0:i.data)||void 0===n?void 0:n[0])||void 0===r?void 0:r.action,s=null==o?void 0:o.params;if(!s)return;const{listingId:l,productId:d,vasChildProducts:c}=s;if(c&&c.length>0){const e={},{listingId:t,productId:i,price:n,title:r}=c[0],o=ae.A.generateTransientDataKey(i),s={};s.listingId=t,s.aggregatedCartContext=ae.A.createCartContext(i,n,{widgetType:a},r,!1,!1,a,"",d,l),e[o]=s,this.dispatchAction(g.Q3.AGGREGATED_CTA,new re.Y(re.m.UPDATE_CTA_STATE,e))}},this.showProtectPromiseFeeListItems=(e,t,i)=>{const n=f.NH+f.zlg+f.NH;return r.createElement(o.az,{key:i,display:"flex",flexDirection:"row",alignItems:"center",mb:i!==t-1?"s2":void 0},t>1&&r.createElement(o.az,{style:Ee.n.bulletStyle},r.createElement(o.JU,{display:"flex",alignItems:"center"},n)),r.createElement(o.az,{display:"flex",flexDirection:"row",alignItems:"center"},e.data.map(((e,t)=>r.createElement(o.JU,{key:t,font:e.value.style?"s_medium":"s",style:{color:e.value.textColor?e.value.textColor:ne.Jy.darkBlack}},e.value.text)))))},this.handleLearnMoreClick=(e,t)=>{var i,n;t&&(t.tracking&&this.trackDiscoveryContentClickEvent(t.tracking),null===(n=(i=this.props).actionDispatcher)||void 0===n||n.call(i,{type:g.Q3.MAPI_ACTION,payload:new U.rs(t)}))},this.renderProtectPromiseFee=()=>{var e,t;const i=null===(e=this.state.viewModel.priceSummaryData)||void 0===e?void 0:e.protectPromiseFeeCallout;if(!i)return null;const{title:n,description:a,cta:s}=i;return r.createElement(o.az,{bg:"v2.neutral.50",borderRadius:4,p:"s5",mb:"s4"},r.createElement(o.az,{display:"flex",flexDirection:"row",justifyContent:"space-between",mb:"s4"},r.createElement(o.JU,{font:"s"},n),(null===(t=null==s?void 0:s.value)||void 0===t?void 0:t.text)?r.createElement(N.S,{onPress:this.handleLearnMoreClick,onPressParam:null==s?void 0:s.action,hitSlop:10},r.createElement(o.JU,{font:"s_medium",color:"v2.primary.500"},s.value.text)):null),a&&a.map(((e,t)=>this.showProtectPromiseFeeListItems(e,a.length,t))))},this.renderDealsAndPriceViewsComponent=(e,t)=>{var i,n,a,s,l,d,c,u,h;const g=t||{};if(this.isSpecialPriceHighlightABEnabled&&!(null===(a=null===(n=null===(i=this.props)||void 0===i?void 0:i.pageInfo)||void 0===n?void 0:n.pageContext)||void 0===a?void 0:a.isNewUser)&&!this.state.viewModel.offerInfoText&&this.state.viewModel.dealTags){const e=this.valueTagEnhancement?{paddingBottom:"s2"}:Object.assign(Object.assign({},X.tn.priceViewHighlightedStyle),g),t=this.valueTagEnhancement?void 0:Object.assign(Object.assign({},X.tn.specialPriceHighlightStyle),g);return r.createElement(o.az,null,r.createElement(o.az,Object.assign({},e),this.renderTagComponents(this.state.viewModel.dealTags,this.valueTagEnhancement)),p.Ay.isPriceLockEnabled()&&this.state.viewModel.priceLock&&r.createElement(o.az,null,this.renderPriceLock(null===(s=this.state.viewModel)||void 0===s?void 0:s.priceLock)),this.iventoryBasedOfferWithProgressBar(),this.renderPricingViewForTag(X.tn.strikeOutTextHighlighted,X.tn.discountTextHighlighted,t,!0,!0))}return r.createElement(o.az,null,this.state.viewModel.offerInfoText?r.createElement(o.az,Object.assign({},e),this.renderUrgencyView(this.state.viewModel.offerInfoText)):void 0,this.state.viewModel.dealTags&&this.renderTagComponents(this.state.viewModel.dealTags),(null===(l=this.state.viewModel.slotWiseSnippets)||void 0===l?void 0:l.SLOT1)&&this.state.viewModel.slotWiseSnippets.SLOT1.length>0?this.renderSnippets(this.state.viewModel.slotWiseSnippets.SLOT1):null,p.Ay.isPriceLockEnabled()&&this.state.viewModel.priceLock&&r.createElement(o.az,null,this.renderPriceLock(null===(d=this.state.viewModel)||void 0===d?void 0:d.priceLock)),this.iventoryBasedOfferWithProgressBar(),this.state.viewModel.offerInfoDefaultText&&this.isSpecialPriceHighlightABEnabled&&!(null===(h=null===(u=null===(c=this.props)||void 0===c?void 0:c.pageInfo)||void 0===u?void 0:u.pageContext)||void 0===h?void 0:h.isNewUser)?this.renderPricingViewForTag(X.tn.strikeOutTextHighlighted,X.tn.discountTextHighlighted,Object.assign(Object.assign({},X.tn.specialPriceHighlightStyle),g),!0):this.renderPricingViewForTag())},this.showProgressBarFillingAnimation=()=>{a.Animated.timing(this.progressBarWidth,{toValue:1,duration:1500,useNativeDriver:!1}).start(),a.Animated.timing(this.bgColor,{toValue:1,duration:1e3,delay:1e3,useNativeDriver:!1}).start()},this.getMultiCondition=()=>[new d.D_("progressBarAnimationStart",1e3,99,this.showProgressBarFillingAnimation)],this.renderOOSCallout=e=>r.createElement(J.A,{oosCallout:e}),this.renderOtherCallouts=e=>{const t=this.state.viewModel;return t.otherCallouts&&t.otherCallouts.length>0?this.renderCalloutInWrapper(t.otherCallouts,e):void 0},this._renderCallouts=(e,t)=>{let i;e.data.map((e=>{e.tracking&&(i=e.tracking)}));const n=r.createElement(B.A,Object.assign({},(0,_e.Z)("Callout_Message"),{messages:e.data,data:e,parentContainerStyle:this.calloutContainerStyle,textContainerStyle:k.C1.row_wrap,textDefaultStyle:k.XT.fontRegular_14,imageContainerStyle:k.C1.margin_right_8,appContext:this.props.appContext,dispatchAction:this._onValueClick,isStyleEnabled:t}));return this.getTrackableContentView(n,i)},this._onValueClick=e=>{var t;const i=e.action;if(i){const e=null===(t=i.params)||void 0===t?void 0:t[c.A.MIN_OQ_BS_DATA_KEY];if(e)this.openMinOQBottomSheet(e);else{const e=new U.Oy(i);this.dispatchAction(g.Q3.MAPI_ACTION,e)}i.tracking&&this.trackDiscoveryContentClickEvent(i.tracking)}e.tracking&&this.trackDiscoveryContentClickEvent(e.tracking)},this.animationCallback=()=>{var e,t;const i=null===(e=this.props.pageInfo)||void 0===e?void 0:e.pageUID;F.A.getString(Se)!==i&&(null===(t=this.startAnimation)||void 0===t||t.call(this),F.A.setString(Se,null!=i?i:" "))},this._startPriceAnimation=e=>{this.startAnimation=e},this.renderEmiHeroViewPlans=e=>{var t,i,n,a;const o=(0,ee.Tf)(null==e?void 0:e.value,this.props.themeContext);return r.createElement(de.A,{richTextData:null===(t=null==o?void 0:o.data)||void 0===t?void 0:t.value,key:null===(a=null===(n=null===(i=null==e?void 0:e.value)||void 0===i?void 0:i.data)||void 0===n?void 0:n.value)||void 0===a?void 0:a.text,onPressParam:e,onPress:()=>this._dispatchAction(e)})},this._dispatchAction=e=>{if(null==e?void 0:e.action){const t=new U.Oy(null==e?void 0:e.action);this.dispatchAction(g.Q3.MAPI_ACTION,t)}},this.renderSnippets=e=>{var t,i,n;const a=this.isSpecialPriceHighlightABEnabled&&!(null===(n=null===(i=null===(t=this.props)||void 0===t?void 0:t.pageInfo)||void 0===i?void 0:i.pageContext)||void 0===n?void 0:n.isNewUser),s=r.createElement(o.az,{flexDirection:"row",alignItems:"center"},e.map((e=>r.createElement(ce.A,{messages:e,showFullTimer:!0,hideMessageOnTimerExpire:!0,style:[k.C1.alignSelfFlexStart,a?k.C1.backgroundTransparent:null]}))));return this.showAnimatedPriceAndDealTag()?this._wrapDealTagWithShimmer(s,100):s},this.isValueTagEnhancementDeal=e=>{const t=e.find((e=>e.imageIcon));if(!(!t||t.imagePosition!==fe.z.PREFIX||!this.valueTagEnhancement))return!0;const i=e.find((e=>e.fomoUrgencyInfo)),n=p.Ay.getLimitedTimeDealsConfig(),r=e.find((e=>!!e.tag&&(null==n?void 0:n.includes(e.tag))));return!(t||i||r)&&this.valueTagEnhancement},this.renderTagComponents=(e,t)=>{var i,n,a,o,s,l,d,c,u,h,p,g,m,v,_;const C=this.getFetchId(),E="LSD"===(null===(n=null===(i=this.state.viewModel.dealTags)||void 0===i?void 0:i[0])||void 0===n?void 0:n.tag)&&!!(null===(c=null===(d=null===(l=null===(s=null===(o=null===(a=this.state.viewModel.dealTags)||void 0===a?void 0:a[0])||void 0===o?void 0:o.title)||void 0===s?void 0:s.data)||void 0===l?void 0:l[1])||void 0===d?void 0:d.value)||void 0===c?void 0:c.text),T=this.isValueTagEnhancementDeal(e),f=r.createElement(G.A,{key:C,tagItem:e,isHighlighted:this.isSpecialPriceHighlightABEnabled&&!(null===(p=null===(h=null===(u=this.props)||void 0===u?void 0:u.pageInfo)||void 0===h?void 0:h.pageContext)||void 0===p?void 0:p.isNewUser)&&!t,parentContainerStyle:L.V.tagParentStyle,numberOfLines:0,ellipsizeMode:void 0,valueTagEnhancement:T,pageThemeContext:this.props.themeContext,renderOnlyFirstTitle:E,dispatchAction:this.dispatchAction,themeId:null===(v=null===(m=null===(g=this.props.pageInfo)||void 0===g?void 0:g.layoutParams)||void 0===m?void 0:m.themeDetails)||void 0===v?void 0:v.themeId,baseImpressionId:null===(_=this.props.pageInfo)||void 0===_?void 0:_.baseImpressionId,getContentViewTrackingData:this.getContentViewTrackingData.bind(this),trackDiscoveryContentClickEvent:this.trackDiscoveryContentClickEvent});return this.showAnimatedPriceAndDealTag()?this._wrapDealTagWithShimmer(f,100):f},this._quantitySelectorStateChanged=(e,t)=>{if(this.props.actionDispatcher){let i;const n=(0,u.Qd)(this.props,w.j.CART_PAGE_PRODUCT_CARD);i=null==n?{quantityChangingLids:{},type:w.j.CART_PAGE_PRODUCT_CARD}:Object.assign({},n),i.quantityChangingLids[e]=0,this.props.actionDispatcher(new I.zF(new I.pN(b.V.PP_QTY_SELECTOR_DATA,{selectedQty:t}))),this.props.actionDispatcher(new I.YI(new I.qF(w.j.CART_PAGE_PRODUCT_CARD,i)))}},this._onPriceSummaryClicked=e=>{const t=this.state.viewModel;this._handlePricingClick(e,t.priceSummaryData)},this._handlePricingClick=(e,t)=>{var i,n,r;const a=(null===(r=null===(n=null===(i=null==t?void 0:t.pricing)||void 0===i?void 0:i.value)||void 0===n?void 0:n.plusPriceInfo)||void 0===r?void 0:r.data)&&t.pricing.value.plusPriceInfo.data.length>0;this.trackOmnitureEvent(new A.tCj(a)),this.trackDiscoveryWidgetClickEvent();const o={summaryData:t};if(this.props.actionDispatcher){const e={modalType:"BOTTOM_SHEET",widgetType:H.A.PRODUCT_PRICING_MODAL,widgetData:o,scrollable:!1,disableSwipeToClose:!0},t=new j.iM(j.xH.OPEN_MODAL,e);this.props.actionDispatcher(t)}},this._getIsGroupBuyFlow=(e,t=m.fOd.MARKETPLACE_FLIPKART)=>{const i=!!e.priceVariants&&t===m.fOd.MARKETPLACE_GROCERY,n=P.A.getIsGBFlowFlipkart(e.priceVariants)&&t===m.fOd.MARKETPLACE_FLIPKART;return i||n},this._getMultiCondition=()=>{var e;const t=[],i=null===(e=this.props.pageInfo&&this.props.pageInfo.pageContext)||void 0===e?void 0:e.listingId;return this.showAnimatedPriceAndDealTag()&&t.push(new d.D_(`_startAnimation_${i}`,1,99,this.animationCallback)),this.urgencyViewCondition?[...t,...this.urgencyViewCondition]:t},this._startUrgencyAnimationView=(e,t)=>{let{viewModel:i}=this.state;i=Object.assign(Object.assign({},i),{enableUrgencyViewAnimation:!0}),this.setState({viewModel:i})},this._wrapDealTagWithShimmer=(e,t,i)=>r.createElement(z.A,{gradientViewStyle:"ios"===a.Platform.OS?Ie:be,gradientEnd:[1,0],gradientStart:[0,0],gradientColors:[f.hIQ.transparentWhite,f.hIQ.white30,f.hIQ.transparentWhite],duration:null!=i?i:5e3,easing:a.Easing.linear,iterations:null!=t?t:-1},e),this._viewAllOffer=(e,t)=>{t&&this.dispatchAction(g.Q3.MAPI_ACTION,new U.Oy(t))},this._handleEDClaimAction=(e,t)=>{this.dispatchAction&&t&&(this.trackDiscoveryContentClickEvent(t.tracking),this.dispatchAction(g.Q3.MAPI_ACTION,new U.Oy(t)))},this._renderOffferViewWithQuantitySelector=()=>{var e,t,i,n,a,s,l;const d=this.state.viewModel,c=S.o.getCartQuantityForLid(this.getListingId(),this.state.cartData),h=(0,u._t)(this.props,b.V.PP_QTY_SELECTOR_DATA),p=c>0?c:h?h.selectedQty:null!==(t=null===(e=d.quantityMetaData)||void 0===e?void 0:e.minQuantity)&&void 0!==t?t:1,g=(null===(i=d.quantityMetaData)||void 0===i?void 0:i.restrictQuantityUpdate)||null==d?void 0:d.quantityMetaData,m=null==g?void 0:g.hurdleQuantity,v=null==g?void 0:g.calloutBeforeMinQuantitySelection,_=null==g?void 0:g.calloutAfterMinQuantitySelection,C=m&&p>=m,E=C?null===(n=null==_?void 0:_.icon)||void 0===n?void 0:n.dynamicImageUrl:null===(a=null==v?void 0:v.icon)||void 0===a?void 0:a.dynamicImageUrl,T=C?null===(s=null==_?void 0:_.callout)||void 0===s?void 0:s.text:null===(l=null==v?void 0:v.callout)||void 0===l?void 0:l.text;if(T)return g?r.createElement(o.az,{flexDirection:"row",flex:1,alignItems:"center",borderRadius:4,justifyContent:"space-between",mb:"s4",bg:C?"v2.success.50":"v2.primary.50"},r.createElement(o.fI,{pl:"s4",alignItems:"center"},E&&r.createElement(Ce.Dk,{source:E,height:20,width:20}),r.createElement(o.JU,{font:"m",ml:"s4",mr:"s4",color:"v2.neutral.900",maxWidth:250},T)),this._quantitySelector()):null},this._quantitySelector=()=>{var e,t,i,n,a,o,s;const l=this.state.viewModel,d=S.o.getCartQuantityForLid(this.getListingId(),this.state.cartData),c=(0,u._t)(this.props,b.V.PP_QTY_SELECTOR_DATA),h=d>0?d:c?c.selectedQty:null!==(t=null===(e=l.quantityMetaData)||void 0===e?void 0:e.minQuantity)&&void 0!==t?t:1;return r.createElement(Y.mU,null,r.createElement(y.A,{fsn:this.getProductId(),pid:this.getProductId(),lid:this.getListingId(),disabled:!1,selected:h,actionDispatcher:this.props.actionDispatcher,appContext:this.props.appContext,isLoading:!1,isCheckoutPage:!1,isProductPage:!0,stateChange:this._quantitySelectorStateChanged,minQuantity:null===(i=l.quantityMetaData)||void 0===i?void 0:i.minQuantity,maxQuantity:null===(n=l.quantityMetaData)||void 0===n?void 0:n.maxQuantity,hurdleQuantity:null===(a=l.quantityMetaData)||void 0===a?void 0:a.hurdleQuantity,discountText:null===(o=l.quantityMetaData)||void 0===o?void 0:o.discountText,disableCartItemUpdate:d<=0,action:null===(s=l.quantityMetaData)||void 0===s?void 0:s.action,containerStyle:this.qtySelectorStyle,ignorePageInsert:!0,direction:"up"}))},this.calloutContainerStyle=[k.C1.margin_bottom_2,k.C1.alignItemCenter],this.qtySelectorStyle=[k.C1.absolute_top_0,k.C1.width_80,k.C1.height_40,k.C1.margin_right_0]}static getWidgetHeight(e){let t=0;const i=(0,u.nS)(e.widgetSlotData),n=null==i?void 0:i.data;if(!n)return t;const r=n.urgency,a=n.asmMessage,o=n.pricing,s=n.offerSummary,d=n.offerInfo,c=d&&d.value&&d.value.primaryTitle?d.value.primaryTitle:"",h=n.offerSummaryGroups,p=n.couponSummaries,g=null==n?void 0:n.priceVariants,m=n.otherCallouts;return(null==o?void 0:o.value)&&(t+=we.getPricingViewWidgetHeight(o.value.priceTags,g)),a&&(t+=28),(null==r?void 0:r.urgencyMessage)&&(t+=28),s&&(t+=C.A.getHeight({offerSummaryRC:s})),c&&(t+=D.A.getHeight({offerInfoText:c})),h&&(t+=E.A.getHeight({offerSummaryGroup:h,screenWidth:e.appContext.uiContext.windowFrame.width})),p&&(t+=we.getCouponViewHeight(p)),m&&(t+=16*m.length),t+l.A.getAdditionalHeight(e)}static getPricingViewWidgetHeight(e,t){if((0,R.F)(O.P.PRE_BOOK,e))return x.A.getHeight();return P.A.getIsGBFlowFlipkart(t)?104:41}getDerivedState(e,t){let i=new ye(e);return(null==t?void 0:t.viewModel.enableUrgencyViewAnimation)&&(i=Object.assign(Object.assign({},i),{enableUrgencyViewAnimation:!0})),Object.assign(Object.assign({},super.getDerivedState(e,t)),{viewModel:Object.assign({},i)})}componentWillUnmount(){ge.A.getInstance().off(me.A.EMIT_SWC_POPUP_UNMOUNT,this._handleSWCPopupUnmount),pe.N.removeListener(ve.t.HANDLE_ACTIVITY_STATE_CHANGE,this.handleActivityStateEvent)}shouldComponentUpdate(e,t,i){var n,r;let a=!1,o=!1;a=(0,u.Qd)(this.props,w.j.CART_PAGE_PRODUCT_CARD)!==(0,u.Qd)(e,w.j.CART_PAGE_PRODUCT_CARD);const s=(0,u._t)(this.props,b.V.PP_QTY_SELECTOR_DATA),l=(0,u._t)(e,b.V.PP_QTY_SELECTOR_DATA);o=(null==s?void 0:s.selectedQty)!==(null==l?void 0:l.selectedQty);const d=e.themeContext!==this.props.themeContext,c=null===(n=e.appContext)||void 0===n?void 0:n.xtraSaverState,h=null===(r=this.props.appContext)||void 0===r?void 0:r.xtraSaverState,p=(null==c?void 0:c.status)!==(null==h?void 0:h.status);return a||o||super.shouldComponentUpdate(e,t,i)||(0,q.A)(this.state.viewModel,t.viewModel)||d||this.state.swcPopupUnmounted!==t.swcPopupUnmounted||p}componentDidMount(){super.componentDidMount(),ge.A.getInstance().on(me.A.EMIT_SWC_POPUP_UNMOUNT,this._handleSWCPopupUnmount),"ios"===a.Platform.OS&&pe.N.addListener(ve.t.HANDLE_ACTIVITY_STATE_CHANGE,this.handleActivityStateEvent),this._updateVasChildState()}renderWidget(){var e,t,i,n,a,o,s;const l=!!_.A.getExperimentValue("enableDealsTagAnimation"),c=!!(null===(n=null===(i=null===(t=null===(e=this.state)||void 0===e?void 0:e.viewModel.pricing)||void 0===t?void 0:t.value)||void 0===i?void 0:i.emiPrice)||void 0===n?void 0:n.value),u=!!(null===(s=null===(o=null===(a=this.state.viewModel)||void 0===a?void 0:a.pricing)||void 0===o?void 0:o.value)||void 0===s?void 0:s.upiPriceCallout);return c&&(this.isSpecialPriceHighlightABEnabled=!1,this.isHeroEMI=!0),u&&(this.isHeroUPI=!0),l||this.showAnimatedPriceAndDealTag()?r.createElement(d.Ay,{conditions:this._getMultiCondition()},this._renderView()):this._renderView()}_renderView(){var e,t,i,n,a,s,l;const d=(0,ee.qU)(this.props.themeContext),c=d?{bg:d}:{};let h={marginTop:"s2"};const p=null===(i=null===(t=null===(e=this.props)||void 0===e?void 0:e.pageInfo)||void 0===t?void 0:t.pageContext)||void 0===i?void 0:i.isNewUser;this.isSpecialPriceHighlightABEnabled&&!p&&(h=Object.assign(Object.assign(Object.assign({},h),X.tn.specialPriceTimerStyle),c),P.A.getIsGBFlowFlipkart(null===(n=this.state.viewModel)||void 0===n?void 0:n.priceVariants)&&(h=Object.assign(Object.assign({},h),X.tn.specialPriceViewBottomStyle)));const g={marginHorizontal:"s6"};this.parentHorizontalPadding=(0,o.nm)(g).marginHorizontal;const m=(0,u.nS)(this.props.widgetSlotData),v=null===(a=null==m?void 0:m.widgetAttributes)||void 0===a?void 0:a.widgetBleedingColor,_=null===(s=null==m?void 0:m.widgetAttributes)||void 0===s?void 0:s.widgetStopBleedingColor,C=v&&_,E=r.createElement(o.az,Object.assign({},c),r.createElement(o.az,Object.assign({},g),this.state.viewModel.oosCallout?this.renderOOSCallout(this.state.viewModel.oosCallout):this.renderDealsAndPriceViewsComponent(h,c),this.renderUrgencyMessage(),this.renderOtherCallouts(!0),this.renderProtectPromiseFee(),this.renderOfferView({onPress:this._handlePricingClick,disableFeedback:!0,onPressParam:this.state.viewModel.priceSummaryData}),this.renderASMDisplayMessage(),!!this.state.viewModel.quantityMetaData&&this._renderOffferViewWithQuantitySelector(),(null===(l=this.state.viewModel.slotWiseSnippets)||void 0===l?void 0:l.SLOT0)&&this.state.viewModel.slotWiseSnippets.SLOT0.length>0?this.renderSnippets(this.state.viewModel.slotWiseSnippets.SLOT0):null));return C?r.createElement(te.W,{gradientColors:[v,_],gradientStart:ie._.TOP,gradientEnd:ie._.BOTTOM,renderInWeb:!0},E):E}iventoryBasedOfferWithProgressBar(){var e,t,i,n,o,s,l,c,u,h,g,m,v,_,C,E,T;const A=[k.C1.height_4,k.C1.border_bottom_radius_4];let S,y,w;if(p.Ay.isPriceLockEnabled()&&this.state.viewModel.priceLock?(S=null===(e=this.state.viewModel.priceLock.stockClaimed)||void 0===e?void 0:e.tag,y=Number(null===(i=null===(t=this.state.viewModel.priceLock.stockClaimed)||void 0===t?void 0:t.tagItemInfo)||void 0===i?void 0:i.unitsLeft),w=Number(null===(o=null===(n=this.state.viewModel.priceLock.stockClaimed)||void 0===n?void 0:n.tagItemInfo)||void 0===o?void 0:o.totalUnits)):(S=null===(g=null===(h=null===(u=null===(c=null===(l=null===(s=this.state.viewModel.dealTags)||void 0===s?void 0:s[0])||void 0===l?void 0:l.title)||void 0===c?void 0:c.data)||void 0===u?void 0:u[1])||void 0===h?void 0:h.value)||void 0===g?void 0:g.text,y=Number(null===(_=null===(v=null===(m=this.state.viewModel.dealTags)||void 0===m?void 0:m[0])||void 0===v?void 0:v.tagItemInfo)||void 0===_?void 0:_.unitsLeft),w=Number(null===(T=null===(E=null===(C=this.state.viewModel.dealTags)||void 0===C?void 0:C[0])||void 0===E?void 0:E.tagItemInfo)||void 0===T?void 0:T.totalUnits)),!(S&&y&&w))return;const I=w-y,b=I/w,D=`${I/w*100}%`;let x=[],P=[];return p.Ay.isPriceLockEnabled()&&this.state.viewModel.priceLock&&(S=D+" "+S),b<=.9?(x=[ne.V9.fkGreen,ne.Cf.orange],P=[0,1]):(x=[ne.V9.fkGreen,ne.Cf.orange,ne.Jy.deepRed],P=[0,.95,1]),r.createElement(d.Ay,{conditions:this.getMultiCondition()},r.createElement(De,null,r.createElement(a.Animated.View,{style:[A,{width:this.progressBarWidth.interpolate({inputRange:[0,1],outputRange:["0%",D]})}]},r.createElement(xe,null,r.createElement(z.A,{duration:3e3,gradientColors:[f.hIQ.transparentWhite,f.hIQ.translucentWhite,f.hIQ.transparentWhite],gradientStart:[0,1],gradientEnd:[1,1],easing:a.Easing.linear,containerStyle:[k.C1.overflowHidden,k.C1.border_radius_4],gradientViewStyle:[k.C1.width_60,k.C1.height_4]},b<=.6?r.createElement(Pe,{bg:"raw.green.600"}):r.createElement(te.W,{style:A,gradientColors:x,gradientStart:[0,1],gradientEnd:[1,1],locations:P}))))),p.Ay.isPriceLockEnabled()&&this.state.viewModel.priceLock?r.createElement(Re,{style:{fontFamily:"inter_semi_bold",fontSize:16}},S):r.createElement(Oe,null,S))}renderOfferView(e){if(this.state.viewModel.priceSummaryData)return this.state.viewModel.priceSummaryData.offerSummaryGroupsV2Enabled?this.renderOfferSummaryGroupV2View(e):this.renderOfferSummaryGroupView(e)}renderOfferSummaryGroupView(e){if(this.state.viewModel.offerSummaryGroup)return r.createElement(N.S,Object.assign({},e),r.createElement(o.az,null,r.createElement(E.A,{offerSummaryGroup:this.state.viewModel.offerSummaryGroup,dispatchAction:this.dispatchAction,onChevronClick:this.offersChevronClick,pageInfo:this.props.pageInfo,screenWidth:this.getScreenWidth()})))}renderOfferSummaryGroupV2View(e){if(this.state.viewModel.offerSummaryGroup)return r.createElement(N.S,Object.assign({},e),r.createElement(o.az,null,r.createElement(T.A,{offerSummaryGroup:this.state.viewModel.offerSummaryGroup,dispatchAction:this.dispatchAction,onChevronClick:this.offersChevronClick,isRenderDivider:!0,onViewOfferClick:this._viewAllOffer,onAvailableOfferClick:this._onValueClick,pageInfo:this.props.pageInfo,titleContainerStyle:L.V.productOfferV2Style,screenWidth:this.getScreenWidth(),uniqueViewId:this.state.uniqueViewId,handleEDClaimAction:this._handleEDClaimAction})))}renderASMDisplayMessage(){const e=this.state.viewModel;if(e.asmMessage)return r.createElement(Y.pT,{numberOfLines:1,ellipsizeMode:"tail"},e.asmMessage)}renderUrgencyMessage(){var e,t;const i=this.state.viewModel,n=le.L.getProductPageSwatchSelectionDataFromProps(this.props),a=(0,ee.rM)(this.props.themeContext),o=a&&(0,$.FH)(a);if((null==n?void 0:n.pid)&&i.urgencyMessage&&!(null===(t=null===(e=i.pricing)||void 0===e?void 0:e.value)||void 0===t?void 0:t.partPriceInfo))return r.createElement(s.ClampedLabel,{style:[L.V.asmMessage,o?{color:{value:o}}:{}],numberOfLines:2,ellipsizeMode:"tail"},i.urgencyMessage)}renderCalloutInWrapper(e,t){return r.createElement(o.az,Object.assign({},(0,_e.Z)("Callouts_Container"),{mb:"s5"}),e.map((e=>this._renderCallouts(e,t))))}renderNEPCallouts(){const e=this.state.viewModel;return r.createElement(r.Fragment,null,e.nepCallouts&&e.nepCallouts.length>0?this.renderCalloutInWrapper(e.nepCallouts):void 0)}showAnimatedPriceAndDealTag(){var e,t;if((null===(e=this.props.themeContext)||void 0===e?void 0:e.systemTheme)===ue.S.dark)return!1;if(_.A.getExperimentValue("snippetsOnPrimaryProduct")&&_.A.getExperimentValue("priceAnimationsPPForTagsEnabled"))return!0;let i=!1;const n=p.Ay.getDealTagsForPriceAnimationOnPP();return null===(t=this.state.viewModel.dealTags)||void 0===t||t.find((e=>{null==n||n.find((t=>{t!==e.tag||(i=!0)}))})),i&&!!_.A.getExperimentValue("priceAnimationsPPForTagsEnabled")}shouldShowFinalPriceTickerAnimation(e){var t,i;return!e||!!this.state.swcPopupUnmounted&&(null===(i=(t=this.props).actionDispatcher)||void 0===i||i.call(t,new I.YI(new I.qF(w.j.SWC_COUPON_APPLIED_DATA,new he.R(!1)))),!0)}renderPricingView(e,t,i,n,a,s,l){var d,c,h,g,_,C,E,T,A,S,y,I,b,D,x,P,O,R,V,L;const H=this.state.viewModel,B=we.getPricePerUnitText(H.pricePerUnit),U=p.Ay.getIsEnabledFontSize(p.Td.PRODUCT_PAGE),F=this.getProductPageContext(),G=p.Ay.getFontSizeForMrp(),z=!((null==F?void 0:F.marketplace)!==m.fOd.MARKETPLACE_FLIPKART||!G||!p.Ay.getIsMrpHighlightedOnPP());let j=X.tn.priceView,q=X.tn.priceContainerStyle;const J=this.state.viewModel.heroEmiAction,$=n?Object.assign(Object.assign({},X.tn.priceContainerView),{paddingBottom:"s4"}):X.tn.priceContainerView,ee=H.couponSummaryEnabled;i&&(j=Object.assign(Object.assign({},j),i)),this.isHeroUPI&&(j=Object.assign(Object.assign({},j),{justifyContent:"flex-start"})),J&&(j={flex:1,flexWrap:"wrap",flexDirection:"row",alignItems:"center"});const te=p.Ay.isPriceLockEnabled()&&H.priceLock;if(!H.pricing||!H.pricing.value)return!te&&r.createElement(o.az,null,this.renderUnavailableView());(H.couponSummaryEnabled||B)&&(q=Object.assign(Object.assign({},q),{flex:1}));const ie=null==F?void 0:F.marketplace,ne=s||X.tn.productPriceText,re=e||X.tn.strikeOutText,ae=t||X.tn.discountText,oe=null===(d=H.pricing.value.emiPrice)||void 0===d?void 0:d.value,le=null===(g=null===(h=null===(c=H.pricing)||void 0===c?void 0:c.value)||void 0===h?void 0:h.emiPrice)||void 0===g?void 0:g.additionalText,de=null===(E=null===(C=null===(_=H.pricing)||void 0===_?void 0:_.value)||void 0===C?void 0:C.finalPrice)||void 0===E?void 0:E.value,ce=null===(A=null===(T=this.state.viewModel.pricing)||void 0===T?void 0:T.value)||void 0===A?void 0:A.upiRegularPriceTitle,ue=(0,u.Qd)(this.props,w.j.SWC_COUPON_APPLIED_DATA),he=!!(null===(S=H.pricing.value)||void 0===S?void 0:S.couponApplied),pe=!this.showAnimatedPriceAndDealTag()&&he&&this.shouldShowFinalPriceTickerAnimation(null==ue?void 0:ue.isCouponApplyClicked);a&&(q=Object.assign(Object.assign({},q),{paddingTop:"s0"})),this.isHeroEMI&&(q=Object.assign(Object.assign({},q),{paddingTop:"s2"})),this.isHeroUPI&&(q=Object.assign(Object.assign({},q),{paddingTop:"s0",paddingBottom:"s0"}));const ge=r.createElement(o.az,Object.assign({},j),this.isHeroUPI&&ce?r.createElement(o.JU,{font:"m"},null===(I=null===(y=this.state.viewModel.pricing)||void 0===y?void 0:y.value)||void 0===I?void 0:I.upiRegularPriceTitle):null,r.createElement(M.A,{pricing:H.pricing.value,parentStyle:q,priceStyle:ne,sellingPriceStyle:this.isHeroEMI?X.tn.strikeOutTextHero:re,discountStyle:ae,showDiscountAsAmount:this.showDiscountAsAmount(),showDiscountAsSaveAmount:!1,showDiscountAsSaveAmountWithIcon:!1,plusPriceDefaultTextStyle:{font:"m"},fontIncreasePageTypes:U?p.Td.PRODUCT_PAGE:void 0,hideDiscount:ee,couponSummariesEnabled:H.couponSummaryEnabled,couponSummaries:H.couponSummaries,enablePriceVariationsAB:this.enablePriceVariationsAB(),enableDiscountIconAB:this.isDiscountIconABEnabled(),overrideMarginRight:this.isDiscountIconABEnabled()?8:void 0,renderPricePerUnitText:this.renderPricePerUnitText,pricePerUnitText:B,isSpecialPriceHighlightEnabled:n,avoidDiscountAndStrikingStyle:!0,parentHorizontalPadding:this.parentHorizontalPadding,overrideUniformFontSize:l,isEMIHeroEnabled:this.isHeroEMI,showAnimatedPrice:this.showAnimatedPriceAndDealTag(),pageThemeContext:this.props.themeContext,startAnimation:this._startPriceAnimation,isFinalPriceAnimationEnabled:pe,extraDiscount:null===(D=null===(b=H.pricing.value)||void 0===b?void 0:b.extraDiscount)||void 0===D?void 0:D.value,xtraSaverCallout:H.xtraSaverCallout,xsState:null===(x=this.props.appContext)||void 0===x?void 0:x.xtraSaverState,dispatchAction:this.dispatchAction}));const me=this.isHeroEMI?r.createElement(o.az,Object.assign({},{pt:"s4",width:"100%"}),r.createElement(o.az,Object.assign({},j),r.createElement(o.JU,Object.assign({},(0,_e.Z)("Product_Price_Containers")),r.createElement(o.JU,{font:"xl_sb"},`${Z.y3}${(0,Q.m3)(de)}`),oe&&r.createElement(o.JU,null,r.createElement(o.JU,{font:"m"},`   ${this.localize({id:v.H.rex_String_OR})}`),r.createElement(o.JU,{font:"xl_sb"},`  ${Z.y3}${(0,Q.m3)(oe)}`),le&&r.createElement(o.JU,null,le)),r.createElement(o.JU,null,f.NH,J&&this.renderEmiHeroViewPlans(J)))),ge):this.isHeroUPI?r.createElement(o.az,{width:"100%",pb:(null===(P=H.urgency)||void 0===P?void 0:P.urgencyMessage)?"s0":"s4"},ge):ge,ve=this._getIsGroupBuyFlow(H,ie),Ce=H.priceVariants&&ve&&(p.Ay.enableRadioPricingForGBGrocery()?r.createElement(se.A,{pricing:H.pricing.value,parentStyle:(0,o.nm)(q),priceStyle:(0,o.kE)(X.tn.productPriceText),sellingPriceStyle:(0,o.kE)(e||X.tn.strikeOutText),discountStyle:(0,o.kE)(t||X.tn.discountText),showDiscountAsAmount:this.showDiscountAsAmount(),showDiscountAsSaveAmount:!1,showDiscountAsSaveAmountWithIcon:!1,plusPriceDefaultTextStyle:k.XT.fontRegular_14,fontIncreasePageTypes:U?p.Td.PRODUCT_PAGE:void 0,mrpStringFontSize:z?{fontSize:G}:void 0,hideCNCInfo:!0,priceVariants:H.priceVariants,actionDispatcher:this.props.actionDispatcher,width:this.getScreenWidth()}):r.createElement(K.A,{pricing:H.pricing.value,parentStyle:(0,o.nm)(q),priceStyle:(0,o.kE)(X.tn.productPriceText),sellingPriceStyle:(0,o.kE)(e||X.tn.strikeOutText),discountStyle:(0,o.kE)(t||X.tn.discountText),showDiscountAsAmount:this.showDiscountAsAmount(),showDiscountAsSaveAmount:!1,showDiscountAsSaveAmountWithIcon:!1,plusPriceDefaultTextStyle:k.XT.fontRegular_14,fontIncreasePageTypes:U?p.Td.PRODUCT_PAGE:void 0,mrpStringFontSize:z?{fontSize:G}:void 0,hideCNCInfo:!0,priceVariants:H.priceVariants,widgetType:null===(O=H.widget)||void 0===O?void 0:O.type,onPress:this._handlePricingClick,disableFeedback:!0,onPressParam:H.priceSummaryData,marketplace:ie,actionDispatcher:this.props.actionDispatcher,width:this.getScreenWidth()}));return r.createElement(o.az,null,r.createElement(Y.Zz,null,ve?Ce:r.createElement(N.S,Object.assign({},(0,_e.Z)("Product_Summary_Tappable_Container"),{disableFeedback:!0,onPress:H.couponCta||H.couponApplied?void 0:this._handlePricingClick,onPressParam:H.priceSummaryData,tappableStyle:k.C1.flex}),r.createElement(o.az,Object.assign({},$),H.couponCta||H.couponApplied||H.couponSummaryVariant?r.createElement(W.A,{pricing:H.pricing.value,parentStyle:(0,o.nm)(q),priceStyle:(0,o.kE)(X.tn.productPriceText),sellingPriceStyle:[(0,o.kE)(re),k.XT.lineHeight_32],discountStyle:(0,o.kE)(t||X.tn.discountText),showDiscountAsAmount:this.showDiscountAsAmount(),showDiscountAsSaveAmount:!1,showDiscountAsSaveAmountWithIcon:!1,plusPriceDefaultTextStyle:k.XT.fontRegular_14,fontIncreasePageTypes:U?p.Td.PRODUCT_PAGE:void 0,mrpStringFontSize:z?{fontSize:G}:void 0,hideDiscount:ee,couponSummariesEnabled:H.couponSummaryEnabled,couponSummaries:H.couponSummaries,enablePriceVariationsAB:this.enablePriceVariationsAB(),enableDiscountIconAB:this.isDiscountIconABEnabled(),overrideMarginRight:this.isDiscountIconABEnabled()?8:void 0,renderPricePerUnitText:this.renderPricePerUnitText,pricePerUnitText:B,isSpecialPriceHighlightEnabled:n,couponCta:H.couponCta,couponApplied:H.couponApplied,couponSummaryVariant:H.couponSummaryVariant,uniqueViewId:this.state.uniqueViewId,offerExpiryInfo:H.offerExpiryInfo,offerExpiryTime:null===(R=H.priceSummaryData)||void 0===R?void 0:R.offerExpiryTime,actionDispatcher:this.props.actionDispatcher,parentHorizontalPadding:this.parentHorizontalPadding,isDealsTagPresent:a,pageThemeContext:this.props.themeContext,showAnimatedPrice:this.showAnimatedPriceAndDealTag(),startAnimation:this._startPriceAnimation,isFinalPriceAnimationEnabled:pe,extraDiscount:null===(L=null===(V=H.pricing.value)||void 0===V?void 0:V.extraDiscount)||void 0===L?void 0:L.value}):me))),this.renderNEPCallouts())}renderPricingViewForTag(e,t,i,n,r,a,o){const s=this.state.viewModel;return s.pricing&&s.pricing.value?s.pricing.value.partPriceInfo?this.renderPreOrderSummary(s.pricing):this.renderPricingView(e,t,i,n,r,a,o):this.renderPricingView()}renderPriceLock(e){var t,i,n,s,l,d,c,u,h,g,m,v,_,C,E,T,A,S,y,w;const I="web"===a.Platform.OS?"85%":"180%";return r.createElement(o.az,null,r.createElement(de.A,{style:k.C1.margin_bottom_4,richTextData:null===(i=null===(t=e.regularPrice)||void 0===t?void 0:t.data)||void 0===i?void 0:i[0].value}),r.createElement(o.xM,{mt:"s5",alignItems:"center"},r.createElement(o.az,{mr:"s4",borderRadius:2,style:k.C1.overflowHidden},r.createElement(te.W,{gradientColors:[(null===(n=null==e?void 0:e.tagTitleGradientColors)||void 0===n?void 0:n[0])||f.hIQ.priceLockLightPurple,(null===(s=null==e?void 0:e.tagTitleGradientColors)||void 0===s?void 0:s[1])||f.hIQ.priceLockDarkPurple],gradientStart:ie._.LEFT,gradientEnd:ie._.RIGHT,renderInWeb:!0},r.createElement(o.az,{ml:"s4",mr:"s2",my:"s2"},r.createElement(de.A,{richTextData:null===(d=null===(l=e.tagTitle)||void 0===l?void 0:l.data)||void 0===d?void 0:d[0].value})))),r.createElement(o.JU,{color:"raw.grey.500",mr:"s1",style:k.XT.fontSize_12},null===(c=e.urgency)||void 0===c?void 0:c.urgencyMessage),(null===(u=null==e?void 0:e.urgency)||void 0===u?void 0:u.expiryTime)&&r.createElement(Te.Ay,{style:k.XT.fontSize_12,timestampInMillis:e.urgency.expiryTime-Date.now()})),r.createElement(o.az,{my:"s6",borderRadius:4,borderWidth:1,borderColor:"raw.grey.50",style:[k.C1.width100Percent,{backgroundColor:null===(g=null===(h=e.tokenContainer)||void 0===h?void 0:h.style)||void 0===g?void 0:g.backgroundColor}]},r.createElement(o.az,{py:"s5",px:"s6",borderTopLeftRadius:4,borderTopRightRadius:4,style:{backgroundColor:null===(v=null===(m=e.title)||void 0===m?void 0:m.style)||void 0===v?void 0:v.backgroundColor}},r.createElement(de.A,{richTextData:null===(C=null===(_=e.title)||void 0===_?void 0:_.data)||void 0===C?void 0:C[0].value}),r.createElement(o.az,{position:"absolute",left:8,borderLeftWidth:15,borderRightWidth:15,borderTopWidth:15,borderLeftColor:"transparent",borderRightColor:"transparent",style:{top:I,borderTopColor:null===(T=null===(E=e.title)||void 0===E?void 0:E.style)||void 0===T?void 0:T.backgroundColor}})),r.createElement(o.az,{borderBottomLeftRadius:4,borderBottomRightRadius:4,px:"s5",pt:"s6",pb:"s5"},p.Ay.isSupercoinPriceLockEnabled()?e.tokenContainer&&r.createElement(ce.A,{messages:e.tokenContainer}):r.createElement(r.Fragment,null,r.createElement(de.A,{richTextData:null===(S=null===(A=e.tokenContainer)||void 0===A?void 0:A.data)||void 0===S?void 0:S[0].value}),r.createElement(de.A,{style:[k.C1.padding_top_4],richTextData:null===(w=null===(y=e.tokenContainer)||void 0===y?void 0:y.data)||void 0===w?void 0:w[1].value})))))}renderPreOrderSummary(e){const t=this.state.viewModel;return r.createElement(o.az,null,r.createElement(x.A,{pricing:e,urgency:t.urgency,onPriceClicked:this._onPriceSummaryClicked}),this.renderNEPCallouts())}renderUrgencyView(e,t,i){var n,a,l;const{viewModel:d}=this.state;if(!e||d.pricing&&d.pricing.value&&d.pricing.value.partPriceInfo)return;const c=null===(l=null===(a=null===(n=this.props)||void 0===n?void 0:n.pageInfo)||void 0===a?void 0:a.pageContext)||void 0===l?void 0:l.isNewUser,u=r.createElement(D.A,{offerInfoText:e,urgency:d.urgency,conjunctionText:this.localize({id:v.H.rex_string_ENDS_IN_LESS_THAN}),viewStyle:c||i?null:this.isSpecialPriceHighlightABEnabled?(0,s.getViewStyle)(this.highlightedStyle):t?k.C1.backgroundClear:null,pageThemeContext:this.props.themeContext});return r.createElement(o.az,{alignItems:"flex-start"},u)}renderUnavailableView(){return r.createElement(Y.gH,null,"Currently Unavailable")}renderPricePerUnitText(e,t){const i=e?X.tn.ppuTextWithBGHighlighted:{},n=e?X.tn.perUnitContainerStyle:{};return r.createElement(o.az,null,t&&r.createElement(o.az,Object.assign({},n),r.createElement(Y.jm,Object.assign({},(0,_e.Z)("PricePerUnitLabel"),i),t)))}showDiscountAsAmount(){return!1}enablePriceVariationsAB(){return Ae.Ay.PriceVariationPPEnabled}isDiscountIconABEnabled(){return this.enablePriceVariationsAB()&&Ae.Ay.DiscountIconEnabled}static getPricePerUnitText(e){return P.A.getPricePerUnitText(e)}renderDivider(){}openMinOQBottomSheet(e){var t,i;const n={modalType:"BOTTOM_SHEET",widgetType:H.A.MIN_OQ_BOTTOMSHEET_WIDGET,widgetData:{data:e},tracking:e.tracking,scrollable:!0,disableSwipeToClose:!0,bounces:!1},r=new j.iM(j.xH.OPEN_MODAL,n);null===(i=(t=this.props).actionDispatcher)||void 0===i||i.call(t,r)}}we.contextType=h.V8,we.getCouponViewHeight=e=>{var t;return 0===e.length?0:72+((null===(t=e[0])||void 0===t?void 0:t.newTitle)?18:0)+32};const Ie={height:40,width:20,overflow:"hidden",transform:[{skewX:"-15deg"}]},be={height:40,width:20,overflow:"hidden",transform:[{skewY:"15deg"}]},De=o.az.extendComponent({name:"ProgressBar",defaultProps:{height:4,width:"100%",bg:"raw.grey.100",borderRadius:4,mt:"s4",mb:"s2"}}),xe=o.az.extendComponent({name:"ProgressBarShimerFill",defaultProps:{bg:"common.white",borderRadius:50}}),Pe=o.az.extendComponent({name:"ProgressBarFill",defaultProps:{height:4,borderRadius:4}}),Oe=o.JU.extendComponent({name:"LSDTextStyle",defaultProps:{font:"s",mb:"s5"}}),Re=o.JU.extendComponent({name:"LSDTextPriceLockStyle",defaultProps:{mt:"s3",mb:"s5"}});class ke extends we{constructor(){super(...arguments),this.renderDealsAndPriceViewsComponent=()=>{var e;return r.createElement(o.az,null,this.state.viewModel.offerInfoText?r.createElement(o.az,{paddingTop:"s4"},this.renderUrgencyView(this.state.viewModel.offerInfoText,!1,!0)):void 0,this.state.viewModel.dealTags&&this.renderTagComponents(this.state.viewModel.dealTags,!0),(null===(e=this.state.viewModel.slotWiseSnippets)||void 0===e?void 0:e.SLOT1)&&this.state.viewModel.slotWiseSnippets.SLOT1.length>0?this.renderSnippets(this.state.viewModel.slotWiseSnippets.SLOT1):null,this.renderPricingViewForTag(X.tn.strikeOutTextHero,X.tn.discountTextHero,void 0,!1,!1,X.tn.finalPriceHero,!0))}}static getWidgetHeight(e){return we.getWidgetHeight(e)}}class Ve extends we{constructor(){super(...arguments),this.renderUPIAsHeroCallout=(e,t)=>t?r.createElement(o.az,Object.assign({},X.tn.specialUpiPriceCalloutStyle,{pt:"s4"}),r.createElement(ce.A,{useTextContainer:!0,messages:e})):r.createElement(ce.A,{useTextContainer:!0,messages:e}),this.renderDealsAndPriceViewsComponent=(e,t)=>{var i,n,a,s,l,d;const c=null===(a=null===(n=null===(i=this.props)||void 0===i?void 0:i.pageInfo)||void 0===n?void 0:n.pageContext)||void 0===a?void 0:a.isNewUser,u=this.isSpecialPriceHighlightABEnabled&&!c,h=this.state.viewModel.pricing,p=t||{};if(u&&!this.state.viewModel.offerInfoText&&this.state.viewModel.dealTags){const e=this.valueTagEnhancement?{paddingBottom:"s2"}:Object.assign(Object.assign({},X.tn.priceViewHighlightedStyle),p),t=this.valueTagEnhancement?void 0:Object.assign(Object.assign({},X.tn.specialPriceHighlightStyle),p);return r.createElement(o.az,null,r.createElement(o.az,Object.assign({},e),this.renderTagComponents(this.state.viewModel.dealTags,this.valueTagEnhancement)),(null===(s=null==h?void 0:h.value)||void 0===s?void 0:s.upiPriceCallout)?this.renderUPIAsHeroCallout(h.value.upiPriceCallout,!this.valueTagEnhancement):null,this.renderPricingViewForTag(X.tn.strikeOutTextUPIHero,X.tn.discountTextUPIHero,t,!0,!0,X.tn.finalPriceUPIHero,!0))}return r.createElement(o.az,null,this.state.viewModel.offerInfoText?r.createElement(o.az,Object.assign({},e),this.renderUrgencyView(this.state.viewModel.offerInfoText)):void 0,this.state.viewModel.dealTags&&this.renderTagComponents(this.state.viewModel.dealTags),(null===(l=this.state.viewModel.slotWiseSnippets)||void 0===l?void 0:l.SLOT1)&&this.state.viewModel.slotWiseSnippets.SLOT1.length>0?this.renderSnippets(this.state.viewModel.slotWiseSnippets.SLOT1):null,(null===(d=null==h?void 0:h.value)||void 0===d?void 0:d.upiPriceCallout)?this.renderUPIAsHeroCallout(h.value.upiPriceCallout,Boolean(this.state.viewModel.offerInfoDefaultText)&&u):null,this.state.viewModel.offerInfoDefaultText&&u?this.renderPricingViewForTag(X.tn.strikeOutTextUPIHero,X.tn.discountTextUPIHero,Object.assign(Object.assign(Object.assign({},X.tn.specialPriceHighlightStyle),p),{pb:"s4"}),!0,!1,X.tn.finalPriceUPIHero,!0):this.renderPricingViewForTag(X.tn.strikeOutTextUPIHero,X.tn.discountTextUPIHero,{pb:"s4"},!0,!1,X.tn.finalPriceUPIHero,!0))}}static getWidgetHeight(e){return we.getWidgetHeight(e)}}var Le;!function(e){e.EMI_EXCHANGE_HERO_OF_PAGE="EMI_EXCHANGE_HERO_OF_PAGE",e.UPI_HERO="UPI_HERO"}(Le||(Le={}));class Me extends n.A{getWidgetClass(e){switch(u.KJ(e.widgetSlotData)){case"EMI_EXCHANGE_HERO_OF_PAGE":return ke;case"UPI_HERO":return Ve;default:return we}}getWidgetHeight(e){return"EMI_EXCHANGE_HERO_OF_PAGE"===u.KJ(e.widgetSlotData)?ke.getWidgetHeight(e):we.getWidgetHeight(e)}}},379610:(e,t,i)=>{"use strict";i.d(t,{A:()=>k});var n=i(231679),r=i(877293),a=i(296540),o=i(914944),s=i(415283),l=i(537415),d=i(387393),c=i(585603),u=i(39868),h=i(52754),p=i(395567),g=i(737999),m=i(972904),v=i(311676),_=i(141492),C=i(692929),E=i(492556),T=i(186079),f=i(453535),A=i(988013),S=i(479892),y=i(700036),w=i(302019),I=i(529980),b=i(201159),D=i(257246),x=i(678239);const P=(0,d.A)(c.A,u.A),O=(0,d.A)(E.A,T.A);var R;!function(e){e.RIGHT_SWIPE="RIGHT_SWIPE",e.LEFT_SWIPE="LEFT_SWIPE",e.AUTO_SCROLL="AUTO_SCROLL"}(R||(R={}));class k extends m.A{constructor(){super(...arguments),this.cache=new f.A(20),this.renderWishlistIcon=(e,t,i,n)=>a.createElement(O,{containerStyle:t,inWishlist:i,isCollectionExperienceOn:n,onClickParam:e.action,onWishListClick:this._handleWishlistClick,abManager:this.props.appContext.abManager}),this.handleWowPress=(e,t)=>{t&&this.dispatchAction(s.Q3.SCROLL_TO_SLOT,new I.l(t))},this.handleYoutubeVideoClick=(e,t,i,n)=>{if(!e||!t||!i)return;const r={type:k.NAVIGATION,screenType:g.A.VIDEO,params:{videoId:e,url:t,videoProvider:i},tracking:{},loginType:l.G.LOGIN_NOT_REQUIRED};this.trackOmnitureEvent(new p.ca1(k.PRODUCT_PAGE_OMNITURE,n,e)),this.dispatchAction(s.Q3.MAPI_ACTION,new o.Oy(r))},this.handleGalleryClick=(e,t,i)=>{var n,r;if(!t)return;const a=[];t.map((e=>{var t;return a.push(this.cache.get((null===(t=e.value)||void 0===t?void 0:t.url)||"")||{width:-1,height:-1})}));const d={type:k.NAVIGATION,screenType:k.OPEN_IMAGE_GALLERY,params:{multiMediaData:t,indexSelected:e,openLifestyleGallery:i,pageContext:this.props.pageInfo?this.props.pageInfo.pageContext:void 0,prefetchedDimensions:a},loginType:l.G.LOGIN_NOT_REQUIRED,tracking:{}};this.trackOmnitureEvent(new p.JNB(e+1)),this.dispatchAction(s.Q3.MAPI_ACTION,new o.Oy(d));const c=null===(r=null===(n=this.props.pageInfo)||void 0===n?void 0:n.pageContext)||void 0===r?void 0:r.productId;c&&y.A.setNumber(c,e)},this.trackMediaImpression=(e,t=void 0,i,n,r)=>{let a;if(void 0!==e&&void 0!==t&&(a=e>t?"RIGHT_SWIPE":"LEFT_SWIPE"),r&&(a="AUTO_SCROLL"),e||0===e){const t=new v.uoz(this.getFetchId(),e+1,n,a);this.trackDGEvent(t)}(t||0===t)&&this.trackOmnitureEvent(new p.a4w(t,i))},this.trackMediaSwipe=(e,t)=>{this.trackOmnitureEvent(new p.a4w(e,t))},this.getProductId=()=>{const e=this.getProductPageContext();return e&&e.productId},this.getProductPageContext=()=>this.props.pageInfo&&this.props.pageInfo.pageContext,this._handleWishlistClick=e=>{var t,i,n;const r=this.getProductPageContext(),a=null==r?void 0:r.trackingDataV2,l=null==a?void 0:a.sproduct,d=r&&r.analyticsData,c=this.getProductId(),u=this.isProductWishlisted(this.props),h=_.A.createWishlistTrackingData(d,_.I.PRODUCT_PAGE,l),g=h&&h.omnitureTracking;if(this.props.actionDispatcher&&e&&(c&&(_.A.isLegacy(this.props.appContext.abManager)?this.trackOmnitureEvent(new p.YnD(c)):this.dispatchOmniture(g)),e.params.isPresentInWishlist=u,this.dispatchAction(s.Q3.MAPI_ACTION,new o.Oy(e))),!u&&(null==r?void 0:r.listingId)&&c){const e=null===(t=null==r?void 0:r.analyticsData)||void 0===t?void 0:t.category;(0,x.W0)(r.listingId,c,e,r.marketplace,null===(n=null===(i=r.pricing)||void 0===i?void 0:i.finalPrice)||void 0===n?void 0:n.value)}}}static getMultiMediaWidgetDataFromProps(e){const t=(0,h.nS)(e.widgetSlotData);return t&&t.data&&t.data}static isYoutubeVideo(e){return!(!e||e.contentType!==g.A.VIDEO||e.source!==g.A.YOUTUBE||!e.contentId)}static buildYoutubeImageUrl(e){return e?"https://img.youtube.com/vi/"+e+"/0.jpg":void 0}isProductWishlisted(e){const t=k.getMultiMediaWidgetDataFromProps(e),i=t&&t.floatingActionValues&&t.floatingActionValues.collectionAction&&t.floatingActionValues.collectionAction.value&&t.floatingActionValues.collectionAction.value.collectionState,n=e.pageInfo?e.pageInfo.pageContext:void 0,r=n?n.productId:void 0;return _.A.isPresentInWishlist(i,r,e,this.getWidgetSharedDataHelper())}renderDivider(){}renderSpotlight(e,t,i){var o;const s=i.interpolate({inputRange:[0,1],outputRange:[1,0]});return e.text&&(null===(o=e.renderAttributes)||void 0===o?void 0:o.background)&&a.createElement(r.Animated.View,{style:[A.p.spotLightOverlay,S.C1.positionAbsolute,{opacity:s}]},a.createElement(P,{background:e.renderAttributes.background,text:e.text,textColor:e.renderAttributes.textColour,animationStatus:!!e.animation,style:[n.M1.spotlightView,t],themeContext:this.props.themeContext}))}renderWowTag(e){var t;if(!e.value)return;const i=(0,D.Hm)(this.props.themeContext),n=null!=i?i:null===(t=e.value.style)||void 0===t?void 0:t.color,r=i?"neutral.900":"primary.500";return a.createElement(w.SB,{onPress:this.handleWowPress,onPressParam:e.action},a.createElement(w.eH,{bottom:36,left:16,borderRadius:100,borderWidth:1,bg:"v2.neutral.0",pl:"s5",pr:"s4",position:"absolute",height:32,borderColor:n},a.createElement(w.JU,{font:"s_medium",color:r},e.value.text),a.createElement(b.vK,{size:k.RIGHT_CHEVRON_SIZE,strokeWidth:1,color:r})))}dispatchOmniture(e){e&&this.dispatchAction(s.Q3.OMNITURE_TRACKING,new p.aPm(e,C.l.CLICK))}}k.NAVIGATION="NAVIGATION",k.OPEN_IMAGE_GALLERY="openGallery",k.PRODUCT_PAGE_OMNITURE="PP",k.RIGHT_CHEVRON_SIZE=16},383467:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var n=i(90513),r=i(229833),a=i(918210),o=i(722573);class s{handleAction(e,t,i){if(e.payload&&t){const i=t.pageMeta.pageType,s=t.pageMeta.pageName,l=t.pageMeta.marketPlace,d=t.pageDataResponse&&t.pageDataResponse.tracking,c=d?d[o.R.CATEGORY]:"",u=d?d[o.R.VERTICAL]:"",h=e.payload.contentIdentifier+"_VideoPlayed",p={};r.A.fillOmnitureValues([n.Ay.PROP3],p,t),p[n.fM.EVENT199]="1",p[n.Ay.EV50]=s,p[n.Ay.PRODUCTS]=r.A.getProductString(i,c,u,l),a.A.addAndtrackEventUnderName(h,p)}return!0}}},387979:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>A});var n=i(465420),r=i(296540),a=i(716249),o=i(45426),s=i(914944),l=i(415283),d=i(580555),c=i(198213),u=i(395567),h=i(97529),p=i(52754),g=i(302019),m=i(347924),v=i(201159),_=i(727e3),C=i(257246),E=i(879052);const T=m.az.extendComponent({name:"BrandStoreContainer",defaultProps:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",py:"s2",px:"s4",m:"s4",borderRadius:6,bg:"v2.neutral.100"}});class f extends a.A{constructor(){super(...arguments),this.BRAND_STORE_IMAGE_SIZE=32,this.CHEVRON_IMAGE_SIZE=22,this._brandStoreClicked=(e,t)=>{t&&(this.trackOmnitureEvent(new u.wKV(h.A.BRAND_STORE_CLICK,f.getTrackingParams(this.props,t.tracking))),this.trackDiscoveryContentClickEvent(t.tracking),this.trackDiscoveryWidgetClickEvent(),this.dispatchAction(l.Q3.MAPI_ACTION,new s.Oy(t)))}}static getWidgetHeight(e){return 56}renderWidget(){var e,t,i,n;const a=(0,p.nS)(this.props.widgetSlotData),s=a?a.data:void 0,l=s?s.announcement:void 0,d=s?s.knowMore:void 0,u=null===(e=null==l?void 0:l.value)||void 0===e?void 0:e.title,h=null===(i=null===(t=null==l?void 0:l.value)||void 0===t?void 0:t.imageValue)||void 0===i?void 0:i.dynamicImageUrl,m=null===(n=null==d?void 0:d.value)||void 0===n?void 0:n.text;return u?r.createElement(_.w.Consumer,null,(e=>r.createElement(o.S,Object.assign({},(0,E.Z)("Brand_Store_Callout_Container"),{onPress:this._brandStoreClicked,onPressParam:null==d?void 0:d.action}),r.createElement(T,{bg:(0,C.YO)(e)},r.createElement(g.fI,{alignItems:"center"},h?r.createElement(c.Dk,Object.assign({},(0,E.Z)("Brand_Store_Callout_Image"),{source:h,roundedCorner:4,width:this.BRAND_STORE_IMAGE_SIZE,height:this.BRAND_STORE_IMAGE_SIZE})):null,u?r.createElement(g.JU,Object.assign({},(0,E.Z)("Brand_Store_Callout_Title_Text"),{color:(0,C.L7)(e),ml:"s4",font:"m_medium"}),u):null),r.createElement(g.fI,{alignItems:"center"},m?r.createElement(g.JU,Object.assign({},(0,E.Z)("Brand_Store_Callout_Know_More_Text"),{color:(0,C.L7)(e),font:"m",mr:"s2"}),m):null,r.createElement(v.vK,Object.assign({},(0,E.Z)("Brand_Store_Callout_Chevron"),{size:this.CHEVRON_IMAGE_SIZE,color:(0,C.L7)(e)}))))))):void 0}renderDivider(){}}f.getTrackingParams=(e,t)=>new d.Ay(t,e.pageInfo?e.pageInfo.baseImpressionId:"");class A extends n.A{getWidgetClass(e){return f}getWidgetHeight(e){return f.getWidgetHeight(e)}}},393488:(e,t,i)=>{"use strict";i.d(t,{O:()=>o});var n=i(700036),r=i(985234),a=i(146387);class o{static syncToStorage(e,t){if(void 0===e)return;const i=`TRANSIENT_DATA_SYNC_${t}`,a={[r.V.AGGREGATED_CTA]:e[r.V.AGGREGATED_CTA],[r.V.ABB]:e[r.V.ABB]};n.A.setObject(i,a)}static restoreAndUpdate(e,t){const i=`TRANSIENT_DATA_SYNC_${t}`,r=n.A.getObject(i);r&&(Object.entries(r).forEach((([t,i])=>{i&&t&&e(new a.zF(new a.pN(t,i)))})),this.clear(t))}static clear(e){const t=`TRANSIENT_DATA_SYNC_${e}`;n.A.clearKey(t)}}},395901:(e,t,i)=>{"use strict";i.d(t,{A:()=>D});var n=i(296540),r=i(495176),a=i(128881),o=i(795492),s=i(129899),l=i(877293),d=i(427286),c=i(561310),u=i(547134),h=i(166057),p=i(537415),g=i(914944),m=i(787921),v=i(453018),_=i(410752),C=i(420721),E=i(670563),T=i(146387),f=i(57522),A=i(327318),S=i(492418),y=i(479892),w=i(283774),I=i(879052),b=i(813652);class D extends n.PureComponent{constructor(){super(...arguments),this._quantityMoreText=(0,C.ak)(this.context.locale,{id:_.H.rex_string_MORE_TEXT}),this.qtyText=(0,C.ak)(this.context.locale,{id:_.H.rex_string_QTY}),this.DEFAULT_MIN_QUANTITY=1,this.DEFAULT_MAX_ITEMS=3,this.quantityArray=[],this._getQuantityArray=(e,t)=>{const i=[];for(let n=0;n<t;n++)i[n]=`${e+n}`;return i},this._onItemSelected=e=>{var t,i,n;const{minQuantity:r=this.DEFAULT_MIN_QUANTITY,maxItems:a=this.DEFAULT_MAX_ITEMS,isCheckoutPage:o}=this.props;let s,l={};if(this.props.fsn&&this.props.sProductSuffix&&(l={fsn:this.props.fsn,sProductSuffix:this.props.sProductSuffix}),s=o||this.props.disableCartItemUpdate?Object.assign(Object.assign({},this.props.action),{params:Object.assign(Object.assign({},null===(t=this.props.action)||void 0===t?void 0:t.params),{listingId:this.props.lid,quantity:e+r,showLoader:!1})}):{type:h.a.CART_UPDATE_ITEM,loginType:p.G.LOGIN_NOT_REQUIRED,tracking:l,params:{pageNumber:1,listingId:this.props.lid,productId:this.props.pid,type:h.a.CART_UPDATE_ITEM,quantity:e+r,showLoader:!1,ignorePageInsert:this.props.ignorePageInsert}},this.props.actionDispatcher){const t=this.props.selected;if(e===a){const e=Object.assign({},s);e.params.selectedQuantity=this.props.selected,this.props.comboAction&&(this.props.actionDispatcher(new T.YI(new T.qF(f.j.COMBO_OFFER_REMOVE_ACTION,new A.x(s)))),e.params.comboAction=this.props.comboAction,e.params.quantity=this.props.selected);const t={modalType:"POPUP",widgetType:u.A.QUANTITY_SELECTOR_POPUP,widgetData:e};this.props.triggerFDPCall&&this.props.isCartPage&&this.props.triggerFDPCall(w.tb.QUANTITY_CHANGE_MORE_CLICK),setTimeout((()=>{this.props.actionDispatcher&&this.props.actionDispatcher(new c.iM(c.xH.OPEN_MODAL,t))}),200)}else{this.props.pid&&this.props.lid&&this.props.stateChange&&this.props.stateChange(this.props.lid,parseInt(this.quantityArray[e]));const a={type:m.A.MAPI_ACTION,payload:new g.rs(s)},o={quantity:""+(e+r)};this.props.triggerOmnitureCall&&this.props.triggerOmnitureCall(v.CartOmnitureTypes.QUANTITY_CHANGED,o),this.props.triggerFDPCall&&this.props.isCartPage&&(t>e?null===(i=this.props)||void 0===i||i.triggerFDPCall(w.tb.quantity_change_remove_item,t,e+1):null===(n=this.props)||void 0===n||n.triggerFDPCall(w.tb.quantity_change_add_item,t,e+1)),this.props.comboAction&&this.props.selected>e+r?(this.props.actionDispatcher(new T.YI(new T.qF(f.j.COMBO_OFFER_REMOVE_ACTION,new A.x(s,!1)))),setTimeout((()=>{this.props.actionDispatcher&&this.props.comboAction&&this.props.actionDispatcher({type:m.A.TRANSACT_ACTION,payload:this.props.comboAction.updateAction})}),200)):this.props.actionDispatcher(a)}}},this._getDataProvider=e=>new o.M9(((e,t)=>e!==t)).cloneWithRows(e),this._rowRenderer=(e,t,i,a)=>{const o=this.props.isProductPage,d=o&&Number(t)===this.props.selected,c=o&&Number(t)===this.props.hurdleQuantity,u=i===this.quantityArray.length-1,h=[a?s.i.selectedStyle:s.i.componentTextStyle,u&&o?y.XT.fkRoyalBlueText:{}],p=[y.C1.backgroundNettleGreen,y.C1.margin_left_8,y.C1.padding_left_8,y.C1.padding_right_4,y.C1.justifyContentCenter];return n.createElement(l.View,Object.assign({},(0,I.Z)(`Quantity_Option_Container_${i}`,!1,!0),{style:[s.i.componentStyle,this.props.itemContainerStyle,o?s.i.componentStylePP:{},d?y.C1.paleBlueBackground:{},u&&o?[y.C1.border_top_width_1,y.C1.borderColorLightestGrey]:{}]}),n.createElement(r.A,{style:h,text:t}),o&&n.createElement(l.View,{style:p},c&&n.createElement(r.A,{text:this.props.discountText,style:y.XT.successGreenColor})))},this._labelExtractor=(e,t,i)=>i?this.qtyText+": "+String(t):String(t),this._getLabelText=e=>this.props.isLeftAlignedProductCard?e?"web"!==l.Platform.OS?y.XT.fontMedium_12:null:y.XT.fontMedium_10:e?null:y.XT.fontMedium_10}render(){var e,t,i;const{isCheckoutPage:r}=this.props;r&&(this.DEFAULT_MAX_ITEMS=S.ZNt);const{minQuantity:o=this.DEFAULT_MIN_QUANTITY,maxItems:c=(this.props.maxQuantity&&this.props.maxQuantity<=this.DEFAULT_MAX_ITEMS?this.props.maxQuantity:this.DEFAULT_MAX_ITEMS)}=this.props,u=this._getQuantityArray(o,c);this.quantityArray=u;let h=c;this.props.maxQuantity&&this.props.maxQuantity<=this.DEFAULT_MAX_ITEMS||(u.push(this._quantityMoreText),h=c+1);const p=u.indexOf(String(this.props.selected));let g=[this.props.showBiggerProductImage?s.i.dropdownContainerWithBiggerImage:s.i.dropdownContainer];(null===(e=null==this?void 0:this.props)||void 0===e?void 0:e.width)&&(g=[...g,{width:this.props.width,top:0,height:(null===(t=this.props)||void 0===t?void 0:t.height)||32},y.C1.margin_right_0]);const m=this.props.appContext.locale===C.Vn.EN;return(null===(i=this.props)||void 0===i?void 0:i.containerStyle)&&g.push(this.props.containerStyle),n.createElement(l.View,Object.assign({},(0,I.Z)("Quantity_Selector_Container"),{style:g}),!0===this.props.isLoading?n.createElement(d.A,{animating:!0,size:"small",color:E.Cf.fkBlueColor}):n.createElement(a.m,{onItemSelect:this._onItemSelected,disabled:this.props.disabled,hideArrow:this.props.disabled,screenWidth:this.props.appContext.uiContext.windowFrame.width,screenHeight:this.props.appContext.uiContext.windowFrame.height,maxDropdownItemCount:h,selected:p,itemWidth:this.props.isProductPage?87:80,itemHeight:this.props.isProductPage?40:32,position:this.props.direction?"top":"down",direction:this.props.direction,dropdownContainerStyle:[this.props.dropdownContainerStyle||this._getStyleSheet().dropDownContainerStyle,this.props.isProductPage?y.C1.width_80:{}],overlayStyle:this.props.isProductPage?[y.C1.top_0,y.C1.left_5]:{},dataProvider:this._getDataProvider(u),rowRenderer:this._rowRenderer,labelExtractor:this._labelExtractor,dropdownSidePadding:0,defaultLabel:this.qtyText+": "+String(this.props.selected),labelTextStyle:this.props.labelTextStyle||this._getLabelText(m),backdrop:this.props.backdrop,componentStyle:this.props.componentStyle,backdropOpacity:0,customChevronIcon:b.chevronDownBlack,showChevron:this.props.isProductPage}))}_getStyleSheet(){return s.i}}D.contextType=C.V8},397001:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>y});var n=i(465420),r=i(296540),a=i(877293),o=i(427387),s=i(52754),l=i(415283),d=i(914944),c=i(45426),u=i(479892),h=i(354397),p=i(972904),g=i(166057),m=i(195015),v=i(141492),_=i(69903),C=i(931479),E=i(614006),T=i(492418),f=i(257246),A=i(678239);class S extends p.A{constructor(e,t){var i;super(e,t),this.WIDGET_SHARED_DATA_KEY="WidgetSharedDataKey",this._wishlistCallbackHandler=void 0,this._shouldShowActionCard=(e,t)=>{if((null==e?void 0:e.actionType)===h.Q.ADD_TO_WISHLIST){if(!t||!t.params.collectionStateTrueButtonText||!t.params.collectionStateFalseButtonText)return!1}else if(!e||!e.text)return!1;return!0},this._renderNotifyMeActionCard=(e,t)=>{const i=null==e?void 0:e.value,n=null==e?void 0:e.action;return this._shouldShowActionCard(i,n)?r.createElement(c.S,{disabled:this.state.isLoading,onPress:this._actionTapped,onPressParam:n,tappableStyle:u.C1.flex,key:`notify_action_card_${t}`},i&&r.createElement(a.View,{style:S._styleForContainer(i,this.props)},r.createElement(a.Text,{style:S._styleForActionText(i)},this._getValueText(n,i)))):null},this._getValueText=(e,t)=>e&&t.actionType===h.Q.ADD_TO_WISHLIST?this.state.isInWishlist?e.params.collectionStateTrueButtonText:e.params.collectionStateFalseButtonText:t.text,this.successHandler=()=>{this.setState({isLoading:!1})},this.showBtnLoader=()=>{this.setState({isLoading:!0})},this.errorHandler=()=>{this.setState({isLoading:!1})},this._actionTapped=(e,t)=>{if(this.trackDiscoveryWidgetClickEvent(),!this.state.isLoading&&t){const e=t;if(e.type===g.a.COLLECTION_ADD){if(this.state.isInWishlist&&t.params.addedToWishlistToastMessage)return void this._showAlreadyInWishlistSnackbar(t.params.addedToWishlistToastMessage);this._wishlistCallbackHandler||(this._wishlistCallbackHandler=new m.M(this.successHandler,this.errorHandler,this.showBtnLoader)),e.params=Object.assign(Object.assign({},e.params),{isAddToWishlistButtonClicked:t.params.isAddToWishlistButtonClicked||!0,isPresentInWishlist:this.state.isInWishlist,apiCallbackHandler:this._wishlistCallbackHandler})}this.dispatchAction(l.Q3.MAPI_ACTION,new d.rs(e)),this.sendAddToWishlistEvent(e)}};const n=this._getNotifyMeWidget();this.isNotifyMeV4Experience=(null===(i=null==n?void 0:n.type)||void 0===i?void 0:i.toString())===E.n.NOTIFY_V4}_getNotifyMeWidget(){return(0,s.nS)(this.props.widgetSlotData)}getDerivedState(e,t){const i=this._isProductPresentInWishlist(e);return Object.assign(Object.assign({},super.getDerivedState(e,t)),{isInWishlist:i})}static getWidgetHeight(e){const t=(0,s.xH)(e.widgetSlotData),i=null==t?void 0:t.displayState;return t&&t.actions?i&&i.value&&i.value.text?80:56:0}_isProductPresentInWishlist(e){const t=this.generateCollectionState(),i=e.pageInfo?e.pageInfo.pageContext:void 0,n=i?i.productId:void 0;return v.A.isPresentInWishlist(t,n,e,this.getWidgetSharedDataHelper())}generateCollectionState(){var e,t;const i=null===(e=this._getNotifyMeWidget())||void 0===e?void 0:e.sharedData;return{type:this.WIDGET_SHARED_DATA_KEY,sharedDataKey:i&&Object.keys(i)[0],fallbackValue:(null===(t=this.state)||void 0===t?void 0:t.isInWishlist)||!1}}shouldStateUpdate(e,t){const i=p.A.isPresentInWishlist(e);return this.state.isInWishlist!==i||super.shouldStateUpdate(e,t)}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i)||this.isNotifyMeV4Experience&&(this.state.isInWishlist!==t.isInWishlist||this.state.isLoading!==t.isLoading)}renderWidget(){var e,t,i,n,s,l;const d=this._getNotifyMeWidget(),h=(null===(e=null==d?void 0:d.type)||void 0===e?void 0:e.toString())===E.n.OOS_ACTION,p=null==d?void 0:d.data,g=null==p?void 0:p.actions,m=null===(i=null===(t=null==p?void 0:p.displayState)||void 0===t?void 0:t.value)||void 0===i?void 0:i.text,v=null===(s=null===(n=null==p?void 0:p.displayState)||void 0===n?void 0:n.value)||void 0===s?void 0:s.textColor,_=null==p?void 0:p.oosAction,C={width:this.getScreenWidth()};if(g)return r.createElement(a.View,{style:o.gu.widgetContainer},!h&&!this.isNotifyMeV4Experience&&m&&r.createElement(a.View,{style:[u.C1.row,u.C1.justifyContentCenter,u.C1.height_26,C]},r.createElement(a.Text,{style:[o.gu.displayStateText,!!v&&{color:v}]},m)),h&&m&&r.createElement(a.View,{style:[u.C1.row,u.C1.justifyContentSpaceBetween,u.C1.alignItemCenter,C,{backgroundColor:T.Jyk.paleBlue}]},r.createElement(a.Text,{style:[o.dX,u.C1.shrinkContent]},m),_&&(null===(l=_.value)||void 0===l?void 0:l.text)&&r.createElement(c.S,{onPress:this._actionTapped,onPressParam:_.action},r.createElement(a.View,{style:[u.C1.margin_vertical_8,u.C1.margin_left_16,u.C1.margin_right_12]},r.createElement(a.Text,{style:o.nX},_.value.text)))),r.createElement(a.View,{style:o.gu.container},g.map(this._renderNotifyMeActionCard)))}static _styleForContainer(e,t){var i;let n=o.gu.buttonContainer;const r=(0,f.Hm)(null==t?void 0:t.themeContext);switch(null===(i=e.actionType)||void 0===i?void 0:i.toString()){case h.Q.NOTIFY_ME_V2:case h.Q.ADD_TO_WISHLIST:case h.Q.CHANGE_PINCODE:n=o.gu.whiteButtonContainer;break;case h.Q.NOTIFY_ME_V4:case h.Q.SHOW_SIMILAR:n=o.gu.fkBlueButtonContainer,r&&(n=Object.assign(Object.assign({},n),{backgroundColor:r}));break;case h.Q.OOS_BUY_NOW:n=o.gu.oosBNButtonContainer;break;case h.Q.OOS_ATC:n=o.gu.oosATCButtonContainer}return e.buttonColor?Object.assign(Object.assign({},n),{backgroundColor:e.buttonColor}):n}static _styleForActionText(e){var t;let i=o.gu.actionButtonText;switch(null===(t=e.actionType)||void 0===t?void 0:t.toString()){case h.Q.NOTIFY_ME_V4:case h.Q.SHOW_SIMILAR:case h.Q.OOS_BUY_NOW:i=o.gu.actionButtonWhiteText;break;case h.Q.OOS_ATC:i=o.gu.actionButtonGreyText}return e.buttonTextColor?Object.assign(Object.assign({},i),{color:e.buttonTextColor}):i}_showAlreadyInWishlistSnackbar(e){var t,i;null===(i=(t=this.props).actionDispatcher)||void 0===i||i.call(t,new _.B6({snackBarProps:{message:e,duration:C.g.LONG,design:0}}))}sendAddToWishlistEvent(e){var t,i,n,r;const a=this.getProductPageContext(),o=null!==(t=e.params.lid)&&void 0!==t?t:null==a?void 0:a.listingId,s=null===(i=null==a?void 0:a.analyticsData)||void 0===i?void 0:i.category,l=null===(r=null===(n=null==a?void 0:a.pricing)||void 0===n?void 0:n.finalPrice)||void 0===r?void 0:r.value,d=null==a?void 0:a.marketplace;(0,A.W0)(o,e.params.pid,s,d,l)}}class y extends n.A{getWidgetClass(e){return S}getWidgetHeight(e){return S.getWidgetHeight(e)}}},399722:(e,t,i)=>{"use strict";i.d(t,{A:()=>p});var n=i(296540),r=i(763638),a=i(877293),o=i(23834),s=i(813652),l=i(45426),d=i(479892),c=i(352254),u=i(313169);class h extends o.A{render(){return n.createElement(a.View,{style:this.props.voteComponentContainerStyle||[d.C1.row_space_between,d.C1.contentSelfAlignCenter]},n.createElement(a.View,{style:d.C1.row},this.renderUpvoteView(),this.renderDownvoteView()),this.props.reportAbuseVisible?n.createElement(l.S,{onPress:this.props.didShowMenuHandler,disableFeedback:!0},n.createElement(a.View,{style:[u.z.kebabContainer,d.C1.justifyContentSpaceBetween,d.C1.alignItemFlexEnd]},n.createElement(c.A,{source:s.OverflowIcon,style:u.z.kebab,width:4,height:12,resizeMode:u.B}))):null)}}class p extends r.h{render(){var e;const t=null===(e=this.props.location)||void 0===e?void 0:e.city,i=t&&`, ${t}`;return n.createElement(a.View,{style:[d.C1.height_72,this.props.containerStyle]},this.props.hideVotes?null:n.createElement(h,{didShowMenuHandler:this.props.didShowMenuHandler,downVoteCount:this.props.downVoteCount,upVoteCount:this.props.upVoteCount,isDownvoteEnabled:this.props.isDownvoteEnabled,isUpvoteEnabled:this.props.isUpvoteEnabled,didDownvoteHandler:this.props.didDownvoteHandler,didUpvoteHandler:this.props.didUpvoteHandler,reportAbuseVisible:this.props.reportAbuseVisible,upVoteStyle:[d.C1.rowWithoutFlex,d.C1.alignItemCenter,d.C1.margin_right_20],voteComponentContainerStyle:[d.C1.row,d.C1.contentAlignStart,d.C1.margin_top_8]}),n.createElement(a.View,{style:[d.C1.row,d.C1.alignItemFlexStart,d.C1.justifyContentCenter,u.z.authorNameContainerHeight,d.C1.margin_bottom_4,d.C1.margin_top_8]},n.createElement(a.View,{style:[d.C1.row,d.C1.alignItemCenter,u.z.authorNameContainerHeight]},this.props.authorName?n.createElement(a.Text,{style:[u.z.footerAuthorText,d.XT.alignTextLeft,t?{}:d.C1.width_full],numberOfLines:1},this.props.authorName):null,i?n.createElement(a.Text,{style:u.z.footerLocationText,numberOfLines:1},i):null)),n.createElement(a.View,{style:u.z.authorTagsContainer},this.getAuthorTags(this.state.viewModel)))}}},402970:(e,t,i)=>{var n=i(523541);e.exports=function(e){if(e>=55296&&e<=57343||e>1114111)return"";e in n&&(e=n[e]);var t="";e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e);return t+=String.fromCharCode(e)}},405892:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(465420),r=i(346908);class a extends n.A{getWidgetClass(e){return r.F}getWidgetHeight(e){return r.F.getWidgetHeight(e)}}},406143:(e,t,i)=>{var n=i(12987),r=n.DomHandler,a=n.DomUtils;function o(e,t){this.init(e,t)}function s(e,t){return a.getElementsByTagName(e,t,!0)}function l(e,t){return a.getElementsByTagName(e,t,!0,1)[0]}function d(e,t,i){return a.getText(a.getElementsByTagName(e,t,i,1)).trim()}function c(e,t,i,n,r){var a=d(i,n,r);a&&(e[t]=a)}i(256698)(o,r),o.prototype.init=r;var u=function(e){return"rss"===e||"feed"===e||"rdf:RDF"===e};o.prototype.onend=function(){var e,t,i={},n=l(u,this.dom);n&&("feed"===n.name?(t=n.children,i.type="atom",c(i,"id","id",t),c(i,"title","title",t),(e=l("link",t))&&(e=e.attribs)&&(e=e.href)&&(i.link=e),c(i,"description","subtitle",t),(e=d("updated",t))&&(i.updated=new Date(e)),c(i,"author","email",t,!0),i.items=s("entry",t).map((function(e){var t,i={};return c(i,"id","id",e=e.children),c(i,"title","title",e),(t=l("link",e))&&(t=t.attribs)&&(t=t.href)&&(i.link=t),(t=d("summary",e)||d("content",e))&&(i.description=t),(t=d("updated",e))&&(i.pubDate=new Date(t)),i}))):(t=l("channel",n.children).children,i.type=n.name.substr(0,3),i.id="",c(i,"title","title",t),c(i,"link","link",t),c(i,"description","description",t),(e=d("lastBuildDate",t))&&(i.updated=new Date(e)),c(i,"author","managingEditor",t,!0),i.items=s("item",n.children).map((function(e){var t,i={};return c(i,"id","guid",e=e.children),c(i,"title","title",e),c(i,"link","link",e),c(i,"description","description",e),(t=d("pubDate",e))&&(i.pubDate=new Date(t)),i})))),this.dom=i,r.prototype._handleCallback.call(this,n?null:Error("couldn't find root of feed"))},e.exports=o},406644:(e,t,i)=>{"use strict";i.d(t,{$k:()=>h,OU:()=>a,Sy:()=>o,T8:()=>p,Ty:()=>m,WI:()=>u,_R:()=>_,eH:()=>v,fM:()=>l,j6:()=>s,jm:()=>g,km:()=>d,wN:()=>c});var n=i(302019),r=i(347924);const a=n.fI.extendComponent({name:"BrandWidgetContainerView",defaultProps:e=>({flex:1,alignItems:"center",justifyContent:"flex-start",pb:e.isLastBrandLayout?"s6":"s5"})}),o=n.fv.extendComponent({name:"BrandCalloutContainerListView",defaultProps:{flexWrap:"wrap",mx:"s6"}}),s=n.fI.extendComponent({name:"BrandContainerT1View",defaultProps:{flexWrap:"wrap",mx:"s6",my:"s6"}}),l=n.fI.extendComponent({name:"BrandContainerImageView",defaultProps:{borderRadius:4,borderWidth:1,borderColor:"v2.neutral.300",px:"s2",py:"s2",mr:"s4"}}),d=n.fI.extendComponent({name:"BrandContainerT2View",defaultProps:{flexWrap:"wrap",mx:"s6",my:"s4",pb:"s2"}}),c=n.fv.extendComponent({name:"BrandCalloutContainerView",defaultProps:{flex:1,alignItems:"center",justifyContent:"flex-start",pb:"s4"}}),u=n.JU.extendComponent({name:"BrandCalloutLabel",defaultProps:{color:"text.primary",font:"m",textAlign:"center",includeFontPadding:!1,flex:1,flexWrap:"wrap",alignItems:"center",mx:"s4",mt:"s4",mb:"s2"}}),h=n.JU.extendComponent({name:"BrandCalloutListViewLabel",defaultProps:{color:"text.primary",font:"m_medium",textAlign:"left",flex:1,ml:"s4",mb:"s1"}}),p=n.JU.extendComponent({name:"BrandCalloutListViewSubTitleLabel",defaultProps:{color:"text.secondary",font:"m",textAlign:"left",flex:1,ml:"s4"}}),g=(n.JU.extendComponent({name:"BrandInfoSeperatorLabel",defaultProps:{alignSelf:"center"}}),n.JU.extendComponent({name:"BrandMoreInfoButton",defaultProps:{py:"s3",px:"s3",borderRadius:4,textAlign:"center",mb:"s6",mx:"s6",color:"primary.main",borderWidth:1,borderColor:"raw.grey.100",font:"m_medium",display:"flex",justifyContent:"center",alignItems:"center"}})),m=n.JU.extendComponent({name:"BrandInfoHeaderLabel",defaultProps:{alignSelf:"flex-start",color:"raw.grey.300",font:"m",lineHeight:16}}),v=n.JU.extendComponent({name:"BrandInfoTitleLabel",defaultProps:{alignSelf:"flex-start",color:"raw.black.500",font:"l_medium",lineHeight:24}}),_=r.az.extendComponent({name:"BrandStoreContainer",defaultProps:{alignItems:"center",justifyContent:"center",p:"s4",mx:"s6",mb:"s6",borderRadius:4,borderColor:"v2.neutral.300",borderWidth:1}})},409871:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(395567),r=i(97529),a=i(90513),o=i(918210),s=i(229833);class l{handleAction(e,t,i){if(e.payload&&t.pageDataResponse&&e.payload instanceof n.NFE){const i=t.pageDataResponse.pageContext;if(i.trackingDataV2){const n={},l=i.trackingDataV2.sproduct+`|eVar94=${e.payload.saleId}_${e.payload.asmDisplayState}`;let d;switch(n[a.Ay.PRODUCTS]=l,e.payload.type){case r.A.ASM_TIMER_END:s.A.fillOmnitureValues([a.Ay.PROP3],n,t),d="ASM Intermitent state";break;case r.A.ASM_REGISTER:s.A.addEvent(n,a.fM.EVENT101),s.A.fillOmnitureValues([a.Ay.PROP3],n,t),d="ASM successful registration";break;case r.A.JOIN_WAITLIST:s.A.addEvent(n,a.fM.EVENT173),d="ASM join waitlist";break;case r.A.COMPLETE_PURCHASE:s.A.addEvent(n,a.fM.EVENT_SC_CHECKOUT),s.A.addEvent(n,a.fM.EVENT172),d="ASM complete checkout after buy now";break;case r.A.COMPLETE_PURCHASE_CONTINUE:s.A.addEvent(n,a.fM.EVENT_SC_CHECKOUT),s.A.addEvent(n,a.fM.EVENT171),d="ASM continue after buy now";break;default:return!1}return d&&o.A.addAndtrackEventUnderName(d,n),!0}}return!1}}},412080:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(214181),r=i(820101),a=i(104035);class o extends r.P{getPageClass(){return a.w}}var s=i(100600),l=i(312520),d=i(587069);class c extends n.default{constructor(e,t){super(e,t),this.getPageCreator=()=>o,this.getActionMapper=()=>d.A,s.default.loadedWidgetMappers.ProductPageMapper=l.default}}},412756:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>Ve});var n=i(465420),r=i(915070),a=i(52754),o=i(296540),s=i(716249),l=i(414241),d=i(877293),c=i(479892);class u extends l.A{render(){const e=this.props.data;return o.createElement(d.View,{style:this.state.containerStyle},this.renderImage(e.image),this.renderTitle(e.title),this.renderSubTitle(e.subTitle),"ASK_QUESTION_QNA"===this.props.viewType?this.renderRevampedButton(e.button):this.renderButton(e.button))}getBtnViewStyle(e,t){return[c.C1.margin_top_16,c.C1.alignItemCenter,e.btnViewStyle]}getTitleTextStyle(e,t){return[c.XT.fontMedium_14,c.C1.margin_top_16,e.titleTextStyle]}getSubTitleTextStyle(e,t){return[c.XT.fontRegular_12,c.C1.margin_top_4,e.subTitleTextStyle]}}var h=i(45426),p=i(751259);class g extends s.A{constructor(e,t){super(e,t),this._showDivider=!0;const i=e.pageInfo&&e.pageInfo.pageTheme;this._showDivider=i!==p.S.dark}static getWidgetHeight(e){const t=(0,a.nS)(e.widgetSlotData),i=t?t.data:void 0;return i&&i.data&&i.data.value?u.getWidgetHeight(i.data.value)+s.A.getAdditionalHeight(e):0}renderDivider(){return this._showDivider?super.renderDivider():null}renderWidget(){const e=(0,a.nS)(this.props.widgetSlotData),t=e?e.data:void 0;if(t&&t.data&&t.data.value)return o.createElement(h.S,{onPress:this.dispatchAndTrackWidgetClick,onPressParam:t.data,disableFeedback:!0},o.createElement(d.View,null,o.createElement(u,{data:t.data.value,onButtonPress:this.dispatchAndTrackContentClick,onTitleSubTitlePress:this.dispatchAndTrackContentClick,onButtonPressParam:t.data.value.button,sharedDataHelper:this.getWidgetSharedDataHelper(),pageSharedData:s.A.getPageSharedData(this.props),titleTextStyle:c.XT.fontRegular_14,subTitleTextStyle:c.XT.fontMedium_12})))}}var m=i(229022),v=i(198213),_=i(110941),C=i(495176),E=i(398581),T=i(492418);class f extends s.A{constructor(e,t){super(e,t),this.GRADIENT_START_POINT=[0,0],this.GRADIENT_END_POINT=[0,.7],this.GRADIENT_STYLE={flex:1,justifyContent:"flex-end"},this.LOGO_STYLE=[c.C1.contentSelfAlignCenter],this.PARENT_VIEW_STYLE={width:this.props.appContext.uiContext.getPageFrame().width,height:this.props.appContext.uiContext.getPageFrame().height,overflow:"hidden"},this.TITLE_STYLE={marginTop:40},this.SUBTITLE_STYLE={marginTop:8,marginBottom:32,opacity:.7},this.TITLE_TEXT_STYLE=[c.XT.fontMedium_24,c.XT.alignTextCenter,c.XT.lineHeight_32,c.C1.padding_bottom_4],this.SUBTITLE_TEXT_STYLE=[c.XT.fontRegular_14,c.XT.alignTextCenter],this.BUTTON_TEXT_STYLE=[c.XT.fontMedium_14,{color:T.Jyk.white}],this.state=this._getDerivedState(e,void 0)}static getWidgetHeight(e){return e.appContext.uiContext.getPageFrame().height+this.getAdditionalHeight(e)}renderDivider(){}renderWidget(){const e=(0,a.nS)(this.props.widgetSlotData),t=e&&e.data,i=t&&t.data,n=i&&i.value;if(n)return this.handleView(n)}handleBackgroundView(e,t){return o.createElement(v.Dk,{disableDefaultPlaceholderImage:!0,placeholderBackgroundColor:this.props.appContext.uiContext.placeholderBackgroundColor,source:e,height:t,width:this.props.appContext.uiContext.getPageFrame().width,resizeMode:"cover"})}getContentView(e){const t=e.image,i=t&&t.dynamicImageUrl,n=t&&_.A.getWidth(this.getLogoImageHeight(t.height),t.aspectRatio,this.getDefaultWidth()),r=!!(t&&n&&i),a=e.button;return o.createElement(d.View,{style:c.C1.margin_bottom_16},o.createElement(d.View,{style:c.C1.margin_horizontal_24},r&&t&&o.createElement(v.Dk,{style:this.LOGO_STYLE,source:i,height:this.getLogoImageHeight(t.height),width:n,roundedCorner:32}),this.renderTitle(e.title,this.getTitleStyle(),this.TITLE_TEXT_STYLE),this.renderTitle(e.subTitle,this.getSubTitleStyle(),this.getSubTitleTextStyle(e.subTitle))),a&&a.value&&o.createElement(d.View,null,o.createElement(m.A,{btnData:a,disableFeedback:!0,onPress:this.dispatchAndTrackContentClick,onPressParam:a,btnViewStyle:this.getButtonViewStyle(),btnTextStyle:this.getButtonTextStyle()})))}renderTitle(e,t,i){if(e)return o.createElement(d.View,{style:t},o.createElement(C.A,{richTextData:e.value,style:i}))}getBackgroundColor(){const e=(0,a.nS)(this.props.widgetSlotData),t=e&&e.data,i=t&&t.data,n=i&&i.value;if(n&&n.bgColour)return n.bgColour}getButtonTextStyle(){return this.BUTTON_TEXT_STYLE}getButtonViewStyle(){return c.PH.continueButton}getTitleStyle(){return this.TITLE_STYLE}getSubTitleStyle(){return this.SUBTITLE_STYLE}getSubTitleTextStyle(e){var t;return e&&(null===(t=e.value)||void 0===t?void 0:t.textColor)&&Array.isArray(this.SUBTITLE_TEXT_STYLE)&&this.SUBTITLE_TEXT_STYLE.push({color:e.value.textColor}),this.SUBTITLE_TEXT_STYLE}getLogoImageHeight(e){return e>0?e:64}getDefaultWidth(){return 0}handleView(e){const t=e.bgImage,i=t&&t.dynamicImageUrl,n=t&&_.A.getHeight(this.props.appContext.uiContext.getPageFrame().width,t.aspectRatio);return o.createElement(d.View,{style:this.PARENT_VIEW_STYLE},t&&i&&n&&this.handleBackgroundView(i,n),o.createElement(d.View,{style:c.C1.overlay},o.createElement(E.W,{gradientColors:this.state.gradientColors,style:this.GRADIENT_STYLE,gradientStart:this.GRADIENT_START_POINT,gradientEnd:this.GRADIENT_END_POINT},this.getContentView(e))))}_getDerivedState(e,t){const i=(0,a.nS)(this.props.widgetSlotData),n=i&&i.data,r=n&&n.data;if(r&&r.value&&r.value.gradient){const i=[r.value.gradient.startBleedingColor,r.value.gradient.stopBleedingColor];return Object.assign(Object.assign({},super.getDerivedState(e,t)),{gradientColors:i})}return super.getDerivedState(e,t)}}var A=i(728544);class S extends s.A{constructor(){super(...arguments),this.containerStyle=[c.C1.padding_left_8,c.C1.padding_right_8,c.C1.padding8V],this._subtitleTextStyle=[c.XT.fontMedium_12,c.C1.margin_top_2],this.NON_SERVICEABLE_ITEM="NON_SERVICEABLE_ITEM"}static getWidgetHeight(e){const t=(0,a.nS)(e.widgetSlotData),i=t?t.data:void 0;if(!i||!i.data||!i.data.value)return 0;const n=i.data.value,r=A.A.getImageHeight(n);let o=0;n.title&&n.title.value&&(o+=18),n.subTitle&&n.subTitle.value&&(o+=18);const l=n.borderWidthTop?n.borderWidthTop:0,d=n.borderWidthBottom?n.borderWidthBottom:0;return Math.max(r,o)+l+d+16+s.A.getAdditionalHeight(e)}renderWidget(){const e=(0,a.nS)(this.props.widgetSlotData),t=e?e.data:void 0,i=e?e.viewType:void 0,n=i&&i===this.NON_SERVICEABLE_ITEM,r=n?c.C1.errorMessageView:c.XT.fontRegular_14;if(t&&t.data&&t.data.value)return o.createElement(d.View,null,o.createElement(A.A,{data:t.data.value,containerStyle:this.containerStyle,onButtonPress:this.dispatchAndTrackContentClick,onTitleSubTitlePress:this.dispatchAndTrackContentClick,onButtonPressParam:t.data.value.button,sharedDataHelper:this.getWidgetSharedDataHelper(),pageSharedData:s.A.getPageSharedData(this.props),titleTextStyle:r,subTitleTextStyle:this._subtitleTextStyle,textContainerStyle:c.C1.padding8H,titleNumberOfLines:n?4:1,subTitleNumberOfLines:1,onPress:this.dispatchAndTrackWidgetClick,onPressParam:t.data,disableFeedback:!0,btnViewStyle:this.buttonViewStyle}))}renderDivider(){}}class y extends f{static getWidgetHeight(e){return e.appContext.uiContext.getPageFrame().height+this.getAdditionalHeight(e)}constructor(e,t){super(e,t),this.TITLE_STYLE=[c.C1.margin_top_8,c.XT.alignTextCenter,c.XT.fontMedium_24,c.C1.margin_horizontal_32],this.SUBTITLE_STYLE=[c.C1.margin_top_8,c.C1.margin_horizontal_32,c.XT.alignTextCenter],this.BUTTON_TEXT_STYLE=[c.XT.fontMedium_14,{color:T.Cf1.fkBlueColor}],this.PARENT_VIEW_STYLE=[c.C1.col,c.C1.contentAlignCenterJustifyCenter,{height:e.appContext.uiContext.getPageFrame().height-T.vzS,backgroundColor:this.getBackgroundColor()||T.Jyk.hyperlocalGreen},c.C1.overflowHidden],this.SUBTITLE_TEXT_STYLE=[c.XT.fontRegular_16,c.XT.alignTextCenter,c.XT.lineHeight_24],this.TITLE_TEXT_STYLE=[c.XT.fontMedium_24,c.XT.alignTextCenter,c.XT.lineHeight_36]}handleView(e){return o.createElement(d.View,{style:this.PARENT_VIEW_STYLE},o.createElement(d.View,null,this.getContentView(e)))}getTitleStyle(){return this.TITLE_STYLE}getSubTitleStyle(){return this.SUBTITLE_STYLE}getLogoImageHeight(e){return e>0?e:y.LOGO_IMAGE_HEIGHT}getDefaultWidth(){return y.LOGO_IMAGE_WIDTH}getButtonViewStyle(){return[c.C1.margin_top_32,c.C1.height_40,{marginHorizontal:64},c.C1.centerContents,c.C1.border_radius_4]}getButtonTextStyle(){return this.BUTTON_TEXT_STYLE}}y.LOGO_IMAGE_HEIGHT=256,y.LOGO_IMAGE_WIDTH=360;class w extends s.A{static getWidgetHeight(e){const t=(0,a.nS)(e.widgetSlotData),i=t?t.data:void 0;if(!i||!i.data||!i.data.value)return 0;const n=i.data.value,r=A.A.getImageHeight(n);let o=0;n.title&&n.title.value&&(o+=44),n.subTitle&&n.subTitle.value&&(o+=18);const l=n.borderWidthTop?n.borderWidthTop:0,d=n.borderWidthBottom?n.borderWidthBottom:0;return Math.max(r,o)+l+d+16+s.A.getAdditionalHeight(e)}renderWidget(){const e=(0,a.nS)(this.props.widgetSlotData),t=e?e.data:void 0;if(t&&t.data&&t.data.value)return o.createElement(d.View,null,o.createElement(A.A,{data:t.data.value,onButtonPress:this.dispatchAndTrackContentClick,onTitleSubTitlePress:this.dispatchAndTrackContentClick,onButtonPressParam:t.data.value.button,sharedDataHelper:this.getWidgetSharedDataHelper(),pageSharedData:s.A.getPageSharedData(this.props),titleTextStyle:w.TITLE_TEXT_STYLE,subTitleTextStyle:w.SUBTITLE_TEXT_STYLE,titleNumberOfLines:2,subTitleNumberOfLines:1,onPress:this.dispatchAndTrackWidgetClick,onPressParam:t.data,disableFeedback:!0,textContainerStyle:c.C1.padding8H}))}renderDivider(){}}w.SUBTITLE_TEXT_STYLE=[c.XT.fontMedium_12,c.C1.margin_top_2],w.TITLE_TEXT_STYLE=[c.XT.fontMedium_14,c.XT.lineHeight_20,c.C1.margin_right_12];var I=i(808584),b=i(352254),D=i(879052);class x extends u{render(){const e=this.props.data;let t;return t=e.bgImage?this.renderImageWithBg(e.image,e.bgImage):this.renderImage(e.image),o.createElement(d.View,{style:this.state.containerStyle},t,this.renderTitle(e.title),this.renderSubTitle(e.subTitle),this.renderButton(e.button))}renderImage(e,t){if(!e)return null;const i=e.width?e.width:l.A.IMAGE_DEFAULT_WIDTH,n=e.height?e.height:l.A.IMAGE_DEFAULT_HEIGHT;return e&&o.createElement(d.View,{style:[this.getImageBorderStyle(),t]},o.createElement(I.A,Object.assign({},(0,D.Z)("Announcement_Image"),{imageValue:e,width:i,height:n,style:this.props.imageStyle})))}renderImageWithBg(e,t){if(!t)return;const i=t.width,n=t.height;return o.createElement(d.View,{style:c.C1.contentAlignCenter},o.createElement(b.A,Object.assign({},(0,D.Z)("Announcement_Image_With_Bg"),{resizeMode:"cover",source:t.dynamicImageUrl,width:i,height:n})),this.renderImage(e,c.C1.positionAbsolute))}getImageBorderStyle(){return{borderRadius:this.props.data.borderRadius,borderLeftWidth:this.props.data.borderWidthLeft,borderRightWidth:this.props.data.borderWidthRight,borderTopWidth:this.props.data.borderWidthTop,borderBottomWidth:this.props.data.borderWidthBottom,borderColor:this.props.data.borderColour}}getContainerStyle(e,t){const i={backgroundColor:e.data.bgColour};return[c.C1.col,c.C1.contentAlignCenter,c.C1.padding_8,e.containerStyle,i]}}class P extends s.A{constructor(){super(...arguments),this.announcementContainer={height:this.props.appContext.uiContext.getPageFrame().height}}static getWidgetHeight(e){return e.appContext.uiContext.getPageFrame().height}renderWidget(){const e=(0,a.nS)(this.props.widgetSlotData),t=e?e.data:void 0;if(t&&t.data&&t.data.value)return o.createElement(d.View,{style:this.announcementContainer},o.createElement(x,{data:t.data.value,onButtonPress:this.dispatchAndTrackContentClick,onButtonPressParam:t.data.value.button,sharedDataHelper:this.getWidgetSharedDataHelper(),pageSharedData:s.A.getPageSharedData(this.props),titleNumberOfLines:1,subTitleNumberOfLines:1,onPress:this.dispatchAndTrackWidgetClick,onPressParam:t.data,disableFeedback:!0}))}renderDivider(){}}class O extends s.A{constructor(e,t){super(e,t),this.btnViewStyle=[c.C1.padding4V,c.C1.margin_top_12,c.C1.border_radius_2,{backgroundColor:T.p$u}],this.titleStyle=[c.XT.fontMedium_16,c.XT.alignTextCenter,c.XT.lineHeight_24,c.C1.margin_top_10],this.subTitleStyle=[c.XT.fkGrayFortyText,c.XT.fontRegular_14,c.XT.alignTextCenter,c.XT.lineHeight_24,c.C1.margin_top_8],this.btnTextStyle=[c.C1.flex,c.XT.whiteText,c.XT.lineHeight_24,c.XT.fontMedium_14,c.XT.alignTextCenter],this.announcementContainerStyle=[c.C1.padding24V,c.C1.padding16H,c.C1.backgroundWhite,c.C1.justifyContentStart],this.onPress=(e,t)=>{this.dispatchAndTrackWidgetClick(e,t)},this.state=this.getDerivedState(e,void 0)}static getWidgetHeight(e){var t;const i=(0,a.nS)(e.widgetSlotData),n=i&&i.data;return(null===(t=null==n?void 0:n.data)||void 0===t?void 0:t.value)?O.getContentHeightFromProps(e):0}getDerivedState(e,t){const i=O.getContentHeightFromProps(e);return Object.assign(Object.assign({},super.getDerivedState(e,t)),{contentHeight:i})}shouldStateUpdate(e,t){const i=O.getContentHeightFromProps(e);return super.shouldStateUpdate(e,t)||this.state.contentHeight!==i}shouldComponentUpdate(e,t,i){const n=O.getContentHeightFromProps(e);return super.shouldComponentUpdate(e,t,i)||this.state.contentHeight!==n}renderWidget(){var e,t;const i=(0,a.nS)(this.props.widgetSlotData),n=i&&i.data,r=null===(e=null==n?void 0:n.data)||void 0===e?void 0:e.value;if(!r)return;const s=null===(t=r.image)||void 0===t?void 0:t.aspectRatio,l=_.A.getWidth(O.IMAGE_HEIGHT,s,O.IMAGE_HEIGHT),d=[this.announcementContainerStyle,{height:this.state.contentHeight}];return o.createElement(x,{imageDefaultHeight:O.IMAGE_HEIGHT,imageWidth:l,data:r,onButtonPress:this.onPress,onTitleSubTitlePress:this.onPress,onButtonPressParam:r.button,titleTextStyle:this.titleStyle,subTitleTextStyle:this.subTitleStyle,btnViewStyle:this.btnViewStyle,btnTextStyle:this.btnTextStyle,containerStyle:d})}renderDivider(){}}O.IMAGE_HEIGHT=50,O.getContentHeightFromProps=e=>{const t=e.appContext.uiContext.getDimension("window").height-56,{top:i=0,bottom:n=0}=e.appContext.uiContext.getWindowSafeAreaInset();return t-i-n};class R extends s.A{constructor(){super(...arguments),this.textContainerStyle=[c.C1.col,c.C1.contentSelfAlignCenter,c.C1.contentAlignCenterWithFlex,{height:R.HEIGHT}],this.scoreTextStyle=[c.XT.fontRegular_12,c.XT.lineHeight_16,{color:T.Jyk.whiteWithOpacity70}],this.scoreSubTextStyle=[c.XT.fontMedium_14,c.XT.lineHeight_20,{color:T.Jyk.white},c.C1.margin_top_4],this.GRADIENT_START_POINT=[0,0],this.GRADIENT_END_POINT=[1,1]}static getWidgetHeight(e){const t=(0,a.nS)(e.widgetSlotData),i=t&&t.data;return i&&i.data&&i.data.value&&i.data.value.title&&i.data.value.subTitle?R.HEIGHT:0}isHeaderBottomBorderEnabled(){return!1}renderDivider(){}renderWidget(){const e=(0,a.nS)(this.props.widgetSlotData),t=e&&e.data;if(!(t&&t.data&&t.data.value&&t.data.value.title&&t.data.value.subTitle))return;const i=t.data.value.title,n=t.data.value.subTitle;if(!(i&&i.value&&i.value.text&&n&&n.value&&n.value.text))return;const r=t.data.value.gradient,s=o.createElement(d.View,{style:this.textContainerStyle},o.createElement(C.A,{style:this.scoreTextStyle,richTextData:i.value}),o.createElement(C.A,{style:this.scoreSubTextStyle,richTextData:n.value}));return r?o.createElement(E.W,{gradientColors:[r.startBleedingColor,r.stopBleedingColor],gradientStart:this.GRADIENT_START_POINT,gradientEnd:this.GRADIENT_END_POINT},s):s}}R.HEIGHT=64;var k=i(169211);class V extends u{getContainerStyle(e,t){return[super.getContainerStyle(e,t),c.C1.backgroundClear]}getTitleTextStyle(e,t){return[c.XT.fontMedium_24,c.XT.alignTextCenter,e.titleTextStyle]}}var L=i(947688);class M extends g{constructor(){super(...arguments),this.IMAGE_HEIGHT=200}static getWidgetHeight(e){return e.appContext.uiContext.windowFrame.height*this.heightPercentage}getHeight(e){return(0,L.l)(e).height*M.heightPercentage}renderWidget(){var e;const t=(0,a.nS)(this.props.widgetSlotData),i=t&&t.data;if(!i||!i.data||!i.data.value)return;const n=null===(e=(0,a.lf)(this.props.widgetSlotData))||void 0===e?void 0:e.backgroundColor,r=[{height:this.getHeight(this.props),backgroundColor:i.data.value.bgColour||n||T.Jyk.hyperlocalGreen},c.C1.contentAlignCenterJustifyCenter],l=i.data.value.image&&i.data.value.image.aspectRatio,u=_.A.getWidth(this.IMAGE_HEIGHT,l,this.IMAGE_HEIGHT);return o.createElement(k.S,{onPress:this.dispatchAndTrackWidgetClick,onPressParam:i.data,disableFeedback:!0},o.createElement(d.View,{style:r},o.createElement(V,{imageWidth:u,imageDefaultHeight:this.IMAGE_HEIGHT,data:i.data.value,onButtonPress:this.dispatchAndTrackContentClick,onTitleSubTitlePress:this.dispatchAndTrackContentClick,onButtonPressParam:i.data.value.button,sharedDataHelper:this.getWidgetSharedDataHelper(),pageSharedData:s.A.getPageSharedData(this.props),titleTextStyle:[c.XT.fontMedium_24,c.XT.alignTextCenter,c.C1.padding32H],subTitleTextStyle:c.XT.fontMedium_12})))}}M.heightPercentage=.58;class N extends s.A{constructor(){super(...arguments),this.IMAGE_HEIGHT=50,this.btnViewStyle=[c.C1.height_50,c.C1.margin_top_12,c.C1.border_radius_2,{backgroundColor:T.p$u}],this.titleStyle=[c.XT.fontMedium_16,c.XT.alignTextCenter,c.XT.lineHeight_24,c.C1.margin_top_10],this.subTitleStyle=[c.XT.fkGrayFortyText,c.XT.fontRegular_14,c.XT.alignTextCenter,c.XT.lineHeight_24,c.C1.margin_top_8],this.btnTextStyle=[c.C1.flex,c.XT.whiteText,c.XT.lineHeight_24,c.XT.fontMedium_14,c.XT.alignTextCenter],this.onPress=(e,t)=>{this.dispatchAndTrackWidgetClick(e,t)}}static getWidgetHeight(e){var t;const i=(0,a.nS)(e.widgetSlotData),n=i&&i.data,r=null===(t=null==n?void 0:n.data)||void 0===t?void 0:t.value;return r?u.getWidgetHeight(r)+s.A.getAdditionalHeight(e):0}renderWidget(){var e,t;const i=(0,a.nS)(this.props.widgetSlotData),n=i&&i.data,r=null===(e=null==n?void 0:n.data)||void 0===e?void 0:e.value;if(!r)return;const s=null===(t=r.image)||void 0===t?void 0:t.aspectRatio,l=_.A.getWidth(this.IMAGE_HEIGHT,s,this.IMAGE_HEIGHT);return o.createElement(h.S,{onPress:this.dispatchAndTrackWidgetClick,onPressParam:null==n?void 0:n.data,disableFeedback:!0},o.createElement(u,{imageWidth:l,imageDefaultHeight:this.IMAGE_HEIGHT,data:r,onButtonPress:this.onPress,onTitleSubTitlePress:this.onPress,onButtonPressParam:r.button,titleTextStyle:this.titleStyle,subTitleTextStyle:this.subTitleStyle,btnViewStyle:this.btnViewStyle,btnTextStyle:this.btnTextStyle}))}renderDivider(){}}class H extends M{static getWidgetHeight(e){return e.appContext.uiContext.windowFrame.height-this.WIDGET_OFFSET-T.vzS}getHeight(e){const t=this.props.appContext.uiContext.getWindowSafeAreaInset(),i=a.nS(e.widgetSlotData),n="VERTICAL_BOTTOM_ALIGNED_V3"===(i?i.viewType:void 0)?235:H.WIDGET_OFFSET;return this.getScreenHeight()-n-T.vzS-t.bottom-t.top}}H.WIDGET_OFFSET=120;class W extends M{static getWidgetHeight(e){return e.appContext.uiContext.windowFrame.height-this.WIDGET_OFFSET-T.vzS}getHeight(){const e=this.props.appContext.uiContext.getWindowSafeAreaInset();return(0,L.l)(this.props).height-W.WIDGET_OFFSET-T.vzS-e.bottom-e.top}}W.WIDGET_OFFSET=170;class B extends s.A{constructor(){super(...arguments),this.textContainerStyle=[c.C1.col,c.C1.padding16],this.textStyle=[c.XT.fontMedium_16,c.XT.fkBlackPrimaryText,c.C1.padding_bottom_24],this.subTextStyle=[c.XT.fontRegular_14,,c.XT.fkBlackPrimaryText]}static getWidgetHeight(e){const t=(0,a.nS)(e.widgetSlotData),i=t&&t.data;return i&&i.data&&i.data.value&&i.data.value.title&&i.data.value.subTitle?B.DEFAULT_WIDGET_HEIGHT:0}isHeaderBottomBorderEnabled(){return!1}renderDivider(){}renderWidget(){var e,t,i,n,r;const s=(0,a.nS)(this.props.widgetSlotData),l=s&&s.data;if(!(null===(e=null==l?void 0:l.data)||void 0===e?void 0:e.value))return;const c=null===(t=l.data.value)||void 0===t?void 0:t.title,u=null===(i=l.data.value)||void 0===i?void 0:i.subTitle;return(null===(n=null==u?void 0:u.value)||void 0===n?void 0:n.text)?o.createElement(d.View,{style:this.textContainerStyle},(null===(r=null==c?void 0:c.value)||void 0===r?void 0:r.text)?o.createElement(C.A,{style:this.textStyle,richTextData:c.value}):null,o.createElement(C.A,{style:this.subTextStyle,richTextData:u.value})):void 0}}B.DEFAULT_WIDGET_HEIGHT=136;var U=i(920493),F=i(415283),G=i(914944);class z extends s.A{constructor(){super(...arguments),this.containerStyle=[c.C1.row,c.C1.margin_horizontal_16,c.C1.margin_vertical_24],this.contentContainer=[c.C1.col,c.C1.justifyContentCenter,c.C1.alignItemFlexStart],this.imageContainer=[c.C1.justifyContentFlexEnd,c.C1.contentAlignCenter,c.C1.margin_left_21],this.titleStyle=[c.XT.fontMedium_14,c.XT.fkBlackPrimaryText],this.subTitleStyle=[c.XT.fontRegular_14,c.XT.fkBlackSecondaryText],this.buttonTextStyle=c.XT.buttonText,this.IMAGE_HEIGHT=80,this.onButtonPress=(e,t)=>{t&&this.dispatchAction(F.Q3.MAPI_ACTION,new G.Oy(t))}}static getWidgetHeight(){return this.WIDGET_HEIGHT+2*this.WIDGET_VERTICAL_PADDING}renderWidget(){var e,t;const i=(0,a.nS)(this.props.widgetSlotData),n=i&&i.data;if(!n||!n.data||!n.data.value)return;const r=n.data.value,s=null===(e=null==r?void 0:r.title)||void 0===e?void 0:e.value,l=null===(t=null==r?void 0:r.subTitle)||void 0===t?void 0:t.value,u=r.button,p=r.image,g=p&&p.aspectRatio,m=_.A.getImageRatio(g),v=m?this.IMAGE_HEIGHT*m:0;return o.createElement(h.S,{onPress:this.onButtonPress,onPressParam:null==u?void 0:u.action,disableFeedback:!0},o.createElement(d.View,{style:this.containerStyle},o.createElement(d.View,{style:this.contentContainer},s?o.createElement(d.View,{style:c.C1.margin_bottom_12},o.createElement(d.View,{style:c.C1.margin_bottom_10},o.createElement(C.A,{richTextData:s,style:this.titleStyle})),l&&o.createElement(C.A,{richTextData:l,style:this.subTitleStyle})):null,u&&u.value?o.createElement(U.A,{btnData:u,disableFeedback:!0,btnTextStyle:this.buttonTextStyle,onPress:this.onButtonPress,onPressParam:null==u?void 0:u.action}):null),o.createElement(d.View,{style:this.imageContainer},p&&o.createElement(b.A,{source:p.dynamicImageUrl,height:this.IMAGE_HEIGHT,width:v}))))}}z.WIDGET_HEIGHT=88,z.WIDGET_VERTICAL_PADDING=24;var j=i(586467),X=i(395567),Y=i(97529),q=i(876505);class J extends s.A{constructor(){super(...arguments),this.containerStyle=[c.C1.col,c.C1.alignItemCenter,c.C1.margin_horizontal_16,c.C1.margin_vertical_16],this.announcementContainerStyle=[j.F1.announcementContainer],this.textStyle=[c.XT.blueText],this.onClick=(e,t)=>{t&&(this.trackWidgetClick(t),this.dispatchAction(F.Q3.MAPI_ACTION,new G.rs(t)))},this.trackWidgetClick=e=>{this.trackDiscoveryContentClickEvent(e.tracking),this.trackOmnitureEvent(new X.wKV(Y.A.BANNER_ANNOUNCEMENT_CLICK,s.A.getTrackingParams(this.props,e.tracking)))}}static getWidgetHeight(e){const t=(0,a.nS)(e.widgetSlotData),i=t?t.data:void 0;if(!i||!i.data||!i.data.value)return 0;const n=j.cz+j.Qi+2*j.a2+c.qj;return i.data.value.title?j.n+j.a6+n:n}renderWidget(){var e,t,i;const n=(0,a.nS)(this.props.widgetSlotData),r=n?n.data:void 0;if(!r||!r.data||!r.data.value)return;const l=r.data,c=o.createElement(d.View,{style:this.containerStyle},o.createElement(h.S,{onPress:this.onClick,onPressParam:l.action,disableFeedback:!l.action},o.createElement(d.View,{style:this.announcementContainerStyle},(null===(e=l.value)||void 0===e?void 0:e.title)&&o.createElement(d.Text,{style:this.textStyle,numberOfLines:1},null===(i=null===(t=l.value.title)||void 0===t?void 0:t.value)||void 0===i?void 0:i.title))));if(l.tracking){const e=s.A.getTrackingParams(this.props,l.tracking),t=this.getContentViewTrackingData(e);return o.createElement(q.A,{trackingInfo:t},c)}return c}renderDivider(){return null}}class K extends J{constructor(){super(...arguments),this.containerStyle=[c.C1.col,c.C1.alignItemCenter,c.C1.margin_horizontal_16,c.C1.margin_vertical_16,{marginTop:0,marginBottom:0}],this.announcementContainerStyle=[j.F1.announcementContainer,{paddingTop:0,paddingBottom:0}]}}var Q=i(701822),Z=i(787921),$=i(130872);class ee extends N{constructor(){super(...arguments),this.IMAGE_HEIGHT=80,this.btnViewStyle=[c.C1.margin_top_1,c.C1.height_40,c.C1.backgroundClear],this.subTitleStyle=[c.XT.lightBlackText,c.XT.fontRegular_14,c.XT.alignTextCenter,c.XT.lineHeight_24,c.C1.margin_top_8],this.onPress=(e,t)=>{if(this.props.actionDispatcher){const e={localData:{localActionTypes:Q.j.RETRY_PAGE},type:Z.A.LOCAL_ACTION};t&&t.tracking&&this.trackDiscoveryContentClickEvent(t.tracking),this.props.actionDispatcher(new $.UK(e))}}}}var te=i(560203);class ie extends S{constructor(){super(...arguments),this.containerStyle=c.C1.padding12,this.buttonViewStyle={width:160,height:40,justifyContent:"center",borderRadius:2}}renderWidget(){const e=super.renderWidget();return o.createElement(d.View,null,o.createElement(te.A,{heightVal:1}),e)}}class ne extends S{constructor(){super(...arguments),this.containerStyle=c.C1.contentAlignCenter,this.buttonViewStyle={width:160,height:40,justifyContent:"center",borderRadius:2},this.subtitleTextStyle=[c.XT.fontRegular_12,c.C1.margin_top_6,c.C1.contentSelfAlignCenter],this.titleTextStyle=[c.XT.fontMedium_14,c.C1.margin_top_2,c.C1.contentSelfAlignCenter]}renderWidget(){const e=(0,a.nS)(this.props.widgetSlotData),t=e?e.data:void 0;if(t&&t.data&&t.data.value)return o.createElement(d.View,{style:c.C1.padding16H},o.createElement(A.A,{data:t.data.value,containerStyle:this.containerStyle,onButtonPress:this.dispatchAndTrackContentClick,onTitleSubTitlePress:this.dispatchAndTrackContentClick,onButtonPressParam:t.data.value.button,sharedDataHelper:this.getWidgetSharedDataHelper(),pageSharedData:s.A.getPageSharedData(this.props),titleTextStyle:this.titleTextStyle,subTitleTextStyle:this.subtitleTextStyle,textContainerStyle:c.C1.contentSelfAlignCenter,titleNumberOfLines:2,subTitleNumberOfLines:2,onPress:this.dispatchAndTrackWidgetClick,onPressParam:t.data,disableFeedback:!0,btnViewStyle:this.buttonViewStyle}))}}class re extends ne{constructor(){super(...arguments),this.subtitleTextStyle=[c.XT.fontRegular_12,c.C1.margin_top_6],this.titleTextStyle=[c.XT.fontMedium_14]}renderWidget(){const e=(0,a.nS)(this.props.widgetSlotData),t=e?e.data:void 0;if(t&&t.data&&t.data.value)return o.createElement(d.View,null,o.createElement(A.A,{data:t.data.value,containerStyle:this.containerStyle,onButtonPress:this.dispatchAndTrackContentClick,onTitleSubTitlePress:this.dispatchAndTrackContentClick,onButtonPressParam:t.data.value.button,sharedDataHelper:this.getWidgetSharedDataHelper(),pageSharedData:s.A.getPageSharedData(this.props),titleTextStyle:this.titleTextStyle,subTitleTextStyle:this.subtitleTextStyle,textContainerStyle:c.C1.contentSelfAlignCenter,titleNumberOfLines:2,subTitleNumberOfLines:2,onPress:this.dispatchAndTrackWidgetClick,onPressParam:t.data,disableFeedback:!0,btnViewStyle:this.buttonViewStyle}))}}class ae extends s.A{static getWidgetHeight(e){var t;const i=(0,a.nS)(e.widgetSlotData),n=i?i.data:void 0;return(null===(t=null==n?void 0:n.data)||void 0===t?void 0:t.value)?32:0}renderWidget(){var e,t,i,n;const r=(0,a.nS)(this.props.widgetSlotData),s=r?r.data:void 0;if(!(null===(e=null==s?void 0:s.data)||void 0===e?void 0:e.value))return;const l=null===(n=null===(i=null===(t=null==s?void 0:s.data)||void 0===t?void 0:t.value)||void 0===i?void 0:i.title)||void 0===n?void 0:n.value;return o.createElement(d.View,null,l&&o.createElement(C.A,{numberOfLines:3,richTextData:l,style:[c.XT.lightGreyText,c.XT.fontMedium_12,c.C1.padding16]}))}}var oe=i(813652),se=i(670563);class le extends s.A{constructor(e){super(e),this.rightContainerStyle=[c.C1.col,c.C1.margin_left_14],this.titleTextStyle=[c.XT.fontMedium_16,c.XT.alignTextCenter,c.XT.lineHeight_19,c.XT.fkBlackPrimaryText],this.subTitleTextStyle=[c.C1.margin_top_4,c.XT.fontMedium_12,c.XT.alignTextCenter,c.XT.lineHeight_16,{color:se.Jy.blackWithMediumAlpha}],this.containerStyle=[c.C1.displayFlex,c.C1.justifyContentCenter,c.C1.justifyEndWithAlignCenter,c.C1.alignItemsCenterFullWidth,c.C1.padding20V,c.C1.padding20H],this.announcementImageStyle=[c.C1.padding20V,c.C1.padding20H,c.C1.alignItemsCenterFullWidth],this.bottomBarAnimationStyle=[c.C1.alignItemCenter,c.C1.justifyContentCenter],this._animationConstants={bottomBarDelay:100,bottomBarDuration:300,greenTickToValue:1,greenTickDelay:300,greenTickDuration:250},this._imageHeightProduct=52,this._imageHeightGreenTick=40,this._bottomSheetDefaultHeight=155,this._screenHeight=this.getScreenHeight()/2+this._bottomSheetDefaultHeight,this._greenTickAnimationValue=new d.Animated.Value(0),this._bottomSheetHeightAnimationValue=new d.Animated.Value(this._screenHeight)}static getWidgetHeight(e){return e.appContext.uiContext.windowFrame.height}animateBottomBar(){d.Animated.timing(this._bottomSheetHeightAnimationValue,{toValue:this._bottomSheetDefaultHeight,delay:this._animationConstants.bottomBarDelay,duration:this._animationConstants.bottomBarDuration,useNativeDriver:!0,easing:d.Easing.ease}).start()}componentDidMount(){super.componentDidMount(),this.animateBottomBar(),d.Animated.timing(this._greenTickAnimationValue,{toValue:this._animationConstants.greenTickToValue,delay:this._animationConstants.greenTickDelay,duration:this._animationConstants.greenTickDuration,useNativeDriver:!0,easing:d.Easing.ease}).start()}renderWidget(){var e;const t=(0,a.nS)(this.props.widgetSlotData),i=t?t.data:void 0,n=null===(e=null==i?void 0:i.data)||void 0===e?void 0:e.value;if(!n)return;const r={height:this._bottomSheetHeightAnimationValue};return o.createElement(d.Animated.View,{style:[this.bottomBarAnimationStyle,r]},o.createElement(d.View,{style:this.containerStyle},o.createElement(d.View,{style:this.announcementImageStyle},this.renderImage(n.image)),o.createElement(d.View,null,this.renderTitle(n.title),this.renderSubTitle(n.subTitle))))}renderTitle(e){return e&&e.value&&o.createElement(C.A,{richTextData:e.value,style:this.titleTextStyle,numberOfLines:1,ellipsizeMode:"tail"})}renderSubTitle(e){return e&&e.value&&o.createElement(C.A,{richTextData:e.value,style:this.subTitleTextStyle,numberOfLines:1,ellipsizeMode:"tail"})}renderImage(e){const t=null==e?void 0:e.dynamicImageUrl;if(!t)return;const i=this._greenTickAnimationValue.interpolate({inputRange:[0,.5,1],outputRange:[1,.7,.3]}),n=this._greenTickAnimationValue.interpolate({inputRange:[0,.5,1],outputRange:[.01,.5,1]});return o.createElement(d.View,null,o.createElement(d.Animated.View,{style:{position:"absolute",transform:[{scale:i}]}},o.createElement(v.Dk,{source:t,width:this._imageHeightProduct,height:this._imageHeightProduct,resizeMode:"contain",roundedCorner:this._imageHeightProduct/2})),o.createElement(d.Animated.View,{style:{transform:[{scale:n}]}},o.createElement(v.Dk,{source:oe.whiteTickWithGreenBackground,width:this._imageHeightGreenTick,height:this._imageHeightGreenTick,resizeMode:"contain",roundedCorner:this._imageHeightGreenTick/2})))}}var de=i(664825),ce=i(521722);class ue extends y{constructor(e,t){super(e,t),this.PARENT_VIEW_STYLE=[c.C1.col,c.C1.contentAlignCenterJustifyCenter,{minHeight:ue.getWidgetHeight(e),backgroundColor:this.getBackgroundColor()||se.Jy.rewardStoreBackgroundColor},c.C1.overflowHidden]}static getWidgetHeight(e){var t,i,n,r,a,o;const s=null!==(n=null===(i=null===(t=e.pageInfo)||void 0===t?void 0:t.pageLayoutInfo)||void 0===i?void 0:i.appBarHeight)&&void 0!==n?n:ce.vz,l=null!==(o=null===(a=null===(r=e.pageInfo)||void 0===r?void 0:r.pageLayoutInfo)||void 0===a?void 0:a.bottomBarHeight)&&void 0!==o?o:0,d=e.appContext.uiContext.getWindowSafeAreaInset();return e.appContext.uiContext.getPageFrame().height-s-l-d.top}}var he=i(279494),pe=i(408791),ge=i(184452),me=i(887261);const ve=d.StyleSheet.create({containerStyle:{flex:1,flexDirection:"row",marginHorizontal:16,marginTop:12,marginBottom:12},contentContainer:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"flex-start"},imageContainer:{justifyContent:"center",alignItems:"center",marginRight:16},titleStyle:{fontFamily:me.$u,includeFontPadding:!1,fontSize:14,color:se.Jy.darkBlack,lineHeight:20},eventFeeTitleStyle:{fontFamily:me.$u,includeFontPadding:!1,fontSize:14,color:se.Jy.darkBlack,lineHeight:20,paddingTop:16},eventFeeSubTitleStyle:{fontFamily:me.A$,includeFontPadding:!1,fontSize:14,color:se.Jy.darkBlack,lineHeight:20,paddingBottom:16},buttonTextStyle:{fontSize:14,fontFamily:me.$u,includeFontPadding:!1,lineHeight:20,color:se.Jy.royalBlue},eventFeeContainerStyle:{flex:1,flexDirection:"row",marginHorizontal:16},eventFeeImageContainer:{justifyContent:"flex-end",maxWidth:80}});class _e extends s.A{constructor(){super(...arguments),this.lottieSupport=(0,he.Z)(),this.IMAGE_HEIGHT=44,this.IMAGE_WIDTH=44,this.lottieStyle={width:this.IMAGE_WIDTH,height:this.IMAGE_HEIGHT},this.renderLeftGraphic=(e,t)=>{const i=null==e?void 0:e.dynamicImageUrl,n=null==e?void 0:e.source;return this.lottieSupport&&n?o.createElement(d.View,{style:ve.imageContainer},o.createElement(pe.n,{loop:!0,autoPlay:!0,sourceUrl:n,style:this.lottieStyle,containerStyle:ge.aR,speed:1})):i?o.createElement(d.View,{style:ve.imageContainer},o.createElement(b.A,{source:i,height:this.IMAGE_HEIGHT,width:t})):null},this.renderRightContent=(e,t)=>o.createElement(d.View,{style:ve.contentContainer},e&&o.createElement(d.View,{style:c.C1.margin_bottom_4},o.createElement(C.A,{richTextData:e,style:ve.titleStyle})),(null==t?void 0:t.value)&&o.createElement(U.A,{btnData:t,disableFeedback:!0,btnTextStyle:ve.buttonTextStyle,onPress:this.onButtonPress,onPressParam:null==t?void 0:t.action})),this.onButtonPress=(e,t)=>{t&&(this.dispatchAction(F.Q3.OMNITURE_TRACKING,new X.TEA(t.tracking)),this.dispatchAction(F.Q3.MAPI_ACTION,new G.Oy(t)))}}static getWidgetHeight(){return this.WIDGET_CONTENT_HEIGHT+2*this.WIDGET_VERTICAL_PADDING}renderWidget(){var e,t;const i=(0,a.nS)(this.props.widgetSlotData),n=i&&i.data;if(!(null===(e=null==n?void 0:n.data)||void 0===e?void 0:e.value))return;const r=n.data.value,s=null===(t=null==r?void 0:r.title)||void 0===t?void 0:t.value,l=r.button,u=r.bgImage,p=r.image,g=p&&p.aspectRatio,m=_.A.getImageRatio(g),v=m?this.IMAGE_HEIGHT*m:0;return o.createElement(h.S,{onPress:this.onButtonPress,onPressParam:null==l?void 0:l.action,disableFeedback:!0},o.createElement(d.View,{style:c.C1.overflowHidden},u&&o.createElement(I.A,{style:c.C1.overlay,imageValue:u,width:this.getScreenWidth(),resizeMode:"cover"}),(p||s||l)&&o.createElement(d.View,{style:ve.containerStyle},this.renderLeftGraphic(p,v),this.renderRightContent(s,l))))}}_e.WIDGET_CONTENT_HEIGHT=44,_e.WIDGET_VERTICAL_PADDING=12;class Ce extends s.A{constructor(e,t){super(e,t),this.lottieSupport=(0,he.Z)(),this.IMAGE_HEIGHT=80,this.IMAGE_WIDTH=80,this.lottieStyle={width:this.IMAGE_WIDTH,height:this.IMAGE_HEIGHT},this.renderRightGraphic=e=>{const t=null==e?void 0:e.source;return this.lottieSupport&&t?o.createElement(d.View,{style:ve.eventFeeImageContainer},o.createElement(pe.n,{loop:!0,autoPlay:!0,sourceUrl:t,style:this.lottieStyle,containerStyle:ge.aR,speed:1})):!t&&(null==e?void 0:e.dynamicImageUrl)?o.createElement(d.View,{style:[ve.eventFeeImageContainer,c.C1.justifyContentCenter]},o.createElement(b.A,{style:c.C1.contentAlignCenter,source:e.dynamicImageUrl,height:this.IMAGE_HEIGHT,width:this.IMAGE_WIDTH})):null},this.renderLeftContent=(e,t)=>o.createElement(d.View,{style:[ve.contentContainer,c.C1.margin_right_12]},e&&o.createElement(C.A,{richTextData:e,style:ve.eventFeeTitleStyle}),t&&o.createElement(C.A,{richTextData:t,style:ve.eventFeeSubTitleStyle})),this.state=Object.assign(Object.assign({},this.state),{myHeight:Ce.WIDGET_CONTENT_HEIGHT})}static getWidgetHeight(){return this.WIDGET_CONTENT_HEIGHT}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i)||t.myHeight!==this.state.myHeight}renderWidget(){var e,t,i;const n=(0,a.nS)(this.props.widgetSlotData),r=n&&n.data;if(!(null===(e=null==r?void 0:r.data)||void 0===e?void 0:e.value))return;const s=r.data.value,l=null===(t=null==s?void 0:s.title)||void 0===t?void 0:t.value,u=null===(i=null==s?void 0:s.subTitle)||void 0===i?void 0:i.value,h=s.bgImage,p=s.image,g=this.getScreenWidth();return o.createElement(d.View,{onLayout:e=>{this.setState({myHeight:e.nativeEvent.layout.height})}},h&&o.createElement(d.ImageBackground,{source:{uri:_.A.generateImageUrl(h,g,this.state.myHeight)},resizeMode:"cover",style:[c.C1.flex]},(p||l)&&o.createElement(d.View,{style:[ve.eventFeeContainerStyle,c.C1.rowSpaceBetween]},this.renderLeftContent(l,u),this.renderRightGraphic(p))))}}Ce.WIDGET_CONTENT_HEIGHT=106;var Ee=i(302019);const Te=Ee.az.extendComponent({name:"RichAnnouncementSecureHandlingFeeContainer",defaultProps:{py:"s6"}});class fe extends s.A{renderDivider(){}static getWidgetHeight(){return this.WIDGET_CONTENT_HEIGHT}renderWidget(){var e,t,i,n,r;const s=(0,a.nS)(this.props.widgetSlotData),l=null==s?void 0:s.data;if(!(null===(e=null==l?void 0:l.data)||void 0===e?void 0:e.value))return;const d=null===(i=null===(t=l.data.value)||void 0===t?void 0:t.title)||void 0===i?void 0:i.value,u=null===(r=null===(n=l.data.value)||void 0===n?void 0:n.subTitle)||void 0===r?void 0:r.value;return o.createElement(Te,null,d&&o.createElement(C.A,{richTextData:d,style:[c.C1.padding_horizontal_16,c.C1.padding_vertical_8]}),u&&o.createElement(C.A,{richTextData:u,style:c.C1.padding_horizontal_16}))}}fe.WIDGET_CONTENT_HEIGHT=106;class Ae extends s.A{constructor(e,t){var i;super(e,t),this._showDivider=!0;const n=null===(i=null==e?void 0:e.pageInfo)||void 0===i?void 0:i.pageTheme;this._showDivider=n!==p.S.dark}static getWidgetHeight(e){var t;const i=(0,a.nS)(e.widgetSlotData),n=i?i.data:void 0;return(null===(t=null==n?void 0:n.data)||void 0===t?void 0:t.value)?u.getWidgetHeight(n.data.value)+s.A.getAdditionalHeight(e):0}renderDivider(){return this._showDivider?super.renderDivider():null}renderWidget(){var e;const t=(0,a.nS)(this.props.widgetSlotData),i=null==t?void 0:t.data,n=null==t?void 0:t.viewType,r=null===(e=null==i?void 0:i.data)||void 0===e?void 0:e.value;if(r)return o.createElement(h.S,{onPress:this.dispatchAndTrackWidgetClick,onPressParam:i.data,disableFeedback:!0},o.createElement(d.View,null,o.createElement(u,{data:r,onButtonPress:this.dispatchAndTrackContentClick,onTitleSubTitlePress:this.dispatchAndTrackContentClick,onButtonPressParam:r.button,sharedDataHelper:this.getWidgetSharedDataHelper(),pageSharedData:s.A.getPageSharedData(this.props),titleTextStyle:c.XT.fontRegular_14,subTitleTextStyle:c.XT.fontMedium_12,viewType:n})))}}var Se=i(102913),ye=i(201159),we=i(793576);class Ie extends s.A{renderDivider(){}static getWidgetHeight(e){var t,i,n,r,o,s,l;const d=(0,a.xH)(e.widgetSlotData),c=null===(t=null==d?void 0:d.data)||void 0===t?void 0:t.value,u=null===(i=null==c?void 0:c.title)||void 0===i?void 0:i.value,h=null===(n=null==c?void 0:c.subTitle)||void 0===n?void 0:n.value;return(null!==(o=null===(r=null==u?void 0:u.style)||void 0===r?void 0:r.lineHeight)&&void 0!==o?o:0)+(null!==(l=null===(s=null==h?void 0:h.style)||void 0===s?void 0:s.lineHeight)&&void 0!==l?l:0)+24+8+8}renderWidget(){var e,t,i;const n=(0,a.xH)(this.props.widgetSlotData),r=null===(e=null==n?void 0:n.data)||void 0===e?void 0:e.value,s=null===(t=null==r?void 0:r.title)||void 0===t?void 0:t.value,l=null===(i=null==r?void 0:r.subTitle)||void 0===i?void 0:i.value;return o.createElement(Ee.fI,{height:"100%",alignItems:"center",p:"s4"},o.createElement(Se.h1,{onPress:this.handleBackAction,ml:"s4",mr:"s6"},o.createElement(ye.A6,{size:24})),o.createElement(Ee.az,null,o.createElement(C.A,{richTextData:s}),o.createElement(C.A,{richTextData:l})))}handleBackAction(){we.ed.goBack()}}var be=i(257246),De=i(821877),xe=i(454334),Pe=i(165023),Oe=i(700036);class Re extends s.A{constructor(){super(...arguments),this._textStyle=[c.C1.alignItemCenter,c.XT.alignTextCenter,c.C1.padding16,c.XT.fontSize_12,c.XT.lineHeight_18],this.handleStoreUpdate=e=>{this.setState({pharmaData:e[0]})}}componentDidMount(){const e=Oe.A.getObject(De.Zc.savedPrescription);xe.A.getValue("PHARMA_DATA").then((t=>{t&&!e&&this.setState({pharmaData:JSON.parse(t)})})),Pe.A.addListener("STORE_UPDATED",this.handleStoreUpdate)}componentWillUnmount(){Pe.A.removeListenerForEvent("STORE_UPDATED",this.handleStoreUpdate)}shouldComponentUpdate(e,t,i){const n=this.state.pharmaData,r=t.pharmaData;return super.shouldComponentUpdate(e,t,i)||n!==r}static getWidgetHeight(e){var t;const i=(0,a.nS)(e.widgetSlotData),n=i?i.data:void 0;if(!(null===(t=null==n?void 0:n.data)||void 0===t?void 0:t.value))return 0;let r=2*j.a2;return r+=j.bS+j.DD+16+j.cz+j.Qi,r}renderDivider(){return o.createElement(te.A,{heightVal:8,backgroundColor:(0,be.gj)(this.props.themeContext)})}renderWidget(){var e,t;const i=(0,a.xH)(this.props.widgetSlotData),{pharmaData:n}=this.state;if(!i||!(0,De.K7)(n)||!(null===(e=i.data)||void 0===e?void 0:e.value))return;const r=null===(t=i.data.value.subTitle)||void 0===t?void 0:t.value;return r?o.createElement(C.A,{richTextData:r,style:this._textStyle}):void 0}}class ke extends s.A{static getWidgetHeight(){return this.WIDGET_CONTENT_HEIGHT+this.WIDGET_VERTICAL_PADDING}renderDivider(){return null}renderHeader(){var e,t;const i=this._getHeaderComponent();return i?o.createElement(Ee.az,{px:"s6",py:"s5"},o.createElement(Ee.JU,{font:"m_medium"},null===(t=null===(e=null==i?void 0:i.value)||void 0===e?void 0:e.titleValue)||void 0===t?void 0:t.text)):null}renderWidget(){var e;const t=(0,a.xH)(this.props.widgetSlotData);if(!t||!(null===(e=t.data)||void 0===e?void 0:e.value))return;const i=t.data.value.subTitle;return i?o.createElement(Ee.az,{px:"s6",pb:"s6"},o.createElement(C.A,{richTextData:i.value,style:[c.XT.fontRegular_14,c.XT.lineHeight_18]})):void 0}_getHeaderComponent(){const e=(0,a.nS)(this.props.widgetSlotData);return null==e?void 0:e.header}}ke.WIDGET_CONTENT_HEIGHT=42,ke.WIDGET_VERTICAL_PADDING=16;class Ve extends n.A{getWidgetClass(e){const t=a.nS(e.widgetSlotData);switch(t?t.viewType:void 0){case"VERTICAL":return g;case"EXPRESS_CHECKOUT_PAY_USING":case"HORIZONTAL":case"NON_SERVICEABLE_ITEM":return S;case"HORIZONTAL_2L":return w;case"ONBOARDING":return f;case"FULL_SCREEN_VIEW":return P;case"VERTICAL_BIG_SUBTITLE":return R;case"FULL_SCREEN_CENTER_ALIGNED":return y;case"FULL_SCREEN_TOP_ALIGNED":return O;case"VERTICAL_CENTRAL_ALIGNED":return M;case"VERTICAL_BOTTOM_ALIGNED":case"VERTICAL_BOTTOM_ALIGNED_V3":return H;case"VERTICAL_BOTTOM_ALIGNED_V2":return W;case"VERTICAL_BOTTOM_SHEET":return B;case"NON_PLUS_POTENTIAL_BENEFIT":return z;case"QNA":return N;case"ASK_QUESTION_QNA":return Ae;case"ERROR":return ee;case"LINK_BUTTON":return J;case"LINK_BUTTON_THIN":return K;case"HORIZONTAL_ACTION_BUTTON":return ie;case"HORIZONTAL_CENTER_ALIGNED":return ne;case"VERTICAL_BIG_TITLE":return re;case"OBD":return ae;case"POST_ATC_BOTTOM_SHEET":return le;case"POST_ATC_PAGE":return de.A;case"REWARD_STORE":return ue;case"QUICK_ANNOUNCEMENT":return _e;case"EVENT_FEE":return Ce;case"SECURE_HANDLING_FEE":return fe;case"TRANSACT_NAV_BAR":return Ie;case"CUSTOMER_RX_CONSENT":return Re;case"AVOID_RX_CANCEL":return ke;default:return r.default}}getWidgetHeight(e){const t=a.nS(e.widgetSlotData);switch(t?t.viewType:void 0){case"VERTICAL":return g.getWidgetHeight(e);case"HORIZONTAL":return S.getWidgetHeight(e);case"ONBOARDING":return f.getWidgetHeight(e);case"VERTICAL_BIG_SUBTITLE":return R.getWidgetHeight(e);case"FULL_SCREEN_CENTER_ALIGNED":return y.getWidgetHeight(e);case"FULL_SCREEN_TOP_ALIGNED":return O.getWidgetHeight(e);case"VERTICAL_CENTRAL_ALIGNED":return M.getWidgetHeight(e);case"VERTICAL_BOTTOM_ALIGNED":case"VERTICAL_BOTTOM_ALIGNED_V3":return H.getWidgetHeight(e);case"VERTICAL_BOTTOM_ALIGNED_V2":return W.getWidgetHeight(e);case"NON_PLUS_POTENTIAL_BENEFIT":return z.getWidgetHeight();case"QNA":return N.getWidgetHeight(e);case"ASK_QUESTION_QNA":return Ae.getWidgetHeight(e);case"ERROR":return ee.getWidgetHeight(e);case"HORIZONTAL_ACTION_BUTTON":return ie.getWidgetHeight(e);case"HORIZONTAL_CENTER_ALIGNED":return ne.getWidgetHeight(e);case"VERTICAL_BIG_TITLE":return re.getWidgetHeight(e);case"POST_ATC_BOTTOM_SHEET":return le.getWidgetHeight(e);case"POST_ATC_PAGE":return de.A.getWidgetHeight(e);case"REWARD_STORE":return ue.getWidgetHeight(e);case"QUICK_ANNOUNCEMENT":return _e.getWidgetHeight();case"EVENT_FEE":return Ce.getWidgetHeight();case"SECURE_HANDLING_FEE":return fe.getWidgetHeight();case"TRANSACT_NAV_BAR":return Ie.getWidgetHeight(e);case"CUSTOMER_RX_CONSENT":return Re.getWidgetHeight(e);case"AVOID_RX_CANCEL":return ke.getWidgetHeight();default:return r.default.getWidgetHeight(e)}}getWidgetType(e){let t=super.getWidgetType(e);return e.widgetSlotData.columnSpan&&(t+=e.widgetSlotData.columnSpan),t}}},418457:(e,t,i)=>{"use strict";i.r(t),i.d(t,{SellerV2WidgetViewTypes:()=>G,default:()=>z});var n=i(387393),r=i(296540),a=i(877293),o=i(395567),s=i(492418),l=i(473335),d=i(52754),c=i(560203),u=i(45426),h=i(716249),p=i(415283),g=i(914944),m=i(311676),v=i(320071),_=i(972904),C=i(410752),E=i(479892),T=i(809400),f=i(445531),A=i(764428),S=i(851021),y=i(53606),w=i(347953),I=i(988287),b=i(670563);class D{constructor(e,t){var i,n,r,a;this.headerText="";const o=(0,d.nS)(e.widgetSlotData),l=null==o?void 0:o.data;this.headerText=t({id:C.H.rex_string_seller_string_sellerInfoTitle}),this.viewType=o?o.viewType:void 0,this.sellerMetaValue=l?l.SellerMetaValue:void 0,this.ratingData=l?l.rating:void 0,this.callouts=l?l.sellerCalloutsV2:void 0,this.ratingText=this.ratingData&&this.ratingData.value?`${this.ratingData.value.average} ${s.bhs}`:void 0,this.ratingTextDecimal=null===(n=null===(i=this.ratingData)||void 0===i?void 0:i.value)||void 0===n?void 0:n.average,this.sellerMetaValue&&this.sellerMetaValue.value&&(this.sellerMetaValue.value.newSeller?this.tag=t({id:C.H.rex_string_seller_string_newSellerTag}):this.sellerMetaValue.value.dormantSeller?this.tag=t({id:C.H.rex_string_seller_string_notEnoughRatingsTag}):this.ratingText=this.ratingData&&this.ratingData.value&&this.ratingData.value.average?`${this.ratingData.value.average} ${s.bhs}`:void 0),this.name=this.sellerMetaValue&&this.sellerMetaValue.value?this.sellerMetaValue.value.name:void 0,this.sellerDetailsAction=this.sellerMetaValue&&this.sellerMetaValue.action?this.sellerMetaValue.action:void 0,this.parameterizedScoreComponent=l&&l.parameterizedScoreComponent,this.isSellerRatingsABEnabled=!!w.A.getExperimentValue("enableSellerRating"),this.isNewSeller=null===(a=null===(r=this.sellerMetaValue)||void 0===r?void 0:r.value)||void 0===a?void 0:a.newSeller}}class x extends _.A{constructor(e){super(e),this.viewTypeWithMinInfo="MIN_INFO",this.showRevampedSellerInformation=!0,this.showSellerRatingInRevampedSellerInformation=!0,this.showSellerScoresInRevampedSellerInformation=!0,this._calculateDimensions=()=>({width:S.m8,height:S.dv}),this._renderRatingsComponentItem=(e,t,i)=>r.createElement(f.A,{sellerScoreValue:t,columnWidth:100,hideDetailsText:!0}),this._callOutClick=(e,t)=>{t&&this.dispatchAction(p.Q3.MAPI_ACTION,new g.rs(t))},this._sellerDetailsClicked=(e,t)=>{this._sellerNameClick(),this.props.actionDispatcher&&t&&this.dispatchAction(p.Q3.MAPI_ACTION,new g.Oy(t)),this.trackOmnitureEvent(new o.Qnt(this.state.trackingParams))},this._sellerNameClick=()=>{this.trackDGEvent(new m.VaI(this.getFetchId(),this.props.index,this.getListingId()))},this.showRevampedSellerInformation=!!y.Ay.getReactNativeConfigGlobalValue("showSellerRevampedInformationValue"),this.showSellerRatingInRevampedSellerInformation=!!y.Ay.getReactNativeConfigGlobalValue("showRatingInSellerRevampedInformation"),this.showSellerScoresInRevampedSellerInformation=!!y.Ay.getReactNativeConfigGlobalValue("showSellerScoresInSellerRevampedInformationAbValue")}static getWidgetHeight(e){return h.A.getAdditionalHeight(e)+120}renderFooter(e){const t=super.renderFooter(e);if(t)return r.createElement(a.View,null,r.createElement(c.A,{heightVal:s.Nsv}),t)}renderHeader(e){}renderWidget(){const e=new D(this.props,this.localize);if(e.sellerMetaValue)return e.viewType===this.viewTypeWithMinInfo&&(e.headerText=this.localize({id:C.H.rex_string_sellerV2_string_sellerInfoTitle})),r.createElement(a.View,null,r.createElement(a.View,{style:l.I.container},this.showRevampedSellerInformation?void 0:this.getHeading(e),this.showRevampedSellerInformation?this.getRevampedSellerInformation(e):this.getSellerInformation(e),this.showRevampedSellerInformation&&this.showSellerScoresInRevampedSellerInformation?this.getSellerScores(e.parameterizedScoreComponent):void 0,!this.showRevampedSellerInformation&&e.callouts&&e.callouts.map(((e,t)=>e&&e.value&&r.createElement(a.View,{style:l.I.sellerTextContainer,key:t},r.createElement(a.Text,{style:l.I.calloutV2Text},e.value.text,e.action&&r.createElement(v.A,{style:l.I.clickableCalloutText,onTextPress:this._callOutClick,onPressParam:e.action}," "+this.localize({id:C.H.rex_string_seller_string_detailCalloutText}))))))))}renderDivider(){}getHeading(e){const{headerText:t}=e;return r.createElement(a.Text,{numberOfLines:1,style:l.I.headerText},t)}getRevampedSellerInformation(e){return e.name&&r.createElement(u.S,{onPress:this._sellerDetailsClicked,onPressParam:e.sellerDetailsAction,disableFeedback:!0},r.createElement(a.View,{style:[l.I.nameContainer,E.C1.margin_bottom_2]},r.createElement(a.Text,{style:[E.XT.fontRegular_14,E.XT.alignTextCenterVertical,E.XT.noTopPadding]},this.localize({id:C.H.rex_string_SOLD_BY})+s.NH),r.createElement(a.Text,{style:l.I.sellerNameText,numberOfLines:1},e.name),this.showSellerRatingInRevampedSellerInformation&&e.ratingText?r.createElement(I.A,{starScaleFactor:1.3,rating:parseInt(e.ratingText),starContainerStyle:E.C1.dimension_16}):void 0))}getSellerScores(e){if(e)return r.createElement(T.E,{containerStyle:[A.$.parameterizedScoreContainer,E.C1.margin_bottom_2],calculateDimensions:this._calculateDimensions,data:e,renderItem:this._renderRatingsComponentItem,viewStyle:E.C1.row_wrap})}_showTag(e,t){return r.createElement(a.Text,{style:[l.I.tagText,t],numberOfLines:1},e)}getSellerInformation(e){const{name:t,tag:i,ratingText:n,isNewSeller:o}=e;if(!t)return null;const s=!!o||!i&&n,d=n?E.C1.margin_left_8:void 0;return r.createElement(u.S,{onPress:this._sellerDetailsClicked,onPressParam:e.sellerDetailsAction,disableFeedback:!0},r.createElement(a.View,{style:l.I.nameContainer},r.createElement(a.Text,{style:l.I.sellerNameText,numberOfLines:1},t),n&&s?r.createElement(I.A,{rating:parseInt(n),fillColor:b.Jy.royalBlue}):null,i?this._showTag(i,d):null))}trackFooterClick(e){this.trackDiscoveryWidgetClickEvent()}}var P=i(744221),O=i(302019),R=i(996534),k=i(352254),V=i(813652),L=i(561310),M=i(547134),N=i(879052);class H extends P.A{constructor(){super(...arguments),this._onSellerDetailsClicked=()=>{var e,t;const i=(0,d.nS)(this.props.widgetSlotData),n={modalType:"BOTTOM_SHEET",widgetType:M.A.ENHANCED_SELLER_WIDGET_POPUP,widgetData:null==i?void 0:i.data,modalFooter:null==i?void 0:i.footer,scrollable:!0},r=new L.iM(L.xH.OPEN_MODAL,n),a=null==i?void 0:i.data,o=a?a.SellerMetaValue:void 0;this.trackDiscoveryContentClickEvent(null==o?void 0:o.tracking),null===(t=null===(e=this.props)||void 0===e?void 0:e.actionDispatcher)||void 0===t||t.call(e,r)},this._renderSellerDetails=e=>{var t;return r.createElement(O.fv,{alignItems:"center"},r.createElement(R.oV,Object.assign({},(0,N.Z)("SellerQuantity")),e.title.text),r.createElement(R.Tq,Object.assign({},(0,N.Z)("SellerDescription")),null===(t=e.subtitle)||void 0===t?void 0:t.text))}}static getWidgetHeight(e){const t=(0,d.nS)(e.widgetSlotData),i=t?t.data:void 0;if(!i)return 0;return((null==i?void 0:i.serviceCallouts)?24*i.serviceCallouts.length:0)+h.A.getAdditionalHeight(e)+120}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i)||this.state.descriptionExpanded!==t.descriptionExpanded}renderWidget(){var e,t,i,n,a;const o=new P.i(this.props,this.localize);if(!o.sellerMetaValue)return;const{sellerMetaValue:s,name:l,ratingData:d,sellerDuration:c,sellerAspectMetrics:h}=o;return r.createElement(O.az,null,r.createElement(R.W_,null,r.createElement(u.S,{onPress:this._onSellerDetailsClicked,onPressParam:{},disableFeedback:!0},r.createElement(R.Q6,Object.assign({},(0,N.Z)("SellerDetailsOuterContainer")),r.createElement(R.VN,null,r.createElement(k.A,Object.assign({},(0,N.Z)("SellerImage"),{source:null===(t=null===(e=null==s?void 0:s.value)||void 0===e?void 0:e.sellerIcon)||void 0===t?void 0:t.dynamicImageUrl,height:42,width:42})),r.createElement(O.fv,{marginLeft:"s4"},r.createElement(O.fI,{alignItems:"center"},r.createElement(R.eb,Object.assign({},(0,N.Z)("SellerName")),l)),r.createElement(O.fI,{alignItems:"center"},!!(null===(i=null==d?void 0:d.value)||void 0===i?void 0:i.average)&&r.createElement(O.fI,{alignItems:"center"},r.createElement(I.A,{starScaleFactor:1.1,rating:d.value.average,smallStar:!0,fillColor:b.Jy.royalBlue,starContainerStyle:E.C1.margin_horizontal_2,themeContext:this.props.themeContext}),r.createElement(R.CF,Object.assign({},(0,N.Z)("SellerRatingNumber")),null===(n=null==d?void 0:d.value)||void 0===n?void 0:n.average)),!(!(null===(a=null==d?void 0:d.value)||void 0===a?void 0:a.average)||!c)&&r.createElement(R.MS,Object.assign({},(0,N.Z)("Bullet")),""),!!c&&r.createElement(O.fI,{alignItems:"center"},r.createElement(R.Nc,Object.assign({},(0,N.Z)("SellerDuration")),c.text))))),r.createElement(k.A,{source:V.chevron,height:12,width:12}))),!!h&&r.createElement(R.jD,Object.assign({},(0,N.Z)("SellerScoreContainer")),null==h?void 0:h.map((e=>this._renderSellerDetails(e))))))}}var W=i(465420),B=i(147396);class U extends H{renderWidget(){var e,t;const i=new P.i(this.props,this.localize);if(!i.sellerMetaValue||!i.name)return;const{sellerMetaValue:n,name:a}=i;return r.createElement(O.az,null,r.createElement(R.W_,null,r.createElement(R.Q6,Object.assign({},(0,N.Z)("SellerDetailsOuterContainer")),r.createElement(R.VN,null,r.createElement(k.A,Object.assign({},(0,N.Z)("SellerImage"),{source:null===(t=null===(e=null==n?void 0:n.value)||void 0===e?void 0:e.sellerIcon)||void 0===t?void 0:t.dynamicImageUrl,height:U.IMAGE_WIDTH,width:U.IMAGE_HEIGHT})),r.createElement(O.fv,{marginLeft:"s4"},r.createElement(O.fI,{alignItems:"center"},r.createElement(B.zl,null,a)))))))}}U.IMAGE_WIDTH=42,U.IMAGE_HEIGHT=42;const F=(0,n.A)(x,P.A);var G;!function(e){e.SERVICE_PROFILE_VIEW="SERVICE_PROFILE_VIEW",e.ENHANCED="ENHANCED",e.COMPACT="COMPACT"}(G||(G={}));class z extends W.A{getWidgetClass(e){switch((0,d.KJ)(e.widgetSlotData)){case"ENHANCED":return H;case"COMPACT":return U;default:return F}}getWidgetHeight(e){return F.getWidgetHeight(e)}}},419101:(e,t,i)=>{"use strict";i.d(t,{E:()=>r});var n=i(552946);const r=(e,t,i,n,r)=>({multiMediaComponents:a(e,r),numOfIndicesToSkip:0}),a=(e,t)=>e.map((e=>{if(n.A.isFkVideo(e.value)){return Object.assign(Object.assign({},e),{value:Object.assign(Object.assign({},e.value),{metaData:{mapiNavAction:e.action,fkVideoThumbnailImgUrl:(null==e?void 0:e.value)?n.A.buildFkVideoThumbnailUrl(e.value,t):""}})})}return e}))},419140:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(985234),r=i(146387),a=i(540207),o=i(52754);class s{constructor(e,t,i,r,a){this.type=n.V.VALUE_STORE_CONTEXT,this.exchangeContext=e,this.bundleContext=t,this.scrollContext=i,this.fsupContext=r,this.buybackSelectionContext=a}}class l{handleAction(e,t,i){let l=!1;const d=null==e?void 0:e.payload;if(d&&d instanceof a.p){l=!0;let e=n.V.VALUE_STORE_CONTEXT;const a=(0,o.p_)(t,n.V.VALUE_STORE_CONTEXT)||new s,c=Object.assign(Object.assign({},a),d.valueStoreContext);i(new r.zF(new r.pN(e,c)))}return l}}},420570:(e,t,i)=>{"use strict";i.d(t,{T:()=>c});var n=i(877293),r=i(670563),a=i(887261),o=i(739251);const s=264*n.Dimensions.get("window").width/360,l=204*n.Dimensions.get("window").width/360,d=n.Dimensions.get("window").height,c=n.StyleSheet.create({modalContainer:{borderRadius:3},container:{height:Math.min(d-140,o.xX),flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start"},nonScrollingContainer:{maxHeight:Math.min(d-140,o.xX),flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start"},removeContainer:{flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start"},title:{fontSize:16,marginHorizontal:24,marginTop:24,marginBottom:16,fontFamily:a.$u,includeFontPadding:!1,color:r.Jy.blackPrimary},itemContainer:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",marginBottom:16,marginHorizontal:24},image:{height:44,width:44,marginRight:8},textContainer:{flexDirection:"column",alignItems:"flex-start",justifyContent:"center"},itemTitle:{fontSize:14,color:r.Jy.blackPrimary,fontFamily:a.A$,width:l,maxWidth:o.ii},itemSubtitle:{marginTop:8,fontSize:12,fontFamily:a.$u,includeFontPadding:!1,color:r.Cf.fkCoralDark,width:l,maxWidth:o.ii},message:{marginTop:8,fontSize:14,fontFamily:a.A$,color:r.Jy.blackPrimary,marginHorizontal:24,width:s,flexWrap:"wrap",marginBottom:8,maxWidth:o.ii},messageMargin:{marginBottom:24},comboOfferTitle:{marginBottom:8},availabilityMessage:{fontFamily:a.$u,fontSize:12,color:r.Cf.fkCoralDark,marginTop:8},nonScrollingContainerWidth:{width:"85%"}})},421092:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>We});var n=i(465420),r=i(52754),a=i(296540),o=i(877293),s=i(45426),l=i(810659),d=i(344570),c=i(479892),u=i(975508),h=i(198213);class p extends l.Ay{static getWidgetHeight(e){return 500}getHeaderStyle(){const e=new u.F;return e.headerContainer=[c.C1.padding16,c.C1.padding_bottom_4],e}isHeaderBottomBorderEnabled(){return!1}renderWidget(){const e=new l.Wh(this.props);if(!e.products||0===e.products.length)return;const t=e.products,i=1===t.length,n=this._getWidgetWidth();return a.createElement(o.ScrollView,{horizontal:!0,showsHorizontalScrollIndicator:!1},a.createElement(o.View,{style:i?{}:[d.YX.cardRow,{paddingTop:16}]},t.map(((e,t)=>{var r,l,c,u;const p=e.value,g=i?{height:68,width:71}:{height:50,width:54},m={padding:0,borderColor:null===(l=null===(r=null==p?void 0:p.bannerContent)||void 0===r?void 0:r.value)||void 0===l?void 0:l.backgroundColor},v=(null==p?void 0:p.desriptionText)||[],_=null==p?void 0:p.hyperlink,C=(null==p?void 0:p.planDetails)||[],E=null==p?void 0:p.tip,T=(null==p?void 0:p.freebie)||!1,f=null==p?void 0:p.descriptionImage,A=void 0!==f,{width:S,height:y}=this._getDescriptionImageDimension(),w=A?d.I5.comparisonWidgetAdjustment:d.I5.containerAdjustment;return p&&a.createElement(o.View,{style:[i?{}:d.YX.card,{width:n}]},this._renderHeaderbackground(p,t,g,i,m,A?E:void 0),f?a.createElement(o.View,{style:[d.YX.contentBlock,d.YX.descriptionImageAdjustment]},a.createElement(h.Dk,{source:null===(u=null===(c=f.value)||void 0===c?void 0:c.imageValue)||void 0===u?void 0:u.dynamicImageUrl,height:y,width:S,downloadSizeMultiplier:this.IMAGE_SCALE})):a.createElement(o.View,{style:d.YX.contentBlock},v.map(this._renderDescriptionText),(null==_?void 0:_.text)&&(null==_?void 0:_.action)&&a.createElement(s.S,{onPress:this._seeDetailsPressed,onPressParam:_.action},a.createElement(o.View,{style:d.YX.hyperlinkContainer},a.createElement(o.Text,{style:d.OP.hyperlink},_.text)))),a.createElement(o.View,{style:d.YX.contentBlock},C.map(((e,i)=>this._renderPlanDetails(e,i,t,e.selected,T,w)))),!A&&E&&E.map(this._renderTip))}))))}}var g=i(716249);class m extends l.Ay{static getWidgetHeight(e){return 310+g.A.getAdditionalHeight(e)}renderWidget(){const e=new l.Wh(this.props);if(!e.products||0===e.products.length)return;const t=e.products,i=1===t.length,n=this._getWidgetWidth();return a.createElement(o.ScrollView,{horizontal:!0,showsHorizontalScrollIndicator:!1},a.createElement(o.View,{style:i?{}:d.YX.cardRow},t.map(((e,t)=>{var r,l,c,u;const p=e.value,g=i?{height:68,width:71}:{height:50,width:54},m={padding:0,borderColor:null===(l=null===(r=null==p?void 0:p.bannerContent)||void 0===r?void 0:r.value)||void 0===l?void 0:l.backgroundColor},v=(null==p?void 0:p.desriptionText)||[],_=null==p?void 0:p.hyperlink,C=(null==p?void 0:p.planDetails)||[],E=null==p?void 0:p.tip,T=(null==p?void 0:p.freebie)||!1,f=null==p?void 0:p.descriptionImage,A=void 0!==f,{width:S,height:y}=this._getDescriptionImageDimension(),w=A?d.I5.comparisonWidgetAdjustment:d.I5.containerAdjustment;return p&&a.createElement(o.View,{style:[i?{}:d.YX.card,{width:n}]},this._renderHeaderbackground(p,t,g,i,m,A?E:void 0),f?a.createElement(o.View,{style:[d.YX.contentBlock,d.YX.descriptionImageAdjustment]},a.createElement(h.Dk,{source:null===(u=null===(c=f.value)||void 0===c?void 0:c.imageValue)||void 0===u?void 0:u.dynamicImageUrl,height:y,width:S})):a.createElement(o.View,{style:d.YX.contentBlock},v.map(this._renderDescriptionText),(null==_?void 0:_.text)&&(null==_?void 0:_.action)&&a.createElement(s.S,{onPress:this._seeDetailsPressed,onPressParam:_.action},a.createElement(o.View,{style:d.YX.hyperlinkContainer},a.createElement(o.Text,{style:d.OP.hyperlink},_.text)))),a.createElement(o.View,{style:d.YX.contentBlock},C.map(((e,i)=>this._renderPlanDetails(e,i,t,e.selected,T,w)))),!A&&E&&E.map(this._renderTip))}))))}}var v=i(495176),_=i(285669),C=i(876505),E=i(439322),T=i(672748),f=i(938777),A=i(879052);class S extends l.Ay{constructor(){super(...arguments),this.planDetailsInnerContainerStyle=this.isCABNInterstitialsStandardisationV2Enabled?d.OP.planDetailsInnerContainerSoloCABN:d.OP.planDetailsInnerContainerSolo,this.renderWidget=()=>{var e,t;const i=new l.Wh(this.props);if(!i.products||0===i.products.length)return;this._updateAggregatedCTATransientData();const n=i.products[0].value;if(!n)return;const{title:s}=n.titles,u=n.desriptionText,p=n.planDetails[0],{pricing:g,subtitle:m}=p,E=null===(e=n.bannerContent.value)||void 0===e?void 0:e.imageValue,T=null==n?void 0:n.freebie,{height:f,width:S}={height:72,width:72},y="SOLO_VIEW"===(0,r.KJ)(this.props.widgetSlotData),w=this.enablePriceVariationForVASWidget?[d.OP.finalPriceStyleSolo,c.XT.fontMedium_14]:d.OP.finalPriceStyleSolo,I=this.enablePriceVariationForVASWidget?[d.OP.offerPrimaryTextSolo,c.XT.fontRegular_14]:d.OP.offerPrimaryTextSolo,b=this.enablePriceVariationForVASWidget?[d.OP.strikeOutTextSolo,c.XT.fontMedium_14]:d.OP.strikeOutTextSolo;return a.createElement(C.A,Object.assign({},(0,A.Z)(`Solo_Widget_Container_Listing_Id_${null==p?void 0:p.abbListingId}_Index_${null===(t=this.props)||void 0===t?void 0:t.index}`,!1,!0),{style:d.Lv.mainContainer,trackingInfo:this.getProductViewTracking(n)}),a.createElement(o.View,{style:d.Lv.innerContainer},a.createElement(h.Dk,Object.assign({},(0,A.Z)("Solo_Widget_Product_Image"),{source:null==E?void 0:E.dynamicImageUrl,height:f,width:S,style:c.C1.margin_top_2})),a.createElement(o.View,{style:d.Lv.infoContainer},a.createElement(o.View,null,a.createElement(v.A,Object.assign({},(0,A.Z)("Solo_Widget_Title"),{text:s,style:d.Lv.headerTitle})),this._renderProductRatingView(n.ratingData)),y||this.isCABNInterstitialsStandardisationV2Enabled?a.createElement(o.View,null,this._renderPlanDetails(p,0,0,p.selected,T)):a.createElement(o.View,{style:d.Lv.priceContainer},a.createElement(_.A,{pricing:g,priceStyle:w,discountStyle:I,sellingPriceStyle:b,enablePriceVariationsAB:this.enablePriceVariationForVASWidget,enableDiscountIconAB:this.enableDiscountIconForVASWidget}),a.createElement(v.A,{text:null==m?void 0:m.text,style:d.Lv.durationText})))),a.createElement(o.View,{style:[c.C1.padding_horizontal_16,c.C1.padding_bottom_16]},u.map(this._renderDescriptionText)))},this._renderPlanDetails=(e,t,i,n,r,s={},l=!0)=>{const u=e.pricing,h=e.actionButton,p=this.enablePriceVariationForVASWidget?[d.OP.finalPriceStyleSolo,c.XT.fontMedium_14]:d.OP.finalPriceStyleSolo,g=this.enablePriceVariationForVASWidget?[d.OP.offerPrimaryTextSolo,c.XT.fontMedium_14]:d.OP.offerPrimaryTextSolo,m=this.enablePriceVariationForVASWidget?[d.OP.strikeOutTextSolo,c.XT.fontMedium_14]:d.OP.strikeOutTextSolo;if(u&&(null==h?void 0:h.value))return a.createElement(o.View,{style:[this.planDetailsInnerContainerStyle,s]},a.createElement(o.View,null,a.createElement(_.A,{pricing:u,priceStyle:p,discountStyle:g,sellingPriceStyle:m,enablePriceVariationsAB:this.enablePriceVariationForVASWidget,enableDiscountIconAB:this.enableDiscountIconForVASWidget}),l&&a.createElement(o.Text,{style:d.OP.planDuration},this._getPlanDurationText(e))),this._renderActionButton(t,i,r,n))}}static getWidgetHeight(e){return 310}getHeaderStyle(){const e=new u.F;return e.headerContainer=[c.C1.padding16,c.C1.padding_bottom_8],e}isHeaderBottomBorderEnabled(){return!1}getProductViewTracking(e){var t,i,n,r,a,o,s,l,d,c;const u=null===(t=null==e?void 0:e.planDetails)||void 0===t?void 0:t[0],h=null==u?void 0:u.abbListingId,p=null==u?void 0:u.abbProductId,g=null===(o=null===(a=null===(r=null===(n=null===(i=null==u?void 0:u.actionButton)||void 0===i?void 0:i.action)||void 0===n?void 0:n.params)||void 0===r?void 0:r.attachContext)||void 0===a?void 0:a.parentProductContext)||void 0===o?void 0:o.listingId,m=null===(c=null===(d=null===(l=null===(s=this.props.pageInfo)||void 0===s?void 0:s.pageContext)||void 0===l?void 0:l.fdpEventTracking)||void 0===d?void 0:d.commonContext)||void 0===c?void 0:c.fid,v=h?this.props.appContext.userManager.isLIDInCart(h):void 0;if(p&&m)return new E.A((0,T.lk)(),m,p,h,f.IRM.Digital,g,v)}}var y=i(387393),w=i(796840),I=i(128881),b=i(795492),D=i(857850),x=i(800683),P=i(322392),O=i(492418),R=i(46277),k=i(352254),V=i(985234),L=i(4880),M=i(732026),N=i(927443),H=i(311676),W=i(337497),B=i(302019),U=i(201159),F=i(738656);const G=o.Dimensions.get("window").width,z=B.az.extendComponent({name:"MainContainer",defaultProps:e=>({pb:e.isOnlyOneProduct?"s0":"s8",flexDirection:"row"})}),j=B.xM.extendComponent({name:"WebViewHeader",defaultProps:{height:52,width:G,position:"absolute",zIndex:2,alignItems:"center",bg:"common.white",top:0,p:"s8"}}),X=B.az.extendComponent({name:"CardOuterContainer",defaultProps:e=>({borderRadius:e.isOnlyOneProduct?0:8,borderWidth:e.isOnlyOneProduct?0:1,flex:1,borderColor:e.isOnlyOneProduct?void 0:(0,F.FH)("divider"),overflow:"hidden",bg:e.isOnlyOneProduct?void 0:"common.white",mx:e.isOnlyOneProduct?void 0:"s6",ml:e.isOnlyOneProduct?void 0:"s4",mr:e.isOnlyOneProduct?void 0:"s4",mb:e.isOnlyOneProduct?"s0":"s5",shadow:0})}),Y=B.az.extendComponent({name:"DescriptionSection",defaultProps:{mx:"s4"}}),q=B.az.extendComponent({name:"DescriptionOuterContainer",defaultProps:{pt:"s5",px:"s5"}}),J=B.az.extendComponent({name:"HyperlinkContainer",defaultProps:{ml:"s8",mt:"s2",alignSelf:"flex-start"}}),K=B.JU.extendComponent({name:"HyperlinkText",defaultProps:{color:"primary.main",font:"s_medium",includeFontPadding:!1,mb:"s5"}}),Q=B.az.extendComponent({name:"PlanDetailsOuterContainer",defaultProps:e=>({py:"s4",px:e.isOnlyOneProduct?"s6":"s7"})}),Z=(B.fI.extendComponent({name:"PlanDetailsInnerContainer",defaultProps:{alignItems:"center",justifyContent:"space-between",my:"s3"}}),B.az.extendComponent({name:"ActiveButtonContainer",defaultProps:e=>({width:64,height:32,borderRadius:4,alignItems:"center",justifyContent:"center",bg:e.isFreebie?"primary.main":e.isAdded?"common.white":"primary.main",opacity:e.isFreebie?.4:1,borderWidth:!e.isFreebie&&e.isAdded?1:0,borderColor:!e.isFreebie&&e.isAdded?"raw.grey.100":void 0})}),B.JU.extendComponent({name:"ActiveButtonText",defaultProps:e=>({font:"s_medium",includeFontPadding:!1,textAlignVertical:"center",color:e.isFreebie?"common.white":e.isAdded?"primary.main":"common.white"})}),B.JU.extendComponent({name:"DropDownRowText",defaultProps:{font:"s_medium"}})),$=B.az.extendComponent({name:"HeaderContainer",defaultProps:{p:"s6"}}),ee=B.xM.extendComponent({name:"HeaderFirstChild",defaultProps:{pb:"s4"}}),te=B.az.extendComponent({name:"HeaderTitleContainer",defaultProps:{flexBasis:"100%",flexShrink:1}}),ie=B.JU.extendComponent({name:"HeaderText",defaultProps:{color:"text.primary",font:"l_medium",includeFontPadding:!1}}),ne=B.JU.extendComponent({name:"HeaderSubtitleText",defaultProps:{mt:"s2",color:"text.secondary",font:"s",maxWidth:"100%",mb:"s4"}}),re=B.fI.extendComponent({name:"SubHeaderContainer",defaultProps:{justifyContent:"flex-start",bg:"raw.grey.50",px:"s6",py:"s4",borderRadius:2}}),ae=B.fI.extendComponent({name:"LogoContainer",defaultProps:{justifyContent:"flex-start",flexShrink:0}}),oe=B.ov.extendComponent({name:"AdditionalContainer",defaultProps:{bg:"common.white",width:40,height:40,mr:"s4",borderRadius:4}}),se=B.JU.extendComponent({name:"AdditionalText",defaultProps:{color:"primary.main",font:"m_medium"}}),le=B.az.extendComponent({name:"MessageContainer",defaultProps:{flexShrink:1,justifyContent:"center",alignItems:"flex-start"}}),de=B.JU.extendComponent({name:"MessageText",defaultProps:e=>({color:e.isMessageHighlighted?"success.primary":void 0,font:e.isMessageHighlighted?"m_medium":void 0})});var ce=i(561310),ue=i(614006),he=i(272625),pe=i(257246);class ge extends l.Ay{constructor(e,t){var i,n;super(e,t),this.shouldTrack=!0,this._renderItem=({item:e,index:t},i)=>{const n=e.value,r=null==n?void 0:n.planDetails;if(!n||!r)return;const s=n.freebie,l=n.desriptionText,u=null==n?void 0:n.tip,h=this.state.planSelectionIndexes[t],p=this._isProductAdded(h,t),g=(0,F.GW)(i?"s6":"s8"),m=this._getWidgetWidth()-g,v=m-18,_=(0,F.GW)("s2")+1,E="web"===o.Platform.OS?"up":"down",T=d.I5.dropDownComponentBorderColorDls;return a.createElement(C.A,{trackingConfig:(0,he.G3)(),onViewStarted:()=>this._impressionTracking(t)},a.createElement(X,{isOnlyOneProduct:i,width:this._getWidgetWidth()},this._renderHeaderbackground(n,t,{height:50,width:54},i,d.I5.headerContainerStyle),a.createElement(Y,{isOnlyOneProduct:i},a.createElement(q,null,l.map(this._renderDescriptionText)),a.createElement(J,null,this._renderHyperlink(n,!1,t))),r.filter((e=>{var t;return(null===(t=e.subtitle)||void 0===t?void 0:t.text)&&""!==e.subtitle.text})).length>0&&a.createElement(B.az,{mx:"s6",my:"s4",zIndex:3},a.createElement(I.m,{disabled:!1,selected:h,rowRenderer:(...e)=>this._rowRenderer(...e),labelExtractor:(e,t,i)=>{var n;return(null===(n=t.subtitle)||void 0===n?void 0:n.text)||""},screenWidth:m,screenHeight:this.getScreenHeight(),itemWidth:v,direction:E,position:"bottom",backdrop:!1,dataProvider:this.getDataProvider(r),componentStyle:[d.I5.dropdownComponentStyle,T,{width:v}],dropdownContainerStyle:[d.I5.dropdownContainerStyle,{width:v,marginHorizontal:_}],itemStyle:[d.I5.dropdownItemStyle,{width:m}],selectedStyle:{backgroundColor:O.OKH.gemsBackgroundColor},labelTextStyle:d.I5.dropdownLabelText,labelContainerStyle:c.C1.justifyContentSpaceBetween,onItemSelect:(e,i)=>this._onPlanSelect(e,t),modalContentContainerStyles:c.C1.absolute_bottom_position})),a.createElement(Q,{isOnlyOneProduct:i},this._renderPlanDetails(r[h],h,t,p,s,d.YX.planDetails,!1)),u&&u.map(this._renderTip)))},this._didSelectPlan=(e,t)=>{if(t){if(this._isCartPageContext)return void this._handlePlanSelectionOnCart(e,t);const{cardIndex:i,planIndex:n}=t||{};if(void 0!==i&&void 0!==n){const e=this._getPlanAsMutualExclusion(n,i);e&&(this._isProductAdded(n,i)?this._handleRemove(e):this._handleAdd(e))}}},this._onKnowMoreDetailsClick=(e,{actionParam:t,closeModal:i,cardIndex:n})=>{"android"===o.Platform.OS||"web"===o.Platform.OS?(i&&this.props.actionDispatcher&&this.props.actionDispatcher(new ce.iM(ce.xH.CLOSE_MODAL)),this._openDetailsWebview&&this._openDetailsWebview(i,n)):this._seeDetailsPressed(e,t)},this._renderHyperlink=(e,t=!1,i=0)=>{const{hyperlink:n}=e,r=(0,pe.C_)(this.props.themeContext),o=this.props.themeContext&&r?{color:r,textDecorationLine:"underline"}:void 0;return(null==n?void 0:n.text)&&(null==n?void 0:n.action)&&a.createElement(s.S,{onPress:this._onKnowMoreDetailsClick,onPressParam:{actionParam:n.action,closeModal:t,cardIndex:i}},a.createElement(K,{style:o},n.text))},this._openProductDetails=e=>{var t,i,n;const a=(0,r.xH)(this.props.widgetSlotData),o=this._getProduct(e),s=null===(n=null===(i=null===(t=null==o?void 0:o.value)||void 0===t?void 0:t.details)||void 0===i?void 0:i.action)||void 0===n?void 0:n.params;if(this._trackVASWidgetClick(this.state.planSelectionIndexes[e],e,R.Xm.Expand),this.props.actionDispatcher&&s&&a){const t=Object.assign(Object.assign({},s),{onClosed:()=>{this._trackVASWidgetClick(this.state.planSelectionIndexes[e],e,R.Xm.Collapse)},widgetData:Object.assign(Object.assign({},a),{products:[o]})}),i=new ce.iM(ce.xH.OPEN_MODAL,t);this.props.actionDispatcher(i)}},this._openDetailsWebview=(e,t)=>{const i=(0,r.xH)(this.props.widgetSlotData);if(this.props.actionDispatcher&&i){const n={modalType:"BOTTOM_SHEET",viewType:"DETAILS_WEB_VIEW",widgetType:ue.n.VAS_V0,onClosed:()=>{e&&this._openProductDetails(t)},widgetData:Object.assign(Object.assign({},i),{currentPlanIndex:this.state.planSelectionIndexes[t],products:[this._getProduct(t)]})},r=new ce.iM(ce.xH.OPEN_MODAL,n);this.props.actionDispatcher(r)}},this._updateProductStateFromCart=e=>{const{actionDispatcher:t}=e,i=new l.Wh(e).products,n=new L.q,r=this._getAddedProducts(this.props),{isLIDInCart:a}=e.appContext.userManager;let o=!1;i&&i.forEach(((e,t)=>{var i;const s=this.state.planSelectionIndexes[t];null===(i=e.value)||void 0===i||i.planDetails.forEach((({abbListingId:e,abbProductId:i},l)=>{const d=this._getPlanAsMutualExclusion(l,t);d&&a(d.parentProduct.listingId)&&(this._isDefaultAddedWidgetView?i in r||l!==s||this._handleAdd(d):!(i in r)&&a(e)?(n.addABB(d),o=!0):i in r&&!a(e)&&(n.removeABB(d),o=!0))}))})),o&&t&&t({type:D.Q3.ABB_TRANSIENT_DATA,payload:n})},this._impressionTracking=e=>{const t=this._getProductTracking(this.state.planSelectionIndexes[e],e)||{};ge.trackVASEvents(t,W.A.VAS_WIDGET_IMPRESSION,this.props.actionDispatcher)},this.state=this.getDerivedState(e,void 0),this._isCartPageContext=!!(null===(n=null===(i=(0,r.nS)(e.widgetSlotData))||void 0===i?void 0:i.params)||void 0===n?void 0:n.isUnderCart)}getDerivedState(e,t){const i=super.getDerivedState(e,t),n=new l.Wh(e).products||[];return Object.assign(Object.assign({},i),{isDropdownOpened:!1,planSelectionIndexes:n.map(((i,n)=>{var r;const a=null===(r=i.value)||void 0===r?void 0:r.planDetails;if(a)for(let t=0;t<a.length;t++)if(this._isProductAdded(t,n,e))return t;return(null==t?void 0:t.planSelectionIndexes)&&t.planSelectionIndexes[n]||0}))})}shouldComponentUpdate(e,t,i){return this._hasDropdownStateChanged(t)||this._hasPlanSelectionChanged(t)||this._hasABBTransientDataChanged(e)||super.shouldComponentUpdate(e,t,i)}componentDidMount(){super.componentDidMount();const e=(0,r.KJ)(this.props.widgetSlotData);"SINGLE_PRODUCT_VIEW_I4"!==e&&"SINGLE_PRODUCT_VIEW_V2"!==e||this._updateAggregatedCTATransientData()}static getWidgetHeight(e){return 500}getHeaderStyle(){const e=super.getHeaderStyle();return e.headerSubtitleText=[e.headerSubtitleText,d.I5.headerSubtitleText],e}isHeaderBottomBorderEnabled(){return!0}renderWidget(){const e=new l.Wh(this.props);if(!e.products||0===e.products.length)return;const t=e.products,i=t.length;return a.createElement(o.ScrollView,{horizontal:!0,showsHorizontalScrollIndicator:!1},a.createElement(z,null,t.map(((e,t)=>this._renderItem({item:e,index:t},1===i)))))}getDataProvider(e){return new b.M9(((e,t)=>e!==t)).cloneWithRows(e)}_rowRenderer(e,t,i,n){var r;return a.createElement(B.xM,{alignItems:"center"},a.createElement(Z,null,null===(r=t.subtitle)||void 0===r?void 0:r.text))}_onPlanSelect(e,t){setTimeout((()=>{const i=[...this.state.planSelectionIndexes],n=i[t];if(e!==n){const r=this._getPlanAsMutualExclusion(e,t);this._isProductAdded(n,t)?r&&this._handleAdd(r):(i[t]=e,this.setState(Object.assign(Object.assign({},this.state),{planSelectionIndexes:i})))}this._trackVASWidgetClick(e,t,R.Xm.PlanTermclick)}),50)}_trackVASWidgetClick(e,t,i){const n=Object.assign(Object.assign({},this._getProductTracking(e,t)),{eventType:i});ge.trackVASEvents(n,W.A.VAS_WIDGET_CLICK,this.props.actionDispatcher)}_getProductTracking(e,t){var i,n,r,a,o,s,l;const d=this._getPlan(t,e),c=null===(i=null==d?void 0:d.subtitle)||void 0===i?void 0:i.text,u=this._getParentProductContext();let h;if(c){const e=c.split(/\s/g);"Year"===e[1]?h=12*Number(e[0]):"Months"===e[1]&&(h=Number(e[0]))}const p=this._getProduct(t),{socialMarketingId:g,parentListingId:m,pageType:v,widgetType:_,viewType:C}=(null==p?void 0:p.tracking)||{};let E=this.getFetchId()||(null===(o=null===(a=null===(r=null===(n=this.props.pageInfo)||void 0===n?void 0:n.pageContext)||void 0===r?void 0:r.fdpEventTracking)||void 0===a?void 0:a.commonContext)||void 0===o?void 0:o.fid);return!E&&this._isCartPageContext&&(E=(null===(s=this.props.pageInfo)||void 0===s?void 0:s.baseImpressionId)||""),this.shouldTrack&&d?{productId:d.abbProductId,listingId:d.abbListingId,finalPrice:null===(l=d.pricing)||void 0===l?void 0:l.finalPrice.value,fid:E,isAlreadyAttached:this._isProductAdded(e,t),socialMarketingId:g,parentListId:m||(null==u?void 0:u.listingId),userState:R.Ic.Collapse,attachType:f.IRM.Digital,planTerm:h,modifiedNavigationContext:{pageType:v,pageName:`${v}_${m}_${_}_${C}`}}:{}}_isProductAdded(e,t,i){const n=this._getAddedProducts(i||this.props),r=this._getPlan(t,e);return(null==r?void 0:r.abbProductId)&&r.abbProductId in n||!1}_getPlanAsMutualExclusion(e,t){var i,n,a,o,s,l;const d=this._getProduct(t);if(d){const c=(null===(i=d.value)||void 0===i?void 0:i.childProductIdentifier)||[],u=this._getPlan(t,e),h=this._getProductTracking(e,t),p=this._getParentProductContext(),g=(0,r.nS)(this.props.widgetSlotData),m=this._getWidgetViewType()||"";if(u&&p){return{productId:u.abbProductId,listingId:u.abbListingId,selected:!0,childProductIdentifier:c,category:u.digitalType,tracking:d.tracking||{},title:(null===(n=d.value)||void 0===n?void 0:n.titles.title)||"",freebie:(null===(a=d.value)||void 0===a?void 0:a.freebie)||!1,price:(null===(o=u.pricing)||void 0===o?void 0:o.finalPrice.value)||0,location:{planIndex:e,cardIndex:t,index:this.props.index,slotBehavior:this.props.widgetSlotData.behaviour},parentProduct:{productId:p.productId,listingId:p.listingId||""},widgetContext:{isDefaultAddedViewType:this._isDefaultAddedWidgetView,viewType:m,widgetType:g.type,pageType:(null===(l=null===(s=this.props.pageInfo)||void 0===s?void 0:s.pageContext)||void 0===l?void 0:l.type)||""},trackingParams:h}}}}_handleAdd(e){var t;const{actionDispatcher:i}=this.props,n=this._getMutuallyExcludedSelectedProduct(e.childProductIdentifier);if(n)if(this._isDefaultAddedWidgetView)null==i||i({type:D.Q3.ATTACH_ACTION,payload:new L.A(e,n)});else{const t=this._getReplacementPopup(e.location.cardIndex);t&&this._showAbbPopup(t,n,e)}else if(null==i||i({type:D.Q3.ATTACH_ACTION,payload:new L.A(e)}),!this._isDefaultAddedWidgetView){const i=this._getSnackBar(e.location.cardIndex,e.location.planIndex),n=null===(t=null==i?void 0:i.title.value)||void 0===t?void 0:t.text;n&&this._showAbbSnackbar(n)}}_handleRemove(e){const t=this._getRemovalPopup(e.location.planIndex,e.location.cardIndex);t&&this._showAbbPopup(t,e)}_handlePlanSelectionOnCart(e,{planIndex:t,cardIndex:i}){var n,a;const o=this._getProductTracking(t,i);ge.trackVASEvents(o,W.A.VAS_WIDGET_CLICK,this.props.actionDispatcher);const s=null===(a=null===(n=(0,r.nS)(this.props.widgetSlotData))||void 0===n?void 0:n.params)||void 0===a?void 0:a.onAddFromCart;s&&s(e)}_getMutuallyExcludedSelectedProduct(e){const t=(e,t)=>{const i=new Set(t);return[...Array.from(new Set(e))].filter((e=>i.has(e)))},i=this._getAddedProducts(this.props);if(i&&e.length)for(const n in i)if(i.hasOwnProperty(n)){const r=i[n];if(r.selected&&t(r.childProductIdentifier,e).length>0)return i[n]}}_showAbbSnackbar(e){(0,M.Pc)({design:0,type:0},e,this.props.actionDispatcher)}_showAbbPopup(e,t,i){var n,r;const a=(0,N.h2)(e),o=a.data.actions.find((e=>{var t;return(null===(t=e.action)||void 0===t?void 0:t.type)===P.X.CART_REMOVE}));o&&(null===(n=o.action)||void 0===n?void 0:n.params)&&(o.action.params={remove:t},i&&(o.action.params.add=i,o.action.params.snackBar=null===(r=o.value)||void 0===r?void 0:r.snackBar)),this.props.actionDispatcher&&x.A.handleAction(a,D.Q3.SHOW_POPUP,this.props.actionDispatcher)}renderHeader(e){var t,i,n;const r=null===(t=e.header)||void 0===t?void 0:t.value;if(!r)return;const o=r.collapsible,l=this.state.widgetCollapsed,c=r.abbSubHeader,u=null==c?void 0:c.logoImages,h=null==c?void 0:c.productCount,p="number"==typeof h&&h>0,g=null==c?void 0:c.productInfo,m=null===(i=r.titleValue)||void 0===i?void 0:i.text,v=null===(n=r.subTitleValue)||void 0===n?void 0:n.text;return a.createElement(s.S,{onPress:(e,t)=>this.onHeaderCollapseButtonClick(t),onPressParam:r,disableFeedback:!0},a.createElement($,null,a.createElement(ee,null,a.createElement(te,null,a.createElement(ie,null,m),a.createElement(ne,null,v)),a.createElement(B.az,null,o&&(l?a.createElement(U.bD,{size:24}):a.createElement(U.Sw,{size:24})))),l&&a.createElement(re,null,a.createElement(ae,null,u&&u.map(((e,t)=>e&&a.createElement(k.A,{key:`logo-${t}`,style:d.HX.logo,roundedCorner:d.HX.logo.borderRadius,source:e.dynamicImageUrl,width:d.HX.logo.width,height:d.HX.logo.height,downloadSizeMultiplier:this.IMAGE_SCALE}))),p&&a.createElement(oe,null,a.createElement(se,null,`+${h}`))),a.createElement(le,null,a.createElement(B.JU,null,g&&a.createElement(B.JU,null,/\*.+?\*/.test(g)?g.split("*").map(((e,t)=>a.createElement(de,{isMessageHighlighted:!!(1&t),key:`${e}-${t}`},e))):g))))))}_getParentProductContext(){const e=(0,r.xH)(this.props.widgetSlotData);return e&&e.parentContext}_getSnackBar(e,t){var i,n;const r=this._getPlan(e,t);return null===(n=null===(i=null==r?void 0:r.actionButton)||void 0===i?void 0:i.value)||void 0===n?void 0:n.snackBar}_getReplacementPopup(e){var t;const i=this._getProduct(e);return null===(t=null==i?void 0:i.value)||void 0===t?void 0:t.popupDetails}_getRemovalPopup(e,t){var i,n;const r=this._getPlan(t,e);return null===(n=null===(i=null==r?void 0:r.actionButton)||void 0===i?void 0:i.value)||void 0===n?void 0:n.popupDetails}_getAddedProducts(e){var t,i;const n=null===(t=e.pageInfo)||void 0===t?void 0:t.pageTransientData;if(n){return(null===(i=n.data[V.V.ABB])||void 0===i?void 0:i.mutualExclusion)||{}}return{}}_hasDropdownStateChanged(e){return this.state.isDropdownOpened!==e.isDropdownOpened}_hasABBTransientDataChanged(e){const t=(e,t)=>e.filter((e=>!t.includes(e))),i=Object.keys(this._getAddedProducts(e)),n=Object.keys(this._getAddedProducts(this.props));return t(i,n).length>0||t(n,i).length>0}_hasPlanSelectionChanged(e){return this.state.planSelectionIndexes.join()!==e.planSelectionIndexes.join()}}ge.trackVASEvents=(e,t,i)=>{const{productId:n,listingId:r,finalPrice:a,fid:o,isAlreadyAttached:s,socialMarketingId:l,parentListId:d,userState:c,eventType:u,attachType:h,planTerm:p,modifiedNavigationContext:g}=e;let m;const v=(0,T.lk)();if(o&&n&&r){switch(t){case W.A.VAS_WIDGET_CLICK:m=new H.dX2(v,o,n,r,u,a,c,d,h,p,g);break;case W.A.VAS_WIDGET_IMPRESSION:m=new H.uXZ(v,o,n,r,c,d,s,h,l,g)}m&&i&&i(new H.ax6(m))}};var me=i(410752),ve=i(420721),_e=i(868261),Ce=i(867953),Ee=i(146387),Te=i(933415),fe=i(57522);class Ae extends w.A{constructor(){super(...arguments),this.shouldTrack=!0,this._scrollViewRef=a.createRef(),this._isStarted=!1,this._impressionTracking=e=>{const t=this._getProductTracking(this.state.planSelectionIndexes[e],e)||{};w.A.trackVASEvents(t,W.A.VAS_WIDGET_IMPRESSION,this.props.actionDispatcher)},this._getMultiCondition=()=>{const e=[];return e.push(new Ce.D_("_abbV4View",0,95,this._onViewStart,this._onViewStop)),e},this._onViewStart=()=>{var e,t;if(!this._isStarted){this._isStarted=!0;const i=new Te.Q(this.props.widgetSlotData.slotData.id);null===(t=(e=this.props).actionDispatcher)||void 0===t||t.call(e,new Ee.YI(new Ee.qF(fe.j.DYNAMIC_NAVBAR_VOLATILE_DATA,i)))}},this._onViewStop=()=>{var e,t;if(this._isStarted){this._isStarted=!1;const i=new Te.Q(0,this.props.widgetSlotData.slotData.id);null===(t=(e=this.props).actionDispatcher)||void 0===t||t.call(e,new Ee.YI(new Ee.qF(fe.j.DYNAMIC_NAVBAR_VOLATILE_DATA,i)))}},this._renderItem=(e,t)=>{const i=e.value,n=null==i?void 0:i.planDetails;if(!i||!n)return;const r=i.freebie,s=this.state.planSelectionIndexes[t],l=this._isProductAdded(s,t);return a.createElement(o.View,null,this._renderCardTitle(i,{height:46,width:48},l,t),this._renderPlans(n,s,t,r,l))},this._renderCardTitle=(e,t,i,n)=>{if(!e)return;const{imageValue:r}=e.bannerContent.value||{},{title:s,subtitle:l}=e.titles;if(!r||!s)return;const{height:u,width:h}=t;return a.createElement(a.Fragment,null,this._renderBadge(d.CO.badge,n),a.createElement(o.View,{style:d.OP.headerTopSection},a.createElement(k.A,Object.assign({},(0,A.Z)("ABBV4DetailsImage"),{source:r.dynamicImageUrl,height:u,width:h,downloadSizeMultiplier:this.IMAGE_SCALE})),i&&a.createElement(k.A,{source:O.selectedRoundGreen,height:24,width:24,style:d.CO.selectedIcon}),a.createElement(o.View,{style:d.Jz.headerTitleSection},a.createElement(v.A,{text:l,style:d.CO.headerSubtitle}),a.createElement(o.Text,Object.assign({},(0,A.Z)("ABBV4ItemCardTitle"),{style:d.CO.headerTitle}),s),this._renderLink(e,n),this._renderProductRatingView(e.ratingData,c.C1.margin_top_0))))},this._renderLink=(e,t)=>{var i;const{details:n}=e;return(null===(i=null==n?void 0:n.value)||void 0===i?void 0:i.value)&&a.createElement(o.Text,{style:d.CO.hyperlink,onPress:e=>{this._openProductDetails(t)}},n.value.value)},this._renderPlans=(e,t,i,n,r,s,l,u)=>{const h=e[t],p=h.pricing,g=h.actionButton;if(!p||!(null==g?void 0:g.value))return;const m=l||d.CO.planDetails,v=u||d.CO.dropdownContainerStyle,C=this.enablePriceVariationForVASWidget?[d.CO.offerPrimaryText,c.XT.fontMedium_14,c.C1.margin_top_0]:d.CO.offerPrimaryText,E=this.enablePriceVariationForVASWidget?[d.CO.finalPriceStyle,c.XT.fontMedium_14,c.C1.padding_top_0]:d.CO.finalPriceStyle,T=this.enablePriceVariationForVASWidget?[d.OP.strikeOutText,c.XT.fontMedium_14,c.XT.lineHeight_20,c.C1.padding_top_0]:d.OP.strikeOutText;return a.createElement(o.View,{style:m},a.createElement(o.View,{style:[d.CO.pricePlanWrapper,c.C1.zIndex_2]},a.createElement(_.A,{pricing:p,priceStyle:E,discountStyle:C,sellingPriceStyle:T,enablePriceVariationsAB:this.enablePriceVariationForVASWidget,enableDiscountIconAB:this.enableDiscountIconForVASWidget}),this._renderTenureDropdown(e,t,i,v,s)),a.createElement(o.View,{style:d.CO.actionBtnWrapper},this._renderActionButton(t,i,n,r)))},this.toggleDropdownOpen=e=>{this.setState({isDropdownOpened:e})},this._getActionButtonText=(e,t,i)=>{const{locale:n}=this.props.appContext,r=n!==ve.Vn.EN?(0,ve.ak)(n,{id:me.H.rex_string_ADD_NEW}):"Add Plan",a=(0,ve.ak)(n,{id:me.H.rex_string_ADDED}),o=(0,ve.ak)(n,{id:me.H.rex_string_REMOVE});return t||e&&this._isProductAddedFromPP(i)?a:e?this._isBottomSheet&&this.isCABNInterstitialsStandardisationV2Enabled?a:o:r},this._renderInfos=(e,t=d.vq.infoContainer)=>{const i=(null==e?void 0:e.desriptionText)&&e.desriptionText.length>0&&e.desriptionText||[];return(null==e?void 0:e.multiImageDescriptionEnabled)?a.createElement(o.View,{style:t},i.map((({value:e},t)=>{var i;return a.createElement(o.View,Object.assign({},(0,A.Z)(`ABBV4InsideDetailsContainerIndex${t}`),{key:t,style:d.vq.infoItems}),a.createElement(k.A,Object.assign({},(0,A.Z)("ABBV4DetailsInsideIcon"),{source:null===(i=null==e?void 0:e.imageValue)||void 0===i?void 0:i.dynamicImageUrl,height:56,width:56,style:d.vq.infoIcon,downloadSizeMultiplier:this.IMAGE_SCALE})),a.createElement(v.A,{text:null==e?void 0:e.title,style:d.vq.infoTitle}))}))):a.createElement(o.View,{style:d.YX.contentBlock},i.map(this._renderDescriptionText))}}renderWidget(){var e,t,i,n;const r=new l.Wh(this.props);if(!r.products||0===r.products.length)return;const s=r.products,u=1===s.length;let h=this._getWidgetWidth();h=u?h-32:h;const p={minViewVisiblePercentage:50,minViewVisibleTime:1e3},g=Number.parseInt((null===(n=null===(i=null===(t=null===(e=this._scrollViewRef)||void 0===e?void 0:e.current)||void 0===t?void 0:t.getScrollableNode)||void 0===i?void 0:i.call(t))||void 0===n?void 0:n.scrollLeft)||0);return a.createElement(Ce.Ay,{conditions:this._getMultiCondition()},a.createElement(o.View,{style:c.C1.zIndex_1},a.createElement(o.ScrollView,{ref:this._scrollViewRef,style:this.state.isDropdownOpened?{overflow:"visible",transform:[{translateX:-g}]}:{},horizontal:!0,showsHorizontalScrollIndicator:!1},a.createElement(o.View,{style:d.CO.cardRow},s.map(((e,t)=>a.createElement(o.View,Object.assign({},(0,A.Z)(`ABBV4CardContainerIndex${t}`),{key:t,style:[d.CO.card,{width:h}]}),a.createElement(C.A,{trackingConfig:p,onViewStarted:()=>this._impressionTracking(t)},this._renderItem(e,t)))))))))}_renderTenureDropdown(e,t,i,n,r="bottom"){const s=this._getWidgetWidth(),l="web"===o.Platform.OS?"up":"down";return e.filter((e=>{var t;return(null===(t=e.subtitle)||void 0===t?void 0:t.text)&&""!==e.subtitle.text})).length>0&&a.createElement(o.View,null,a.createElement(I.m,{disabled:!1,onClose:()=>this.toggleDropdownOpen(!1),onOpen:()=>this.toggleDropdownOpen(!0),selected:t,rowRenderer:(...e)=>this._rowRenderer(...e),labelExtractor:(e,t,i)=>{var n;return(null===(n=t.subtitle)||void 0===n?void 0:n.text)||""},screenWidth:s,screenHeight:this.getScreenHeight(),dataProvider:this.getDataProvider(e),itemWidth:265,itemHeight:32,position:r,direction:l,backdrop:!1,dropdownContainerStyle:n,itemStyle:d.CO.dropdownItemStyle,selectedStyle:{backgroundColor:O.OKH.gemsBackgroundColor},labelTextStyle:d.I5.dropdownLabelText,labelContainerStyle:d.CO.labelContainerStyle,componentStyle:d.CO.componentStyle,onItemSelect:(e,t)=>this._onPlanSelect(e,i),modalContentContainerStyles:c.C1.absolute_bottom_position}))}static actionBtnTextStyle(e,t){const i=[d.CO.buttonTextStyle,e?d.OP.removeText:d.OP.addText,d.CO.actionBtnText],n=[d.OP.buttonTextStyle,d.OP.addText,d.CO.actionBtnText];return t?n:i}static actionBtnContainerStyle(e,t){const i=[e?d.OP.removeContainer:d.OP.addContainer,d.CO.actionBtnContainer],n=[d.OP.addContainer,d.CO.actionBtnContainer,d.OP.blurBtn];return t?n:i}_getActionButtonTextStyle(e,t){return Ae.actionBtnTextStyle(e,t)}_getActionButtonContainerStyle(e,t){return Ae.actionBtnContainerStyle(e,t)}renderHeader(e){var t,i,n,r,l,u,h,p,g,m,v,_,C;const E=null===(t=e.header)||void 0===t?void 0:t.value;if(!E)return;const T=null===(i=E.titleValue)||void 0===i?void 0:i.text,f=null===(n=E.subTitleValue)||void 0===n?void 0:n.text,S=E.collapsible,y=this.state.widgetCollapsed?{}:_e.EK.chevronUp,w=S?(e,t)=>this.onHeaderCollapseButtonClick(t):void 0,I=null!==(r=d.HX.chevron.width)&&void 0!==r?r:15,b=null!==(l=d.HX.chevron.height)&&void 0!==l?l:15,D=null===(h=null===(u=null==E?void 0:E.titleValue)||void 0===u?void 0:u.style)||void 0===h?void 0:h.fontSize,x=null===(g=null===(p=null==E?void 0:E.titleValue)||void 0===p?void 0:p.style)||void 0===g?void 0:g.lineHeight,P=null===(v=null===(m=null==E?void 0:E.subTitleValue)||void 0===m?void 0:m.style)||void 0===v?void 0:v.fontSize,R=null===(C=null===(_=null==E?void 0:E.subTitleValue)||void 0===_?void 0:_.style)||void 0===C?void 0:C.lineHeight,V=[d.Jz.headerTitle,D?{fontSize:D}:{},x?{lineHeight:x}:{}],L=[d.Jz.headerSubtitle,P?{fontSize:P}:{},,R?{lineHeight:R}:{}];return a.createElement(s.S,{onPress:w,onPressParam:E,disableFeedback:!0},a.createElement(o.View,{style:[d.HX.headerContainer,d.Jz.headerContainer]},a.createElement(o.View,{style:d.HX.headerFirstChild},a.createElement(o.View,Object.assign({},(0,A.Z)("ABBV4Container"),{style:d.HX.titleContainer}),a.createElement(o.Text,Object.assign({},(0,A.Z)("ABBV4Title"),{style:V}),T),a.createElement(o.Text,Object.assign({},(0,A.Z)("ABBV4Subtitle"),{style:L}),f)),a.createElement(o.View,{style:c.C1.justifyContentCenter},S&&a.createElement(k.A,Object.assign({},(0,A.Z)("ABBV4Chevrondown"),{style:y,source:O.uaq,width:I,height:b}))))))}renderFooter(e){var t,i;const n=null==e?void 0:e.footer,r=null===(i=null===(t=null==n?void 0:n.value)||void 0===t?void 0:t.imageValue)||void 0===i?void 0:i.dynamicImageUrl,s=this._screenWidth-32;return r&&a.createElement(o.View,{style:d.XH.footer},a.createElement(k.A,{source:r,height:.25*s,width:s,downloadSizeMultiplier:this.IMAGE_SCALE}))}}class Se extends Ae{constructor(){super(...arguments),this._renderItem=(e,t)=>{const i=e.value,n=null==i?void 0:i.planDetails;if(!i||!n)return;const r=i.freebie,s=this.state.planSelectionIndexes[t],l=this._isProductAdded(s,t);return a.createElement(o.View,null,this._renderCardTitle(i,{height:46,width:48},l,t),this._shouldRenderInfo()&&this._renderInfos(i,d.p6.infoContainer),this._renderPlans(n,s,t,r,l))},this._renderLink=(e,t)=>this._renderHyperlink(e,!1,t),this._shouldRenderInfo=()=>!0}renderFooter(e){return a.createElement(o.View,{style:d.p6.footer})}}class ye extends Ae{constructor(){super(...arguments),this.shouldTrack=!0,this.widgetContainerStyle=d.vq.container,this._renderItem=(e,t)=>{const i=e.value,n=null==i?void 0:i.planDetails;if(!i||!n)return;const r=i.freebie,s=this.state.planSelectionIndexes[t],l=this._isProductAdded(s,t);return a.createElement(o.View,null,this._renderCardTitle(i,{height:46,width:48},l,t),this._renderInfos(i),this._renderPlans(n,s,t,r,l,"center",d.vq.planDetails))},this._renderCardTitle=(e,t,i,n)=>{const{imageValue:r}=e.bannerContent.value||{},{title:s,subtitle:l,coSubtitle:u}=e.titles;if(!r||!s)return;const{height:h,width:p}=t,g=d.OP.headerTitle,m=d.OP.headerSubtitle;return a.createElement(o.View,{style:d.vq.card},a.createElement(o.View,{style:d.OP.headerTopSection},a.createElement(k.A,{source:r.dynamicImageUrl,height:h,width:p,downloadSizeMultiplier:this.IMAGE_SCALE}),i&&a.createElement(k.A,{source:O.selectedRoundGreen,height:24,width:24,style:d.CO.selectedIcon}),a.createElement(o.View,{style:d.vq.headerTitleSection},a.createElement(v.A,{text:l,style:m}),a.createElement(v.A,{text:s,style:g}),a.createElement(o.Text,null,u&&a.createElement(v.A,{text:u,style:d.vq.coSubTitle}),this._renderLink(e,n)),this._renderProductRatingView(e.ratingData,c.C1.margin_top_0))))},this._renderLink=(e,t)=>this._renderHyperlink(e,!0)}renderWidget(){const e=new l.Wh(this.props).products;return e&&e.length&&this._renderItem(e[0],0)||void 0}_getProductTracking(e,t){const i=super._getProductTracking(e,t);return i&&(i.userState=R.Ic.Expanded),i}renderHeader(e){var t,i,n,r;const l=null===(t=e.header)||void 0===t?void 0:t.value;if(!l)return;const u=null===(r=null===(n=null===(i=e.header)||void 0===i?void 0:i.value)||void 0===n?void 0:n.titleValue)||void 0===r?void 0:r.text,h=l.collapsible,p=this.state.widgetCollapsed?{}:_e.EK.chevronUp,g=h?(e,t)=>this.onHeaderCollapseButtonClick(t):void 0;return a.createElement(s.S,{onPress:g,onPressParam:l,disableFeedback:!0},a.createElement(o.View,{style:[d.Jz.detailHeaderContainer,d.Jz.detailHeaderContainerSolo,c.C1.row]},u&&a.createElement(o.Text,{style:[d.Jz.detailHeaderTitleText,c.C1.row]},u),a.createElement(o.View,{style:c.C1.justifyContentCenter},h&&a.createElement(k.A,{style:p,source:O.uaq,width:d.HX.chevron.width,height:d.HX.chevron.height}))))}_getActionButtonTextStyle(e,t){const i=[d.CO.buttonTextStyle,e?d.OP.removeText:d.OP.addText,d.vq.actionBtnText],n=[d.OP.buttonTextStyle,d.OP.addText,d.vq.actionBtnText];return t?n:i}_getActionButtonContainerStyle(e,t){const i=[d.CO.buttonContainer,e?d.OP.removeContainer:d.OP.addContainer,d.vq.actionBtnContainer],n=[d.CO.buttonContainer,d.OP.addContainer,d.vq.actionBtnContainer,d.OP.blurBtn];return t?n:i}}var we=i(532701);var Ie=i(347924);class be extends Se{constructor(e,t){super(e,t),this._shouldRenderInfo=()=>this.state.isPlanBenefitsExpanded,this._renderCardTitle=(e,t,i,n)=>{if(!e)return;const{imageValue:r}=e.bannerContent.value||{},{title:s,coSubtitle:l}=e.titles;if(!r||!s)return;const{height:u,width:h}=t,p=this.state.isPlanBenefitsExpanded?a.createElement(v.A,{text:l,style:d.CO.headerSubtitle}):this._renderLink(e,n);return a.createElement(o.View,{style:d.OP.headerTopSection},a.createElement(k.A,{source:r.dynamicImageUrl,height:u,width:h}),i&&a.createElement(k.A,{source:O.selectedRoundGreen,height:24,width:24,style:d.CO.selectedIcon}),a.createElement(o.View,{style:d.Jz.headerTitleSection},a.createElement(o.Text,{style:d.CO.headerTitle},s),p,this._renderProductRatingView(e.ratingData,c.C1.margin_top_2)))},this._showDetailedInfo=()=>{this.setState((e=>Object.assign(Object.assign({},e),{isPlanBenefitsExpanded:!0})))},this._renderHyperlink=e=>{var t;const{details:i}=e;return(null===(t=null==i?void 0:i.value)||void 0===t?void 0:t.value)&&a.createElement(o.TouchableWithoutFeedback,{onPress:this._showDetailedInfo},a.createElement(o.View,{style:d.M4.flexRowCenter},a.createElement(o.Text,{style:d.CO.hyperlink},i.value.value),a.createElement(k.A,{source:O.blueDownArrow,height:16,width:16,style:d.M4.downArrowIcon})))},this.state=Object.assign(Object.assign({},this.getDerivedState(e,void 0)),{isPlanBenefitsExpanded:!0})}renderHeader(e){var t;const i=this._screenWidth-32,n=.116*i,r=null===(t=this._getProduct(0))||void 0===t?void 0:t.value,{subtitle:s}=(null==r?void 0:r.titles)||{},l=null==r?void 0:r.highlightImage;return s&&l&&a.createElement(o.View,null,a.createElement(o.Text,{style:d.M4.cardHeaderTitle},s),a.createElement(k.A,{style:d.M4.headerHightlightImgStyle,downloadSizeMultiplier:this.IMAGE_SCALE,source:l.dynamicImageUrl,height:n,width:i}))}_getProductTracking(e,t){const i=super._getProductTracking(e,t);return i&&(i.userState=this.state.isPlanBenefitsExpanded?R.Ic.Expanded:R.Ic.Collapse),i}shouldComponentUpdate(e,t,i){return this.state.isPlanBenefitsExpanded!==t.isPlanBenefitsExpanded||super.shouldComponentUpdate(e,t,i)}_renderTenureDropdown(e,t){var i;const n=null===(i=e[t].subtitle)||void 0===i?void 0:i.text;return a.createElement(o.Text,{style:d.M4.planSubtitle},n)}_getActionButtonTextStyle(e,t){return this._isCartPageContext?Ae.actionBtnTextStyle(e,t):d.M4.buttonTextStyle}_getActionButtonContainerStyle(e,t){return this._isCartPageContext?Ae.actionBtnContainerStyle(e,t):e?d.M4.addedContainer:d.M4.buttonContainer}_getActionButtonView(e,t,i,n,r){const s=this._getActionButtonText(i,n,r),l=(0,pe.Hm)(this.props.themeContext),c=!i&&this.props.themeContext?{backgroundColor:l}:void 0,u=i&&this.props.themeContext?{color:l}:void 0;return a.createElement(o.View,{style:[e,c]},i&&a.createElement(k.A,{style:d.M4.tickMark,source:O.royalBlueTick,height:16,width:16}),a.createElement(o.Text,{style:[t,u]},this._capitalize(s)))}renderFooter(e){return a.createElement(o.View,{style:d.M4.footer})}}var De=i(670563),xe=i(415283),Pe=i(644598),Oe=i(752936),Re=i(331547),ke=i(690423),Ve=i(700036);class Le extends a.Component{renderDots(){const{currentIndex:e,totalDots:t,dotSize:i=6,activeColor:n="#000",inactiveColor:r="#ccc"}=this.props;return Array.from({length:t}).map(((t,o)=>{const s=o===e,l={width:s?i+4:i,height:i,backgroundColor:s?n:r,borderRadius:"3px",display:"inline-block",margin:`0 ${i/4}px`};return a.createElement("span",{key:o,style:l})}))}render(){return a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.renderDots())}}class Me extends w.A{constructor(e,t){super(e,t),this._isStarted=!1,this.HIGHLIGHT_IMAGE_STRIP_ASPECT_RATIO=.116,this.CARD_HEADER_IMAGE_DIMENSION=48,this.WIDGET_INTERNAL_PADDING_AND_GAP=84,this.WIDGET_INTERNAL_PADDING=24,this.priceStyle=Object.assign(Object.assign({},d.CO.finalPriceStyle),c.XT.fontFamilyInterSemiBold_14),this.discountStyle=Object.assign(Object.assign(Object.assign({},d.CO.offerPrimaryText),c.XT.fontFamilyInterSemiBold_14),c.C1.margin_left_2),this.sellingPriceStyle=Object.assign(Object.assign({},d.OP.strikeOutText),c.XT.fontFamilyInterSemiBold_14),this.renderMinimalHeader=(e,t,i)=>{const n=i-this.WIDGET_INTERNAL_PADDING_AND_GAP;return a.createElement(Ie.fI,{style:c.C1.gap_12},this._renderHeaderImage(e),this._renderHeaderTextSection(e,t,n))},this._renderHeaderImage=e=>{var t,i;const n=null===(i=null===(t=null==e?void 0:e.bannerContent)||void 0===t?void 0:t.value)||void 0===i?void 0:i.imageValue,r=null==n?void 0:n.dynamicImageUrl,o=(null==n?void 0:n.width)||this.CARD_HEADER_IMAGE_DIMENSION,s=(null==n?void 0:n.height)||this.CARD_HEADER_IMAGE_DIMENSION;return a.createElement(a.Fragment,null,r&&a.createElement(h.Dk,{source:r,width:o,height:s}))},this._renderHeaderTextSection=(e,t,i)=>{var n;const r=null===(n=e.titles)||void 0===n?void 0:n.title,s={width:i};return a.createElement(Ie.fv,{alignItems:"left",justifyContent:"left",flexWrap:"wrap"},r&&a.createElement(o.Text,{style:s},r),this._renderLink(e,t))},this._renderLink=(e,t)=>{const i=e.hyperlink,n=null==i?void 0:i.text,r=null==i?void 0:i.action;return n&&r?a.createElement(s.S,{onPress:this._onKnowMoreDetailsClick,onPressParam:{actionParam:r,closeModal:!1,cardIndex:t}},a.createElement(Ie.JU,{textAlign:"left",color:"primary.500",font:"s"},n)):null},this._getMultiTrackerCondition=(e,t)=>{var i,n,a,o;const s=[];return"HORIZONTAL_SCROLL_ROW_DEFAULT_ADD"===(0,r.KJ)(this.props.widgetSlotData)&&(t||0===t)&&e?s.push(new Ce.pp(`_abbInterstitialBottomSheetOne${null===(n=null===(i=null==e?void 0:e.value)||void 0===i?void 0:i.planDetails[0])||void 0===n?void 0:n.abbProductId}`,60,(()=>this._onViewStartCallback(e,t)))):s.push(new Ce.pp(`_abbInterstitialBottomSheetOne${null===(o=null===(a=null==e?void 0:e.value)||void 0===a?void 0:a.planDetails[0])||void 0===o?void 0:o.abbProductId}`,60,this._onViewStart,this._onViewStop)),s},this._onViewStartCallback=(e,t)=>{var i;this.setState((e=>Object.assign(Object.assign({},e),{cardIndexInViewPort:t}))),this._didSelectPlanWithoutPopup(void 0,{cardIndex:t,planIndex:0,isFreebie:(null===(i=e.value)||void 0===i?void 0:i.freebie)||!1})},this._onViewStart=()=>{var e,t;if(!this._isStarted){this._isStarted=!0;const i=new Te.Q(this.props.widgetSlotData.slotData.id);null===(t=(e=this.props).actionDispatcher)||void 0===t||t.call(e,new Ee.YI(new Ee.qF(fe.j.DYNAMIC_NAVBAR_VOLATILE_DATA,i)))}},this._onViewStop=()=>{var e,t;if(this._isStarted){this._isStarted=!1;const i=new Te.Q(0,this.props.widgetSlotData.slotData.id);null===(t=(e=this.props).actionDispatcher)||void 0===t||t.call(e,new Ee.YI(new Ee.qF(fe.j.DYNAMIC_NAVBAR_VOLATILE_DATA,i)))}},this._generateDataKeysToRemove=(e,t)=>{if(!e||0===e.length||!t)return[];const i=[];return e.forEach((e=>{var n;null===(n=null==e?void 0:e.value)||void 0===n||n.planDetails.forEach((e=>{if(e.abbProductId!==t){const t=ke.A.generateTransientDataKey(e.abbProductId);i.push(t)}}))})),i},this._generateAggregatedCartData=(e,t,i)=>{var n,r,a;const o=ke.A.generateTransientDataKey(t.abbProductId),s=this._getParentProductContextNew();if(e&&t&&s&&o){const l={listingId:t.abbListingId,freebieItem:(null===(n=e.value)||void 0===n?void 0:n.freebie)||!1,autoSelected:!1,aggregatedCartContext:ke.A.createCartContext(t.abbProductId,(null===(r=t.pricing)||void 0===r?void 0:r.finalPrice.value)||0,e.tracking||{},(null===(a=e.value)||void 0===a?void 0:a.titles.title)||"",!1,!1,i,t.digitalType,s.productId,s.listingId)};return{[o]:l}}return null},this._updateAggregatedCTATransientDataNew=(e,t)=>{const i=(0,r.nS)(this.props.widgetSlotData),n=null==i?void 0:i.data,a=null==n?void 0:n.products,{cardIndex:o,planIndex:s}=e,l=this._getProduct(o),d=this._getPlan(o,s);if(a&&l&&d&&i&&i.type)if(t){null===Ve.A||void 0===Ve.A||Ve.A.clearKey("selectedItemFromInterstitialBSOne"),this.setState((e=>Object.assign(Object.assign({},e),{selectedVASPlan:null})));const e=[ke.A.generateTransientDataKey(d.abbProductId)];this.dispatchAction(xe.Q3.AGGREGATED_CTA,new Pe.Y(Pe.m.UPDATE_CTA_STATE,void 0,e))}else{const t=this._generateDataKeysToRemove(a,null==d?void 0:d.abbProductId),n=this._generateAggregatedCartData(l,d,null==i?void 0:i.type);n&&(this.setState((t=>Object.assign(Object.assign({},t),{selectedVASPlan:e}))),null===Ve.A||void 0===Ve.A||Ve.A.setObject("selectedItemFromInterstitialBSOne",e),this.dispatchAction(xe.Q3.AGGREGATED_CTA,new Pe.Y(Pe.m.UPDATE_CTA_STATE,n,t)))}},this._didSelectPlanWithoutPopup=(e,t,i)=>{if(!t)return;const{cardIndex:n,planIndex:a}=t;"HORIZONTAL_SCROLL_ROW_ADD_BUTTON"===(0,r.KJ)(this.props.widgetSlotData)&&i?this._updateAggregatedCTATransientDataNew(t,!0):void 0!==n&&void 0!==a&&this._updateAggregatedCTATransientDataNew(t)},this._renderScrollView=(e,t,i)=>a.createElement(o.ScrollView,{snapToInterval:t,showsHorizontalScrollIndicator:!1,horizontal:!0},a.createElement(Ie.az,{style:[d.CO.cardRow,c.C1.alignItemStretch]},e.map(((e,n)=>a.createElement(Ce.Ay,{key:n,conditions:this._getMultiTrackerCondition(e,n),onViewStarted:()=>console.log("this is def",n)},a.createElement(a.Fragment,null,this._renderProductCard(e,n,t,i))))))),this._setCarouselRef=e=>{this._carouselRef=e},this._renderProductCard=(e,t,i,n)=>a.createElement(Ie.az,Object.assign({},(0,A.Z)(`ABBV4CardContainerIndex${t}`),{key:t,style:this._getCardStyle(t,i)}),a.createElement(C.A,{trackingConfig:n},this._renderItem(e,t,i))),this._renderDotsWidget=e=>{if("HORIZONTAL_SCROLL_ROW_ADD_BUTTON"!==(0,r.KJ)(this.props.widgetSlotData))return a.createElement(a.Fragment,null,(null==e?void 0:e.length)>1&&a.createElement(Ie.az,{marginTop:"s6",marginBottom:"s5"},a.createElement(Le,{currentIndex:this.state.cardIndexInViewPort||0,totalDots:e.length,dotSize:6,activeColor:De.Jy.dimGray,inactiveColor:De.OI.referralGreyText})))},this._getCardStyle=(e,t)=>{var i;return[d.CO.card,c.C1.margin_right_12,c.C1.flexGrow,{width:t,borderColor:"HORIZONTAL_SCROLL_ROW_DEFAULT_ADD"===(0,r.KJ)(this.props.widgetSlotData)&&(null===(i=null==this?void 0:this.state)||void 0===i?void 0:i.cardIndexInViewPort)===e?De.A1:De.Jy.streaksBorderColor}]},this._renderItem=(e,t,i)=>{const n=null==e?void 0:e.value,r=null==n?void 0:n.planDetails,o=(null==n?void 0:n.freebie)||!1;return n&&(null==r?void 0:r.length)?a.createElement(Ie.fv,{style:c.C1.gap_16},this.renderMinimalHeader(n,t,i),this._renderContent(n,r,i,t,o)):null},this._renderContent=(e,t,i,n,r)=>{var o,s,l;const d=t&&(null===(s=null===(o=t[0])||void 0===o?void 0:o.subtitle)||void 0===s?void 0:s.text),u=t&&(null===(l=t[0])||void 0===l?void 0:l.pricing),h=null==e?void 0:e.highlightImage;return a.createElement(Ie.fv,{justifyContent:"left",alignItems:"left",style:c.C1.gap_16},h&&this._renderHighlightImage(h,i),this._renderPriceAndDetails(u,d,n,r))},this._renderHighlightImage=(e,t)=>{const i=e.dynamicImageUrl,n=t-this.WIDGET_INTERNAL_PADDING,r=n*this.HIGHLIGHT_IMAGE_STRIP_ASPECT_RATIO;return a.createElement(a.Fragment,null,i&&a.createElement(h.Dk,{downloadSizeMultiplier:this.IMAGE_SCALE,source:i,height:r,width:n}))},this._renderPriceAndDetails=(e,t,i,n)=>{const o=this.isVasItemAdded(i);return a.createElement(Ie.fI,{alignItems:"flex-end"},a.createElement(Ie.fv,{justifyContent:"left",alignItems:"left",style:c.C1.gap_4},e&&a.createElement(_.A,{pricing:e,priceStyle:this.priceStyle,discountStyle:this.discountStyle,sellingPriceStyle:this.sellingPriceStyle}),t&&a.createElement(Ie.JU,{font:"s",color:"neutral.400"},t)),"HORIZONTAL_SCROLL_ROW_ADD_BUTTON"===(0,r.KJ)(this.props.widgetSlotData)&&this._renderActionButton(0,i,n,o))},this.isVasItemAdded=e=>{var t;return(null===(t=this.state.selectedVASPlan)||void 0===t?void 0:t.cardIndex)===e},this._getActionButtonText=(e,t,i)=>{const{locale:n}=this.props.appContext;let r;return r=t||e&&this._isProductAddedFromPP(i)?me.H.rex_string_ADDED:e?me.H.rex_string_REMOVE:me.H.rex_string_ADD_PLAN,(0,ve.ak)(n,{id:r})},this.state=Object.assign(Object.assign({},this.getDerivedState(e,void 0)),{cardIndexInViewPort:0,selectedVASPlan:(null===Ve.A||void 0===Ve.A?void 0:Ve.A.getObject("selectedItemFromInterstitialBSOne"))||null})}componentDidMount(){const e=null===Ve.A||void 0===Ve.A?void 0:Ve.A.getObject("selectedItemFromInterstitialBSOne"),t=(0,r.KJ)(this.props.widgetSlotData);if("HORIZONTAL_SCROLL_ROW_ADD_BUTTON"===t&&e&&this._didSelectPlanWithoutPopup(void 0,e),"HORIZONTAL_SCROLL_ROW_DEFAULT_ADD"===t){const e=new l.Wh(this.props),t=null==e?void 0:e.products;t&&(null==t?void 0:t.length)>0&&this._onViewStartCallback(t[0],0)}}static getWidgetHeight(e){return 210}_getParentProductContextNew(){const e=(0,r.xH)(this.props.widgetSlotData);return e&&e.parentContext}renderWidget(){const e=new l.Wh(this.props),t=null==e?void 0:e.products;if(!(null==t?void 0:t.length))return;const i=1===t.length;let n=this._getWidgetWidth();n=i?n-32:n;return a.createElement(Ce.Ay,{conditions:this._getMultiTrackerCondition()},a.createElement(Ie.az,{style:c.C1.zIndex_1},this._renderScrollView(t,n,{minViewVisiblePercentage:50,minViewVisibleTime:1e3}),this._renderDotsWidget(t)))}_renderActionButton(e,t,i,n){const r=i?this._isFreebieItem:(e,t)=>{this._didSelectPlanWithoutPopup(e,t,n)},o=this._getPlan(t,e);return!this._isDefaultAddedWidgetView&&o&&a.createElement(s.S,Object.assign({},(0,A.Z)("Solo_Widget_Action_Btn"),{onPress:r,onPressParam:{planIndex:e,cardIndex:t,isFreebie:i},disableFeedback:!0,tappableStyle:d.OP.tappableContainer}),this.renderButtonView(n,i,o))}renderButtonView(e,t,i){const n=this._getActionButtonText(e,t,i),r=[c.C1.justifyContentCenter,c.C1.alignItemCenter,c.C1.displayFlex,c.C1.margin_left_auto,c.C1.border_radius_4,c.C1.height_34,c.C1.width_112],o=(0,F.FH)("v2.primary.500");return a.createElement(Ie.az,{style:[r,{backgroundColor:o}]},a.createElement(Ie.JU,{font:"m_medium",color:"v2.neutral.0"},this._capitalize(n)))}renderHeader(e){if("HORIZONTAL_SCROLL_ROW_ADD_BUTTON"===(0,r.KJ)(this.props.widgetSlotData))return a.createElement(Oe.A,{widget:e,gradientStart:Re._.BOTTOM,gradientEnd:Re._.TOP})}}const Ne=(0,y.A)(w.A,ge),He=(0,y.A)(class extends Ae{constructor(){super(...arguments),this.renderHeader=()=>!1,this.closeModal=()=>{this.props.actionDispatcher&&this.props.actionDispatcher(new ce.iM(ce.xH.CLOSE_MODAL))},this._onPlanAdd=(e,t)=>{this.closeModal(),this._didSelectPlan(e,t)},this.renderWidget=()=>{var e,t,i,n,l;const u=(0,r.xH)(this.props.widgetSlotData),p=this._getProduct(0),g=(null===(i=null===(t=null===(e=null==p?void 0:p.value)||void 0===e?void 0:e.hyperlink)||void 0===t?void 0:t.action)||void 0===i?void 0:i.params.url)||"",m=null===(n=null==p?void 0:p.value)||void 0===n?void 0:n.titles.title,v=null==u?void 0:u.currentPlanIndex,_=this._getPlan(0,v),C=!!(null===(l=null==p?void 0:p.value)||void 0===l?void 0:l.freebie),E=this._isProductAdded(v,0);let T;if("web"===o.Platform.OS){const e=new URL(g).pathname,t=window.location.origin+e;T=a.createElement(o.View,{style:[c.C1.width_full,c.C1.flex]},a.createElement("iframe",{style:{flex:1},src:t,allowTransparency:!0,frameBorder:0}))}else T=a.createElement(we.S,{automaticallyAdjustContentInsets:!0,startInLoadingState:!0,source:{uri:g},scrollEnabled:!0,scalesPageToFit:!0});return a.createElement(o.View,{style:c.jE.flex},a.createElement(o.View,{style:d.Sj.header},a.createElement(s.S,{onPress:this.closeModal,disableFeedback:!0},a.createElement(h.Dk,{source:O.ICh,height:15,width:15})),a.createElement(o.Text,{numberOfLines:1,style:d.Sj.headerText},m)),T,!E&&_&&a.createElement(o.View,null,a.createElement(s.S,{onPress:this._onPlanAdd,onPressParam:{planIndex:v,cardIndex:0},disableFeedback:!0},this._getActionButtonView(d.Sj.btnViewStyle,d.Sj.btnTextSTyle,E,C,_))))}}applyLayoutDetailsToWidget(e){return[super.applyLayoutDetailsToWidget(e),c.C1.width_full]}static getWidgetHeight(e){return e.appContext.uiContext.windowFrame.height}},class extends Ae{constructor(){super(...arguments),this.renderHeader=()=>!1,this.closeModal=()=>{this.props.actionDispatcher&&this.props.actionDispatcher(new ce.iM(ce.xH.CLOSE_MODAL))},this._onPlanAdd=(e,t)=>{this.closeModal(),this._didSelectPlan(e,t)},this.renderWidget=()=>{var e,t,i,n,l;const c=(0,r.xH)(this.props.widgetSlotData),u=this._getProduct(0),p=(null===(i=null===(t=null===(e=null==u?void 0:u.value)||void 0===e?void 0:e.hyperlink)||void 0===t?void 0:t.action)||void 0===i?void 0:i.params.url)||"",g=null===(n=null==u?void 0:u.value)||void 0===n?void 0:n.titles.title,m=null==c?void 0:c.currentPlanIndex,v=this._getPlan(0,m),_=!!(null===(l=null==u?void 0:u.value)||void 0===l?void 0:l.freebie),C=this._isProductAdded(m,0);let E;if("web"===o.Platform.OS){const e=new URL(p).pathname,t=window.location.origin+e;E=a.createElement(Ie.xM,{width:"100%"},a.createElement("iframe",{style:{flex:1},src:t,allowTransparency:!0,frameBorder:0}))}else E=a.createElement(we.S,{automaticallyAdjustContentInsets:!0,startInLoadingState:!0,source:{uri:p},scrollEnabled:!0,scalesPageToFit:!0});return a.createElement(Ie.az,{flex:1},a.createElement(j,null,a.createElement(s.S,{onPress:this.closeModal,disableFeedback:!0},a.createElement(h.Dk,{source:O.ICh,height:15,width:15})),a.createElement(B.JU,{font:"m_medium",pl:"s6",numberOfLines:1},g)),E,!C&&v&&a.createElement(Ie.az,null,a.createElement(s.S,{onPress:this._onPlanAdd,onPressParam:{planIndex:m,cardIndex:0},disableFeedback:!0},this._getActionButtonView(d.Sj.btnViewStyle,d.Sj.btnTextSTyle,C,_,v))))}}applyLayoutDetailsToWidget(e){return[super.applyLayoutDetailsToWidget(e),c.C1.width_full]}static getWidgetHeight(e){return e.appContext.uiContext.windowFrame.height}});class We extends n.A{getWidgetClass(e){switch((0,r.KJ)(e.widgetSlotData)){case"HORIZONTAL_SCROLL_ROW_CARD_VIEW":case"HORIZONTAL_SCROLL_COLUMN_CARD_VIEW":case"SINGLE_PRODUCT_VIEW_V2":return this._isCardWidgetV2(e)?Ne:p;case"HORIZONTAL_SCROLL_ROW_CARD_VIEW_V4":return Ae;case"HORIZONTAL_SCROLL_ROW_CARD_VIEW_V4_1":return Se;case"HORIZONTAL_SCROLL_ROW_DEFAULT_ADD":case"HORIZONTAL_SCROLL_ROW_ADD_BUTTON":return Me;case"SOLO_DETAILS_VIEW":return ye;case"DETAILS_WEB_VIEW":return He;case"ADD_TOGGLE_VIEW":case"SOLO_VIEW":return S;case"SINGLE_PRODUCT_VIEW_I4":case"VAS_HIGHLIGHT_I4":return be;default:return m}}getWidgetHeight(e){switch((0,r.KJ)(e.widgetSlotData)){case"HORIZONTAL_SCROLL_ROW_CARD_VIEW":return p.getWidgetHeight(e);case"HORIZONTAL_SCROLL_ROW_DEFAULT_ADD":return Me.getWidgetHeight(e);case"ADD_TOGGLE_VIEW":case"SOLO_VIEW":return S.getWidgetHeight(e);case"DETAILS_WEB_VIEW":return He.getWidgetHeight(e);default:return m.getWidgetHeight(e)}}_isCardWidgetV2(e){var t;const i=new l.Wh(e).products;if(i&&i.length){if(null===(t=i[0].value)||void 0===t?void 0:t.childProductIdentifier)return!0}return!1}}},422792:(e,t,i)=>{var n=i(460324),r=i(159907),a=i(54405);a.elementNames.__proto__=null,a.attributeNames.__proto__=null;var o={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0};var s={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},l=e.exports=function(e,t){Array.isArray(e)||e.cheerio||(e=[e]),t=t||{};for(var i="",r=0;r<e.length;r++){var a=e[r];"root"===a.type?i+=l(a.children,t):n.isTag(a)?i+=c(a,t):a.type===n.Directive?i+=u(a):a.type===n.Comment?i+=g(a):a.type===n.CDATA?i+=p(a):i+=h(a,t)}return i},d=["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"];function c(e,t){"foreign"===t.xmlMode&&(e.name=a.elementNames[e.name]||e.name,e.parent&&d.indexOf(e.parent.name)>=0&&(t=Object.assign({},t,{xmlMode:!1}))),!t.xmlMode&&["svg","math"].indexOf(e.name)>=0&&(t=Object.assign({},t,{xmlMode:"foreign"}));var i="<"+e.name,n=function(e,t){if(e){var i,n="";for(var o in e)i=e[o],n&&(n+=" "),"foreign"===t.xmlMode&&(o=a.attributeNames[o]||o),n+=o,(null!==i&&""!==i||t.xmlMode)&&(n+='="'+(t.decodeEntities?r.encodeXML(i):i.replace(/\"/g,"&quot;"))+'"');return n}}(e.attribs,t);return n&&(i+=" "+n),!t.xmlMode||e.children&&0!==e.children.length?(i+=">",e.children&&(i+=l(e.children,t)),s[e.name]&&!t.xmlMode||(i+="</"+e.name+">")):i+="/>",i}function u(e){return"<"+e.data+">"}function h(e,t){var i=e.data||"";return!t.decodeEntities||e.parent&&e.parent.name in o||(i=r.encodeXML(i)),i}function p(e){return"<![CDATA["+e.children[0].data+"]]>"}function g(e){return"\x3c!--"+e.data+"--\x3e"}},426196:(e,t,i)=>{var n=i(312396),r=i(808912),a=i(248044),o=i(402970),s=d(a),l=d(n);function d(e){var t=Object.keys(e).join("|"),i=h(e),n=new RegExp("&(?:"+(t+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(e){return String(e).replace(n,i)}}var c=function(){for(var e=Object.keys(r).sort(u),t=Object.keys(n).sort(u),i=0,a=0;i<t.length;i++)e[a]===t[i]?(t[i]+=";?",a++):t[i]+=";";var o=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=h(n);function l(e){return";"!==e.substr(-1)&&(e+=";"),s(e)}return function(e){return String(e).replace(o,l)}}();function u(e,t){return e<t?1:-1}function h(e){return function(t){return"#"===t.charAt(1)?"X"===t.charAt(2)||"x"===t.charAt(2)?o(parseInt(t.substr(3),16)):o(parseInt(t.substr(2),10)):e[t.slice(1,-1)]}}e.exports={XML:s,HTML:c,HTMLStrict:l}},428814:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>y});var n=i(296540),r=i(877293),a=i(716249),o=i(560203),s=i(813652),l=i(52754),d=i(561310),c=i(868261),u=i(50745),h=i(45426),p=i(351163),g=i(479892),m=i(198213);class v{static wrapWithHtmlCss(e){return'<html><head><style type="text/css">.wrapper{padding: 16px;background-color:#fff;font-family:Roboto.Light;font-size:12px;color:black;line-height:16px;}li{margin-bottom: 8px;}ul{padding: 16px;padding-top:0;list-style-type:disc;}ul ul{padding: 0}</style></head><body><div class=wrapper>'+e+"</div></body></html>"}}var _=i(410752);const C=(0,r.requireNativeComponent)("WebViewHtml");class E extends a.A{constructor(e){super(e),this._closeModal=()=>{this.props.actionDispatcher&&this.props.actionDispatcher(new d.iM(d.xH.CLOSE_MODAL))};const t=this.props.appContext.uiContext.getWindowSafeAreaInset().top;this.SAFE_INSET_PADDING={paddingTop:t>0?t:10}}static getWidgetHeight(e){return r.Dimensions.get("window").height}renderHeader(e){return n.createElement(r.View,{style:[c.Td.pricingHeader,this.SAFE_INSET_PADDING]},n.createElement(h.S,{onPress:this._closeModal,hitSlop:{top:10,bottom:10,right:10,left:10},disableFeedback:!0},n.createElement(r.View,{style:g.C1.padding_5},n.createElement(m.Dk,{style:u.hK.modalHeaderIcon,height:14,width:20,source:s.crossGrey}))),n.createElement(r.Text,{style:u.hK.pricingHeaderText},this.localize({id:_.H.rex_string_TERMS_CONDITION})))}renderWidget(){const e=(0,l.nS)(this.props.widgetSlotData),t=e?e.data:void 0,i=t?v.wrapWithHtmlCss(t):void 0;if(i)return n.createElement(r.ScrollView,{style:p._.container},n.createElement(o.A,{heightVal:1}),n.createElement(C,{htmlValue:i}))}applyLayoutDetailsToWidget(e){return g.C1.backgroundWhite}}var T=i(465420),f=i(614006);const A=(0,r.requireNativeComponent)("WebViewHtml");class S extends a.A{static getWidgetHeight(e){return e.appContext.uiContext.windowFrame.height+this.getAdditionalHeight(e)}renderWidget(){const e=(0,l.nS)(this.props.widgetSlotData),t=e&&e.data;if(!t)return;const i=t.tncText,a=i&&v.wrapWithHtmlCss(i);return a?n.createElement(r.ScrollView,{style:p._.container},n.createElement(A,{htmlValue:a})):void 0}renderDivider(){}}class y extends T.A{getWidgetClass(e){return l.wU(e.widgetSlotData)===f.n.TNC?S:E}getWidgetHeight(e){return E.getWidgetHeight(e)}}},430622:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>x});var n=i(465420),r=i(387393),a=i(296540),o=i(877293),s=i(479892),l=i(716249),d=i(352254),c=i(52754),u=i(45426),h=i(537415),p=i(415283),g=i(914944),m=i(395567),v=i(97529);class _ extends l.A{constructor(){super(...arguments),this.widget=(0,c.nS)(this.props.widgetSlotData),this.widgetData=this.widget&&this.widget.data,this.containerStyle=[s.C1.padding16,s.C1.row],this.leftContainerStyle=[{width:"53%"},s.C1.padding_right_16],this.titleStyle=[s.XT.fontMedium_14,s.XT.lineHeight_20,s.XT.letterSpacing_20,s.C1.padding_bottom_24],this.descriptionStyle=[s.XT.fontRegular_14,s.XT.lineHeight_20,s.XT.letterSpacing_15,s.XT.fkDimGrey,s.C1.padding_bottom_40],this.dateStyle=[s.XT.fontRegular_12,s.XT.lineHeight_16,s.XT.letterSpacing_30,s.XT.fkDimGrey],this.foreGroundImageStyle=[s.C1.positionAbsolute,{top:20,left:54}],this.NAVIGATION="NAVIGATION",this.OPEN_IMAGE_GALLERY="openGallery",this._openMultiMediaCarousel=()=>{var e,t,i,n,r,a,o,s,d;const c=null===(i=null===(t=null===(e=this.widgetData)||void 0===e?void 0:e.products)||void 0===t?void 0:t[0].value)||void 0===i?void 0:i.multimediaComponents,u=null===(r=null===(n=this.widgetData)||void 0===n?void 0:n.products)||void 0===r?void 0:r[0].tracking;if(c){const e={type:this.NAVIGATION,screenType:this.OPEN_IMAGE_GALLERY,params:{multiMediaData:c,indexSelected:0,openLifestyleGallery:!0,pageContext:this.props.pageInfo?this.props.pageInfo.pageContext:void 0},loginType:h.G.LOGIN_NOT_REQUIRED,tracking:{}};this.trackDiscoveryWidgetClickEvent(!1,(null===(o=null===(a=this.widget)||void 0===a?void 0:a.tracking)||void 0===o?void 0:o.position)?parseInt(null===(d=null===(s=this.widget)||void 0===s?void 0:s.tracking)||void 0===d?void 0:d.position):void 0),this.dispatchAction(p.Q3.MAPI_ACTION,new g.Oy(e)),u&&this.trackOmnitureEvent(new m.wKV(v.A.STYLE_MATCH_IMAGE_CLICK,l.A.getTrackingParams(this.props,u)))}}}static getWidgetHeight(){return 172}renderHeader(){}renderWidget(){var e,t,i,n,r,s,l,c,h,p,g,m,v,_,C;return this.widget?a.createElement(u.S,{onPress:this._openMultiMediaCarousel},a.createElement(o.View,{style:this.containerStyle},a.createElement(o.View,{style:this.leftContainerStyle},a.createElement(o.Text,{style:this.titleStyle},null===(i=null===(t=null===(e=this.widget.header)||void 0===e?void 0:e.value)||void 0===t?void 0:t.titleValue)||void 0===i?void 0:i.text),a.createElement(o.Text,{style:this.descriptionStyle},null===(s=null===(r=null===(n=this.widgetData)||void 0===n?void 0:n.products)||void 0===r?void 0:r[0].value)||void 0===s?void 0:s.productStyleMatchDesc),a.createElement(o.Text,{style:this.dateStyle},null===(h=null===(c=null===(l=this.widgetData)||void 0===l?void 0:l.products)||void 0===c?void 0:c[0].value)||void 0===h?void 0:h.displayMessage)),a.createElement(o.View,null,a.createElement(d.A,{source:null===(p=this.widgetData)||void 0===p?void 0:p.parentProductImageUrl,width:74,height:102}),a.createElement(d.A,{source:null===(C=null===(_=null===(v=null===(m=null===(g=this.widgetData)||void 0===g?void 0:g.products)||void 0===m?void 0:m[0].value)||void 0===v?void 0:v.multimediaComponents)||void 0===_?void 0:_[0].value)||void 0===C?void 0:C.url,width:85,height:120,style:this.foreGroundImageStyle})))):a.createElement(a.Fragment,null)}}const C=_;var E=i(302019);const T=E.xM.extendComponent({name:"Container",defaultProps:{p:"s6"}}),f=E.az.extendComponent({name:"LeftContainer",defaultProps:{pr:"s6",width:"53%"}}),A=E.JU.extendComponent({name:"Title",defaultProps:{font:"m",letterSpacing:.2,pb:"s8",color:"text.primary"}}),S=E.JU.extendComponent({name:"Description",defaultProps:{font:"m",letterSpacing:.15,color:"text.secondary",pb:"s10"}}),y=E.JU.extendComponent({name:"Date",defaultProps:{font:"s",letterSpacing:.3,color:"text.secondary"}});class w extends l.A{constructor(){super(...arguments),this.widget=(0,c.nS)(this.props.widgetSlotData),this.widgetData=this.widget&&this.widget.data,this.foreGroundImageStyle=[s.C1.positionAbsolute,{top:20,left:54}],this.NAVIGATION="NAVIGATION",this.OPEN_IMAGE_GALLERY="openGallery",this._openMultiMediaCarousel=()=>{var e,t,i,n,r,a,o,s,d;const c=null===(i=null===(t=null===(e=this.widgetData)||void 0===e?void 0:e.products)||void 0===t?void 0:t[0].value)||void 0===i?void 0:i.multimediaComponents,u=null===(r=null===(n=this.widgetData)||void 0===n?void 0:n.products)||void 0===r?void 0:r[0].tracking;if(c){const e={type:this.NAVIGATION,screenType:this.OPEN_IMAGE_GALLERY,params:{multiMediaData:c,indexSelected:0,openLifestyleGallery:!0,pageContext:this.props.pageInfo?this.props.pageInfo.pageContext:void 0},loginType:h.G.LOGIN_NOT_REQUIRED,tracking:{}};this.trackDiscoveryWidgetClickEvent(!1,(null===(o=null===(a=this.widget)||void 0===a?void 0:a.tracking)||void 0===o?void 0:o.position)?parseInt(null===(d=null===(s=this.widget)||void 0===s?void 0:s.tracking)||void 0===d?void 0:d.position):void 0),this.dispatchAction(p.Q3.MAPI_ACTION,new g.Oy(e)),u&&this.trackOmnitureEvent(new m.wKV(v.A.STYLE_MATCH_IMAGE_CLICK,l.A.getTrackingParams(this.props,u)))}}}static getWidgetHeight(){return 172}renderHeader(){}renderWidget(){var e,t,i,n,r,o,s,l,c,h,p,g,m,v,_;return this.widget?a.createElement(u.S,{onPress:this._openMultiMediaCarousel},a.createElement(T,null,a.createElement(f,null,a.createElement(A,null,null===(i=null===(t=null===(e=this.widget.header)||void 0===e?void 0:e.value)||void 0===t?void 0:t.titleValue)||void 0===i?void 0:i.text),a.createElement(S,null,null===(o=null===(r=null===(n=this.widgetData)||void 0===n?void 0:n.products)||void 0===r?void 0:r[0].value)||void 0===o?void 0:o.productStyleMatchDesc),a.createElement(y,null,null===(c=null===(l=null===(s=this.widgetData)||void 0===s?void 0:s.products)||void 0===l?void 0:l[0].value)||void 0===c?void 0:c.displayMessage)),a.createElement(E.az,null,a.createElement(d.A,{source:null===(h=this.widgetData)||void 0===h?void 0:h.parentProductImageUrl,width:74,height:102}),a.createElement(d.A,{source:null===(_=null===(v=null===(m=null===(g=null===(p=this.widgetData)||void 0===p?void 0:p.products)||void 0===g?void 0:g[0].value)||void 0===m?void 0:m.multimediaComponents)||void 0===v?void 0:v[0].value)||void 0===_?void 0:_.url,width:85,height:120,style:this.foreGroundImageStyle})))):a.createElement(a.Fragment,null)}}const I=w,b=(0,r.A)(C,I);class D extends n.A{getWidgetClass(){return b}getWidgetHeight(){return b.getWidgetHeight()}}const x=D},432883:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>y});var n=i(465420),r=i(296540),a=i(877293),o=i(415283),s=i(682048),l=i(914944),d=i(352254),c=i(52754),u=i(492418),h=i(410752),p=i(45426),g=i(302019),m=i(855508),v=i(201159),_=i(420721),C=i(727e3),E=i(257246),T=i(798895),f=i(561310),A=i(277666);class S extends A.A{constructor(){super(...arguments),this._onClickArrow=(e,t)=>{const i={modalType:"BOTTOM_SHEET",modalRenderContent:this._renderDeliveryBottomsheet(e,null==t?void 0:t.action)};this.props.actionDispatcher&&this.props.actionDispatcher(new f.iM(f.xH.OPEN_MODAL,i))},this.onClickCalloutLink=(e,t)=>{const i=(null==t?void 0:t.action)||{};i&&(this.dispatchAction(o.Q3.MAPI_ACTION,new l.rs(i)),this.props.actionDispatcher&&this.props.actionDispatcher(new f.iM(f.xH.CLOSE_MODAL)))}}renderWidget(){const e=(0,c.nS)(this.props.widgetSlotData),t=e&&e.data;if(!t)return;const i=t.messages,n=t.installationCallout,a=null==n?void 0:n.value,o=null==n?void 0:n.action,{combinedCountdownTimerData:s}=t;return i?r.createElement(C.w.Consumer,null,(e=>r.createElement(g.DD,{bg:(0,E.qU)(e)},r.createElement(T.Qs,null,(null==i?void 0:i.length)>0?r.createElement(g.fv,{pb:"s3"},null==i?void 0:i.map(((e,t)=>this.renderDeliveryMessageViewWithIcon(e)))):null,s&&this.getCoundownTimerView(s)),n&&r.createElement(p.S,{onPress:this._onClickArrow,onPressParam:{action:o,messages:i,installationCallouts:n},disableFeedback:!0},r.createElement(T.oz,null,r.createElement(T.$5,null,r.createElement(g.JU,{font:"m"},null==a?void 0:a.text),r.createElement(g.JU,{font:"m_medium",pt:"s2"},null==a?void 0:a.dateText)),r.createElement(v.vK,{size:16,color:(0,E.L7)(e)})))))):void 0}renderDeliveryMessageViewWithIcon(e,t,i){const n=e.value;if(!n)return null;const a=n.charge,o=n&&n.imageUrl,s=(0,_.ak)(this.props.appContext.locale,{id:h.H.rex_string_Off_With_Percent}),l=null==t?void 0:t.value;return r.createElement(C.w.Consumer,null,(t=>{var c,h,_,C;return r.createElement(p.S,{onPress:this.constructClickHandler,onPressParam:e,disableFeedback:!0},r.createElement(m.bQ,{alignItems:i?"flex-start":"center"},r.createElement(T.FS,{mt:i?"s3":"s0"},r.createElement(d.A,{height:32,width:32,style:i?{borderRadius:2}:{},source:o})),r.createElement(m.u9,null,i?r.createElement(r.Fragment,null,r.createElement(m.W2,null,n.text&&r.createElement(m.l6,{font:"m",labelColor:"neutral.700"},n.text," "),n.dateText&&r.createElement(m.fD,{font:"m",labelColor:"neutral.700"},n.dateText),n.freeOption||a&&a.length>0?r.createElement(g.JU,{color:"neutral.700",font:"m"},this.SEPARATOR):void 0,n.vipDelivery&&n.freeOption?A.A.showVIPDeliveryMessage(null==n?void 0:n.vipDeliveryMessage):this.showDeliveryMessage(n),null==a?void 0:a.map(((e,i)=>{var n;return r.createElement(g.JU,null,e.discount&&r.createElement(m.ek,{color:null!==(n=(0,E.o0)(t))&&void 0!==n?n:"raw.green.500"},`${e.discount}${s} `),r.createElement(m.ek,{labelColor:(0,E.o0)(t),strikeOff:!(!e||!e.strikeOff)},u.y3o,e.value),r.createElement(g.JU,null,i<a.length-1?" ":null))}))),(null==l?void 0:l.installationDeliveryMessage)?r.createElement(g.JU,{pt:"s2",font:"m_medium"},null==l?void 0:l.text):null,r.createElement(m.W2,{pt:"s2"},r.createElement(g.JU,{font:"m"},null!==(c=null==l?void 0:l.dateText)&&void 0!==c?c:null==l?void 0:l.text," "),(null==l?void 0:l.freeOption)||(null==l?void 0:l.charge)&&(null===(h=l.charge)||void 0===h?void 0:h.length)>0?r.createElement(g.JU,{color:"neutral.700",font:"m"},this.SEPARATOR):void 0,(null==l?void 0:l.vipDelivery)&&(null==l?void 0:l.freeOption)?A.A.showVIPDeliveryMessage(null==l?void 0:l.vipDeliveryMessage):this.showDeliveryMessage(l),(null==l?void 0:l.charge)&&(null===(_=null==l?void 0:l.charge)||void 0===_?void 0:_.length)>0&&(null===(C=null==l?void 0:l.charge)||void 0===C?void 0:C.map((e=>r.createElement(g.JU,{font:"m",color:(0,E.o0)(t)},u.y3o,e.value)))))):r.createElement(r.Fragment,null,n.text?r.createElement(m.l6,{font:"m",labelColor:(0,E.L7)(t)},n.text):null,r.createElement(m.W2,null,n.dateText&&r.createElement(m.fD,{font:"m_medium",labelColor:(0,E.L7)(t)},n.dateText),n.freeOption||a&&a.length>0?r.createElement(g.JU,{color:(0,E.L7)(t),font:"m_medium"},this.SEPARATOR):void 0,n.vipDelivery&&n.freeOption?A.A.showVIPDeliveryMessage(null==n?void 0:n.vipDeliveryMessage):this.showDeliveryMessage(n),null==a?void 0:a.map(((e,i)=>{var n;return r.createElement(g.JU,null,e.discount&&r.createElement(m.ek,{color:null!==(n=(0,E.o0)(t))&&void 0!==n?n:"raw.green.500"},`${e.discount}${s} `),r.createElement(m.ek,{labelColor:(0,E.o0)(t),strikeOff:!(!e||!e.strikeOff)},u.y3o,e.value),r.createElement(g.JU,null,i<a.length-1?" ":null))}))))),e.action&&r.createElement(v.vK,{size:14,color:(0,E.L7)(t)})))}))}_renderDeliveryBottomsheet(e,t){var i,n;const o=null===(n=null===(i=null==t?void 0:t.params)||void 0===i?void 0:i.bottomSheetDetails)||void 0===n?void 0:n.data,l=null==o?void 0:o.title,d=null==o?void 0:o.installation;return r.createElement(m.pA,{style:{width:"100%"}},(null==l?void 0:l.text)?r.createElement(m.wx,null,l.text):null,r.createElement(T.Qs,null,r.createElement(g.fv,{pb:"s3"},(null==d?void 0:d.length)>0&&d.map(((e,t)=>r.createElement(g.fv,{py:"s3"},this.renderDeliveryBottomsheetMessageViewWithIcon(e),0!==t&&r.createElement(a.View,{style:s.i.bottomsheetHorizontalLine})))))))}renderDeliveryBottomsheetMessageViewWithIcon(e){var t,i,n,a,o,s;const l=null===(t=null==e?void 0:e.callouts)||void 0===t?void 0:t[0],d=null===(i=null==e?void 0:e.announcements)||void 0===i?void 0:i[0],c=null===(n=null==e?void 0:e.messages)||void 0===n?void 0:n[0],u=null===(a=null==e?void 0:e.messages)||void 0===a?void 0:a[1];return r.createElement(g.fv,{pb:"s3"},this.renderDeliveryMessageViewWithIcon(c,u,!0),(null===(o=null==u?void 0:u.value)||void 0===o?void 0:o.installationDeliveryMessage)&&r.createElement(m.gU,null,l&&r.createElement(m.l9,null,l),(null==d?void 0:d.value)&&r.createElement(g.JU,null,r.createElement(p.S,{onPress:this.onClickCalloutLink,onPressParam:{action:null==d?void 0:d.action},disableFeedback:!0},r.createElement(m.HU,null,` ${null===(s=null==d?void 0:d.value)||void 0===s?void 0:s.title}`)))))}}class y extends n.A{getWidgetClass(e){return S}getWidgetHeight(e){return S.getWidgetHeight(e)}}},436516:(e,t,i)=>{"use strict";i.r(t),i.d(t,{TransactionBasedStreakViewType:()=>R,default:()=>N});var n=i(52754),r=i(465420),a=i(296540),o=i(877293),s=i(347924),l=i(479892),d=i(398581),c=i(337528),u=i(723372),h=i(857850);const p=o.StyleSheet.create({hint:{borderRadius:10,paddingHorizontal:8,paddingVertical:2,marginTop:7},milestoneText:{backgroundColor:h.Jy.white,borderWidth:1,paddingVertical:4,paddingHorizontal:9}});class g extends a.Component{constructor(){super(...arguments),this._shapeScale=new o.Animated.Value(1),this._shapeOpacity=new o.Animated.Value(1),this._shapeBorderWidth=new o.Animated.Value(5),this._getMilestoneStyle=e=>{var t,i,n;return"FormattedRichTextData"===(null===(n=null===(i=null===(t=null==e?void 0:e.title)||void 0===t?void 0:t.data)||void 0===i?void 0:i[0])||void 0===n?void 0:n.type)?[this._getMilestoneSize(),p.milestoneText,{borderRadius:this.props.minMilestoneDimension/2,borderColor:null==e?void 0:e.borderColor}]:this._getMilestoneSize()},this._getMilestoneSize=()=>({minHeight:this.props.minMilestoneDimension,minWidth:this.props.minMilestoneDimension}),this._getCurrentMilestoneStyle=e=>[this._getMilestoneSize(),l.C1.overlay,{borderRadius:this.props.minMilestoneDimension/2,transform:[{scale:this._shapeScale}],opacity:this._shapeOpacity,borderWidth:this._shapeBorderWidth,borderColor:(null==e?void 0:e.animatedBorderColor)||(null==e?void 0:e.borderColor)}],this._animateShape=()=>o.Animated.loop(o.Animated.parallel([o.Animated.timing(this._shapeBorderWidth,{toValue:0,duration:1e3,useNativeDriver:!1}),o.Animated.timing(this._shapeScale,{toValue:1.5,duration:1e3,useNativeDriver:!1}),o.Animated.timing(this._shapeOpacity,{toValue:0,duration:1e3,useNativeDriver:!1})]))}render(){var e;const t=this.props.distanceBetween+this.props.minMilestoneDimension,i=this.props.minMilestoneDimension+2*C,n=this.props.milestone.value;return this._animateShape().start(),n?a.createElement(s.SB,{onPress:this.props.onClick,onPressParam:this.props.onClickAction},a.createElement(s.az,{width:t,py:"s3"},a.createElement(s.ov,{maxWidth:i},n&&a.createElement(s.az,{borderRadius:10,alignSelf:"center",minHeight:this.props.minMilestoneDimension,minWidth:this.props.minMilestoneDimension},n.currentNode&&a.createElement(o.Animated.View,{style:this._getCurrentMilestoneStyle(n)}),n.title&&a.createElement(u.A,{style:this._getMilestoneStyle(n),messages:n.title,numberOfLines:1,imageDefaultStyle:this._getMilestoneSize()})),(null===(e=null==n?void 0:n.hintText)||void 0===e?void 0:e.value)&&a.createElement(u.A,{style:p.hint,numberOfLines:2,messages:n.hintText.value})))):null}}const m=g;var v=i(492418);const _=o.Dimensions.get("window").width,C=18;class E extends a.Component{constructor(){super(...arguments),this._numberOfMilestones=this.props.streakData.milestones.length,this._visibleMilestones=this._numberOfMilestones<(this.props.streakData.visibleMilestones||4)?this._numberOfMilestones:this.props.streakData.visibleMilestones||4,this._distanceBetween=(this.props.width-(this._visibleMilestones+.5)*this.props.minMilestoneDimension-2*C)/(this._visibleMilestones-1),this._progressBarTop=(this.props.minMilestoneDimension-this.props.progressBarHeight)/2+6,this._progressBarLeft=this.props.minMilestoneDimension/2+C,this._progressBarFillWidth=this._distanceBetween+this.props.minMilestoneDimension,this._scrollWidth=this._distanceBetween*(this._numberOfMilestones-1)+this.props.minMilestoneDimension*this._numberOfMilestones+2*C,this._setScrollViewref=e=>{this.scrollViewRef=e},this._getProgressBarStyle=()=>{const e=(this.props.minMilestoneDimension+this._distanceBetween)*(this._numberOfMilestones-1);return[l.C1.overlay,{height:this.props.progressBarHeight,top:this._progressBarTop,left:this._progressBarLeft,width:e}]},this._getScrollPosition=()=>{const e=this.props.streakData.scrollToMilestone||0,t=this._numberOfMilestones-e<this._visibleMilestones?this._numberOfMilestones-this._visibleMilestones:e;return this._numberOfMilestones-e<this._visibleMilestones?this._scrollWidth:(this._distanceBetween+this.props.minMilestoneDimension)*t}}componentDidMount(){setTimeout((()=>{var e;return null===(e=this.scrollViewRef)||void 0===e?void 0:e.scrollTo({x:this._getScrollPosition(),animated:!0})}),0)}render(){const e=this.props.streakData.milestones,t=[v.GJe,v.GJe],i=this.props.streakData.bridgeGradientColors,n=i?[i.startBleedingColor,i.stopBleedingColor]:t,r={position:"absolute",height:this.props.progressBarHeight,top:this._progressBarTop,left:this._progressBarLeft,width:this._progressBarFillWidth};return a.createElement(s.az,{width:this.props.width,onStartShouldSetResponder:()=>!0},a.createElement(o.ScrollView,{horizontal:!0,showsHorizontalScrollIndicator:!1,ref:this._setScrollViewref,contentContainerStyle:{width:this._scrollWidth}},a.createElement(d.W,{style:this._getProgressBarStyle(),gradientColors:n,gradientStart:c._.LEFT,gradientEnd:c._.RIGHT,renderInWeb:!0}),e.map(((e,t)=>{var i;return a.createElement(s.az,null,t<this._numberOfMilestones-1&&(null===(i=e.value)||void 0===i?void 0:i.visited)&&a.createElement(s.az,Object.assign({},r,{style:{backgroundColor:this.props.streakData.progressBarColor}})),a.createElement(m,{milestone:e,distanceBetween:this._distanceBetween,minMilestoneDimension:this.props.minMilestoneDimension,onClick:this.props.onClick,onClickAction:this.props.onClickAction}))}))))}}var T=i(198213),f=i(110941),A=i(982561);const S=62,y=o.StyleSheet.create({streakContainer:{flexDirection:"row",paddingTop:8,paddingLeft:8,paddingRight:16,paddingBottom:4,marginRight:16,borderRadius:4,overflow:"hidden"},titleContainer:{flexDirection:"row",marginBottom:12},mediaContainer:{flexDirection:"row",marginBottom:10},footer:{marginVertical:8,marginRight:16},chevron:{alignContent:"flex-end"}}),w=(o.StyleSheet.create({container:{flexDirection:"row",alignItems:"center",flex:1,marginTop:12},expiryLineLeft:{height:1,flex:1,marginRight:12},expiryLineRight:{flex:1,height:1,marginRight:16,marginLeft:12}}),s.fI.extendComponent({name:"Streak",defaultProps:{pt:"s4",pl:"s4",pr:"s6",pb:"s4",mr:"s6",borderRadius:4,overflow:"hidden"}}));var I=i(217083),b=i(408791);class D extends a.Component{constructor(e,t){super(e,t),this._renderImage=e=>a.createElement(T.Dk,{source:e.dynamicImageUrl,height:e.height||S,width:e.width||S,resizeMode:"cover"}),this.state={isAnimationShown:!1}}render(){return a.createElement(s.az,{mr:"s4",width:S,height:S,borderRadius:4,overflow:"hidden"},this.state.isAnimationShown||!this.props.animatedImage?this.props.productImages&&a.createElement(I.Ay,{autoplay:!0,loop:!0,scrollEnabled:!1,autoplayInterval:this.props.scrollInterval||3e3,sliderWidth:S,itemWidth:S,data:this.props.productImages,renderItem:e=>this._renderImage(e.item)}):a.createElement(b.n,{onAnimationFinish:()=>{var e;(null===(e=this.props.productImages)||void 0===e?void 0:e.length)&&this.setState({isAnimationShown:!0})},sourceUrl:this.props.animatedImage.url,autoPlay:!0,loop:this.props.animatedImage.loop,speed:1}))}}const x=D;var P=i(867953);class O extends a.Component{render(){return a.createElement(s.xM,{alignItems:"center",mt:"s5"},a.createElement(s.DD,{height:1,ml:"s6",mr:"s5",style:{backgroundColor:this.props.expiryBorderLineColor||h.Jy.warningYellow}}),a.createElement(u.A,{messages:this.props.expiryAnnouncement}),a.createElement(s.DD,{height:1,mr:"s6",ml:"s5",style:{backgroundColor:this.props.expiryBorderLineColor||h.Jy.warningYellow}}))}}var R,k=i(716249),V=i(914944);class L extends k.A{constructor(e,t){super(e,t),this._showConfetti=e=>a.createElement(b.n,{sourceUrl:e.url,autoPlay:!0,resizeMode:"contain",style:l.C1.positionAbsolute,speed:1,onAnimationFinish:()=>this.setState({confettiShown:!0})}),this.renderStreak=e=>{var t,i,n,r,o,l,d,c;const h=(null===(i=null===(t=e.chevronIcon)||void 0===t?void 0:t.value)||void 0===i?void 0:i.height)||12,p=(null===(r=null===(n=e.chevronIcon)||void 0===n?void 0:n.value)||void 0===r?void 0:r.width)||6;return a.createElement(s.SB,{onPress:this.onWidgetClick,onPressParam:null===(o=e.title)||void 0===o?void 0:o.action},a.createElement(s.fI,null,a.createElement(x,{animatedImage:e.animatedImage,productImages:e.productImages,scrollInterval:e.scrollInterval}),a.createElement(s.fv,null,(null===(l=e.title)||void 0===l?void 0:l.value)&&a.createElement(s.fI,{justifyContent:"space-between",alignItems:"center"},a.createElement(u.A,{messages:e.title.value,ellipsizeMode:"clip"}),(null===(d=e.chevronIcon)||void 0===d?void 0:d.value)&&a.createElement(T.Dk,{style:y.chevron,source:e.chevronIcon.value.dynamicImageUrl,height:h,width:p})),e.streakData&&a.createElement(E,{progressBarHeight:5,width:this.getProgressBarWidth(e),minMilestoneDimension:L.MILESTONE_DIMENSION,streakData:e.streakData,onClick:this.onWidgetClick,onClickAction:null===(c=e.title)||void 0===c?void 0:c.action}))))},this._renderFooter=e=>e?a.createElement(u.A,{style:y.footer,messages:e,numberOfLines:1}):null,this._widgetVisibilityCondition=()=>{const e=[];return e.push(new P.D_("_widgetIsVisible",1,100,this._isWidgetVisible,this._isWidgethidden)),e},this._isWidgetVisible=()=>{this.setState({showConfetti:!0})},this._isWidgethidden=()=>{this.setState({confettiShown:!0})},this.getFooterHeight=()=>34,this.getProgressBarWidth=e=>e.backgroundColor||e.backgroundImage?_-S-48-16:_-S-32-16,this.onWidgetClick=(e,t)=>{t&&(this.trackDiscoveryWidgetClickEvent(this.willCreateNewDwell(t)),this.dispatchAction(h.Q3.MAPI_ACTION,new V.Oy(t)))},this.state=Object.assign(Object.assign({},this.state),{showConfetti:!1,confettiShown:!1})}static getWidgetHeight(e){var t;const i=(0,n.xH)(e.widgetSlotData);return((null==i?void 0:i.productImages)||(null==i?void 0:i.animatedImage)?62:0)+((null===(t=null==i?void 0:i.streakData)||void 0===t?void 0:t.milestones)?20:0)+((null==i?void 0:i.footerText)?34:0)+30+this.getAdditionalHeight(e)}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i),this.state.showConfetti!==t.showConfetti||this.state.confettiShown!==t.confettiShown}renderDivider(){}renderWidget(){const e=(0,n.xH)(this.props.widgetSlotData),t=[y.streakContainer,{backgroundColor:null==e?void 0:e.backgroundColor}];if(e)return a.createElement(P.Ay,{conditions:this._widgetVisibilityCondition()},a.createElement(s.az,{ml:"s6"},a.createElement(s.az,null,e.backgroundImage?a.createElement(o.ImageBackground,{style:t,source:{uri:f.A.generateImageUrl(e.backgroundImage,e.backgroundImage.height,e.backgroundImage.width)}},this.renderStreak(e)):e.backgroundColor?a.createElement(w,{style:{backgroundColor:e.backgroundColor}},this.renderStreak(e)):this.renderStreak(e)),e.footerText&&e.footerText.length>0&&a.createElement(A.A,{itemHeight:this.getFooterHeight(),renderItem:t=>{var i;return this._renderFooter(null===(i=e.footerText)||void 0===i?void 0:i[t])},itemCount:e.footerText.length}),this.state.showConfetti&&!this.state.confettiShown&&e.confettiAnimation&&this._showConfetti(e.confettiAnimation)),e.expiryAnnouncement&&a.createElement(O,{expiryAnnouncement:e.expiryAnnouncement,expiryBorderLineColor:e.expiryBorderLineColor}))}}L.MILESTONE_DIMENSION=26;class M extends L{constructor(){super(...arguments),this.widgetData=(0,n.xH)(this.props.widgetSlotData),this.renderStreak=()=>{var e,t;return this.widgetData?a.createElement(s.az,null,a.createElement(s.fI,{mb:"s5"},a.createElement(x,{animatedImage:this.widgetData.animatedImage,productImages:this.widgetData.productImages,scrollInterval:this.widgetData.scrollInterval}),a.createElement(s.DD,null,(null===(e=this.widgetData.title)||void 0===e?void 0:e.value)&&a.createElement(u.A,{messages:this.widgetData.title.value,numberOfLines:2}),(null===(t=this.widgetData.subtitle)||void 0===t?void 0:t.value)&&a.createElement(u.A,{messages:this.widgetData.subtitle.value,numberOfLines:1}))),this.widgetData.streakData&&a.createElement(E,{progressBarHeight:5,width:this.getProgressBarWidth(),minMilestoneDimension:26,streakData:this.widgetData.streakData})):null},this._renderFooter=e=>e?a.createElement(u.A,{style:y.footer,numberOfLines:2,messages:e}):null,this.getFooterHeight=()=>52,this.getProgressBarWidth=()=>_-32}static getWidgetHeight(e){var t;const i=(0,n.xH)(e.widgetSlotData);return((null==i?void 0:i.title)?64:0)+((null==i?void 0:i.productImages)||(null==i?void 0:i.animatedImage)?82:0)+((null===(t=null==i?void 0:i.streakData)||void 0===t?void 0:t.milestones)?100:0)+((null==i?void 0:i.footerText)?60:0)+((null==i?void 0:i.expiryAnnouncement)?40:0)+this.getAdditionalHeight(e)}}!function(e){e.TBS_DEFAULT="TBS_DEFAULT",e.TBS_WITH_SUMMARY="TBS_WITH_SUMMARY",e.TBS_WITH_HEADER="TBS_WITH_HEADER"}(R||(R={}));class N extends r.A{getWidgetClass(e){return"TBS_WITH_SUMMARY"===(0,n.KJ)(e.widgetSlotData)?M:L}getWidgetHeight(e){return L.getWidgetHeight(e)}}},436710:(e,t,i)=>{"use strict";i.d(t,{A:()=>A,o:()=>f});var n=i(296540),r=i(438993),a=i(52754),o=i(877293),s=i(210669),l=i(45426),d=i(479892),c=i(561310),u=i(198213),h=i(813652),p=i(521722),g=i(808584),m=i(302019),v=i(723372),_=i(110941),C=i(879052),E=i(547134),T=i(957775);const f=e=>e>=800?128:e>=720?103:e>=600?88:e>=475?72:e>=360?65:72;class A extends r.A{constructor(e){var t;super(e),this._closeModal=()=>{this.props.actionDispatcher&&this.props.actionDispatcher(new c.iM(c.xH.CLOSE_MODAL))};const i=(0,a.nS)(e.widgetSlotData),n=null==i?void 0:i.data,r=null==n?void 0:n.enableHeaderBorder,o=null==n?void 0:n.disableCrossButton,l=null===(t=null==i?void 0:i.data)||void 0===t?void 0:t.isImageInCenter;this.containerStyle=[{width:this.getScreenWidth()},d.C1.padding_horizontal_16,d.C1.padding_bottom_24],this.headerContainerStyle=[d.C1.border_topRight_topLeft_radius_16,d.C1.colWithoutFlex,l?null:s.d.infoHeader,d.C1.padding_top_8,r?s.d.headerBorder:null],this.infoHeaderText=[o?d.C1.absolute_left_0:null,null==n?void 0:n.headerStyles]}componentDidMount(){super.componentDidMount(),this.props.actionDispatcher&&(0,T.dispatchDgAction)(E.A.SERVICE_CALLOUT_POPUP,this.props.actionDispatcher)}static getHeight(e){const t=(0,a.nS)(e.widgetSlotData),i=null==t?void 0:t.data;let n=0;return n+=super.getAdditionalHeight(e),n+=(null==i?void 0:i.header)?48:0,n+=(null==i?void 0:i.content)?56:0,n+=(null==i?void 0:i.subContent)?48:0,n+=(null==i?void 0:i.image)?null==i?void 0:i.image.height:0,n}renderHeader(e){var t;const i=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.header,r=null==e?void 0:e.data,a=null==r?void 0:r.image,c=null==r?void 0:r.isImageInCenter,v=null==r?void 0:r.ImageContainerStyles,_=null==r?void 0:r.disableCrossButton;return i?n.createElement(o.View,{style:this.headerContainerStyle},!_&&n.createElement(l.S,{onPress:this._closeModal,disableFeedback:!0},n.createElement(o.View,{style:d.C1.padding_8},n.createElement(u.Dk,{style:s.d.modalHeaderIcon,source:h.crossGrey,height:p.Gz,width:p.d$}))),void 0!==i&&""!==i?n.createElement(o.View,null,n.createElement(m.JU,{style:this.infoHeaderText,color:"text.primary",font:"l_medium",py:"s4",mx:"s4"},i),c&&a&&n.createElement(o.View,{style:v},n.createElement(g.A,{imageValue:a,width:a.width,height:a.height,style:d.C1.alignSelfCenter}))):null):null}renderWidget(){var e,t;const i=(0,a.nS)(this.props.widgetSlotData),r=null==i?void 0:i.data,s=null==r?void 0:r.content,l=null==r?void 0:r.image,c=null==r?void 0:r.subContent,u=null==r?void 0:r.isImageInCenter,h=null==r?void 0:r.contentStyles,p=null==r?void 0:r.headerImage,E=null==r?void 0:r.callout,T=this.getScreenWidth(),A=f(T);return n.createElement(n.Fragment,null,p&&n.createElement(o.View,{style:[{height:A,width:T},d.C1.border_top_left_radius_4,d.C1.border_top_right_radius_4,d.C1.overflowHidden]},n.createElement(o.ImageBackground,{source:{uri:_.A.generateImageUrl(p,T,A)},resizeMode:"cover",style:d.C1.flex})),n.createElement(o.View,{style:this.containerStyle},void 0!==s&&""!==s?n.createElement(m.JU,Object.assign({},(0,C.Z)("Service_Callout_Content"),{color:null!==(e=null==h?void 0:h.color)&&void 0!==e?e:"text.secondary",font:"m",pb:"s6"}),s):null,void 0!==c&&""!==c?n.createElement(m.JU,Object.assign({},(0,C.Z)("Service_Callout_Sub_Content"),{color:null!==(t=null==h?void 0:h.color)&&void 0!==t?t:"text.secondary",font:"m",pb:"s6"}),c):null,E&&n.createElement(v.A,{messages:E,useTextContainer:!0,style:[d.C1.margin_bottom_8,d.C1.margin_top_8],overrideTextDefaultStyle:d.XT.fontFamilyInter}),!u&&l&&n.createElement(g.A,Object.assign({},(0,C.Z)("Service_Callout_Image"),{imageValue:l,width:l.width,height:l.height,style:d.C1.alignSelfCenter}))))}}},436991:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ViewTypes:()=>H,default:()=>te});var n=i(465420),r=i(52754),a=i(536245),o=i(296540),s=i(347924),l=i(989411),d=i(352254),c=i(492418),u=i(420721),h=i(410752),p=i(927443),g=i(257246),m=i(879052),v=i(670563);const _=s.JU.extendComponent({name:"ProductPriceLabel",defaultProps:{color:"v2.neutral.900",fontFamily:"inter",font:"m_medium",ml:"s4"}}),C=s.JU.extendComponent({name:"ProductStrikeOffPriceLabel",defaultProps:{color:"v2.neutral.700",fontFamily:"inter",font:"m",ml:"s4",textDecorationLine:"line-through"}}),E=s.JU.extendComponent({name:"ProductLabel",defaultProps:{color:"v2.neutral.900",fontFamily:"inter",font:"m_medium",flex:1}}),T=s.JU.extendComponent({name:"ComboTagLabel",defaultProps:{color:"v2.neutral.900",fontFamily:"inter",font:"m"}}),f=s.JU.extendComponent({name:"OfferLabel",defaultProps:{color:"v2.success.500",fontFamily:"inter",font:"m"}}),A=s.fI.extendComponent({name:"ProductLabelContainer",defaultProps:{mt:"s4"}}),S=s.az.extendComponent({name:"ProductTitleBox",defaultProps:{flex:1}}),y=s.az.extendComponent({name:"ProductTitleSeparator",defaultProps:{flex:.1,mx:"s2"}}),w=s.az.extendComponent({name:"CardContainer",defaultProps:{width:260,minHeight:250,pt:"s4",pb:"s5",pl:"s4",pr:"s4",backgroundColor:"common.white",borderWidth:1,borderRadius:8,borderColor:v.zn.backgroundLight}}),I=s.az.extendComponent({name:"ImageContainer",defaultProps:{flex:1,p:"s2",bg:v.Jy.white,justifyContent:"center",alignItems:"center",mx:"s2",borderWidth:1,borderRadius:8,borderColor:v.zn.backgroundLight,width:120,height:120}}),b=s.fI.extendComponent({name:"HeaderContainer",defaultProps:{mx:"s6",mt:"s6",mb:"s5"}}),D=s.JU.extendComponent({name:"HeaderTitleLabel",defaultProps:{color:"v2.neutral.900",fontFamily:"inter",font:"l_medium"}}),x=s.JU.extendComponent({name:"HeaderSubTitleLabel",defaultProps:{color:"v2.success.500",fontFamily:"inter",font:"m"}}),P=s.fv.extendComponent({name:"TitleSubTitleContainer",defaultProps:{ml:"s5"}}),O=s.az.extendComponent({name:"BottomContainer",defaultProps:{justifyContent:"center",alignItems:"center"}}),R=s.az.extendComponent({name:"AddToCartContainer",defaultProps:{justifyContent:"center",alignItems:"center",mt:"s5",paddingHorizontal:"s6",paddingVertical:"s3",borderRadius:4,borderWidth:1,borderColor:"v2.neutral.300"}}),k=s.JU.extendComponent({name:"AddtoCartLabel",defaultProps:{font:"m_medium",color:"primary.500",fontFamily:"inter"}}),V=112;var L=i(45426);class M extends l.A{constructor(){super(...arguments),this._getOfferLabel=e=>{if(e)return o.createElement(f,Object.assign({numberOfLines:1},(0,m.Z)("PMU_Combo_Card_Offer_Text")),`${e}`)},this.onAddtoCartv2Tap=(e,t)=>{t&&this.props.actionTapped(t)}}getHeadingView(e){var t,i;if(!e)return null;const{title:n}=(null===(t=e.primaryProductCard)||void 0===t?void 0:t.titles)||{};return o.createElement(A,null,null===(i=e.secondaryProductCards)||void 0===i?void 0:i.map((e=>{if(e.titles.title)return o.createElement(S,null,o.createElement(E,Object.assign({},(0,m.Z)("PMU_Combo_Card_Secondary_Title"),{numberOfLines:1}),e.titles.title))})),o.createElement(y,null,o.createElement(E,Object.assign({},(0,m.Z)("PMU_Combo_Card_Title"),{alignSelf:"center"}),"+")),n?o.createElement(S,null,o.createElement(E,Object.assign({},(0,m.Z)("PMU_Combo_Card_Title"),{numberOfLines:1}),n)):null)}getSecondryImages(e){return o.createElement(I,null,o.createElement(d.A,Object.assign({},(0,m.Z)("PMU_Combo_Card_Image"),{height:V,width:V,source:e[0]})))}render(){var e,t,i,n,r,a,l,v,E,f,A,S,y;const{cardData:b,isProductinCart:D}=this.props;if(!b)return null;const{primaryProductCard:x,secondaryProductCards:P}=b,M=null===(e=null==x?void 0:x.images)||void 0===e?void 0:e[0].imageUrl,N=[],H=null===(t=null==P?void 0:P[0].images)||void 0===t?void 0:t[0].imageUrl;if(H&&N.push(H),P){const e=P.length>1?null===(i=null==P?void 0:P[1].images)||void 0===i?void 0:i[0].imageUrl:void 0;e&&N.push(e)}const W=null===(n=null==b?void 0:b.addComboToCart)||void 0===n?void 0:n.action,B=null===(a=null===(r=b.callout)||void 0===r?void 0:r.data)||void 0===a?void 0:a.value.text,U={value:b.tag},F=null===(E=null===(v=null===(l=null==U?void 0:U.value)||void 0===l?void 0:l.data)||void 0===v?void 0:v.value)||void 0===E?void 0:E.text,G=D?(0,u.ak)(this.context.locale,{id:h.H.rex_string_GO_TO_CART_BROWSE}):null===(A=null===(f=null==b?void 0:b.addComboToCart)||void 0===f?void 0:f.value)||void 0===A?void 0:A.text,z=(0,g.C_)(this.props.themeContext)||"primary.500",j=null===(S=b.pricing)||void 0===S?void 0:S.strikeOffPrice,X=null===(y=b.pricing)||void 0===y?void 0:y.displayPrice;return o.createElement(L.S,Object.assign({},(0,m.Z)(`PMU_Combo_Card_Container_${this.props.index}`),{onPress:this.props.cardTapped}),o.createElement(w,null,o.createElement(s.fI,null,this.getSecondryImages(N),o.createElement(I,null,o.createElement(d.A,Object.assign({},(0,m.Z)("PMU_Combo_Card_Image_Secondary"),{height:V,width:V,source:M})))),this.getHeadingView(b),o.createElement(O,null,o.createElement(s.fI,null,o.createElement(T,Object.assign({},(0,m.Z)("PMU_combo_price_text")),F+" :"),j?o.createElement(C,Object.assign({},(0,m.Z)("PMU_Combo_Price")),`${c.y3o}${(0,p.m3)(j)}`):null,X?o.createElement(_,Object.assign({},(0,m.Z)("PMU_Combo_Price")),`${c.y3o}${(0,p.m3)(X)}`):null),this._getOfferLabel(B)),o.createElement(L.S,Object.assign({},(0,m.Z)("PMU_Combo_Card_Add_To_Cart"),{onPress:this.onAddtoCartv2Tap,onPressParam:W}),o.createElement(R,null,o.createElement(k,Object.assign({},(0,m.Z)("PMU_add_combo_to_cart_text"),{color:z}),G)))))}}class N extends a.A{constructor(){super(...arguments),this.renderItems=(e,t,i)=>{var n;if(!(null==t?void 0:t.value))return null;const r=null===(n=this.state.productsInCartStatus)||void 0===n?void 0:n[i],a=o.createElement(s.az,{ml:0===i?"s0":"s4"},o.createElement(M,{isProductinCart:r,cardData:null==t?void 0:t.value,cardTapped:()=>this.cardActionTapped(t),actionTapped:()=>this.onItemTapped(t,r),themeContext:this.props.themeContext,index:i}));return this.getViewWithTracker(a,t)}}renderHeader(e){var t,i,n,r,a,s,l,c,u,h,p,g;const v=null==e?void 0:e.header,_=null===(i=null===(t=null==v?void 0:v.value)||void 0===t?void 0:t.titleValue)||void 0===i?void 0:i.text,C=null===(r=null===(n=null==v?void 0:v.value)||void 0===n?void 0:n.subTitleValue)||void 0===r?void 0:r.text,E=null===(s=null===(a=null==v?void 0:v.value)||void 0===a?void 0:a.imageValue)||void 0===s?void 0:s.dynamicImageUrl,T=null!==(u=null===(c=null===(l=null==v?void 0:v.value)||void 0===l?void 0:l.imageValue)||void 0===c?void 0:c.height)&&void 0!==u?u:36,f=null!==(g=null===(p=null===(h=null==v?void 0:v.value)||void 0===h?void 0:h.imageValue)||void 0===p?void 0:p.width)&&void 0!==g?g:36;return o.createElement(b,null,o.createElement(d.A,Object.assign({},(0,m.Z)("PMU_wow_image"),{source:E,height:T,width:f})),o.createElement(P,null,_&&o.createElement(D,Object.assign({},(0,m.Z)("PMU_title")),_),C&&o.createElement(x,Object.assign({},(0,m.Z)("PMU_subtitle")),C)))}}var H,W=i(877293),B=i(614006),U=i(331547),F=i(198213),G=i(344570),z=i(479892),j=i(690423),X=i(857850),Y=i(644598),q=i(752936),J=i(867953),K=i(933415),Q=i(146387),Z=i(57522),$=i(168425);class ee extends a.A{constructor(){var e,t,i,n;super(...arguments),this._isStarted=!1,this._scrollableContainerStyle=[G.CO.cardRow,z.C1.alignItemStretch,z.C1.alignItemFlexEnd,z.C1.padding_left_0],this.PRIMARY_PRODUCT_IMAGE_WIDTH=56,this.TEXT_MAX_WIDTH=.75*(null===(n=null===(i=null===(t=null===(e=this.props)||void 0===e?void 0:e.appContext)||void 0===t?void 0:t.uiContext)||void 0===i?void 0:i.getPageFrame())||void 0===n?void 0:n.width),this._getMultiTrackerCondition=()=>{const e=[];return e.push(new J.D_("PMUComboVerticalWidgetBS2",0,60,this._onViewStart,this._onViewStop)),e},this._onViewStart=()=>{var e,t;if(!this._isStarted){this._isStarted=!0;const i=new K.Q(this.props.widgetSlotData.slotData.id);null===(t=(e=this.props).actionDispatcher)||void 0===t||t.call(e,new Q.YI(new Q.qF(Z.j.DYNAMIC_NAVBAR_VOLATILE_DATA,i)))}},this._onViewStop=()=>{var e,t;if(this._isStarted){this._isStarted=!1;const i=new K.Q(0,this.props.widgetSlotData.slotData.id);null===(t=(e=this.props).actionDispatcher)||void 0===t||t.call(e,new Q.YI(new Q.qF(Z.j.DYNAMIC_NAVBAR_VOLATILE_DATA,i)))}},this.renderItems=(e,t,i)=>{var n,r,a,s;if(!(null===(n=null==t?void 0:t.value)||void 0===n?void 0:n.secondaryProductCards)||0===(null===(a=null===(r=null==t?void 0:t.value)||void 0===r?void 0:r.secondaryProductCards)||void 0===a?void 0:a.length))return null;const l=null===(s=this.props.widgetSlotData.slotData.layoutParams)||void 0===s?void 0:s.layoutKey,d=o.createElement(J.Ay,{conditions:this._getMultiTrackerCondition()},o.createElement(W.View,{style:this._scrollableContainerStyle},t.value.secondaryProductCards.map(((e,i)=>o.createElement($.A,{index:i,productTapped:this.productTapped,productCardValue:this.wrapAsRenderableComponent(e,t),layoutKey:l,key:`comboVerticalRevamped-${i}`,uiContext:this.props.appContext.uiContext,showFAdvantage:!1,showNewDesignToImproveRecommendation:!0,themeContext:this.props.themeContext,userManagerRef:this.props.appContext.userManager,onAddPress:this.onAddPress})))));return this.getViewWithTracker(d,t)},this.productTapped=(e,t,i)=>{},this.onAddPress=(e,t)=>{var i,n;const r=e.value;if(!r)return;const a=j.A.generateTransientDataKey(r.productMeta.productId);if(t)this.dispatchAction(X.Q3.AGGREGATED_CTA,new Y.Y(Y.m.UPDATE_CTA_STATE,{},[a]));else{const t={},o=r.productMeta.productId,s=(null===(i=r.pricing)||void 0===i?void 0:i.displayPrice)||0,l=null===(n=e.action)||void 0===n?void 0:n.tracking,d=r.titles.title||"",c=B.n.PMU_V3;t.listingId=r.productMeta.listingId,t.aggregatedCartContext=j.A.createCartContext(o,s,l,d,!1,!1,c);const u={};u[a]=t,this.dispatchAction(X.Q3.AGGREGATED_CTA,new Y.Y(Y.m.UPDATE_CTA_STATE,u))}},this.wrapAsRenderableComponent=(e,t)=>({value:e,action:t.action,rcType:t.rcType,metaData:t.metaData}),this.renderPrimaryProductCard=e=>{var t,i;const{imageUrl:n,aspectRatio:r="1"}=(null===(t=e.images)||void 0===t?void 0:t[0])||{},a=this.PRIMARY_PRODUCT_IMAGE_WIDTH/parseInt(r),l=null===(i=e.titles)||void 0===i?void 0:i.title,d=e.description;return o.createElement(s.fI,{paddingHorizontal:"s6",paddingVertical:"s5"},n&&o.createElement(F.Dk,{source:n,width:this.PRIMARY_PRODUCT_IMAGE_WIDTH,height:a,style:z.C1.margin_right_6}),o.createElement(s.fv,null,d&&o.createElement(s.JU,{maxWidth:this.TEXT_MAX_WIDTH,font:"s",color:"v2.neutral.700"},d),l&&o.createElement(s.JU,{maxWidth:this.TEXT_MAX_WIDTH,font:"s",numberOfLines:2},l)))}}renderHeader(e){return o.createElement(q.A,{widget:e,gradientStart:U._.BOTTOM,gradientEnd:U._.TOP})}}!function(e){e.PMU_COMBO_REVAMPED="PMU_COMBO_REVAMPED",e.PMU_COMBO_REVAMPED_VERTICAL="PMU_COMBO_REVAMPED_VERTICAL"}(H||(H={}));class te extends n.A{getWidgetClass(e){switch(r.KJ(e.widgetSlotData)){case"PMU_COMBO_REVAMPED":default:return N;case"PMU_COMBO_REVAMPED_VERTICAL":return ee}}getWidgetHeight(e){return r.KJ(e.widgetSlotData),N.getWidgetHeight(e)}}},440311:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var n=i(296540),r=i(877293),a=i(479892),o=i(352254),s=i(685847),l=i(468248);class d extends n.PureComponent{constructor(){super(...arguments),this._getPriceTag=()=>{const{priceBreakupType:e,tagStyle:t,tagHeight:i,tagWidth:o}=this.props,l=[a.C1.rowWithoutFlex,t],d=i||22,c=o||92;let u;switch(e){case s.o.REGULAR:u=this._renderRegularPriceTag(d,c);break;case s.o.GROUP_BUY:u=this._renderGroupBuyTag(d,c);break;default:u=void 0}return n.createElement(r.View,{style:l},u)}}render(){return this._getPriceTag()}_renderRegularPriceTag(e,t){const i=l.j.getRegularPriceTagSrc().uri;return n.createElement(o.A,{source:i,height:e,width:t})}_renderGroupBuyTag(e,t){const i=l.j.getGroupBuySrc().uri;return n.createElement(o.A,{source:i,height:e,width:t})}}},441497:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>m});var n=i(465420),r=i(716249),a=i(877293),o=i(296540),s=i(52754),l=i(761208),d=i(415283),c=i(914944),u=i(920493),h=i(395567),p=i(97529);class g extends r.A{constructor(){super(...arguments),this.renderButtons=(e,t)=>{var i;const n=null==e?void 0:e.action,r=null==e?void 0:e.value,a=null===(i=null==r?void 0:r.richText)||void 0===i?void 0:i.text,o=this.getScreenWidth()/2-12,s=[t?l.w9.blueButton:l.w9.lightButton,{width:o}],d=t?l.w9.blueButtonText:l.w9.lightButtonText;if(!a)return;const c=this.renderTextView(e,s,d,n);return this.getTrackableContentView(c,null==n?void 0:n.tracking)},this.renderTextView=(e,t,i,n)=>o.createElement(u.A,{btnData:e,disableFeedback:!0,btnViewStyle:t,btnTextStyle:i,onPress:this._clickAction,onPressParam:n}),this._clickAction=(e,t)=>{const i=new c.rs(t);this.trackDiscoveryContentClickEvent(t.tracking),this.trackOmnitureEvent(new h.wKV(p.A.BASKET_BROWSE_PRODUCTS,r.A.getTrackingParams(this.props,t.tracking))),this.dispatchAction(d.Q3.MAPI_ACTION,i)}}static getWidgetHeight(){return 60}renderDivider(){}renderWidget(){const e=(0,s.nS)(this.props.widgetSlotData),t=e&&e.data,i=null==t?void 0:t.actions;if(i)return o.createElement(a.View,{style:l.w9.buttonContainer},i.map(this.renderButtons))}}class m extends n.A{getWidgetClass(e){return g}getWidgetHeight(e){return g.getWidgetHeight()}}},442967:(e,t,i)=>{var n=i(644051),r=e.exports=Object.create(n),a={tagName:"name"};Object.keys(a).forEach((function(e){var t=a[e];Object.defineProperty(r,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})}))},457158:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ValueAddedBenefitWidgetViewTypes:()=>I,default:()=>P});var n=i(465420),r=i(296540),a=i(52754),o=i(302019),s=i(723372),l=i(89550),d=i(756580),c=i(438993),u=i(479892);class h extends c.A{constructor(){super(...arguments),this._renderBenefit=(e,t)=>{const i=e.formattedLabel,n=e.prices;return i||n?r.createElement(o.az,{pt:i?"s0":"s2"},i&&r.createElement(s.A,{style:[u.C1.padding16H,u.C1.padding_top_16],messages:i}),n&&r.createElement(l.A,{prices:n,finalPrice:t,isVasBenefit:!0,dottedLineStyle:t?{}:u.C1.displayNone,actionDispatcher:this.props.actionDispatcher,trackDGEvent:this.trackDGEvent}),!t&&r.createElement(d.A,{marginLeft:"s6",marginRight:"s6",height:1})):null}}getLayoutDetailsForWidget(e){return u.C1.border_top_radius_8}static getWidgetHeight(e){var t;const i=(0,a.xH)(e.widgetSlotData),n=null==i?void 0:i.priceBreakUpList,r=null===(t=null==n?void 0:n[0])||void 0===t?void 0:t.prices;return r?86+60*(null==r?void 0:r.length)+52:0}_isBenefitsPriceBreakUpWidgetData(e){return"priceBreakUpList"in e}renderWidget(){const e=(0,a.nS)(this.props.widgetSlotData),t=(null==e?void 0:e.data)&&this._isBenefitsPriceBreakUpWidgetData(e.data)?e.data:void 0;if(!t)return;const i=t.title,n=t.priceBreakUpList,l=t.totalPrice;return r.createElement(o.az,null,r.createElement(p,null,i&&r.createElement(s.A,{style:u.C1.justifyContentSpaceBetween,textDefaultStyle:{flexBasis:"55%"},imageDefaultStyle:{marginTop:2},messages:i})),n&&this._renderBenefits(n,l))}_renderBenefits(e,t){return e.map(((i,n)=>this._renderBenefit(i,n===e.length-1?t:void 0)))}}const p=o.az.extendComponent({name:"ValueAddedBenefitTitle",defaultProps:{pl:"s6",pr:"s5",bg:"primary.50",borderTopLeftRadius:8,borderTopRightRadius:8}});var g=i(352254),m=i(45426),v=i(495176),_=i(787921),C=i(914944),E=function(e,t,i,n){return new(i||(i=Promise))((function(r,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};class T extends c.A{constructor(){super(...arguments),this.actionButtonStyle=[u.C1.justifyContentCenter,u.C1.rowCenterWithoutFlex,u.C1.backgroundDarkFKBlue,u.C1.border_radius_4,u.C1.margin_16,u.XT.height_40,{width:this.getScreenWidth()-T.PADDING_HORIZONTAL}],this._renderBenefit=e=>{const t=e.formattedLabel,i=e.prices;return t&&i?r.createElement(o.az,{pt:t?"s0":"s2"},r.createElement(s.A,{style:T.productTitleTextStyle,messages:t}),r.createElement(l.A,{prices:i,isVIPBenefit:!0,dottedLineStyle:T.dottedLineStyle})):null},this._executeAction=(e,t)=>E(this,void 0,void 0,(function*(){const e=t.action;e&&(this.trackDiscoveryContentClickEvent(e.tracking,this.willCreateNewDwell(e)),this.dispatchAction(_.A.MAPI_ACTION,new C.Oy(e)))}))}getLayoutDetailsForWidget(e){return u.C1.border_top_radius_8}static getWidgetHeight(e){var t,i;const n=(0,a.xH)(e.widgetSlotData),r=null==n?void 0:n.priceBreakUpList,o=null===(t=null==r?void 0:r[0])||void 0===t?void 0:t.prices,s=null===(i=null==r?void 0:r[0])||void 0===i?void 0:i.formattedLabel;if(!o)return 0;const l=(null==n?void 0:n.nextAction)?72:0,d=s?40:0;return 40*(null==o?void 0:o.length)+72+l+d}isBenefitsPriceBreakUpWidgetData(e){return"priceBreakUpList"in e}renderWidget(){const e=(0,a.nS)(this.props.widgetSlotData),t=(null==e?void 0:e.data)&&this.isBenefitsPriceBreakUpWidgetData(e.data)?e.data:void 0;if(!t)return;const{title:i,iconImage:n,subTitle:l,priceBreakUpList:d,nextAction:c}=t;return r.createElement(o.az,null,r.createElement(f,null,r.createElement(o.fI,{alignItems:"center"},n&&r.createElement(o.az,null,r.createElement(g.A,{source:n.dynamicImageUrl,width:48,height:48})),r.createElement(o.az,{pl:"s5"},i&&r.createElement(s.A,{messages:i}),l&&r.createElement(s.A,{messages:l,style:T.marginTop4})))),d&&this._renderBenefits(d),c&&this._renderDefaultButton(c))}_renderBenefits(e){return e.map((e=>this._renderBenefit(e)))}_renderDefaultButton(e){var t;return r.createElement(m.S,{onPressParam:e,onPress:this._executeAction},r.createElement(o.az,{style:this.actionButtonStyle},(null==e?void 0:e.value)&&r.createElement(v.A,{text:null===(t=e.value)||void 0===t?void 0:t.title,style:T.buttonTextStyle})))}}T.PADDING_HORIZONTAL=32,T.buttonTextStyle=[u.XT.buttonTextStyle],T.productTitleTextStyle=[u.C1.padding16H,u.C1.padding_top_16],T.marginTop4=[u.C1.margin_top_4],T.dottedLineStyle={display:"none"};const f=o.az.extendComponent({name:"BenefitTitle",defaultProps:{px:"s6",py:"s5",bg:"neutral.50",borderTopLeftRadius:8,borderTopRightRadius:8}});var A=i(157993),S=i(110941),y=i(808584);class w extends T{constructor(){super(...arguments),this.BENEFITS_CONTAINER_WIDTH=.7*this.getScreenWidth(),this._renderRevampBenefit=e=>{const t=e.formattedLabel,i=e.formattedSubLabel,n=e.prices;return t&&n?r.createElement(o.az,{mx:"s6",my:"s5"},r.createElement(o.az,{alignItems:"center"},t?r.createElement(s.A,{messages:t}):null,i?r.createElement(s.A,{style:w.productSubTitleTextStyle,messages:i,textDefaultStyle:u.C1.margin_right_4,imageDefaultStyle:u.C1.margin_right_4}):null),n.map((e=>this._renderRow(e)))):null},this._renderRow=e=>{var t,i;const n=null==e?void 0:e.icon,a=null==e?void 0:e.formattedLabel,l=null!==(t=null==n?void 0:n.width)&&void 0!==t?t:w.TICK_MARK_IMG_SIZE,d=null!==(i=null==n?void 0:n.height)&&void 0!==i?i:w.TICK_MARK_IMG_SIZE;return r.createElement(o.fI,{alignItems:"center",pt:"s6"},n?r.createElement(y.A,{imageValue:n,width:l,height:d}):null,a?r.createElement(o.az,{pl:"s6",flexGrow:1,width:this.BENEFITS_CONTAINER_WIDTH},r.createElement(s.A,{messages:a,textDefaultStyle:u.C1.margin_right_4,imageDefaultStyle:u.C1.margin_right_2})):null)}}static getWidgetHeight(e){var t,i,n;const r=(0,a.xH)(e.widgetSlotData),o=null==r?void 0:r.priceBreakUpList,s=null===(t=null==o?void 0:o[0])||void 0===t?void 0:t.prices,l=null===(i=null==o?void 0:o[0])||void 0===i?void 0:i.formattedLabel,d=null===(n=null==o?void 0:o[0])||void 0===n?void 0:n.formattedSubLabel;if(!s)return 0;const c=l?40:0,u=d?42:0;return 36*(null==s?void 0:s.length)+76+c+u}renderWidget(){var e,t,i;const n=(0,a.nS)(this.props.widgetSlotData),l=(null==n?void 0:n.data)&&this.isBenefitsPriceBreakUpWidgetData(n.data)?n.data:void 0;if(!l)return;const{title:d,iconImage:c,priceBreakUpList:u}=l,h=null===(e=null==n?void 0:n.widgetAttributes)||void 0===e?void 0:e.backgroundImage,p=null===(t=null==n?void 0:n.widgetAttributes)||void 0===t?void 0:t.strokeColor,m=null!=p?p:w.BORDER_STROKE_COLOR,v=null!==(i=null==h?void 0:h.aspectRatio)&&void 0!==i?i:w.CONTAINER_BG_ASPECT_RATIO,_=this.getScreenWidth(),C=S.A.getHeight(_,v),E={borderRadius:4,borderWidth:1.6,borderColor:m,overflow:"hidden",marginHorizontal:16};return r.createElement(o.az,{style:{width:_}},r.createElement(o.az,{px:"s6",py:"s5"},r.createElement(o.fI,{alignItems:"center",justifyContent:"space-between"},d?r.createElement(o.az,{style:{width:w.CONTAINER_WIDTH}},r.createElement(s.A,{messages:d,useTextContainer:!0})):null,c?r.createElement(o.az,null,r.createElement(g.A,{source:c.dynamicImageUrl,width:w.VIP_LOGO_SIZE,height:w.VIP_LOGO_SIZE})):null)),u?r.createElement(A.P,{backgroundImageUrl:null==h?void 0:h.dynamicImageUrl,contentWidth:_-32,contentHeight:C,content:this._renderRevampBenefits(u),resizeMode:"cover",containerStyle:E}):null)}_renderRevampBenefits(e){return e.map((e=>this._renderRevampBenefit(e)))}}w.VIP_LOGO_SIZE=56,w.CONTAINER_WIDTH=200,w.CONTAINER_BG_ASPECT_RATIO="82:33",w.BORDER_STROKE_COLOR="#CE8807",w.TICK_MARK_IMG_SIZE=16,w.productSubTitleTextStyle=[u.C1.margin_top_12];var I,b=i(398581),D=i(492418);class x extends T{constructor(){super(...arguments),this.ContainerStyle=[u.C1.alignItemCenter,{width:this.getScreenWidth()}],this.PADDING_HORIZONTAL=32}static getWidgetHeight(e){const t=(0,a.xH)(e.widgetSlotData),{title:i,priceBreakUpList:n}=t||{};if(!n||0===n.length)return 0;const r=i?38:0;return 36*(null==n?void 0:n.length)+48+r}renderWidget(){var e,t;const i=(0,a.nS)(this.props.widgetSlotData),n=(null==i?void 0:i.data)&&this.isBenefitsPriceBreakUpWidgetData(i.data)?i.data:void 0,d=(null===(e=null==i?void 0:i.widgetAttributes)||void 0===e?void 0:e.bleedingColor)||D.Jyk.white,c=(null===(t=null==i?void 0:i.widgetAttributes)||void 0===t?void 0:t.stopBleedingColor)||D.Jyk.white;if(!n)return;const{title:u,subTitle:h,priceBreakUpList:p}=n,g=this.getScreenWidth();return r.createElement(b.W,{style:this.ContainerStyle,renderInWeb:!0,gradientColors:[d,c]},r.createElement(o.az,{width:g-this.PADDING_HORIZONTAL,bg:"v2.neutral.0",m:"s6",pt:"s5",borderRadius:12},r.createElement(o.az,{mx:"s6",pb:"s5"},r.createElement(o.fI,{alignItems:"center",justifyContent:"space-between"},u?r.createElement(o.az,null,r.createElement(s.A,{messages:u,useTextContainer:!0,numberOfLines:1})):null,h?r.createElement(o.az,{mr:"s3"},r.createElement(s.A,{messages:h,useTextContainer:!0,numberOfLines:1})):null)),r.createElement(l.A,{prices:[],multiCurrencyPriceList:p,showDotLineInTop:!0})))}}!function(e){e.BENEFIT_SUMMARY="BENEFIT_SUMMARY",e.BENEFIT_SUMMARY_REVAMP="BENEFIT_SUMMARY_REVAMP",e.BENEFIT_SUMMARY_REVAMP_V2="BENEFIT_SUMMARY_REVAMP_V2"}(I||(I={}));class P extends n.A{getWidgetClass(e){switch(a.KJ(e.widgetSlotData)){case"BENEFIT_SUMMARY":return T;case"BENEFIT_SUMMARY_REVAMP":return w;case"BENEFIT_SUMMARY_REVAMP_V2":return x;default:return h}}getWidgetHeight(e){switch(a.KJ(e.widgetSlotData)){case"BENEFIT_SUMMARY":return T.getWidgetHeight(e);case"BENEFIT_SUMMARY_REVAMP":return w.getWidgetHeight(e);case"BENEFIT_SUMMARY_REVAMP_V2":return x.getWidgetHeight(e);default:return h.getWidgetHeight(e)}}}},459577:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});var n=i(765701);class r extends n.A{constructor(){super(...arguments),this.isOneViewPage=!1}getModule(){return i(412080)}registerComponents(){}}},460324:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0,function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(i=t.ElementType||(t.ElementType={})),t.isTag=function(e){return e.type===i.Tag||e.type===i.Script||e.type===i.Style},t.Root=i.Root,t.Text=i.Text,t.Directive=i.Directive,t.Comment=i.Comment,t.Script=i.Script,t.Style=i.Style,t.Tag=i.Tag,t.CDATA=i.CDATA,t.Doctype=i.Doctype},463528:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(296540),r=i(302019),a=i(879052);class o extends n.PureComponent{constructor(){super(...arguments),this._onPressListener=e=>{this.props.onTextPress&&this.props.onTextPress(e,this.props.onPressParam)}}render(){return n.createElement(r.JU,Object.assign({},(0,a.Z)("Tappable_Text"),this.props,{onPress:this.props.onTextPress?this._onPressListener:void 0}),this.props.children)}}},464010:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ViewTypes:()=>S,default:()=>I});var n=i(52754),r=i(465420),a=i(296540),o=i(716249),s=i(302019),l=i(495176),d=i(408791),c=i(398581),u=i(479892),h=i(695276),p=i.n(h),g=i(560203);class m extends a.PureComponent{constructor(e,t){super(e,t)}renderStarSvg(e,t,i){return a.createElement(p(),{width:t,height:e,viewBox:"0 0 10 10",fill:i},a.createElement(h.Path,{d:"M5.17231 7.45049L7.14244 8.69869C7.39428 8.85824 7.70694 8.62094 7.63222 8.32698L7.063 6.08782C7.04697 6.02546 7.04887 5.95983 7.06848 5.8985C7.08809 5.83716 7.12461 5.78261 7.17384 5.74111L8.94053 4.27066C9.17267 4.07745 9.05285 3.69219 8.75461 3.67284L6.44743 3.5231C6.38528 3.51866 6.32568 3.49666 6.27556 3.45966C6.22543 3.42265 6.18685 3.37217 6.16431 3.31409L5.30382 1.14718C5.28043 1.08553 5.23884 1.03246 5.18458 0.995008C5.13031 0.957557 5.06594 0.9375 5 0.9375C4.93407 0.9375 4.86969 0.957557 4.81543 0.995008C4.76116 1.03246 4.71957 1.08553 4.69618 1.14718L3.8357 3.31409C3.81315 3.37217 3.77457 3.42265 3.72445 3.45966C3.67432 3.49666 3.61472 3.51866 3.55258 3.5231L1.24539 3.67284C0.947147 3.69219 0.827332 4.07745 1.05947 4.27066L2.82616 5.74111C2.87539 5.78261 2.91192 5.83716 2.93152 5.8985C2.95113 5.95983 2.95303 6.02546 2.937 6.08782L2.40912 8.16439C2.31944 8.51715 2.69465 8.8019 2.99685 8.61044L4.82769 7.45049C4.87919 7.41771 4.93896 7.4003 5 7.4003C5.06104 7.4003 5.12082 7.41771 5.17231 7.45049V7.45049Z",fill:"white"}))}render(){const e=this.props.height,t=this.props.width,i=this.props.fill;return this.renderStarSvg(e,t,i)}}var v,_=i(337528),C=i(727e3),E=i(257246),T=i(857850);class f extends o.A{constructor(){super(...arguments),this.lottieStyle={width:20,height:20},this.GRADIENT_START=[0,.35],this.renderHeading=e=>a.createElement(s.az,{p:"s5"},a.createElement(l.A,{richTextData:e})),this.renderStarAndRating=e=>{if(!e.average)return;const t=e.average,i=null==e?void 0:e.ratingAdjective;return a.createElement(C.w.Consumer,null,(e=>{var n,r,o;const l=null!==(n=(0,E.vZ)(e))&&void 0!==n?n:t>=3.5?T.Jy.successGreen:T.Jy.warningYellow,d=null!==(r=(0,E.vZ)(e))&&void 0!==r?r:t>=3.5?T.Jy.successGreen:T.Jy.warningYellow,c=null!==(o=(0,E.vZ)(e))&&void 0!==o?o:T.Jy.greyDot;return a.createElement(s.fI,{mx:"s6",mb:"s5"},t?a.createElement(s.fI,{bg:l,px:"s3",py:"s1",borderRadius:4,display:"flex",justifyContent:"center",alignItems:"center"},a.createElement(m,{height:10,width:10,fill:"none"}),a.createElement(s.JU,{color:"v2.neutral.0",font:"s_medium",ml:"s1"},t.toFixed(1))):void 0,i?a.createElement(s.fI,{display:"flex",alignItems:"center"},a.createElement(s.JU,{px:"s3",style:{color:c},font:"l_medium"},""),a.createElement(s.JU,{font:"m_medium",style:{color:d}},i)):void 0)}))},this.renderMlAspectContent=e=>{if(!e)return;const{title:t,subTitle:i,background:n}=e,{url:r,loop:o=!0,autoplay:h=!0}=(null==t?void 0:t.mediaValue)||{};if(!r&&!t&&!i)return;const p=a.createElement(s.az,{m:"s5"},a.createElement(s.fI,null,r?a.createElement(s.az,{mr:"s2"},a.createElement(d.n,{sourceUrl:r,loop:o,autoPlay:h,style:this.lottieStyle,speed:1})):void 0,t?a.createElement(l.A,{text:t.text,style:t.style}):void 0),i?a.createElement(l.A,{text:i.text,style:[i.style,u.C1.padding_top_8]}):void 0);return a.createElement(s.az,{mx:"s6",mb:"s6",borderRadius:6,overflow:"hidden"},(null==n?void 0:n.gradientColors)?a.createElement(c.W,{gradientColors:n.gradientColors,gradientStart:this.GRADIENT_START,gradientEnd:_._.BOTTOM,renderInWeb:!0},p):p)}}renderDivider(){return a.createElement(g.A,{heightVal:8})}renderStarSvg(){return a.createElement(p(),{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none"},a.createElement(h.Path,{d:"M5.17231 7.45049L7.14244 8.69869C7.39428 8.85824 7.70694 8.62094 7.63222 8.32698L7.063 6.08782C7.04697 6.02546 7.04887 5.95983 7.06848 5.8985C7.08809 5.83716 7.12461 5.78261 7.17384 5.74111L8.94053 4.27066C9.17267 4.07745 9.05285 3.69219 8.75461 3.67284L6.44743 3.5231C6.38528 3.51866 6.32568 3.49666 6.27556 3.45966C6.22543 3.42265 6.18685 3.37217 6.16431 3.31409L5.30382 1.14718C5.28043 1.08553 5.23884 1.03246 5.18458 0.995008C5.13031 0.957557 5.06594 0.9375 5 0.9375C4.93407 0.9375 4.86969 0.957557 4.81543 0.995008C4.76116 1.03246 4.71957 1.08553 4.69618 1.14718L3.8357 3.31409C3.81315 3.37217 3.77457 3.42265 3.72445 3.45966C3.67432 3.49666 3.61472 3.51866 3.55258 3.5231L1.24539 3.67284C0.947147 3.69219 0.827332 4.07745 1.05947 4.27066L2.82616 5.74111C2.87539 5.78261 2.91192 5.83716 2.93152 5.8985C2.95113 5.95983 2.95303 6.02546 2.937 6.08782L2.40912 8.16439C2.31944 8.51715 2.69465 8.8019 2.99685 8.61044L4.82769 7.45049C4.87919 7.41771 4.93896 7.4003 5 7.4003C5.06104 7.4003 5.12082 7.41771 5.17231 7.45049V7.45049Z",fill:"white"}))}renderWidget(){const e=(0,n.xH)(this.props.widgetSlotData);if(!e)return;const{title:t,rating:i,mlAspectSummary:r}=e;return a.createElement(a.Fragment,null,t?this.renderHeading(t):void 0,i?this.renderStarAndRating(i):void 0,r?this.renderMlAspectContent(r):void 0)}}v=f,f.TITLE_PADDING_TOP=16,f.TITLE_PADDING_BOTTOM=16,f.RATING_PADDING_BOTTOM=12,f.TITLE_LINE_HEIGHT=24,f.RATING_LINE_HEIGHT=22,f.ML_ASPECT_SECTIONHEIGHT=92,f.ML_APSECT_SECTION_PADDING_BOTTOM=16,f.getWidgetHeight=e=>{let t=0;const i=(0,n.xH)(e.widgetSlotData);if(!i)return t;const{title:r,rating:a,mlAspectSummary:o}=i;return r&&(t+=v.TITLE_PADDING_TOP+v.TITLE_LINE_HEIGHT+v.TITLE_PADDING_BOTTOM),a&&(t+=v.RATING_LINE_HEIGHT+v.RATING_PADDING_BOTTOM),o&&(t+=v.ML_ASPECT_SECTIONHEIGHT+v.ML_APSECT_SECTION_PADDING_BOTTOM),t};var A,S,y=i(184452);class w extends f{constructor(){super(...arguments),this.renderStarAndRating=e=>{const t=e.average;if(t)return a.createElement(C.w.Consumer,null,(e=>{var i;const n=null!==(i=(0,E.vZ)(e))&&void 0!==i?i:t>=3.5?T.Jy.successGreen:T.Jy.warningYellow;return a.createElement(s.az,null,t?a.createElement(s.fI,{bg:n,px:"s3",py:"s1",borderRadius:4,display:"flex",justifyContent:"center",alignItems:"center"},a.createElement(m,{height:10,width:10,fill:"none"}),a.createElement(s.JU,{color:"v2.neutral.0",font:"s_medium",ml:"s1"},t.toFixed(1))):void 0)}))},this.renderTitle=(e,t)=>a.createElement(s.fI,{mx:"s6",mt:"s6"},a.createElement(l.A,{richTextData:e,style:y.jB}),t?this.renderStarAndRating(t):void 0),this.renderMentionsView=e=>a.createElement(s.fI,{mx:"s6",my:"s5",justifyContent:"space-between"},e.map(((e,t)=>{const{reviewCategory:i,count:n}=e;return a.createElement(s.az,{key:t},i?a.createElement(l.A,{richTextData:i,style:u.C1.margin_bottom_2}):void 0,null!=n&&a.createElement(l.A,{richTextData:n}))})))}renderWidget(){const e=(0,n.xH)(this.props.widgetSlotData);if(!e)return;const{title:t,rating:i,reviewMentions:r,mlAspectSummary:o}=e;return a.createElement(a.Fragment,null,t?this.renderTitle(t,i):void 0,r?this.renderMentionsView(r):void 0,o?this.renderMlAspectContent(o):void 0)}}A=w,w.ASPECT_TITLE_PADDING_TOP=16,w.ASPECT_TITLE_PADDING_BOTTOM=12,w.REVIEW_MENTIONS_PADDING_BOTTOM=12,w.ML_ASPECT_SUMMARY_PADDING_BOTTOM=16,w.ASPECT_TITLE_LINE_HEIGHT=24,w.REVIEW_MENTIONS_LINE_HEIGHT=44,w.ML_ASPECT_SUMMARY_LINE_HEIGHT=112,w.getwidgetHeight=e=>{let t=0;const i=(0,n.xH)(e.widgetSlotData);if(!i)return t;const{title:r,reviewMentions:a,mlAspectSummary:o}=i;return r&&(t+=A.ASPECT_TITLE_PADDING_TOP+A.ASPECT_TITLE_LINE_HEIGHT+A.ASPECT_TITLE_PADDING_BOTTOM),a&&(t+=A.REVIEW_MENTIONS_LINE_HEIGHT+A.REVIEW_MENTIONS_PADDING_BOTTOM),o&&(t+=A.ML_ASPECT_SUMMARY_LINE_HEIGHT+A.ML_ASPECT_SUMMARY_PADDING_BOTTOM),t},function(e){e.ML_ASPECT_REVIEW_SUMMARY_MENTIONS="ML_ASPECT_REVIEW_SUMMARY_MENTIONS"}(S||(S={}));class I extends r.A{getWidgetClass(e){return"ML_ASPECT_REVIEW_SUMMARY_MENTIONS"===(0,n.KJ)(e.widgetSlotData)?w:f}getWidgetHeight(e){return"ML_ASPECT_REVIEW_SUMMARY_MENTIONS"===(0,n.KJ)(e.widgetSlotData)?w.getwidgetHeight(e):f.getWidgetHeight(e)}}},467400:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>A});var n=i(465420),r=i(296540),a=i(52754),o=i(347924),s=i(171539),l=i(815946),d=i(304489),c=i(957775),u=i(547134);const{JU:h,fI:p,fv:g,az:m}=o.zN;class v extends d.A{componentDidMount(){super.componentDidMount(),this.props.actionDispatcher&&(0,c.dispatchDgAction)(u.A.ABB_BOTTOM_SHEET,this.props.actionDispatcher)}renderWidget(){const e=(0,a.nS)(this.props.widgetSlotData),t=null==e?void 0:e.data,{title:i,subtitle:n,actions:[o,s]}=t;return r.createElement(_,{title:i,subtitle:n,primaryButton:o,secondaryButton:s,onButtonAction:this._handleAction})}}const _=({title:e,subtitle:t,primaryButton:i,secondaryButton:n,onButtonAction:a})=>e&&t?r.createElement(g,{p:"s6",gap:"s6",bg:"backgroundSubtle.neutral.base"},r.createElement(C,{text:e}),r.createElement(E,{text:t}),r.createElement(T,{primary:i,secondary:n,onAction:a})):null,C=({text:e})=>r.createElement(h,{typography:"heading",color:"foreground.default.primary"},e),E=({text:e})=>r.createElement(h,null,e),T=({primary:e,secondary:t,onAction:i})=>r.createElement(p,{flex:1,py:"s5",gap:"s4"},r.createElement(m,{flex:1},r.createElement(f,{button:e,hierarchy:"tertiary",onAction:i})),r.createElement(m,{flex:1},r.createElement(f,{button:t,hierarchy:"secondary",onAction:i}))),f=({button:e,hierarchy:t,onAction:i})=>{var n;const a=e.action,o=null===(n=e.value)||void 0===n?void 0:n.title;if(!a||!o)return null;return r.createElement(s.$n,{text:o,size:"large",hierarchy:t,iconAlignment:"right",NativeLinearGradient:l.d,onPress:e=>{i(e,a)}})};class A extends n.A{getWidgetClass(){return v}getWidgetHeight(e){return 222}}},468379:(e,t,i)=>{var n=i(967495),r=t.isTag=n.isTag;t.testElement=function(e,t){for(var i in e)if(e.hasOwnProperty(i)){if("tag_name"===i){if(!r(t)||!e.tag_name(t.name))return!1}else if("tag_type"===i){if(!e.tag_type(t.type))return!1}else if("tag_contains"===i){if(r(t)||!e.tag_contains(t.data))return!1}else if(!t.attribs||!e[i](t.attribs[i]))return!1}else;return!0};var a={tag_name:function(e){return"function"==typeof e?function(t){return r(t)&&e(t.name)}:"*"===e?r:function(t){return r(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return!r(t)&&e(t.data)}:function(t){return!r(t)&&t.data===e}}};function o(e,t){return"function"==typeof t?function(i){return i.attribs&&t(i.attribs[e])}:function(i){return i.attribs&&i.attribs[e]===t}}function s(e,t){return function(i){return e(i)||t(i)}}t.getElements=function(e,t,i,n){var r=Object.keys(e).map((function(t){var i=e[t];return t in a?a[t](i):o(t,i)}));return 0===r.length?[]:this.filter(r.reduce(s),t,i,n)},t.getElementById=function(e,t,i){return Array.isArray(t)||(t=[t]),this.findOne(o("id",e),t,!1!==i)},t.getElementsByTagName=function(e,t,i,n){return this.filter(a.tag_name(e),t,i,n)},t.getElementsByTagType=function(e,t,i,n){return this.filter(a.tag_type(e),t,i,n)}},470302:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});var n=i(918210);class r{handleAction(e,t,i){return n.A.flush(t.pageMeta.pageName),!0}}},471559:(e,t,i)=>{var n=i(967495),r=i(422792),a=n.isTag;e.exports={getInnerHTML:function(e,t){return e.children?e.children.map((function(e){return r(e,t)})).join(""):""},getOuterHTML:r,getText:function e(t){return Array.isArray(t)?t.map(e).join(""):a(t)?"br"===t.name?"\n":e(t.children):t.type===n.CDATA?e(t.children):t.type===n.Text?t.data:""}}},476519:(e,t,i)=>{"use strict";function n(e,t){if(t&&t.value)return r(e,t.value.priceTags)}function r(e,t){if(!t)return;const i=t&&t.filter((t=>t.tagType===e));return i&&i.length>0?i[0]:void 0}i.d(t,{F:()=>r,c:()=>n})},480274:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>z});var n=i(465420),r=i(296540),a=i(877293),o=i(302019),s=i(716249),l=i(52754),d=i(813652),c=i(45426),u=i(914944),h=i(415283),p=i(97529),g=i(395567),m=i(580555),v=i(908546),_=i(479892),C=i(972904),E=i(352254),T=i(432160),f=i(311676),A=i(544578),S=i(608580),y=i(294188),w=i(152021),I=i(1319),b=i(347953),D=i(656671),x=i(212240),P=i(808584),O=i(876505),R=i(727e3),k=i(257246),V=i(948017),L=i(398581),M=i(331547),N=i(879052),H=i(440271);const W=(0,H.Nx)(H.Ji,H.fS,H.LP,H.Le,H.Zd,H.mC,H.qC),B=(0,H.FY)("h1",{propsTransformer:W,name:"H1Label",defaultProps:e=>Object.assign({},e),themeContext:H.Dx});var U;!function(e){e.HIGHLIGHTED_BRAND_IN_TITLE="HIGHLIGHTED_BRAND_IN_TITLE"}(U||(U={}));class F{constructor(e){var t,i,n,r,a,o,s,d,c,u,h,p,g,m,v,_,C,E,T,f,A,S,y;this.faEnabled=!1,this.defaultFAEnable=!1,this.widget=(0,l.nS)(e.widgetSlotData),this.titleWidgetData=this.widget?this.widget.data:void 0,this.titleComponent=null===(t=this.titleWidgetData)||void 0===t?void 0:t.titleComponent,this.productSupertitle=null===(n=null===(i=this.titleComponent)||void 0===i?void 0:i.value)||void 0===n?void 0:n.superTitle,this.productTitle=(null===(r=this.titleComponent)||void 0===r?void 0:r.value)&&(this.productSupertitle&&this.titleComponent.value.newTitle?this.titleComponent.value.newTitle:this.titleComponent.value.title),this.productSubtitle=null===(o=null===(a=this.titleComponent)||void 0===a?void 0:a.value)||void 0===o?void 0:o.subtitle,this.offerTitle=null===(d=null===(s=this.titleComponent)||void 0===s?void 0:s.value)||void 0===d?void 0:d.offerTitle,this.productCombinedText=this.productTitle&&this.productSubtitle?`${this.productTitle} (${this.productSubtitle})`:this.productTitle&&this.productTitle,this.finalOfferTitle=this.productTitle&&this.offerTitle?`${this.productTitle} (${this.offerTitle})`:void 0,this.displayProductTitle=this.productTitle&&this.productSubtitle&&this.offerTitle?`${this.productTitle} (${this.offerTitle}) (${this.productSubtitle})`:this.finalOfferTitle||this.productCombinedText,this.summaryMeta=null===(c=this.titleWidgetData)||void 0===c?void 0:c.summaryMeta,this.defaultFAEnable=!!(null===(h=null===(u=this.summaryMeta)||void 0===u?void 0:u.flags)||void 0===h?void 0:h.flipkartAdvantage)&&this.summaryMeta.flags.flipkartAdvantage,this.faEnabled=!!(null===(p=this.summaryMeta)||void 0===p?void 0:p.flags)&&(!this.summaryMeta.flags.disableFassuredImage&&this.defaultFAEnable),this.exclusiveTag=null===(g=this.summaryMeta)||void 0===g?void 0:g.exclusiveTag,this.productDetailsAnnouncement=null===(m=this.titleWidgetData)||void 0===m?void 0:m.productDetailsAnnouncement,this.brandStore=null===(v=this.titleWidgetData)||void 0===v?void 0:v.brandStore,this.moqComponent=null===(_=this.titleWidgetData)||void 0===_?void 0:_.moqComponent,this.fAssuredIcon=null===(C=this.titleWidgetData)||void 0===C?void 0:C.fAssuredIcon,this.featureTags=null===(T=null===(E=this.titleWidgetData)||void 0===E?void 0:E.featureTags)||void 0===T?void 0:T.tagItems,this.listingPreservation=null===(f=this.titleWidgetData)||void 0===f?void 0:f.listingPreservationAnnouncement,this.productCardTagDetails=null===(A=this.titleWidgetData)||void 0===A?void 0:A.productCardTagDetails,this.trendMarkerTag=null===(S=this.titleWidgetData)||void 0===S?void 0:S.trendMarkerTag,this.newVersionComponent=null===(y=this.titleWidgetData)||void 0===y?void 0:y.newVersionComponent}}class G extends C.A{constructor(){super(...arguments),this.viewType=(0,l.KJ)(this.props.widgetSlotData),this.isViewTypeBrandHighlighted="HIGHLIGHTED_BRAND_IN_TITLE"===this.viewType,this.superHeaderStyle=[_.C1.rowSpaceBetween,_.C1.rowAlignFlexStart],this.updateRecentlyView=()=>{const e=this.getProductId();if(!this.props.actionDispatcher||!e)return;const t={productSummaryValue:{id:e,listingId:this.getListingId(),media:this._getMedia(this._getImageUrl()),titles:this._getTitles(),conditionCallout:!1,type:"ProductSummaryValue"}};this.dispatchAction(h.Q3.UPDATE_RECENTLY_VIEW,new w.e(t)),this.setState({recentlyViewFired:!0})},this.renderFeatureTags=()=>{if(this.state.viewModel.featureTags)return r.createElement(A.A,{tagItem:this.state.viewModel.featureTags,parentContainerStyle:S.V.tagParentStyle})},this.renderTrendMarkerTag=()=>{var e,t,i;const n=null===(i=null===(t=null===(e=this.state)||void 0===e?void 0:e.viewModel)||void 0===t?void 0:t.trendMarkerTag)||void 0===i?void 0:i.value;if(!n)return;const a=n.width?n.width:G.TREND_MARKER_TAG_DEFAULT_WIDTH;return r.createElement(P.A,Object.assign({},(0,N.Z)("Product_Summary_Trademark_Tag"),{width:a,imageValue:n}))},this.renderListingPreservationView=()=>{const e=this.state.viewModel;if(e.listingPreservation&&e.listingPreservation.value)return r.createElement(x.GE,null,e.listingPreservation.value.imageValue&&r.createElement(E.A,{style:{resizeMode:"contain"},source:e.listingPreservation.value.imageValue.dynamicImageUrl,height:16,width:16}),e.listingPreservation.value.title&&r.createElement(o.JU,Object.assign({},D.qf.listingTitleText),e.listingPreservation.value.title))},this._handleNewVersionClick=(e,t)=>{this._newVersionComponentDG(this.getFetchId()),t&&this.dispatchAction(h.Q3.MAPI_ACTION,new u.Oy(t))},this._newVersionComponentDG=e=>{const t=new f.PYS(e,this.getProductId());this.trackDGEvent(t)},this._renderMOQAnnouncement=()=>{const e=this.state.viewModel.moqComponent;if(e)return r.createElement(v.A,{announcements:[e],showAnimation:!0,animationContainerStyle:[_.C1.padding_top_4,_.C1.padding_bottom_4,_.C1.padding_right_4,_.C1.padding_left_2,_.C1.contentSelfAlignStart],textContainerStyle:_.C1.padding_right_6,actionDispatcher:this.dispatchAction,avoidDefaultContainerStyleOnMoq:!0})},this.renderFAEnabledView=()=>r.createElement(c.S,{onPress:this._handleFAClick},this.renderFassuredTag(!0)),this._handleFassuredTagClick=(e,t)=>{this.dispatchMAPIIndexedAction(t)},this._flipkartAdvantageDG=(e,t)=>{const i=new f.rNN(e,t);this.trackDGEvent(i)},this._handleFAClick=()=>{this._flipkartAdvantageDG(this.getFetchId(),this.getListingId())},this.renderFassuredTag=e=>{var t;if(e)return r.createElement(T.A,Object.assign({},(0,N.Z)("Assured_Tag"),{height:20}));const i=this.state.viewModel.fAssuredIcon;return i?r.createElement(c.S,Object.assign({},(0,N.Z)("Assured_Tag"),{disableFeedback:!i.action,onPress:i.action?this._handleFassuredTagClick:void 0,onPressParam:i.action}),r.createElement(E.A,{style:_.C1.margin_top_4,source:null===(t=i.value)||void 0===t?void 0:t.dynamicImageUrl,height:17,width:58})):null},this._brandStoreClicked=(e,t)=>{t&&(this.trackOmnitureEvent(new g.wKV(p.A.BRAND_STORE_CLICK,G.getTrackingParams(this.props,t.tracking))),this.trackDiscoveryContentClickEvent(t.tracking),this.dispatchAction(h.Q3.MAPI_ACTION,new u.Oy(t)))},this.toggleTitleExpanded=()=>{const e={type:I.J.ExpandProductPageTitle,data:{isExpanded:!this.state.titleExpanded}};this.dispatchAction(h.Q3.EXPAND_ACTION,new I.Z(e)),this.setState({titleExpanded:!this.state.titleExpanded})},this._getImageUrl=()=>{const e=this.getProductPageContext();return null==e?void 0:e.imageUrl}}static getWidgetHeight(e){var t,i,n,r,a,o,d,c,u;let h=0;const p=(0,l.nS)(e.widgetSlotData),g=p&&p.data;if(!g)return h;const m=null===(i=null===(t=g.titleComponent)||void 0===t?void 0:t.value)||void 0===i?void 0:i.title,_=null===(r=null===(n=g.titleComponent)||void 0===n?void 0:n.value)||void 0===r?void 0:r.superTitle,C=null===(o=null===(a=g.titleComponent)||void 0===a?void 0:a.value)||void 0===o?void 0:o.subtitle,E=g.listingPreservationAnnouncement,T=g.summaryMeta,f=!!(null===(d=null==T?void 0:T.flags)||void 0===d?void 0:d.flipkartAdvantage)&&T.flags.flipkartAdvantage,A=!!(null==T?void 0:T.flags)&&(!T.flags.disableFassuredImage&&f),S=null==T?void 0:T.exclusiveTag,y=g.moqComponent,w=null==g?void 0:g.fAssuredIcon,I=null===(c=null==g?void 0:g.featureTags)||void 0===c?void 0:c.tagItems,b=null==g?void 0:g.newVersionComponent,D=null==g?void 0:g.brandStore;if(m){h+=m.length+(C?C.length+3:0)>45?49:30}return D&&(h+=24),_&&(h+=24),S&&(h+=28),A&&(h+=20),w&&(h+=21),E&&(h+=33),I&&(h+=8+24*I.length),y&&(h+=4+v.A.getListingHeight([y])),(null===(u=null==b?void 0:b.value)||void 0===u?void 0:u.text)&&(h+=44),h+s.A.getAdditionalHeight(e)}getDerivedState(e,t){let i=new F(e);const n=e.widgetSlotData.transientData&&e.widgetSlotData.transientData.isExpanded,r=!(!t||this.isWidgetDataChanged(e))&&t.recentlyViewFired;return Object.assign(Object.assign({},super.getDerivedState(e,t)),{viewModel:Object.assign({},i),recentlyViewFired:r,titleExpanded:n})}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i)||this.state.titleExpanded!==t.titleExpanded||(0,y.A)(this.state.viewModel,t.viewModel)||this.state.recentlyViewFired!==t.recentlyViewFired}componentDidMount(){this.state.recentlyViewFired||this.updateRecentlyView()}componentDidUpdate(){this.state.recentlyViewFired||this.updateRecentlyView()}renderSuperHeader(){return r.createElement(a.View,Object.assign({},(0,N.Z)("Product_Summary_Header"),{style:this.superHeaderStyle}),this.renderProductSuperTitle(),this.renderTrendMarkerTag())}renderWidget(){var e,t;const i=(0,l.nS)(this.props.widgetSlotData),n=this.state.viewModel.titleWidgetData,s=null===(e=null==i?void 0:i.widgetAttributes)||void 0===e?void 0:e.widgetBleedingColor,d=null===(t=null==i?void 0:i.widgetAttributes)||void 0===t?void 0:t.widgetStopBleedingColor,c=s&&d;if(!n)return;const u="web"===a.Platform.OS?B:o.az,h=r.createElement(R.w.Consumer,null,(e=>r.createElement(o.az,{paddingHorizontal:"s6",bg:(0,k.qU)(e)},this.renderBrandStore(),!this.isViewTypeBrandHighlighted&&r.createElement(u,Object.assign({},(0,N.Z)("Product_Title")),this.renderSuperHeader(),this.renderProductTitle()),this.isViewTypeBrandHighlighted&&r.createElement(o.az,null,r.createElement(u,Object.assign({},(0,N.Z)("Product_Summary_Title_Text"),{mt:"s3"}),this.renderProductSuperTitle(),this.renderProductTitleTruncatable()),this.renderExclusiveTag()),this.renderFeatureTags(),this.state.viewModel.faEnabled?r.createElement(o.az,{marginLeft:"s2"},this.renderFAEnabledView()):null,this.state.viewModel.fAssuredIcon&&this.renderFassuredTag(),r.createElement(o.az,{marginTop:"s2"},this._renderMOQAnnouncement()),this.renderListingPreservationView(),this.renderNewVersionView())));return c?r.createElement(L.W,{gradientColors:[s,d],gradientStart:M._.TOP,gradientEnd:M._.BOTTOM,renderInWeb:!0},h):h}renderNewVersionView(){const e=this.state.viewModel;if(e.newVersionComponent&&e.newVersionComponent.value&&e.newVersionComponent.value.text)return r.createElement(c.S,{onPress:this._handleNewVersionClick,onPressParam:e.newVersionComponent.action},r.createElement(x.GE,null,r.createElement(o.JU,Object.assign({},D.qf.newVersionText),e.newVersionComponent.value.text),r.createElement(E.A,{source:d.chevronBlue,height:12,width:12,style:S.V.chevronImage})))}renderBrandStore(){var e,t,i,n;const a=this.state.viewModel,l=(null===(t=null===(e=a.brandStore)||void 0===e?void 0:e.action)||void 0===t?void 0:t.tracking)?this.getContentViewTrackingData(s.A.getTrackingParams(this.props,null===(n=null===(i=a.brandStore)||void 0===i?void 0:i.action)||void 0===n?void 0:n.tracking)):void 0,d=r.createElement(R.w.Consumer,null,(e=>{var t,i;const n=e?Object.assign(Object.assign({},D.qf.brandStoreTextStyle),{color:(0,k.o0)(e)}):D.qf.brandStoreTextStyle;return(null===(i=null===(t=a.brandStore)||void 0===t?void 0:t.value)||void 0===i?void 0:i.text)?r.createElement(c.S,Object.assign({},(0,N.Z)("Brand_Name"),{onPress:this._brandStoreClicked,onPressParam:a.brandStore.action}),r.createElement(o.JU,Object.assign({},n,{style:(0,k.aO)("textUnderline",e)}),a.brandStore.value.text)):null}));return l&&d?r.createElement(O.A,{trackingInfo:l},d):d}renderProductSuperTitle(){const e=this.state.viewModel,t=!!b.A.getExperimentValue("isBrandNameHighlighted"),i=this.isViewTypeBrandHighlighted?Object.assign(Object.assign({},D.qf.superTitleText),{font:"m_medium"}):t?Object.assign(Object.assign({},D.qf.superTitleText),{font:"s_medium"}):D.qf.superTitleText;return e.productSupertitle&&r.createElement(R.w.Consumer,null,(t=>{const n=t?Object.assign(Object.assign({},i),{color:(0,k.L7)(t)}):i;return r.createElement(o.JU,Object.assign({},(0,N.Z)("Product_Summary_Super_Title"),n,{ellipsizeMode:"tail"}),e.productSupertitle&&e.productSupertitle.concat(" "))}))}renderExclusiveTag(){const e=this.state.viewModel;if(!e.exclusiveTag)return;const t=Object.assign(Object.assign({},D.qf.productDetailsTextWrapper),D.qf.productDetailsExclusiveTag);return r.createElement(o.JU,Object.assign({},t),r.createElement(o.JU,Object.assign({},(0,N.Z)("Product_Summary_Exclusive_Tag"),D.qf.exclusiveTag),e.exclusiveTag))}renderProductTitle(){const e=this.state.viewModel;if(e.productTitle&&e.displayProductTitle)return r.createElement(o.az,null,this.renderProductTitleTruncatable(),this.renderExclusiveTag())}renderProductTitleTruncatable(){const e=this.state.viewModel,t=D.qf.titleText14;return r.createElement(R.w.Consumer,null,(i=>e.displayProductTitle?r.createElement(V.A,Object.assign({},(0,N.Z)("Product_Summary_Title"),{text:e.displayProductTitle,isExpanded:this.state.titleExpanded,onPress:this.toggleTitleExpanded,textStyle:i?Object.assign(Object.assign({},t),{color:(0,k.L7)(i)}):t,textAfterTruncateStyle:D.qf.suffixText,truncateAfterCharLimit:120})):null))}_getTitles(){const e=this.state.viewModel.titleComponent;if(!e||!e.value)return;const{title:t,subtitle:i,superTitle:n,newTitle:r}=e.value;return{title:t,subtitle:i,superTitle:n,newTitle:r}}_getMedia(e){if(!e)return;const t=[],i={url:e};t.push(i);return{images:t}}renderDivider(){}}G.TREND_MARKER_TAG_DEFAULT_WIDTH=66,G.getTrackingParams=(e,t)=>new m.Ay(t,e.pageInfo?e.pageInfo.baseImpressionId:"");class z extends n.A{getWidgetClass(e){return G}getWidgetHeight(e){return G.getWidgetHeight(e)}}},482659:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ComposedSwatchViewType:()=>qe,default:()=>$e});var n=i(52754),r=i(465420),a=i(296540),o=i(877293),s=i(311676),l=i(422018),d=i(146387),c=i(88502),u=i(249989),h=i(582389),p=i(630302),g=i(985234),m=i(944083),v=i(716249),_=i(29960),C=i(74175),E=i(914944),T=i(415283),f=i(808584),A=i(723372),S=i(495176),y=i(479892),w=i(454334),I=i(876505),b=i(53606),D=i(257246),x=i(57522);class P{constructor(e){this.type=x.j.AUTO_SELECTED_SIZE,this.autoSelectedSwatchSize=!1,this.autoSelectedSwatchSize=e}}var O=i(108920),R=i(879052);class k extends v.A{constructor(e,t){super(e,t),this.spinAnim=new o.Animated.Value(0),this.SWATCH_CALLOUT_PPV_COUNT="swatch-callout-ppv-count",this.calloutItemContainerStyle=[],this.imageViewStyle=[],this.fmvContainerStyle=[],this.DEFAULT_PREF_COUNT=b.Ay.getSwatchAnimationCount(),this.startAnimation=e=>{e.setValue(0),o.Animated.timing(e,{toValue:1,duration:1e3,easing:o.Easing.inOut(o.Easing.circle),useNativeDriver:!0,delay:1500}).start()},this._handleKnowMoreClick=(e,t)=>{t&&this.dispatchAction(T.Q3.MAPI_ACTION,new E.rs(t))},this.setAnimationTimeOut=e=>{this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout((()=>{this.setState({shouldAnimateCallouts:e})}),1500)},this.timeOutBackgroundColor=e=>{this._timer&&clearTimeout(this._timer),this._timer=setTimeout((()=>{this.setState({showCalloutsBg:e})}),1500)},this.renderSwatchWidgetCallouts=e=>{if(!e)return null;const t=e.map(this.renderSwatchCalloutItem);return a.createElement(o.View,null,t)},this.renderSwatchCalloutItem=(e,t)=>{if(!e||!e.value)return null;const{animatedImage:i,imageValue:n,data:r,bgColor:s,actionText:l}=e.value,d=this.getDGContentTrackingData(e.tracking),c=this.spinAnim.interpolate({inputRange:[0,1],outputRange:["360deg","0deg"]});return this.props.themeContext?this.calloutItemContainerStyle=[...this.calloutItemContainerStyle,(0,D.No)(this.props.themeContext)]:this.calloutItemContainerStyle=s?[...this.calloutItemContainerStyle,{backgroundColor:s}]:[...this.calloutItemContainerStyle,y.C1.backgroundWhite],a.createElement(I.A,Object.assign({},(0,R.Z)(`Swatch_Callout_${t}`),{style:this.calloutItemContainerStyle,trackingInfo:d}),a.createElement(o.View,{style:[y.C1.colWithoutFlex,y.C1.margin_right_12]},n&&a.createElement(f.A,{style:this.imageViewStyle,imageValue:n,height:17,width:17}),a.createElement(o.Animated.View,{style:[{transform:[{rotate:c}]}]},i&&a.createElement(f.A,{imageValue:i,height:24,width:24}))),a.createElement(o.Text,{style:this.fmvContainerStyle},r&&a.createElement(A.A,{style:y.XT.lineHeight_16,messages:r,useTextContainer:!0,useInline:!0}),(null==l?void 0:l.value)&&a.createElement(S.A,{style:y.XT.letterSpacing_15,richTextData:(0,D.Gq)(null==l?void 0:l.value,this.props.themeContext),onPress:this._handleKnowMoreClick,onPressParam:l.action})))},this.processOnViewStarted=()=>{this.state.shouldAnimateCallouts&&w.A.getValueInt(this.SWATCH_CALLOUT_PPV_COUNT).then((e=>{null!==e&&e<=this.DEFAULT_PREF_COUNT&&(this.startAnimation(this.spinAnim),this.setAnimationTimeOut(!1))})).catch((()=>{}))},this._updateSwatchDataLocationInPageTransientData(),this.imageViewStyle=[y.C1.absoluteCenter,y.C1.margin_left_3,y.C1.margin_top_3],this.fmvContainerStyle=[y.C1.rowWithoutFlex,y.C1.alignItemFlexStart,y.C1.justifyContentStart,y.C1.flex_3,y.C1.wrap],this.calloutItemContainerStyle=[y.C1.row,y.C1.justifyContentCenter,y.C1.alignItemCenter,y.C1.border_radius_4,y.C1.padding_vertical_6,y.C1.padding_horizontal_8,y.C1.margin_horizontal_16,y.C1.margin_bottom_6]}getDerivedState(e,t){var i,r,a,o;const s=k._getSwatchWidgetDataFromProps(e),l=k._getProductSwatchValueFromSwatchWidgetData(s);if((null===(i=null==l?void 0:l.attributes)||void 0===i?void 0:i[0])&&(null===(a=null===(r=null==l?void 0:l.attributes)||void 0===r?void 0:r[0])||void 0===a?void 0:a.userPreference)){(null===(o=l.attributes[0].userPreference)||void 0===o?void 0:o.preferenceType)===O.j.SIZE_AUTO_SELECTION&&(l.attributes[0].selected=!0,this.dispatchActionObject(new d.YI(new d.qF(x.j.AUTO_SELECTED_SIZE,new P(!0)))))}const c=l&&l.products?C.L.createSwatchCombinationToPidMap(l.products):new Map,u=l&&l.products,h=e.pageInfo&&e.pageInfo.pageContext,p=h&&h.fetchId?h.fetchId:"",g=this.overrideInitialPid(e),m=g||(null==h?void 0:h.productId),v=k._getSwatchTypeFromProductSwatchValue(l),E=k._getIsSwatchTreeViewEnabledFromWidgetParams(e),T=new _.L(l,c,u,m,void 0,void 0,void 0,E);T.swatchSelectionStarted=!((0,n.d9)(this.props.widgetSlotData,e.widgetSlotData)||!t)&&(t.viewModel&&t.viewModel.swatchSelectionStarted);const f=(0,n.UN)(e.widgetSlotData),A=super.getDerivedState(e,t),S=(0,n.KJ)(e.widgetSlotData),y=this.getCalloutsBg(),w=this.getCalloutsAnimation();return Object.assign(Object.assign({},A),{swatchWidgetData:s,swatchCombinationToPidMap:c,swatchWhitelistProductInfoMap:u,viewModel:T,initialPid:m,fetchId:p,swatchType:v,layoutKey:f,viewType:S,showCalloutsBg:y,shouldAnimateCallouts:w})}shouldComponentUpdate(e,t,i){const n=super.shouldComponentUpdate(e,t,i);return n&&this._updateSwatchDataLocationInPageTransientData(),n||this.state.showCalloutsBg!==t.showCalloutsBg||this.state.shouldAnimateCallouts!==t.shouldAnimateCallouts}componentDidMount(){const e=k._getSwatchWidgetDataFromProps(this.props);(null==e?void 0:e.callouts)&&(null==e?void 0:e.callouts.length)>0&&w.A.getValueInt(this.SWATCH_CALLOUT_PPV_COUNT).then((e=>{null!==e&&e<=this.DEFAULT_PREF_COUNT&&w.A.setValueInt(this.SWATCH_CALLOUT_PPV_COUNT,e+1)})).catch((()=>{}))}overrideInitialPid(e){}static _getSwatchWidgetDataFromProps(e){const t=(0,n.nS)(e.widgetSlotData);return t&&t.data}static _getIsSwatchTreeViewEnabledFromWidgetParams(e){var t;const i=(0,n.nS)(e.widgetSlotData);return null===(t=null==i?void 0:i.params)||void 0===t?void 0:t.isSwatchTreeViewEnabled}static _getSwatchWidgetTypeFromProps(e){const t=(0,n.nS)(e.widgetSlotData);return t&&t.type}static _getCustomDenominationDataFromProps(e){var t,i,n,r,a;const o=null===(i=null===(t=e.widgetSlotData.slotData)||void 0===t?void 0:t.widget)||void 0===i?void 0:i.data;return null===(a=null===(r=null===(n=null==o?void 0:o.swatchComponent)||void 0===n?void 0:n.value)||void 0===r?void 0:r.customDenomination)||void 0===a?void 0:a.value}static _getCustomDenominationTitleFromProps(e){var t,i,n,r;const a=null===(i=null===(t=e.widgetSlotData.slotData)||void 0===t?void 0:t.widget)||void 0===i?void 0:i.data;return null===(r=null===(n=null==a?void 0:a.swatchComponent)||void 0===n?void 0:n.value)||void 0===r?void 0:r.customDenominationTitle}static _getProductSwatchValueFromSwatchWidgetData(e){return e&&e.swatchComponent&&e.swatchComponent.value}static _getProductSwatchActionFromSwatchWidgetData(e){return e&&e.swatchComponent&&e.swatchComponent.action}static _getSwatchTypeFromProductSwatchValue(e){if(e&&e.attributes){switch(e.attributes.length){case 1:return m.Bm.single;case 2:return m.Bm.dual;default:return m.Bm.triple}}return m.Bm.unknown}getCalloutsBg(){}getCalloutsAnimation(){}_updateSwatchDataLocationInPageTransientData(){this.props.actionDispatcher&&this.props.actionDispatcher(new d.zF(new d.pN(g.V.SWATCH_DATA_LOCATION,new p.qc(this.props.widgetSlotData.rowId,this.props.index))))}}var V=i(242464),L=i(448865),M=i(410752),N=i(560203),H=i(388447);class W{static render(e,t,i){var r,s,l;const d=i,u=n.KJ(e),h=null==d?void 0:d.swatches[0].viewType;if(!(d&&t&&(d.swatches.length>1&&("PPV_VARIANT_LISTVIEW"===u||"EMERALD_PPV_VARIANT_LISTVIEW"===u)||h===H.q.BOX_WITH_PRODUCT_INFO)))return;const p=null===(l=null===(s=null===(r=null==t?void 0:t.header)||void 0===r?void 0:r.value)||void 0===s?void 0:s.titleValue)||void 0===l?void 0:l.text,g=h!==H.q.BOX_WITH_PRODUCT_INFO;return p?a.createElement(o.View,null,a.createElement(o.View,{style:c.jl.headerContainer},a.createElement(o.Text,Object.assign({},(0,R.Z)("Swatch_Header_Title"),{style:c.jl.headerText}),p)),g?a.createElement(N.A,{heightVal:1}):null):null}}var B=i(614006),U=i(561310);class F extends k{constructor(){super(...arguments),this.onViewStarted=e=>{this.processOnViewStarted()},this._getContentViewTracking=e=>this.getContentViewTrackingData(e),this._renderAvailableSwatches=(e,t,i)=>{if(!e||!e.swatches)return;const n=e.swatches.map(((e,n)=>a.createElement(V.e0,{key:n,scrollProps:this.props.scrollProps,uiContext:this.props.appContext.uiContext,containerStyle:c.wm.expandedSwatchOptionContainer,toolTipStyle:c.qF.expandedWidgetToolTipText,swatchIndex:n,data:e,viewModel:this.state.viewModel,onSwatchOptionPressed:this._onSwatchSelected,actionDispatcher:this.props.actionDispatcher,layoutKey:this.state.layoutKey,isSwatchExpanded:!0,customDenominationData:t.customDenominationData,customDenominationTitle:t.customDenominationTitle,widgetProps:this.props,isEGVWidget:t.isEGVWidget,getContentViewTrackingData:this._getContentViewTracking,themeContext:this.props.themeContext,fireDCCTracking:this.trackDiscoveryContentClickEvent,trackingdata:i})));return a.createElement(o.View,null,n)},this._onSwatchSelected=(e,t,i,n,r,a)=>{var o,c;if(a){if(this.props.actionDispatcher){const e=k._getCustomDenominationDataFromProps(this.props),t=null===(c=null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.productSwatchInfo)||void 0===c?void 0:c.widgetData,i={modalType:"BOTTOM_SHEET",widgetType:B.n.CUSTOM_DENOMINATION_WIDGET,widgetData:t,matchParentWidth:!0,scrollable:!0,disableSwipeToClose:!0,handleKeyboard:!0};this.props.actionDispatcher(new U.iM(U.xH.OPEN_MODAL,i))}}else if(this.state.viewModel){const r=L.J.selectSwatchOption(this.state.viewModel,e,t,this.state.swatchCombinationToPidMap,this.state.swatchWhitelistProductInfoMap),a=r.selectedPid;this.trackDGEvent(new s.Sk7(this.state.fetchId,a,i,n));const o=a?void 0:r.swatchSelectionCompleted?this.localize({id:M.H.rex_string_swatch_error_constants_INVALID_COMBINATION}):this.localize({id:M.H.rex_string_swatch_error_constants_SWATCH_SELECTION_INCOMPLETE});r.currentSelection&&this.props.actionDispatcher&&this.props.actionDispatcher(new d.ev(new d.i1(u.z.PRODUCT_PAGE_SWATCH_SELECTION_DATA,new h.GT(r.selectedPid,o)))),this.setState({viewModel:r,errorMessage:o}),this.doPPRActionIfEnabled(r)||a&&this.state.swatchWhitelistProductInfoMap&&this.props.actionDispatcher&&this.props.actionDispatcher(new l.lX(new l.$g(a,this.state.swatchWhitelistProductInfoMap,r.swatches)))}}}static getWidgetHeight(e){var t;const i=k._getSwatchWidgetDataFromProps(e),r=k._getProductSwatchValueFromSwatchWidgetData(i),a=r&&r.attributes,o=(0,n.UN)(e.widgetSlotData);if(!a)return this.getAdditionalHeight(e);return a.reduce(((e,t)=>V.e0.getHeight(t,o)+e),0)+((null===(t=null==i?void 0:i.callouts)||void 0===t?void 0:t.length)?62:0)+c.rM+c.RZ+this.getAdditionalHeight(e)}renderHeader(e){return W.render(this.props.widgetSlotData,e,this.state.viewModel)}getDerivedState(e,t){const i=super.getDerivedState(e,t),n=i.viewModel,r=n&&(n.swatchSelectionStarted?n.selectedPid?void 0:n.swatchSelectionCompleted?this.localize({id:M.H.rex_string_swatch_error_constants_INVALID_COMBINATION}):this.localize({id:M.H.rex_string_swatch_error_constants_SWATCH_SELECTION_INCOMPLETE}):void 0);return n&&n.selectedPid&&this.props.actionDispatcher&&this.props.actionDispatcher(new d.ev(new d.i1(u.z.PRODUCT_PAGE_SWATCH_SELECTION_DATA,new h.GT(n.selectedPid,r)))),Object.assign(Object.assign({},i),{errorMessage:r})}shouldComponentUpdate(e,t,i){return this.props.pageInfo!==e.pageInfo||this.state.viewModel!==t.viewModel||this.state.errorMessage!==t.errorMessage||super.shouldComponentUpdate(e,t,i)}renderDivider(){}renderWidget(){var e;const t=this.state.viewModel,i=k._getSwatchWidgetDataFromProps(this.props),n=k._getSwatchWidgetTypeFromProps(this.props)===B.n.COMPOSED_SWATCH_EGV,r={customDenominationData:k._getCustomDenominationDataFromProps(this.props),customDenominationTitle:k._getCustomDenominationTitleFromProps(this.props),isEGVWidget:n},s=null===(e=null==i?void 0:i.sizeChartData)||void 0===e?void 0:e.tracking;if(t&&t.swatches&&0!==t.swatches.length)return a.createElement(o.View,{style:c.wm.expandedContainer},this._renderAvailableSwatches(t,r,s),this.state.errorMessage&&F._getErrorMessageView(this.state.errorMessage),this.renderSwatchWidgetCallouts(null==i?void 0:i.callouts))}getCalloutsBg(){return!1}getCalloutsAnimation(){return!0}doPPRActionIfEnabled(e){var t,i,n,r;if((null===(t=e.listingSummary)||void 0===t?void 0:t.action)&&this.props.actionDispatcher&&e.selectedPid&&this.state.swatchWhitelistProductInfoMap){const t=C.L.getSelectedUri(e.selectedPid,this.state.swatchWhitelistProductInfoMap,e.swatches),a=Object.assign(Object.assign({},null===(i=e.listingSummary)||void 0===i?void 0:i.action),{params:Object.assign(Object.assign({},null===(r=null===(n=e.listingSummary)||void 0===n?void 0:n.action)||void 0===r?void 0:r.params),{pageUri:t}),url:t,originalUrl:t});return this.props.actionDispatcher(new E.E8(new E.rs(a))),!0}return!1}static _getErrorMessageView(e){if(e)return a.createElement(o.Text,Object.assign({},(0,R.Z)("Swatch_Error_Text"),{style:[c.h5.errorText,c.h5.composedSwatchErrorText]}),e)}}var G=i(215807),z=i(166057),j=i(910588),X=i(45426),Y=i(395567),q=i(97529),J=i(918210),K=i(90513),Q=i(229833),Z=i(1319),$=i(468248),ee=i(352254),te=i(226410),ie=i(911294),ne=i(938777),re=i(398581),ae=i(331547),oe=i(727e3),se=i(155805);class le extends k{constructor(){super(...arguments),this.GRADE_NODE_ID="grade",this.onViewStarted=e=>{this.processOnViewStarted()},this._getContentViewTracking=e=>this.getContentViewTrackingData(e),this._renderSingleSwatchWidget=e=>{var t;const i=le._getProductSwatchActionFromProps(this.props),n=e.swatches[0].viewType===H.q.BOX_WITH_PRODUCT_INFO?[y.C1.padding_0,y.C1.margin_0]:void 0;return a.createElement(V.e0,{containerStyle:n,swatchIndex:0,data:e.swatches[0],viewModel:e,onSwatchOptionPressed:(t,i,n,r)=>{this._onSingleSwatchClicked(t,i,n,r,e)},uiContext:this.props.appContext.uiContext,layoutKey:this.state.layoutKey,actionDispatcher:this.props.actionDispatcher,viewType:this.state.viewType,overlaySwatchAction:i,onColorPickerClick:this._sendColorPickerClickTracking,onSwatchExpand:this._onSwatchExpand,widgetProps:this.props,getContentViewTrackingData:this._getContentViewTracking,themeContext:this.props.themeContext,fireDCCTracking:this.trackDiscoveryContentClickEvent,dispatchAction:this.dispatchAction,marketplace:null===(t=this.props.pageInfo)||void 0===t?void 0:t.marketPlace})},this._onSingleSwatchClicked=(e,t,i,n,r)=>{if(r){const a=(r=L.J.selectSwatchOption(r,e,t,this.state.swatchCombinationToPidMap,this.state.swatchWhitelistProductInfoMap)).selectedPid;this.trackDGEvent(new s.Sk7(this.state.fetchId,a,i,n));const o={};if(Q.A.addEvent(o,K.fM.EVENT231),J.A.addPageData(o),this.props.actionDispatcher){if(!a||!this.state.swatchWhitelistProductInfoMap)return;this._swatchSelectionAction(a,this.state.swatchWhitelistProductInfoMap,r.swatches)}}},this._renderMultiSwatchNode=(e,t)=>a.createElement(o.View,{style:c.jl.multiSwatchNodeContainer},0!==t?a.createElement(N.A,{widthVal:1,orientation:0}):void 0,a.createElement(o.View,Object.assign({},(0,R.Z)(`Multi_Swatch_Option_${t}`),{key:t,style:c.wm.multiSwatchWidgetItemContainer}),this._renderMultiSwatchWidgetItemText(e),a.createElement(o.Text,{numberOfLines:1,style:c.jl.swatchIdText},e.textWithCount))),this._renderMultiSwatchWidget=(e,t)=>{const i=n.KJ(this.props.widgetSlotData);let r,s;return"PPV_VARIANT_LISTVIEW"===i||"EMERALD_PPV_VARIANT_LISTVIEW"===i?(r=e.swatches.map(this._renderMultiSwatchNodeListView),s=y.C1.col):(r=e.swatches.map(this._renderMultiSwatchNode),s=c.wm.multiSwatchContainer),a.createElement(X.S,Object.assign({},(0,R.Z)("Multi_Swatch_Container"),{onPress:this._onMultiSwatchClicked,onPressParam:t}),a.createElement(o.View,{style:s},r))},this._renderMultiSwatchNodeListView=(e,t)=>{var i,n;const r=e.selected?e.selectedOptionText:e.availableOptionsText,s=e.attributeImage&&e.attributeImage.dynamicImageUrl,l=e.attributeText&&r,d=e.selectedOptionIndex,u=e.id===this.GRADE_NODE_ID;return a.createElement(o.View,Object.assign({},(0,R.Z)(`Multi_Swatch_Child_${t}`)),a.createElement(o.View,{style:c.jl.multiSwatchNodeListViewContainer,key:t},s?a.createElement(ee.A,Object.assign({},(0,R.Z)("Multi_Swatch_Child_Image_Icon"),{style:c.jl.swatchIdImage,source:s,height:16,width:16})):null,l&&(u?a.createElement(o.View,{style:c.jl.multiSwatchNodeListItemContainer},a.createElement(o.Text,Object.assign({},(0,R.Z)(`Multi_Swatch_Child_Text_${e.attributeText}`),{style:[c.jl.swatchIdTextV2,c.jl.swatchIdTextGrade],numberOfLines:1}),e.attributeText,e.titleSuffix),u&&a.createElement(o.View,{style:c.jl.gradeTagContainer},a.createElement(te.X,{gradeId:null===(n=null===(i=null==e?void 0:e.options[d])||void 0===i?void 0:i.grade)||void 0===n?void 0:n.id}))):a.createElement(o.Text,Object.assign({},(0,R.Z)(`Multi_Swatch_Child_Text_${e.attributeText}`),{style:c.jl.swatchIdTextV2,numberOfLines:1}),e.attributeText,e.titleSuffix,a.createElement(o.Text,{style:c.jl.swatchIdValueText},ie.NH+r))),a.createElement(o.View,{style:c.jl.chevronImageContainer},a.createElement(o.Text,Object.assign({},(0,R.Z)("Multi_Swatch_Child_Options"),{style:c.jl.swatchIdMoreTextV2}),u?this._getGradeAttributeLength(e.options):e.attributeLength," ",e.remainingCountSuffix),a.createElement(ee.A,Object.assign({},(0,R.Z)("Multi_Swatch_Child_Chevron"),{style:c.jl.chevronImage,source:$.j.getChevronSrc().uri,height:12,width:12})))),a.createElement(N.A,{heightVal:1}))},this._getGradeAttributeLength=e=>e&&e.filter((e=>e.grade)).length,this._renderMultiSwatchWidgetItemText=e=>e.selected?a.createElement(oe.w.Consumer,null,(t=>a.createElement(o.Text,{numberOfLines:1,style:[c.$l.selectedText,(0,D.aO)("textUnderline",t),(0,D.Yx)(t)]},e.selectedOptionText))):a.createElement(o.Text,{numberOfLines:1,style:c.$l.availableSwatchesText},e.availableOptionsText),this._onMultiSwatchClicked=(e,t)=>{var i;t&&(this._openSwatchSelectionModal(t),this.trackDiscoveryContentClickEvent(null===(i=null==t?void 0:t.swatchComponent)||void 0===i?void 0:i.tracking))},this._openSwatchSelectionModal=e=>{var t,i;const r=null===(t=this.props.pageInfo)||void 0===t?void 0:t.pageContext;if(e&&this.props.actionDispatcher){const t=[{swatchSelectionRequired:!1,text:this.localize({id:M.H.rex_string_swatch_action_string_CANCEL}),actionType:z.a.SWATCH_SELECTION_CANCEL,buttonMode:1,shouldDisableActionButtonOnError:!1},{swatchSelectionRequired:!0,text:this.localize({id:M.H.rex_string_swatch_action_string_APPLY}),actionType:z.a.SWATCH_SELECTION_APPLY,buttonMode:0,shouldDisableActionButtonOnError:!1}],a=n.wU(this.props.widgetSlotData),o=n.KJ(this.props.widgetSlotData),s="SWATCH_IN_BOTTOMSHEET"===o||"PPV_VARIANT_LISTVIEW"===o,d=(0,se.wb)(null===(i=this.props.pageInfo)||void 0===i?void 0:i.pageURI)?G.m.DESKTOP_BOTTOM_SHEET:s?G.m.BOTTOM_SHEET:G.m.DEFAULT;this.props.actionDispatcher(new l.lX(new l.w1(t,e,d,this.state.initialPid,a,o,void 0,void 0,void 0,null==r?void 0:r.marketplace)))}},this._sendColorPickerClickTracking=()=>{this.trackOmnitureEvent(new Y.wKV(q.A.SWATCH_COLOR_PICKER_CLICK))},this._onSwatchExpand=()=>{const e=this.props.widgetSlotData&&this.props.widgetSlotData.position,t=this.props.widgetSlotData&&this.props.widgetSlotData.behaviour,i={type:Z.J.ExpandSwatches};this.dispatchAction(T.Q3.EXPAND_ACTION,new Z.Z(i,e,t))}}static getWidgetHeight(e){var t;const i=k._getSwatchWidgetDataFromProps(e),r=le._getProductSwatchValueFromProps(e),a=r&&r.attributes,o=(0,n.UN)(e.widgetSlotData);let s=0;a&&a[0]&&(s=a.length>1?c.Dp:V.e0.getHeight(a[0],o));return s+((null===(t=null==i?void 0:i.callouts)||void 0===t?void 0:t.length)?62:0)+v.A.getAdditionalHeight(e)}shouldStateUpdate(e,t){const i=e.pageInfo?e.pageInfo.pageContext:void 0,n=i&&i.fetchId?i.fetchId:"";return super.shouldStateUpdate(e,t)||this.state.fetchId!==n}renderHeader(e){return W.render(this.props.widgetSlotData,e,this.state.viewModel)}renderWidget(){var e,t;const i=this.state.viewModel,r=k._getSwatchWidgetDataFromProps(this.props),s=(0,n.nS)(this.props.widgetSlotData),l=null===(e=null==s?void 0:s.widgetAttributes)||void 0===e?void 0:e.widgetBleedingColor,d=null===(t=null==s?void 0:s.widgetAttributes)||void 0===t?void 0:t.widgetStopBleedingColor,c=l&&d;if(!i||i.swatches.length<1)return;if(this.state.viewType===ne.J1O.TRY_ND_BUY)return;const u=a.createElement(o.View,null,i.swatches.length>1?this._renderMultiSwatchWidget(i,this.state.swatchWidgetData):this._renderSingleSwatchWidget(i),this.renderSwatchWidgetCallouts(null==r?void 0:r.callouts));return c?a.createElement(re.W,{gradientColors:[l,d],gradientStart:ae._.TOP,gradientEnd:ae._.BOTTOM,renderInWeb:!0},u):u}renderDivider(){}getCalloutsBg(){return!1}getCalloutsAnimation(){return!0}getViewTrackingData(e,t){if((null==t?void 0:t.getContentType())&&(null==t?void 0:t.getContentTitle())){const e=`${this.state.swatchType}:${null==t?void 0:t.getContentType()}:${null==t?void 0:t.getContentTitle()}`;return new j.A(this.state.fetchId,e)}return new j.A(this.state.fetchId,this.state.swatchType)}_swatchSelectionAction(e,t,i){this.props.actionDispatcher&&this.props.actionDispatcher(new l.lX(new l.$g(e,t,i)))}static _getProductSwatchValueFromProps(e){const t=k._getSwatchWidgetDataFromProps(e);return k._getProductSwatchValueFromSwatchWidgetData(t)}static _getProductSwatchActionFromProps(e){const t=k._getSwatchWidgetDataFromProps(e);return k._getProductSwatchActionFromSwatchWidgetData(t)}}var de=i(947048),ce=i(166930),ue=i(690926);class he extends le{constructor(e,t){super(e,t),this._renderSingleSwatchWidget=e=>{let t;e.listingSummary&&e.listingSummary.pricing&&e.listingSummary.pricing.finalPrice&&(t=e.listingSummary.pricing.finalPrice.decimalValue);const i=this.props.pageInfo&&this.props.pageInfo.volatileData||{},n=i&&i[x.j.TRY_IT_ON_NUDGE]||{},r=n&&n.showNudge;return a.createElement(V.e0,{swatchIndex:0,data:e.swatches[0],viewModel:e,onSwatchOptionPressed:this._onSwatchClicked,uiContext:this.props.appContext.uiContext,layoutKey:this.state.layoutKey,actionDispatcher:this.props.actionDispatcher,viewType:this.state.viewType,price:t,showWiggleAnimation:r})},this._onSwatchClicked=(e,t)=>{let i=this.state.viewModel;if(i){i=L.J.selectSwatchOption(i,e,t,this.state.swatchCombinationToPidMap,this.state.swatchWhitelistProductInfoMap);const n=i.selectedPid;if(this.props.actionDispatcher){if(!n||!this.state.swatchWhitelistProductInfoMap)return;this._onTryItOnSwatchSelected(i)}}},this._onTryItOnSwatchSelected=e=>{e&&(this.setState({viewModel:e}),this._updateTryItOnFace(e))},this._updateTryItOnFace=e=>{if(e&&e.selectedPid&&e.selectedLid&&e.swatches.length>0){const t={},i=n.wU(this.props.widgetSlotData)||B.n.COMPOSED_SWATCH,r=e.swatches[0],a=r.selectedOptionIndex;if(r.options.length>a&&this.state.swatchWhitelistProductInfoMap){const n=r.options[a].paletteColorCodes,o=r.options[a].colorFinish,s=r.options[a].imageUrl,l=r.options[a].outOfStock||r.options[a].disabled,d=C.L.getSelectedUri(e.selectedPid,this.state.swatchWhitelistProductInfoMap,e.swatches);if(n&&n.length>0&&this.props.actionDispatcher&&s&&d){const r=n[0].code,a=ce.A.createTryItOnSwatchContext(i,s,r,!l,d,void 0,o),c=new de.Sv(e.selectedLid,a,C.L.getSwatchErrorMessage(e));t[e.selectedPid]=c,this.dispatchAction(T.Q3.TRY_IT_ON_SWATCH_CHANGE,new ue.Q(ue.e.UPDATE_SWATCH_STATE,t))}}}};const i=this.state.viewModel;this._updateTryItOnFace(i)}getDerivedState(e,t){const i=super.getDerivedState(e,t),n=t?t.viewModel:i.viewModel;return Object.assign(Object.assign({},i),{viewModel:n})}shouldComponentUpdate(e,t,i){const n=e.pageInfo&&e.pageInfo.volatileData||{},r=n&&n[x.j.TRY_IT_ON_NUDGE]||{};return this.state.viewModel!==t.viewModel||r.showNudge||super.shouldComponentUpdate(e,t,i)}renderWidget(){const e=this.state.viewModel;if(e&&!(e.swatches.length<1))return a.createElement(o.View,{style:c.wm.tryItOnSwatchContainer},this._renderSingleSwatchWidget(e))}}var pe=i(287727),ge=i(176254),me=i(346908),ve=i(420721),_e=i(198213);class Ce extends me.F{constructor(){super(...arguments),this._renderProductSummary=(e,t,i)=>a.createElement(ge.X,{summaryValue:e,ratingValue:t&&t.rating,hideRatings:!0,showSuperTitle:!0,gbFlow:i})}static getWidgetHeight(e){const t=ge.X.getHeight(),i=me.F.getModalDataFromProps(e),n=null==i?void 0:i.swatchData,r=me.F._getProductSwatchValueFromSwatchWidgetData(n),a=null==r?void 0:r.attributes,o=null==r?void 0:r.attributeOptions;return t+(a&&o?a.reduce(((e,t,i)=>e+(o[i]?V.e0.getHeight(t):0)),0):0)+(2*c.yV+c.Ev)+(2*c.xL+c.iK)}getDerivedState(e,t){var i;const r="SWATCH_IN_BOTTOMSHEET";let a;switch((0,n.KJ)(e.widgetSlotData)){case"BOTTOMSHEET_NO_REDIRECT":a=z.a.SWATCH_VARIANT_SELECTION_WITHOUT_REDIRECTION;break;case"BOTTOMSHEET_PAGE_REFRESH":a=z.a.SWATCH_VARIANT_SELECTION_PAGE_REFRESH;break;case"BOTTOMSHEET_REVAMPED":a=z.a.CART_ADD_WITH_SWATCH_BOTTOMSHEET;break;default:a=z.a.SWATCH_VARIANT_SELECTION_THEN_FORWARD_ACTION}if(!t||!(0,n.d9)(this.props.widgetSlotData,e.widgetSlotData)){const o=Ce.getSwatchWidgetDataFromProps(e),s=Ce.getProductSwatchValueFromSwatchWidgetData(o),l=null===(i=e.pageInfo)||void 0===i?void 0:i.pageContext,d=null==l?void 0:l.productId,c=(null==s?void 0:s.products)?C.L.createSwatchCombinationToPidMap(s.products):new Map,u=null==s?void 0:s.products,h=Ce._getSwatchTypeFromProductSwatchValue(s),p=new _.L(s,c,u,d),g=[{swatchSelectionRequired:!0,text:this.getLocaleStringValue(e.appContext.locale),actionType:a,baseAction:void 0,buttonMode:0,shouldDisableActionButtonOnError:!0}];p.swatchSelectionStarted=!((0,n.d9)(this.props.widgetSlotData,e.widgetSlotData)||!t)&&(t.viewModel&&t.viewModel.swatchSelectionStarted);const m=super.getDerivedState(e,t),v=this._actionButtonState(g,p,void 0);return Object.assign(Object.assign({},m),{swatchWidgetData:o,swatchType:h,swatchCombinationToPidMap:c,swatchWhitelistProductInfoMap:u,viewModel:p,viewType:r,modalActionButtons:g,actionButtonStates:v})}const o=me.F.getViewModelFromPageTransientData(e)||t.viewModel,s=me.F._getErrorMessageFromPageTransientData(e),l=[{swatchSelectionRequired:!!(null==o?void 0:o.swatchSelectionCompleted),text:this.getLocaleStringValue(e.appContext.locale),actionType:a,baseAction:void 0,buttonMode:0,shouldDisableActionButtonOnError:!0,buttonState:(null==o?void 0:o.swatchSelectionCompleted)?0:1}],d=this._actionButtonState(l,o,s);return Object.assign(Object.assign({},super.getDerivedState(e,t)),{modalActionButtons:l,actionButtonStates:d,viewType:r})}getLocaleStringValue(e){return(0,ve.ak)(e,{id:M.H.rex_string_CONTINUE})}static getSwatchWidgetDataFromProps(e){const t=(0,n.nS)(e.widgetSlotData);return null==t?void 0:t.data}static getProductSwatchValueFromSwatchWidgetData(e){var t;return null===(t=null==e?void 0:e.swatchComponent)||void 0===t?void 0:t.value}static _getSwatchTypeFromProductSwatchValue(e){if(e&&e.attributes){switch(e.attributes.length){case 1:return m.Bm.single;case 2:return m.Bm.dual;default:return m.Bm.triple}}return m.Bm.unknown}getViewTrackingData(e,t){return this.state.swatchType&&new j.A(this.state.fetchId,this.state.swatchType)}render(){const e=(0,n.nS)(this.props.widgetSlotData),t=this.renderWidget();if(!e)return null;if(e.tracking){const i=e.tracking&&this.getWidgetViewTrackingData(this.state.trackingParams);return a.createElement(_e.BA,{trackingInfo:i},this.renderContent(e,t))}return a.createElement(o.View,null,this.renderContent(e,t))}renderHeader(e){return null}getContainerFlex(){}getLayoutKey(){return pe.I.LIFESTYLE}getAvailableSwatchesContainerStyle(){return y.C1.shrinkContent}_renderDividerView(){}shouldDisableSizeChartView(){return!0}_actionButtonState(e,t,i){return e.map((e=>e.swatchSelectionRequired&&t&&this.isSelectedCombinationUnavailable(t)||e.shouldDisableActionButtonOnError&&0!==(null==i?void 0:i.trim().length)?1:0))}}var Ee=i(700036),Te=i(857850),fe=function(e,t,i,n){return new(i||(i=Promise))((function(r,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};class Ae extends le{constructor(){super(...arguments),this._getSwatchTrackingData=()=>{var e;const t=k._getSwatchWidgetDataFromProps(this.props);return(null===(e=null==t?void 0:t.swatchComponent)||void 0===e?void 0:e.tracking)||{}},this._renderErrorMessagesView=e=>{if(e&&" "!==e)return this._renderErrorAsText(e)},this._renderErrorAsText=e=>a.createElement(o.Text,{style:c.h5.errorText},e),this._renderSingleSwatchWidget=(e,t)=>{const i=t||0,n=le._getProductSwatchActionFromProps(this.props),r=e.swatches[i].viewType===H.q.BOX_WITH_PRODUCT_INFO?[y.C1.padding_0,y.C1.margin_0]:void 0;return a.createElement(V.e0,{containerStyle:r,swatchIndex:i,data:e.swatches[i],viewModel:e,onSwatchOptionPressed:(t,i,n,r)=>fe(this,void 0,void 0,(function*(){e.swatches.length>1?this._onMultiSwatchSelected(t,i):this._onSingleSwatchClicked(t,i,n,r,e);const a=this._getSwatchTrackingData();if(a){const e=v.A.getTrackingParams(this.props,a||{});this.trackOmnitureEvent(new Y.vjL(e,Te.L3.NATIVE_AR_PAGE,Te.g6.NATIVE_AR_PAGE_TYPE))}})),uiContext:this.props.appContext.uiContext,layoutKey:this.state.layoutKey,actionDispatcher:this.props.actionDispatcher,viewType:this.state.viewType,overlaySwatchAction:n})},this._onMultiSwatchSelected=(e,t)=>{this.props.actionDispatcher&&this.props.actionDispatcher(new l.lX(new l.X6(e,t,this.state.viewModel,this.state.swatchCombinationToPidMap,this.state.arEnabledSwatchCombinationToPidMap,this.state.swatchWhitelistProductInfoMap)))}}getDerivedState(e,t){let i,n=" ";const r=super.getDerivedState(e,t);let a;if(i=Ee.A.getObject(ne.J1O.swatchViewModelLocalStorageKey),n=Ae._getErrorMessageFromPageTransientData(e),(!i||Object.keys(i).length<1)&&(i=r.viewModel),t&&t.arEnabledSwatchCombinationToPidMap)a=t.arEnabledSwatchCombinationToPidMap;else{const t=k._getSwatchWidgetDataFromProps(e),i=k._getProductSwatchValueFromSwatchWidgetData(t);a=i&&i.products?C.L.createAREnabledSwatchCombinationToPidMap(i.products):new Map}return Object.assign(Object.assign({},super.getDerivedState(e,t)),{viewModel:i,errorMessage:n,arEnabledSwatchCombinationToPidMap:a})}shouldStateUpdate(e,t){const i=Ee.A.getObject(ne.J1O.swatchViewModelLocalStorageKey),n=Ae._getErrorMessageFromPageTransientData(e);return this.state.viewModel!==i||this.state.errorMessage!==n||super.shouldStateUpdate(e,t)}shouldComponentUpdate(e,t,i){return this.state.viewModel!==t.viewModel||this.state.errorMessage!==t.errorMessage||super.shouldComponentUpdate(e,t,i)}renderWidget(){const e=this.state.viewModel;if(e&&!(e.swatches.length<1))return a.createElement(o.View,null,a.createElement(o.ScrollView,null,e.swatches.map(((t,i)=>this._renderSingleSwatchWidget(e,i))),this._renderErrorMessagesView(this.state.errorMessage)))}_swatchSelectionAction(e,t,i){this.props.actionDispatcher&&this.props.actionDispatcher(new l.lX(new l.hA(e,t,i)))}static getViewModelFromPageTransientData(e){const t=Ae._getSwatchPageViewModelTransientDataFromProps(e);if(null==t?void 0:t.viewModel)return t.viewModel}static _getSwatchPageViewModelTransientDataFromProps(e){return e.pageInfo&&e.pageInfo.pageTransientData&&e.pageInfo.pageTransientData.data&&e.pageInfo.pageTransientData.data[g.V.SWATCH_VIEW_MODEL]}static _getErrorMessageFromPageTransientData(e){const t=Ae._getSwatchPageViewModelTransientDataFromProps(e);return t&&t.errorMessage?t.errorMessage:" "}}var Se=i(580555),ye=i(390437),we=i(502346),Ie=i(492418);class be extends a.PureComponent{constructor(e){super(e),this.handleDismiss=()=>{this.props.dismissClicked&&this.props.dismissClicked()},this.handleNext=()=>{this.props.nextClicked&&this.props.nextClicked()},this.items=[];for(let t=0;t<(e.numberOfSteps||3);t++)this.items.push(t)}renderDismiss(){return a.createElement(o.TouchableWithoutFeedback,{onPress:this.handleDismiss},a.createElement(o.View,{style:xe.dismiss},a.createElement(ee.A,{width:20,height:20,source:Ie.qKZ,style:xe.dismissIcon})))}renderTop(){return a.createElement(o.View,{style:xe.top},a.createElement(o.Text,{style:xe.text},this.props.content," "),this.renderDismiss())}renderNext(){return a.createElement(o.TouchableWithoutFeedback,{onPress:this.handleNext},a.createElement(o.Text,{style:xe.next},this.props.step===(this.props.numberOfSteps||3)-1?"START":"NEXT"))}renderStep(e,t){return a.createElement(o.View,{style:[xe.progressCommon,{backgroundColor:this.props.step===e?Ie.mq_.tooltipCurrentState:Ie.mq_.tooltipRestState,width:this.props.step===e?10:5,marginLeft:t?5:0}]})}renderProgress(){return a.createElement(o.View,{style:xe.progress},this.items.map((e=>this.renderStep(e,0!==e))))}renderBottom(){return a.createElement(o.View,{style:xe.bottom},this.renderProgress(),this.renderNext())}render(){return a.createElement(o.View,{style:[xe.container,{width:this.props.deviceWidth-100}]},this.renderTop(),this.renderBottom())}}const De=be,xe=o.StyleSheet.create({container:{backgroundColor:Ie.mq_.tooltipBackground,width:300,height:120,padding:20},top:{display:"flex",flexDirection:"row"},bottom:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginTop:35},text:{color:Ie.Jyk.white,width:"80%",fontSize:16,height:46},dismiss:{width:"20%"},dismissIcon:{position:"absolute",right:0,top:0},progress:{display:"flex",flexDirection:"row",marginBottom:3.5},progressCommon:{borderRadius:5,height:5},next:{color:Ie.mq_.tooltipNextTextColor,position:"absolute",right:0,bottom:0}});class Pe extends a.PureComponent{constructor(){super(...arguments),this.width=o.Dimensions.get("screen").width}render(){var e;return a.createElement(we.A,{isVisible:this.props.isVisible,backdropOpacity:this.props.backdropOpacity,onBackdropPress:this.props.onNextClicked},a.createElement(o.View,{style:[Re.container,Object.assign(Object.assign({},this.props.position),{top:(null===(e=this.props.position)||void 0===e?void 0:e.top)?this.props.position.top+(this.props.platformOffset||0):void 0})]},a.createElement(De,{content:this.props.text,step:this.props.currentStep,numberOfSteps:this.props.numberOfSteps,nextClicked:this.props.onNextClicked,dismissClicked:this.props.onDismissClicked,deviceWidth:this.width}),a.createElement(o.View,null,a.createElement(o.View,{style:[Re.triangle,this.props.alignmentStyle]}))))}}const Oe=Pe,Re=o.StyleSheet.create({container:{position:"absolute",zIndex:1,alignSelf:"center"},parent:{position:"absolute",alignItems:"center",justifyContent:"center",display:"flex"},containerStyle:{padding:8,alignItems:"center",borderRadius:4,backgroundColor:Ie.mq_.tooltipBackground,shadowColor:Ie.mq_.tooltipBackground,shadowOpacity:.5,shadowRadius:3,shadowOffset:{width:3,height:3}},textStyle:{textAlign:"center",fontSize:14,margin:0,padding:0},triangle:{width:0,height:0,borderLeftWidth:8,borderRightWidth:8,borderBottomWidth:10,borderStyle:"solid",backgroundColor:"transparent",borderLeftColor:"transparent",borderRightColor:"transparent",borderBottomColor:Ie.mq_.tooltipBackground,transform:[{rotate:"180deg"}],marginLeft:"auto",marginRight:"auto",top:-1}});var ke=function(e,t,i,n){return new(i||(i=Promise))((function(r,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};class Ve extends le{constructor(e){super(e),this.swipedCount=0,this.alignmentStyle={transform:[{rotate:"90deg"}],top:-100,marginRight:-10},this.handleNextStep=()=>{const e=k._getSwatchWidgetDataFromProps(this.props),t=null==e?void 0:e.onboardingData;if(!t)return;let i=this.state.currentOnboardingStep;i===t.length-1?this.handleDismiss():(i++,this.setState({currentOnboardingStep:i}))},this.handleDismiss=()=>{this.setState({showOnboardingOverlay:!1}),w.A.setValue(ne.J1O.vtoInteractiveOnboardingLocalStorageKey,ne.J1O.defaultLocalStorageValue)},this._onSwipeLeft=e=>{var t,i,n;const r=null===(t=k._getSwatchWidgetDataFromProps(this.props))||void 0===t?void 0:t.swatchComponent;if(e&&(null===(i=null==r?void 0:r.tracking)||void 0===i?void 0:i[Se.qF])){const t=Object.assign(Object.assign({},e),{[Se.qF]:null===(n=null==r?void 0:r.tracking)||void 0===n?void 0:n[Se.qF]});this.trackDiscoveryContentEngagementEvent(t,ye.O.SWIPE_PREVIOUS)}},this._onSwipeRight=e=>{var t,i,n;const r=null===(t=k._getSwatchWidgetDataFromProps(this.props))||void 0===t?void 0:t.swatchComponent;if(e&&(null===(i=null==r?void 0:r.tracking)||void 0===i?void 0:i[Se.qF])){const t=Object.assign(Object.assign({},e),{[Se.qF]:null===(n=null==r?void 0:r.tracking)||void 0===n?void 0:n[Se.qF]});this.trackDiscoveryContentEngagementEvent(t,ye.O.SWIPE_NEXT)}},this.handleOnboarding=()=>ke(this,void 0,void 0,(function*(){const e=yield w.A.getValue(ne.J1O.vtoInteractiveOnboardingLocalStorageKey);this.swipedCount!==Ve.ONBOARDING_START_SWIPE_COUNT||e||this.setState({showOnboardingOverlay:!0})})),this._renderSingleSwatchWidget=e=>{var t,i;const n=k._getSwatchWidgetDataFromProps(this.props),r=null==n?void 0:n.swatchComponent,s=Object.assign({},e.swatches[0]);let l=this._getPriceInfoForPID(e);const d=null==n?void 0:n.onboardingData,u=this.props.appContext.uiContext.getWindowSafeAreaInset().top,h="ios"===o.Platform.OS?u:0;return a.createElement(o.View,{style:c.wm.tryItOnSwatchContainer},d&&a.createElement(Oe,{isVisible:this.state.showOnboardingOverlay,backdropOpacity:0,alignmentStyle:this.alignmentStyle,currentStep:this.state.currentOnboardingStep,numberOfSteps:null==d?void 0:d.length,text:null===(t=d[this.state.currentOnboardingStep].value)||void 0===t?void 0:t.text,position:null===(i=d[this.state.currentOnboardingStep].value)||void 0===i?void 0:i.position,onNextClicked:this.handleNextStep,onDismissClicked:this.handleDismiss,platformOffset:h}),a.createElement(V.e0,{key:null==n?void 0:n.categoryNodeId,swatchIndex:0,data:s,viewModel:e,showOOSCross:!0,viewType:Ve.TRY_ON_VIEW_TYPE,uiContext:this.props.appContext.uiContext,layoutKey:pe.I.MULTI_TRY_ON,onSwipeLeft:()=>this._onSwipeLeft(null==r?void 0:r.tracking),onSwipeRight:()=>this._onSwipeRight(null==r?void 0:r.tracking),actionDispatcher:this.props.actionDispatcher,price:l,multiTryOn:null==n?void 0:n.hasMultiTryOn,clearAction:null==n?void 0:n.clearAction,onSwatchOptionPressed:(t,i,n,r)=>{this._onSingleSwatchClicked(t,i,n,r,e),this.swipedCount++,this.handleOnboarding()}}))},this.state=Object.assign(Object.assign({},super.state),{currentOnboardingStep:0,showOnboardingOverlay:!1})}shouldComponentUpdate(e,t,i){return this.state.currentOnboardingStep!==t.currentOnboardingStep||this.state.showOnboardingOverlay!==t.showOnboardingOverlay||super.shouldComponentUpdate(e,t,i)}_getPriceInfoForPID(e){return e.listingSummary&&e.listingSummary.pricing&&e.listingSummary.pricing.finalPrice?e.listingSummary.pricing.finalPrice.decimalValue:void 0}renderDivider(){return a.createElement(N.A,{heightVal:1})}_swatchSelectionAction(e,t,i){this.props.actionDispatcher&&this.props.actionDispatcher(new l.lX(new l.BR(e)))}renderWidget(){const e=this.state.viewModel;if(e&&!(e.swatches.length<1))return a.createElement(o.View,null,a.createElement(o.ScrollView,null,this._renderSingleSwatchWidget(e)))}}Ve.TRY_ON_VIEW_TYPE="SCROLL_WITH_OVERLAY",Ve.ONBOARDING_START_SWIPE_COUNT=2;class Le extends F{renderWidget(){}}var Me=i(25971),Ne=i(302019),He=i(756580),We=i(294188),Be=i(537415),Ue=i(787921),Fe=i(748960),Ge=i(726625),ze=i(612769),je=i(598318),Xe=i(37114);class Ye extends k{constructor(){super(...arguments),this.onViewStarted=e=>{this.processOnViewStarted()},this._getContentViewTracking=e=>this.getContentViewTrackingData(e),this._renderAvailableSwatches=e=>{if(!e||!e.swatches)return;const t=C.L.getProductPageUniformPreviousSwatchDataFromProps(this.props),i=e.swatches.map(((i,n)=>{var r,o,s;const l=this.state.swatchExpandedState[i.id],d=-1===i.selectedOptionIndex;-1!==i.selectedOptionIndex||this.state.swatchExpandedState[i.id]||this.onSwatchExpandCollapseClick(i.id,!0);const c=i.dropNonWhitelistedOptions?i.options.filter((e=>!e.disabled)):i.options,u=(null===(r=this.state.viewModel)||void 0===r?void 0:r.currentSelection)?[...this.state.viewModel.currentSelection]:void 0,h=null==u?void 0:u.indexOf(-1),p=!!i.showPrice&&(-1===h||h===n),g=this.localize({id:M.H.rex_string_swatch_view_all_text}),m=this.localize({id:M.H.rex_string_swatch_available_in_other_colors_text}),v=this.localize({id:M.H.rex_string_out_of_stock}),_=(0,Xe.m)(null===(o=this.props.pageInfo)||void 0===o?void 0:o.layoutParams);return a.createElement(Ne.az,{key:n},a.createElement(Me.A,{swatchIndex:n,currentActiveCombination:u,recentChangeInSwatch:i.id===(null===(s=null==t?void 0:t.data)||void 0===s?void 0:s.swatchId),data:i,showPrice:p,showTag:n===e.swatches.length-1,finalOptions:c,isSwatchExpanded:l,expandCollapseDisabled:d,onSwatchOptionPressed:this._onSwatchSelected,onSwatchExpandCollapseClick:this.onSwatchExpandCollapseClick,getProductInfoForCombination:this.getProductInfoForCombination,getContentViewTrackingData:this._getContentViewTracking,onSizeChartClick:this._openSizeChartInfo,widgetProps:this.props,themeContext:_,openBottomSheet:this._openBottomSheet,availableInOtherColorText:m,viewAllText:g,OOSText:v}),e.swatches.length-1!==n&&a.createElement(He.A,{height:1,marginLeft:"s6",marginRight:"s6"}))}));return a.createElement(Ne.az,null,i)},this._openBottomSheet=()=>{var e;const t=null===(e=this.props.pageInfo)||void 0===e?void 0:e.pageContext,i=k._getSwatchWidgetDataFromProps(this.props);if(i&&this.props.actionDispatcher){const e=[{swatchSelectionRequired:!0,text:this.localize({id:M.H.rex_string_swatch_action_string_APPLY}),actionType:z.a.SWATCH_SELECTION_APPLY,buttonMode:2,shouldDisableActionButtonOnError:!1}],r=n.wU(this.props.widgetSlotData),a=n.KJ(this.props.widgetSlotData),o=G.m.BOTTOM_SHEET;this.props.actionDispatcher(new l.lX(new l.w1(e,i,o,this.state.initialPid,r,a,void 0,void 0,void 0,null==t?void 0:t.marketplace)))}},this.getProductInfoForCombination=e=>{const{swatchCombinationToPidMap:t,swatchWhitelistProductInfoMap:i}=this.state,n=t.get(e);if(n&&i)return i[n]},this.onSwatchExpandCollapseClick=(e,t)=>{var i;const r=Object.assign({},this.state.swatchExpandedState),a=this.state.viewModel,o=n.nS(this.props.widgetSlotData),l=null==o?void 0:o.tracking,c=l?new Se.Ay(l):void 0;t?null===(i=null==a?void 0:a.swatches)||void 0===i||i.forEach((e=>{r[e.id]=t})):r[e]=t,this.setState({swatchExpandedState:r},(()=>{var i,a,o,l,p,g;let m=null!==(a=null===(i=C.L.getProductPageUniformPreviousSwatchDataFromProps(this.props))||void 0===i?void 0:i.data)&&void 0!==a?a:{};if(m=Object.assign(Object.assign({},m),{swatchExpandedState:r}),null===(l=(o=this.props).actionDispatcher)||void 0===l||l.call(o,new d.ev(new d.i1(u.z.PRODUCT_PAGE_UNIFORM_PREVIOUS_SWATCH_DATA,new h.sr(m)))),c){const i=n.wU(this.props.widgetSlotData),r=n.KJ(this.props.widgetSlotData),a=t?ye.O.UNHIDE:ye.O.HIDE;c.setContentType("swatch_attributes"),c.setContentTitle(e),r&&c.setViewType(r),i&&c.setWidgetType(i);const o=new s.bTP(a,this.state.uniqueViewId,c);null===(g=(p=this.props).actionDispatcher)||void 0===g||g.call(p,new s.ax6(o))}}))},this._onSwatchSelected=(e,t,i,r)=>{var a,o;if(this.state.viewModel){const c=L.J.selectSwatchOption(this.state.viewModel,e,t,this.state.swatchCombinationToPidMap,this.state.swatchWhitelistProductInfoMap),p=c.selectedPid;if(this.trackDGEvent(new s.Sk7(this.state.fetchId,p,i,r)),c.currentSelection&&this.props.actionDispatcher){this.props.actionDispatcher(new d.ev(new d.i1(u.z.PRODUCT_PAGE_SWATCH_SELECTION_DATA,new h.GT(c.selectedPid,void 0))));let n=null!==(o=null===(a=C.L.getProductPageUniformPreviousSwatchDataFromProps(this.props))||void 0===a?void 0:a.data)&&void 0!==o?o:{};n=Object.assign(Object.assign({},n),{currentSelection:this.state.viewModel.currentSelection,swatchIndexSelected:e,swatchOptionIndexSelected:t,swatchId:i}),this.props.actionDispatcher(new d.ev(new d.i1(u.z.PRODUCT_PAGE_UNIFORM_PREVIOUS_SWATCH_DATA,new h.sr(n))))}if(this.setState({viewModel:c,userInteracted:!0}),p&&this.state.swatchWhitelistProductInfoMap&&this.props.actionDispatcher){const e=n.KJ(this.props.widgetSlotData);this.props.actionDispatcher(new l.lX(new l.$g(p,this.state.swatchWhitelistProductInfoMap,c.swatches,e)))}}},this._openSizeChartInfo=e=>{if((0,Ge.vA)(e.url).multiwidget)this._openSizeChartInfoV4(e);else if(this.props.actionDispatcher){const t={screenType:"webView",type:z.a.NAVIGATION,url:e.url,params:{url:e.url,title:e.displayText,openInBottomSheet:!0,hideMenuItem:!0},tracking:{},loginType:Be.G.LOGIN_NOT_REQUIRED},i=new E.Oy(t);this.props.actionDispatcher({type:Ue.A.MAPI_ACTION,payload:i}),this.props.actionDispatcher(new Y.m0(new Y.YKJ))}},this._openSizeChartInfoV4=e=>{if(this.props.actionDispatcher){const t={screenType:"multiWidgetPage",type:z.a.NAVIGATION,url:e.url,params:{url:e.url,title:e.displayText,screenName:ze.M.SIZE_CHART,openInBottomSheet:!0,bottomSheetBehaviour:{contentMode:Fe.f.FULL}},tracking:{},loginType:Be.G.LOGIN_NOT_REQUIRED},i=new E.rs(t);this.props.actionDispatcher({type:Ue.A.MAPI_ACTION,payload:i})}}}static getWidgetHeight(e){var t,i,n,r,a;const o=k._getSwatchWidgetDataFromProps(e),s=null===(i=null===(t=null==o?void 0:o.swatchComponent)||void 0===t?void 0:t.value)||void 0===i?void 0:i.attributes,l=null===(r=null===(n=null==o?void 0:o.swatchComponent)||void 0===n?void 0:n.value)||void 0===r?void 0:r.products,d=null==o?void 0:o.callouts,c=null===(a=C.L.getProductPageUniformPreviousSwatchDataFromProps(e))||void 0===a?void 0:a.data;let u=8;return s&&s.forEach(((e,t)=>{var i,n;const r=null!==(n=null===(i=null==c?void 0:c.swatchExpandedState)||void 0===i?void 0:i[e.id])&&void 0!==n?n:!!e.expanded,a=t===s.length-1&&Object.values(null!=l?l:{}).some((e=>!!e.scarcityCallout));u+=Me.A.getHeight(e,r,a)})),d&&(u+=30*d.length),u+this.getAdditionalHeight(e)}getDerivedState(e,t){var i;const n=super.getDerivedState(e,t),r=n.viewModel,a=(null==t?void 0:t.swatchExpandedState)?t.swatchExpandedState:{};if(!(null==t?void 0:t.swatchExpandedState)){const t=C.L.getProductPageUniformPreviousSwatchDataFromProps(e);null===(i=null==r?void 0:r.swatches)||void 0===i||i.forEach((e=>{var i,n,r;const o=null!==(r=null===(n=null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.swatchExpandedState)||void 0===n?void 0:n[e.id])&&void 0!==r?r:!!e.expanded;a[e.id]=o}))}const o=r&&(r.swatchSelectionStarted?r.selectedPid?void 0:r.swatchSelectionCompleted?this.localize({id:M.H.rex_string_swatch_error_constants_INVALID_COMBINATION}):this.localize({id:M.H.rex_string_swatch_error_constants_SWATCH_SELECTION_INCOMPLETE}):void 0);return r&&r.selectedPid&&this.props.actionDispatcher&&this.props.actionDispatcher(new d.ev(new d.i1(u.z.PRODUCT_PAGE_SWATCH_SELECTION_DATA,new h.GT(r.selectedPid,o)))),Object.assign(Object.assign({},n),{errorMessage:o,swatchExpandedState:a,userInteracted:!1})}shouldComponentUpdate(e,t,i){const n=t.userInteracted||this.state.fetchId!==t.fetchId;return super.shouldComponentUpdate(e,t,i)||n||this.state.errorMessage!==t.errorMessage||(0,We.A)(this.state.swatchExpandedState,t.swatchExpandedState)}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.state.userInteracted&&this.setState({userInteracted:!1})}overrideInitialPid(e){var t,i;const n=k._getSwatchWidgetDataFromProps(e);return null===(i=null===(t=null==n?void 0:n.swatchComponent)||void 0===t?void 0:t.value)||void 0===i?void 0:i.productId}renderDivider(){}renderWidget(){const e=this.state.viewModel,t=k._getSwatchWidgetDataFromProps(this.props);if(e&&e.swatches&&0!==e.swatches.length)return a.createElement(Ne.DD,{my:"s2"},this._renderAvailableSwatches(e),!!this.state.errorMessage&&Ye._getErrorMessageView(this.state.errorMessage),this.renderSwatchWidgetCallouts(null==t?void 0:t.callouts))}getCalloutsBg(){return!1}getCalloutsAnimation(){return!0}static _getErrorMessageView(e){return a.createElement(je.N0,null,e)}}var qe,Je=i(249423),Ke=i(327870),Qe=i(347953);class Ze extends Ce{constructor(){super(...arguments),this._renderBottomBarActionAtIndex=(e,t)=>{const i=this.state.actionButtonStates&&this.state.actionButtonStates[t];let n=e.text;return this.isDlsEnabled()&&(n=(0,Je.nx)(n)),n?a.createElement(Ke.L,{key:t,buttonIndex:t,onPress:this._onSwatchActionButtonClicked,onPressParam:e,mode:e.buttonMode,text:n,buttonState:i,isYellowCTAEnabled:!1,isBlueCTAEnabled:!0}):a.createElement(a.Fragment,null)}}getLocaleStringValue(e){return(0,ve.ak)(e,{id:M.H.rex_string_CONFIRM})}renderWidget(){var e,t,i;const r=this.state.viewModel,s=(0,n.nS)(this.props.widgetSlotData),l=!!Qe.A.getExperimentValue("showSizeGuideInSwatchSelector"),d={maxHeight:this.props.appContext.uiContext.windowFrame.height-100},u=null===(i=null===(t=null===(e=null==s?void 0:s.header)||void 0===e?void 0:e.value)||void 0===t?void 0:t.titleValue)||void 0===i?void 0:i.text;return a.createElement(o.View,{style:[c.h5.container,this.getContainerFlex(),this._style.container,l&&d]},!!u&&a.createElement(Ne.JU,{font:"l_medium",color:"neutral.900",margin:"s5"},u),a.createElement(o.ScrollView,null,this._renderProductSummary(r.listingSummary,r.ratingValue,r.gbFlow),this._renderDividerView(),this._renderAvailableSwatches(r),this._renderErrorMessagesView(this.state.errorMessage)),this._renderBottomBarActions(this.state.modalActionButtons))}}!function(e){e.EXPANDED="EXPANDED",e.PRICE_EXTENDED="PRICE_EXTENDED",e.BOTTOMSHEET_VIEW="BOTTOMSHEET_VIEW",e.BOTTOMSHEET_NO_REDIRECT="BOTTOMSHEET_NO_REDIRECT",e.BOTTOMSHEET_PAGE_REFRESH="BOTTOMSHEET_PAGE_REFRESH",e.CAMERA_VIEW="CAMERA_VIEW",e.TRY_ON_VIEW="TRY_ON_VIEW",e.THREED_VIEW="THREED_VIEW",e.REVAMPED_UNIFORM="REVAMPED_UNIFORM",e.BOTTOMSHEET_REVAMPED="BOTTOMSHEET_REVAMPED"}(qe||(qe={}));class $e extends r.A{getWidgetClass(e){const t=n.nS(e.widgetSlotData);switch(t&&t.viewType){case"EXPANDED":return F;case"PRICE_EXTENDED":return he;case"BOTTOMSHEET_VIEW":case"BOTTOMSHEET_NO_REDIRECT":case"BOTTOMSHEET_PAGE_REFRESH":return Ce;case"CAMERA_VIEW":return Ae;case"TRY_ON_VIEW":return Ve;case"THREED_VIEW":return Le;case"REVAMPED_UNIFORM":return Ye;case"BOTTOMSHEET_REVAMPED":return Ze;default:return le}}getWidgetHeight(e){const t=n.nS(e.widgetSlotData);switch(t&&t.viewType){case"EXPANDED":return F.getWidgetHeight(e);case"REVAMPED_UNIFORM":return Ye.getWidgetHeight(e);default:return le.getWidgetHeight(e)}}}},487820:(e,t,i)=>{"use strict";i.d(t,{A:()=>m});var n=i(296540),r=i(877293),a=i(45426),o=i(886793),s=i(420721),l=i(339599),d=i(870810),c=i(475588),u=i(352254),h=i(492418),p=i(410752);const g=l.screenSizeBreakpoints.sm.maxWidth;class m extends o.A{constructor(e,t){super(e,t),this.getStyle=()=>{const e=this.props.appContext.uiContext.windowFrame.width;return[d.p.toastContainer,c.a.RefreshToastShadow,e>g?d.p.largeSize:d.p.smallSize,{transform:[{translateX:e>g?-75:-60}]}]},this.startAnimation=e=>{r.Animated.timing(this.animateYValue,{toValue:e,easing:r.Easing.bezier(0,0,.3,1),duration:200,useNativeDriver:!1}).start()},this.animateYValue=new r.Animated.Value(300)}componentDidUpdate(e){this.props.appContext.uiContext.windowFrame.width!==e.appContext.uiContext.windowFrame.width&&this.show()}render(){const e=this.props.appContext.uiContext.windowFrame.width;return n.createElement(r.Animated.View,{style:this.getStyle()},n.createElement(a.S,{onPress:this.onClick},n.createElement(r.View,{style:d.p.toastMessage},n.createElement(u.A,{source:h.hQY,width:e>g?19:13,height:e>g?18:12}),n.createElement(r.Text,{style:[d.p.toastText,e>g?d.p.largeText:d.p.smallText]},(0,s.ak)(this.context.locale,{id:p.H.rex_string_PAGE_REFRESH})))))}}},492127:(e,t,i)=>{"use strict";i.d(t,{A:()=>A});var n=i(296540),r=i(877293),a=i(997282),o=i(829270),s=i(763638),l=i(897846),d=i(492418),c=i(693427),u=i(911294),h=i(235232),p=i(253547),g=i(287656),m=i(313169),v=i(140527),_=i(876505),C=i(580555),E=i(244034),T=i(988287),f=i(879052);class A extends n.PureComponent{constructor(){super(...arguments),this.didSelectReportAbuse=()=>{!!this.props.transientData&&this.props.transientData.showReportAbuse?this._toggleReportAbuseMenu():this._clickOverflow()},this.didSelectUpVote=()=>{var e,t;const i=null===(e=this.props.productReviewRC)||void 0===e?void 0:e.value;if(i&&i){const e=null===(t=null==i?void 0:i.upvote)||void 0===t?void 0:t.action;e&&this.props.didUpvoteHandler(this.props.index,e)}},this.didSelectDownVote=()=>{var e,t;const i=null===(e=this.props.productReviewRC)||void 0===e?void 0:e.value;if(i&&i){const e=null===(t=null==i?void 0:i.downvote)||void 0===t?void 0:t.action;e&&this.props.didDownvoteHandler(this.props.index,e)}},this.getMenuItemViews=e=>()=>[new g.A({value:"Flag as abusive",onPress:this._reportAbuse,pressParam:e})],this.didClickImage=e=>{e&&this.props.didClickImage(e)},this.didClickVideo=e=>{e&&this.props.didClickVideo&&this.props.didClickVideo(e)},this.isUpvoteSelected=e=>(this.props.transientData?this.props.transientData.feedback:void 0)===o.D.Up||!(!e.upvote||!e.upvote.value)&&e.upvote.value.isSelected,this.isDownvoteSelected=e=>(this.props.transientData?this.props.transientData.feedback:void 0)===o.D.Down||!(!e.downvote||!e.downvote.value)&&e.downvote.value.isSelected,this.expandReview=()=>{this.props.isAlwaysExpanded||this.props.didExpandHandler(this.props.index,this.props.trackingParams)},this.didHideReportAbuse=()=>{this.props.didHideAbuseHandler(this.props.index)},this._toggleReportAbuseMenu=()=>{this.props.didShowAbuseHandler(this.props.index)},this._clickOverflow=()=>{this._toggleReportAbuseMenu(),this._timeoutHandle&&clearTimeout(this._timeoutHandle),this._timeoutHandle=setTimeout((()=>{this.didHideReportAbuse()}),2e3)},this._reportAbuse=e=>{var t;this.didHideReportAbuse();const i=(null===(t=e.reportAbuse)||void 0===t?void 0:t.action)||null;i&&this.props.didReportAbuseHandler(this.props.index,i)}}render(){var e;const t=null===(e=this.props.productReviewRC)||void 0===e?void 0:e.value;if(!t)return null;const i=this.getViewTrackingInfo(t);return i?n.createElement(_.A,{trackingInfo:i},this.renderReviewView(t)):this.renderReviewView(t)}renderReviewView(e){const t=e.location,i=e.reviewPropertyMap?e.reviewPropertyMap:{},o=this.isDownvoteSelected(e),g=this.isUpvoteSelected(e),v=e.rating?e.rating:0,_=e.downvote&&e.downvote.value?h.A.getRelativeNumber(e.downvote.value.count):"0",C=e.upvote&&e.upvote.value?h.A.getRelativeNumber(e.upvote.value.count):"0",A=!!this.props.isAlwaysExpanded||!!this.props.transientData&&this.props.transientData.isExpanded,S=!!this.props.transientData&&this.props.transientData.showReportAbuse,y=e.created,w=(null==e?void 0:e.reviewTypeDisplayText)!==u.u1?e.reviewTypeDisplayText:void 0,I=e.media&&e.media.length&&this.props.enableReviewVideos;return n.createElement(r.View,{style:a.a.singleReviewLayout},n.createElement(r.View,{style:a.a.reviewHeading},n.createElement(T.A,{rating:v}),n.createElement(r.Text,Object.assign({},(0,f.Z)("Swatch_Review_Title"),{style:a.a.reviewTitle,numberOfLines:2}),e.title),w&&n.createElement(r.Text,{style:a.a.reviewLanguageIndicator},w)),this.props.swatchReviewString?n.createElement(r.Text,Object.assign({},(0,f.Z)("Swatch_Review_For"),{style:a.a.swatchReviewStringStyle}),this.props.swatchReviewString):null,e.text&&!this.props.isAlwaysExpanded?n.createElement(l.A,Object.assign({},(0,f.Z)("Swatch_Review_Description"),{text:e.text,isExpanded:A,onPress:this.expandReview,containerStyle:m.z.text})):n.createElement(l.A,Object.assign({},(0,f.Z)("Swatch_Review_Description"),{text:e.text?e.text:u.u1,isExpanded:A,onPress:this.expandReview,containerStyle:e.text?m.z.text:void 0})),!I&&e.images&&e.images.length>0&&this.props.enableReviewImages?n.createElement(c.N,{images:e.images,didClickImage:this.didClickImage,screenWidth:this.props.screenWidth,maxImageCount:d.FIp,trackingParams:{fetchId:this.props.trackingParams.fetchId,productId:this.props.trackingParams.productId,reviewId:e.id,sProduct:this.props.trackingParams.sProduct,source:this.props.trackingParams.source}}):null,I&&e.media&&e.media.length?n.createElement(E.A,{media:e.media,didClickImage:this.didClickImage,didClickVideo:this.didClickVideo,screenWidth:this.props.screenWidth,maxMediaCount:d.FIp,trackingParams:{fetchId:this.props.trackingParams.fetchId,productId:this.props.trackingParams.productId,reviewId:e.id,sProduct:this.props.trackingParams.sProduct,source:this.props.trackingParams.source}}):null,S?n.createElement(p.A,{getItemViews:this.getMenuItemViews(e),menuViewContainerStyle:a.a.reportAbuseMenuContainer,hideMenuHandler:this.didHideReportAbuse}):null,n.createElement(s.h,{authorName:e.author,location:t,created:y,isDownvoteEnabled:o,downVoteCount:_,isUpvoteEnabled:g,upVoteCount:C,reviewPropertyMap:i,didDownvoteHandler:this.didSelectDownVote,didUpvoteHandler:this.didSelectUpVote,didShowMenuHandler:this.didSelectReportAbuse,reportAbuseVisible:this.props.reportAbuseVisible}))}getViewTrackingInfo(e){const t=this.props.tracking?this.props.tracking:void 0;if(!(t&&this.props.trackingParams.fetchId&&e.id&&this.props.trackingParams.type&&this.props.trackingParams.aspectId&&this.props.trackingParams.appLanguage))return;return new v.A(this.props.trackingParams.fetchId,this.props.trackingParams.type,e.id,this.props.trackingParams.aspectId,new C.Ay(Object.assign(Object.assign({},t),{appLanguage:this.props.trackingParams.appLanguage})))}}},492448:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var n=i(296540),r=i(800303),a=i(50745),o=i(5813),s=i(479892),l=i(155902),d=i(291721),c=i(60469);class u extends n.PureComponent{static getComponentHeight(e){if(!e)return 0;let t=0;return e.forEach((e=>{e.newTitle&&(t+=22),e.subTitle&&(t+=14),e.viewAll&&(t+=30),e.offerSummaries&&(t+=66*e.offerSummaries.length),e.moreOffers&&(t+=22),t+=32})),t}render(){return n.createElement(r.DlsView,null,this.props.offerSummaryGroup&&this.props.offerSummaryGroup.map((e=>this.renderOfferSection(e))))}renderOfferSection(e){const t=e.viewAll?this.props.screenWidth-144:this.props.screenWidth-32;return n.createElement(r.DlsView,null,e&&this.props.isRenderDivider&&this.renderDivider(),n.createElement(r.DlsView,{style:this.props.titleContainerStyle},n.createElement(r.DlsView,{style:{maxWidth:t}},e.newTitle?this.renderTitle(e.newTitle):void 0,e.subTitle?this.renderSubtitle(e.subTitle):void 0),e.viewAll&&this.renderViewAllOfferBtn(e.viewAll)),e.viewAll&&this.renderDivider(),e.offerSummaries&&this.renderOfferList(e.offerSummaries),e.moreOffers&&this.renderMoreOffer(e.moreOffers),e.viewAll&&this.renderDivider())}renderMoreOffer(e){return n.createElement(o.Ay,{messages:e.data,containerStyle:[s.C1.margin_left_24,s.C1.margin_top_8],textDefaultStyle:s.XT.fontRegular_14,dispatchAction:this.props.onAvailableOfferClick,imageStyle:s.C1.margin_right_6,isStyleEnabled:!0})}renderViewAllOfferBtn(e){return n.createElement(l.A,{disableFeedback:!0,btnViewStyle:s.PH.buttonWithoutShadow,btnTextStyle:s.XT.buttonText,data:e.value,onPress:this.props.onViewOfferClick,onPressParam:e.action})}renderDivider(){return n.createElement(r.DlsView,{style:a.Ys.offerGroupDividerView})}renderTitle(e){return n.createElement(o.Ay,{messages:e.data,containerStyle:s.C1.margin_bottom_4,textDefaultStyle:s.XT.fontRegular_14,dispatchAction:this.props.onAvailableOfferClick,imageStyle:s.C1.margin_right_6,isStyleEnabled:!0})}renderSubtitle(e){return n.createElement(r.Label,{style:a.Ys.offerGroupSubtitle},e)}renderOfferList(e){const{onChevronClick:t,dispatchAction:i}=this.props;return this.props.showOfferSummaryWithCta?n.createElement(c.Ay,{offerSummaries:e,onChevronClick:t,dispatchAction:i,screenWidth:this.props.screenWidth,uniqueViewId:this.props.uniqueViewId,handleEDClaimAction:this.props.handleEDClaimAction,showBorderBox:!0,getContentViewTrackingData:this.props.getContentViewTrackingData}):n.createElement(d.A,{offerSummaries:e,onChevronClick:t,dispatchAction:i,screenWidth:this.props.screenWidth,uniqueViewId:this.props.uniqueViewId,handleEDClaimAction:this.props.handleEDClaimAction})}}},492656:(e,t,i)=>{"use strict";i.d(t,{A:()=>K});var n=i(296540),r=i(988013),a=i(877293),o=i(727048),s=i(813652),l=i(231679),d=i(352254),c=i(45426),u=i(552946),h=i(479892),p=i(873e3),g=i(492418),m=i(820417),v=i(873644),_=i(473338),C=i.n(_),E=i(713505),T=i(347924);const f=T.az.extendComponent({name:"CarousalComboImageContainer",defaultProps:{p:"s2",borderWidth:1,borderRadius:12,bg:"v2.neutral.100",borderColor:"v2.neutral.200"}}),A=T.az.extendComponent({name:"CarousalComboContainer",defaultProps:{flexDirection:"row",justifyContent:"center",alignItems:"center",flex:1}}),S=T.fI.extendComponent({name:"CarousalComboImageTextContainer",defaultProps:{height:30,alignItems:"center",justifyContent:"flex-end",position:"absolute",bottom:1,right:1,bg:"neutral.dark",borderRadius:16}});class y extends n.PureComponent{constructor(){super(...arguments),this.boxWidth=new a.Animated.Value(25),this.deviceWidthWithOutSpacing=a.Dimensions.get("window").width-24,this.animateBox=()=>{a.Animated.sequence([a.Animated.timing(this.boxWidth,{toValue:0,duration:0,useNativeDriver:!1}),a.Animated.delay(1e3),a.Animated.timing(this.boxWidth,{toValue:80,duration:300,easing:a.Easing.linear,useNativeDriver:!1}),a.Animated.delay(2400),a.Animated.timing(this.boxWidth,{toValue:0,duration:300,easing:a.Easing.linear,useNativeDriver:!1})]).start()}}componentDidMount(){this.animateBox()}handleClick(e){this.props.onMediaClick(e,"customComboType")}getImage(e,t,i,r,o){const s=i-10,l=t-10;return n.createElement(f,{width:i,height:t},n.createElement(T.SB,{onPress:()=>this.handleClick(r),disableFeedback:!0},n.createElement(T.az,null,n.createElement(d.A,{height:l,width:s,resizeMode:"contain",source:e,style:Object.assign({borderRadius:8},this.getAspectRatio(o,r))}),n.createElement(S,null,!r&&!!this.props.imageText&&n.createElement(a.Animated.View,{style:{width:this.boxWidth,overflow:"hidden"}},n.createElement(T.fI,{minWidth:80,pl:"s3"},n.createElement(T.JU,{font:"s",color:"neutral.100"},this.props.imageText))),n.createElement(T.fI,{width:30,justifyContent:"center"},n.createElement(d.A,{height:20,width:20,resizeMode:"contain",source:"https://rukminim1.flixcart.com/www/{@width}/{@height}/promos/11/01/2024/e06cc615-163c-4d54-882a-d705d33a7a18.png?q={@quality}"}))))))}getLeftView(e,t,i,n){return this.getImage(e,t,i,0,n)}getAspectRatio(e,t){return e>2&&t?{aspectRatio:1}:{}}getRightView(e){const t=e.length>2?106:160,i=e.length>2?106:this.deviceWidthWithOutSpacing/2;return n.createElement(T.az,{flexDirection:"column"},this.getImage(e[1],t,i,1,e.length),e.length>2&&n.createElement(n.Fragment,null,n.createElement(T.az,{height:8}),this.getImage(e[2],t,i,2,e.length)))}render(){const{url:e}=this.props.mediaItem.value||{};if(!e)return;const t=e.split("|customComboSeperator|"),i=t.length>2?220:160,r=t.length>2?this.deviceWidthWithOutSpacing-106:this.deviceWidthWithOutSpacing/2;return n.createElement(A,null,this.getLeftView(t[0],i,r,t.length),n.createElement(T.az,{width:8}),this.getRightView(t))}}var w=i(727e3),I=i(257246),b=i(347953),D=i(52754),x=i(988287);const P=T.fv.extendComponent({name:"TestimonialOuterContainerView",defaultProps:{position:"relative",marginHorizontal:"s6",marginRight:"s9",width:"90%"}}),O=T.fv.extendComponent({name:"TestimonialBgContainerView",defaultProps:{borderWidth:1,borderColor:"v2.neutral.200",borderRadius:8,position:"absolute",bg:"v2.neutral.200",height:"100%",width:"100%",top:8,left:8}}),R=T.fv.extendComponent({name:"TestimonialContainerView",defaultProps:{paddingHorizontal:"s5",borderWidth:1,borderColor:"#DEDCDC",borderRadius:8,bg:"v2.neutral.0"}}),k=T.fI.extendComponent({name:"TestimonialAuthorName",defaultProps:{alignSelf:"center"}}),V=T.fI.extendComponent({name:"TestimonialBageContent",defaultProps:{marginBottom:"s8",alignItems:"center",alignSelf:"center"}}),L=T.JU.extendComponent({name:"LocationLabel",defaultProps:{color:"raw.grey.300",font:"m",textAlign:"center",maxWidth:156,pb:"s2",mt:"s1",numberOfLines:1}});class M extends n.PureComponent{constructor(){var e;super(...arguments),this.testimonialIconStyle=[h.C1.alignSelfCenter,h.C1.margin_top_28,h.C1.margin_bottom_16],this.BADGE_ICON_SIZE=12,this.TESTIMONIAL_LOGO_HEIGHT=48,this.TESTIMONIAL_LOGO_WIDTH=62,this.testimonialRatingStyle=[h.jE.rowWithoutFlex,h.jE.contentSelfAlignCenter,h.C1.padding8V],this.testimonialCardLength=null!==(e=b.A.getExperimentValue("testimonialCardLength"))&&void 0!==e?e:5}render(){var e,t;const{title:i,text:r,iconUrl:a,author:o,location:s,rating:l,userBadge:c}=this.props.mediaValue,u=null==s?void 0:s.city,h=null===(e=null==c?void 0:c.badgeImage)||void 0===e?void 0:e.dynamicImageUrl,p=null==c?void 0:c.badgeTitle,g=null!==(t=null==c?void 0:c.badgeColor)&&void 0!==t?t:"raw.grey.300";return n.createElement(P,null,n.createElement(O,null),n.createElement(R,null,a?n.createElement(d.A,{source:a,style:this.testimonialIconStyle,height:this.TESTIMONIAL_LOGO_HEIGHT,width:this.TESTIMONIAL_LOGO_WIDTH}):void 0,i?n.createElement(T.JU,{mb:"s5",textAlign:"center",alignSelf:"center",color:"v2.neutral.900",font:"l_medium"},i):void 0,r?n.createElement(T.JU,{numberOfLines:this.testimonialCardLength,ellipsizeMode:"tail",mb:"s5",textAlign:"center",alignSelf:"center",color:"v2.neutral.600",font:"m"},r):void 0,n.createElement(x.A,{rating:l,starWidgetContainerStyle:this.testimonialRatingStyle}),o?n.createElement(k,null,n.createElement(T.JU,{alignSelf:"center",font:"m",color:"v2.neutral.900",numberOfLines:1},u?`${o}, ${u}`:o)):void 0,n.createElement(V,null,n.createElement(T.fI,{alignItems:"center",justifyContent:"flex-start"},h?n.createElement(T.az,{mr:"s2"},n.createElement(d.A,{source:h,height:this.BADGE_ICON_SIZE,width:this.BADGE_ICON_SIZE,resizeMode:"contain"})):void 0,p?n.createElement(L,{color:g},p):null))))}}var N=i(302019);const H=N.az.extendComponent({name:"BrandCertificateContainer",defaultProps:{display:"flex",alignItems:"center",bg:"common.white"}}),W=N.JU.extendComponent({name:"BrandCertificateText",defaultProps:{textAlign:"center",mt:"s4",mb:"s6",mx:"s10",font:"m",letterSpacing:-.01}});class B extends n.PureComponent{constructor(){super(...arguments),this.GENUINE_PRODUCT_SEAL_HEIGHT=155,this.GENUINE_PRODUCT_SEAL_WIDTH=154,this.BRAND_LOGO_HEIGHT=72,this.BRAND_LOGO_WIDTH=72}render(){const{genuineProductSeal:e,certificationText:t,brandLogo:i}=this.props.mediaValue;return n.createElement(H,null,n.createElement(d.A,{source:e,height:this.GENUINE_PRODUCT_SEAL_HEIGHT,width:this.GENUINE_PRODUCT_SEAL_WIDTH}),n.createElement(W,null,t),!!i&&n.createElement(d.A,{source:i,height:this.BRAND_LOGO_HEIGHT,width:this.BRAND_LOGO_WIDTH}))}}var U=i(754841),F=i(400090),G=i(887903),z=i(867953),j=i(470467),X=i(121990),Y=i(423950);class q extends n.Component{constructor(e){super(e),this._videoRef=null,this.videoProgressData={playedTime:0,videoTime:0,veePlayLoopCount:0},this.shouldPlayCardVideo=()=>{var e;return!!(null===(e=this._videoData)||void 0===e?void 0:e.autoPlay)},this._saveVideoRef=e=>{this._videoRef=e},this._getPlayerStyle=()=>({width:this.props.width,height:this.props.height}),this._componentVisibilityCondition=()=>{const e=[];return e.push(new z.D_("fkVideoWrapper_view",50,50,this._componentVisible,this._componentHidden)),e},this._componentVisible=()=>{var e;(null===(e=this._videoData)||void 0===e?void 0:e.showPlayButton)||this._playVideo()},this._componentHidden=()=>{this._pauseVideo(),this._trackVideoEngagementEvent(),this.tracker.ingestEPPSEvent(this._videoRef,"ABANDON",this.props.tracking)},this._pauseVideo=()=>{var e;null===(e=this._videoRef)||void 0===e||e.pause()},this._playVideo=()=>{this._videoRef&&this.shouldPlayCardVideo()&&(this._videoRef.play(),this._videoRef.mute())},this._onMediaClick=(e,t)=>{var i,n;this.props.onPress&&(null===(n=(i=this.props).onPress)||void 0===n||n.call(i,e,t),this._trackClicks())},this._trackClicks=()=>{var e;this.tracker.trackLSMA(null===(e=this.props.action)||void 0===e?void 0:e.tracking,"manual_click",Y.A.VIDEOCARD_CLICK)},this._onPlayProgress=e=>t=>{const{playedTime:i,videoTime:n}=t.nativeEvent,r=parseInt((i/n*100).toFixed());this._updateLoopCount(r,e),this._updateVideoProgressData(i,n)},this._trackVideoEngagementEvent=()=>{if(void 0===this.videoProgressData.videoTime||void 0===this.videoProgressData.playedTime)return;const e=Object.assign(Object.assign({},this.videoProgressData),{autoPlayLoopCount:this.videoProgressData.veePlayLoopCount});this.tracker.trackVideoEngagementEvent(this.props.tracking,e),this.videoProgressData.videoTime=void 0,this.videoProgressData.playedTime=void 0,this.videoProgressData.startTime=void 0},this.handleActivityStateEvent=e=>{if(e.state===F.z.ON_PAUSE)this._pauseVideo()},this._videoData=e.videoData,this.state={playedTimePercent:0,autoPlayLoopCount:"ios"===a.Platform.OS?1:0,loopCountExhausted:!1},this.tracker=new j.V(e.actionDispatcher,e.parentImpressionInfo)}componentDidMount(){"ios"===a.Platform.OS&&F.N.addListener(G.t.HANDLE_ACTIVITY_STATE_CHANGE,this.handleActivityStateEvent)}componentWillUnmount(){F.N.removeListener(G.t.HANDLE_ACTIVITY_STATE_CHANGE,this.handleActivityStateEvent),1===this.state.autoPlayLoopCount&&this.tracker.ingestEPPSEvent(this._videoRef,"ABANDON",this.props.tracking),this.releaseResources()}releaseResources(){var e;null===(e=this._videoRef)||void 0===e||e.releaseResources(1)}render(){var e;if(!this._videoData||!this._videoData.sources)return;const{thumbnail:t,showPlayButton:i,loopCount:r,hideTimer:a,resizeMode:o,durationInSec:u,sources:h}=this._videoData,p=(0,X.QI)(h).url,g=null===(e=!i)||void 0===e||e,m=-1===r,v=n.createElement(z.Ay,{conditions:this._componentVisibilityCondition()},n.createElement(U.Jc,{ref:this._saveVideoRef,style:this._getPlayerStyle(),data:{src:p,height:this.props.height||0,width:this.props.width||0,hideTimer:a,disableVolumeControl:!0,disableControls:!0,resizeMode:o,thumbnail:t&&t.dynamicImageUrl,duration:u,disableVolumeButtonInteraction:this.props.disableVolumeButtonInteraction,showPlayButton:!g,loopCount:-1,sources:h,showReplayButton:!1,hideBufferIndicator:!0,playInLoop:m,showVolumeControl:!1,isSecure:!1},playProgressDelayInMs:1e3,onPlayProgress:this._onPlayProgress(null!=r?r:-1)})),_=n.createElement(T.az,{alignItems:"center",justifyContent:"center"},n.createElement(d.A,{source:this._videoData.thumbnail.dynamicImageUrl,height:this.props.height,width:this.props.width}),this.props.playButtonOnImage&&n.createElement(d.A,{source:s.videoPlayButton,width:56,height:56,style:l.M1.videoPlayButton})),C=this._videoData.sources&&this.shouldPlayCardVideo()?v:_,E=n.createElement(T.az,{width:this.props.width,height:this.props.height,overflow:"hidden"},C);return n.createElement(c.S,{onPress:this._onMediaClick,onPressParam:this.props.onPressParam},E)}_updateLoopCount(e,t){e<this.state.playedTimePercent&&(this.state.autoPlayLoopCount>=t&&t>-1?(this._trackVideoEngagementEvent(),this.setState({loopCountExhausted:!0})):this.setState({autoPlayLoopCount:this.state.autoPlayLoopCount+1})),e!==this.state.playedTimePercent&&this.setState({playedTimePercent:e})}_updateVideoProgressData(e,t){const i=e/1e3,n=t/1e3;i>=0&&n>=0&&(this.videoProgressData.playedTime=this.videoProgressData.videoEnded?0:e,this.videoProgressData.videoTime=t,(void 0===this.videoProgressData.startTime||0===e&&this.videoProgressData.veePlayLoopCount<1)&&(this.videoProgressData.startTime=e,this.videoProgressData.veePlayLoopCount=0)),i>0&&n>0&&~~i>=~~n-1&&~~i<=1+~~n?this.videoProgressData.videoEnded||(this.videoProgressData.videoEnded=!0,this.videoProgressData.veePlayLoopCount+=1,this.videoProgressData.playedTime=0,this.videoProgressData.startTime=0):this.videoProgressData.videoEnded=!1}}var J=i(879052);class K extends n.PureComponent{constructor(e,t){super(e,t),this._currentOffset=0,this.renderOnlyCurrentImage=!!b.A.getExperimentValue("ppOptimisationEnabled"),this.scrollToIndexTimeInMs=1200,this._autoScrolled=!1,this.autoScrollToIndex=()=>{const e=this.props.multimediaWidgetData.autoScrollToIndex;e&&(this._carouselTimeout=setTimeout((()=>{var t,i;this._autoScrolled=!0,null===(i=null===(t=this._carouselRef)||void 0===t?void 0:t.snapToItem)||void 0===i||i.call(t,e,!0,!0)}),this.scrollToIndexTimeInMs))},this._renderImageView=(e,t,i,a,o)=>{var s;const l=e.value;if(!l)return null;const c=n.createElement(d.A,{source:t,style:r.p.imageStylingWeb,height:i,width:a,dimensionCache:this.props.imageDimensionCache,progressive:!0,fetchPriority:o<1?"high":"auto"});if(u.A.isHighlightsImageValueLinks(l)){const t=o===this.state.selectedIndex?0:1;return n.createElement(E.B,{ref:e=>{this._highlightsRefMap.set(o,e)},pageInfo:this.props.pageInfo,height:i,width:a,screenWidth:null===(s=this.props)||void 0===s?void 0:s.width,content:c,imageHighlightsRC:e,animationState:t,actionDispatcher:this.props.actionDispatcher,trackDiscoveryContentClickEvent:this.props.trackDiscoveryContentClickEvent})}return this._highlightsRefMap.delete(o),c},this._renderTestimonialView=(e,t)=>e?n.createElement(a.View,{style:[h.C1.justifyContentCenter,{height:t}]},n.createElement(M,{mediaValue:e})):null,this._renderBrandCertificateView=(e,t)=>e?n.createElement(N.az,{display:"flex",justifyContent:"center",height:t,bg:"common.white"},n.createElement(B,{mediaValue:e})):null,this._setCarouselRef=e=>{this._carouselRef=e},this._renderIndicator=e=>n.createElement(w.w.Consumer,null,(t=>n.createElement(a.View,Object.assign({},(0,J.Z)("Dots_Container"),{style:[r.p.carouselIndicatorContainer,h.C1.contentAlignCenter,(0,I.No)(t)]}),this._renderDots(e),this.state.hasMounted&&C().canUseDOM&&this._renderActiveDotView()))),this._renderDots=e=>{const t=new Array(e);for(let i=0;i<e;i++)t.push(this._renderDotAtIndex(0,i));return t},this._renderActiveDotView=()=>n.createElement(a.Animated.View,{style:[p.I7.activePageView,{backgroundColor:this._enableLifestyleSpilloverAB?g.es5.indicatorDarkActiveColor:g.es5.indicatorActiveColor},(0,v.H)(this.INTER_DOT_SPACING,this._translateAnimation,this._pulsateAnimation)]}),this._buildThumbnailUrl=(e,t,i)=>e?u.A.buildYoutubeImageUrl(i.contentId):t?u.A.buildFkVideoThumbnailUrl(i):i.url,this._renderCarouselItem=e=>{var t,i;const o=e.index===this.state.selectedIndex;if(!(null===(t=null==e?void 0:e.item)||void 0===t?void 0:t.value)||!o&&this.renderOnlyCurrentImage)return;if("ComboCarousel"===this.props.viewType&&"customComboType"===e.item.value.type){const t=(0,D.nS)(null===(i=this.props.rootWidgetProps)||void 0===i?void 0:i.widgetSlotData),r=null==t?void 0:t.data;return n.createElement(y,{mediaItem:e.item,onMediaClick:this.props.onMediaClicked,imageText:null==r?void 0:r.imageText})}const h=e.item.value,p=u.A.isYoutubeVideo(e.item.value),g=u.A.isFkVideo(h),v=u.A.isReviewImageBucket(h),_=this.props.isHyperlocalDesktop?this.props.width:u.A.getCarouselImageHeight(this.props.multimediaWidgetData,this.props.layoutKey,e.index,this._deviceWidth-8,this.props.viewType),C=this._deviceWidth-8,E=this._buildThumbnailUrl(p,g,h),T=u.A._getEachBucketImageSize(_),f=u.A.isHighlightsImageValueLinks(h),A=u.A.isMediaTypeTestimonial(h),S=u.A.isMediaTypeBrandCertificate(h),w=u.A.isFeedsMediaValue(h),I=p||g&&!w;let b=[];return v&&(b=h.reviewImageBuckets,b&&b.length>3&&(b=b.slice(0,3))),n.createElement(c.S,Object.assign({},(0,J.Z)(`Multi_Media_Carousal_Item_${e.index}`),{onPress:this._onMediaClick,disableFeedback:!0,onPressParam:e.index}),n.createElement(a.View,{style:[r.p.mediaContainer]},A?this._renderTestimonialView(h,_):S?this._renderBrandCertificateView(h,_):v?n.createElement(a.View,null,n.createElement(d.A,{progressive:!0,source:E,style:[r.p.imageStylingWeb],height:_,width:C,blurRadius:20,fetchPriority:e.index<1?"high":"auto"}),n.createElement(a.View,{style:[r.p.overlayStyle,r.p.opaqueStyle,{width:this._deviceWidth,height:_}]})):f?this._renderImageView(e.item,E,_,C,e.index):w?this._renderVideo(e.item,C,_,e.index):n.createElement(d.A,{progressive:!0,source:E,style:[r.p.imageStylingWeb],height:_,width:C,fetchPriority:e.index<1?"high":"auto"}),I&&n.createElement(d.A,{width:l.aH.PLAY_BUTTON_WIDTH,height:l.aH.PLAY_BUTTON_HEIGHT,style:l.M1.videoPlayButton,source:s.videoPlayButton}),v?n.createElement(a.View,{style:r.p.reviewBucketImages},b&&b.map(((e,t)=>n.createElement(m.A,{key:`reviewBucket_${t}`,index:t,eachBucketHeight:T,bucket:e,noOfCohorts:b?b.length:0,actionDispatcher:this.props.actionDispatcher,trackReviewBucketClick:this.props.trackReviewBucketClick})))):null))},this._renderVideo=(e,t,i,r)=>{var a,o,s;return n.createElement(q,{videoData:e.value.mediaValue,action:e.action,tracking:e.tracking,width:t,height:i,playButtonOnImage:!0,actionDispatcher:this.props.actionDispatcher,parentImpressionInfo:null===(s=null===(o=null===(a=this.props.rootWidget)||void 0===a?void 0:a.state)||void 0===o?void 0:o.trackingParams)||void 0===s?void 0:s.getImpressionInfo(),onPress:this._onMediaClick,onPressParam:r})},this._renderDotAtIndex=(e,t)=>this.props.videoIndices&&this.props.videoIndices.indexOf(t)>-1?n.createElement(d.A,Object.assign({},(0,J.Z)(`Dot_${t}`),{key:`carouselDot_${t}`,source:g.u1e,resizeMode:"center",width:p.x8,height:p._G,style:[p.I7.videoImageStyle,p.I7.videoMargin]})):n.createElement(a.View,Object.assign({},(0,J.Z)(`Dot_${t}`),{key:`carouselDot_${t}`,style:[p.I7.dotView,{backgroundColor:g.es5.indicatorDarkInactiveColor}]})),this._calcOffset=(e,t)=>{let i;return i=e>t?this._currentOffset+this.INTER_DOT_SPACING:e<t?this._currentOffset-this.INTER_DOT_SPACING:this._currentOffset,(0,v.F)(i,this._currentOffset,this._translateAnimation,this._pulsateAnimation),i},this._imageIndexChanged=e=>{const t=this.props.multimediaWidgetData.multimediaComponents;if(!t)return;const i=t.length,n=this.state.selectedIndex,r=this.state.swipeCount+1;this._currentOffset=e?this._calcOffset(e,n):this._getStartPositionOfActiveDot(i);const a=this._autoScrolled&&this.props.multimediaWidgetData.autoScrollToIndex===e;this.setState({previousIndex:n,selectedIndex:e,swipeCount:r}),this.props.onMediaSwipedTo&&this.props.onMediaSwipedTo(e,n,r,a),this._autoScrolled&&(this._autoScrolled=!1)},this._onMediaClick=(e,t)=>{var i;const n=this.loop?t%this._dotsCount:t,r=null===(i=this.props.multimediaWidgetData.multimediaComponents)||void 0===i?void 0:i[n];u.A.isMediaTypeTestimonial(null==r?void 0:r.value)||u.A.isMediaTypeBrandCertificate(null==r?void 0:r.value)||this.props.onMediaClicked(t)},this._getStartPositionOfActiveDot=e=>{let t=(1-e)/2*this.INTER_DOT_SPACING;return(0,v.F)(t,this._currentOffset,this._translateAnimation,this._pulsateAnimation),t},this._deviceWidth=e.width;const i=K._getDotsCountToRender(e.multimediaWidgetData);this.INTER_DOT_SPACING=12,this.loop=e.loop,this._dotsCount=K._getDotsCountToRender(e.multimediaWidgetData),C().canUseDOM?(this._translateAnimation=new a.Animated.Value(0),this._pulsateAnimation=new a.Animated.Value(0),this._currentOffset=this._getStartPositionOfActiveDot(i),this.state=this.getDerivedState(e),this._translateAnimation.setValue(this._currentOffset)):(this._currentOffset=0,this.state={previousIndex:void 0,selectedIndex:0,swipeCount:0,hasMounted:!1}),this._highlightsRefMap=new Map}static getHeight(e,t,i,n){return u.A.getCarouselImageHeight(e,t,0,i,n)+20}getDerivedState(e){const t=K._getDotsCountToRender(e.multimediaWidgetData);return this._currentOffset=this._getStartPositionOfActiveDot(t),{previousIndex:void 0,selectedIndex:0,swipeCount:0,hasMounted:!1}}componentDidMount(){this.setState({hasMounted:!0}),this.autoScrollToIndex()}UNSAFE_componentWillReceiveProps(e,t){this.props.key!==e.key&&this.setState(this.getDerivedState(e))}componentWillUnmount(){this.props.onComponentUnmount&&this.props.onComponentUnmount(this.state.selectedIndex),this._carouselTimeout&&clearTimeout(this._carouselTimeout)}render(){const e=this.props.multimediaWidgetData.multimediaComponents;if(!e)return;const t=e.length,i=this.props.isHyperlocalDesktop?this.props.width:u.A.getCarouselMaxImageHeight(this.props.multimediaWidgetData,this.props.layoutKey,this._deviceWidth,this.props.viewType);return n.createElement(a.View,{style:{height:i+20}},n.createElement(o.A,{ref:this._setCarouselRef,data:e,renderItem:this._renderCarouselItem,style:r.p.mediaCarousel,scrollEnabled:e.length>1,itemWidth:this._deviceWidth,onSnapToItem:this._imageIndexChanged,inactiveSlideScale:2,hasParallaxImages:!1,firstItem:0,sliderWidth:this._deviceWidth,customBackgroundStyle:K.getCustomBackgroundStyle(this.props)}),this.props.showPageIndicator&&this._renderIndicator(t))}static _getDotsCountToRender(e){return e&&e.multimediaComponents?e.multimediaComponents.length:0}}K.getCustomBackgroundStyle=e=>{if("ComboCarousel"===e.viewType)return{display:"flex",alignItems:"center"}}},494343:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(918210),r=i(90513),a=i(97529),o=i(229833);const s="grocery_forward_navigation_popup";class l{handleAction(e,t,i){const l=e.payload;if(!l)return!1;const d=l.trackingParams,c=null==d?void 0:d.getOTracker1(),u={};switch(l.type){case a.A.FORWARD_NAVIGATION_EXPLICIT_NUDGE_LOAD:u[r.Ay.EVAR50]=s,o.A.addEvent(u,r.fM.EVENT146),c&&(u[r.Ay.EVAR30]=c),n.A.addPageData(u),n.A.trackPage(s);break;case a.A.FORWARD_NAVIGATION_EXPLICIT_NUDGE_PROCEED:c&&(u[r.Ay.EVAR30]=c),n.A.addAndtrackEventUnderName("grocery_forward_navigation_proceed",u);break;case a.A.FORWARD_NAVIGATION_EXPLICIT_NUDGE_CLOSE:o.A.addEvent(u,r.fM.EVENT148),n.A.addAndtrackEventUnderName("grocery_forward_navigation_dismiss",u)}return!0}}},495891:e=>{"use strict";e.exports=JSON.parse('{"Aacute":"","aacute":"","Abreve":"","abreve":"","ac":"","acd":"","acE":"","Acirc":"","acirc":"","acute":"","Acy":"","acy":"","AElig":"","aelig":"","af":"","Afr":"","afr":"","Agrave":"","agrave":"","alefsym":"","aleph":"","Alpha":"","alpha":"","Amacr":"","amacr":"","amalg":"","amp":"&","AMP":"&","andand":"","And":"","and":"","andd":"","andslope":"","andv":"","ang":"","ange":"","angle":"","angmsdaa":"","angmsdab":"","angmsdac":"","angmsdad":"","angmsdae":"","angmsdaf":"","angmsdag":"","angmsdah":"","angmsd":"","angrt":"","angrtvb":"","angrtvbd":"","angsph":"","angst":"","angzarr":"","Aogon":"","aogon":"","Aopf":"","aopf":"","apacir":"","ap":"","apE":"","ape":"","apid":"","apos":"\'","ApplyFunction":"","approx":"","approxeq":"","Aring":"","aring":"","Ascr":"","ascr":"","Assign":"","ast":"*","asymp":"","asympeq":"","Atilde":"","atilde":"","Auml":"","auml":"","awconint":"","awint":"","backcong":"","backepsilon":"","backprime":"","backsim":"","backsimeq":"","Backslash":"","Barv":"","barvee":"","barwed":"","Barwed":"","barwedge":"","bbrk":"","bbrktbrk":"","bcong":"","Bcy":"","bcy":"","bdquo":"","becaus":"","because":"","Because":"","bemptyv":"","bepsi":"","bernou":"","Bernoullis":"","Beta":"","beta":"","beth":"","between":"","Bfr":"","bfr":"","bigcap":"","bigcirc":"","bigcup":"","bigodot":"","bigoplus":"","bigotimes":"","bigsqcup":"","bigstar":"","bigtriangledown":"","bigtriangleup":"","biguplus":"","bigvee":"","bigwedge":"","bkarow":"","blacklozenge":"","blacksquare":"","blacktriangle":"","blacktriangledown":"","blacktriangleleft":"","blacktriangleright":"","blank":"","blk12":"","blk14":"","blk34":"","block":"","bne":"=","bnequiv":"","bNot":"","bnot":"","Bopf":"","bopf":"","bot":"","bottom":"","bowtie":"","boxbox":"","boxdl":"","boxdL":"","boxDl":"","boxDL":"","boxdr":"","boxdR":"","boxDr":"","boxDR":"","boxh":"","boxH":"","boxhd":"","boxHd":"","boxhD":"","boxHD":"","boxhu":"","boxHu":"","boxhU":"","boxHU":"","boxminus":"","boxplus":"","boxtimes":"","boxul":"","boxuL":"","boxUl":"","boxUL":"","boxur":"","boxuR":"","boxUr":"","boxUR":"","boxv":"","boxV":"","boxvh":"","boxvH":"","boxVh":"","boxVH":"","boxvl":"","boxvL":"","boxVl":"","boxVL":"","boxvr":"","boxvR":"","boxVr":"","boxVR":"","bprime":"","breve":"","Breve":"","brvbar":"","bscr":"","Bscr":"","bsemi":"","bsim":"","bsime":"","bsolb":"","bsol":"\\\\","bsolhsub":"","bull":"","bullet":"","bump":"","bumpE":"","bumpe":"","Bumpeq":"","bumpeq":"","Cacute":"","cacute":"","capand":"","capbrcup":"","capcap":"","cap":"","Cap":"","capcup":"","capdot":"","CapitalDifferentialD":"","caps":"","caret":"","caron":"","Cayleys":"","ccaps":"","Ccaron":"","ccaron":"","Ccedil":"","ccedil":"","Ccirc":"","ccirc":"","Cconint":"","ccups":"","ccupssm":"","Cdot":"","cdot":"","cedil":"","Cedilla":"","cemptyv":"","cent":"","centerdot":"","CenterDot":"","cfr":"","Cfr":"","CHcy":"","chcy":"","check":"","checkmark":"","Chi":"","chi":"","circ":"","circeq":"","circlearrowleft":"","circlearrowright":"","circledast":"","circledcirc":"","circleddash":"","CircleDot":"","circledR":"","circledS":"","CircleMinus":"","CirclePlus":"","CircleTimes":"","cir":"","cirE":"","cire":"","cirfnint":"","cirmid":"","cirscir":"","ClockwiseContourIntegral":"","CloseCurlyDoubleQuote":"","CloseCurlyQuote":"","clubs":"","clubsuit":"","colon":":","Colon":"","Colone":"","colone":"","coloneq":"","comma":",","commat":"@","comp":"","compfn":"","complement":"","complexes":"","cong":"","congdot":"","Congruent":"","conint":"","Conint":"","ContourIntegral":"","copf":"","Copf":"","coprod":"","Coproduct":"","copy":"","COPY":"","copysr":"","CounterClockwiseContourIntegral":"","crarr":"","cross":"","Cross":"","Cscr":"","cscr":"","csub":"","csube":"","csup":"","csupe":"","ctdot":"","cudarrl":"","cudarrr":"","cuepr":"","cuesc":"","cularr":"","cularrp":"","cupbrcap":"","cupcap":"","CupCap":"","cup":"","Cup":"","cupcup":"","cupdot":"","cupor":"","cups":"","curarr":"","curarrm":"","curlyeqprec":"","curlyeqsucc":"","curlyvee":"","curlywedge":"","curren":"","curvearrowleft":"","curvearrowright":"","cuvee":"","cuwed":"","cwconint":"","cwint":"","cylcty":"","dagger":"","Dagger":"","daleth":"","darr":"","Darr":"","dArr":"","dash":"","Dashv":"","dashv":"","dbkarow":"","dblac":"","Dcaron":"","dcaron":"","Dcy":"","dcy":"","ddagger":"","ddarr":"","DD":"","dd":"","DDotrahd":"","ddotseq":"","deg":"","Del":"","Delta":"","delta":"","demptyv":"","dfisht":"","Dfr":"","dfr":"","dHar":"","dharl":"","dharr":"","DiacriticalAcute":"","DiacriticalDot":"","DiacriticalDoubleAcute":"","DiacriticalGrave":"`","DiacriticalTilde":"","diam":"","diamond":"","Diamond":"","diamondsuit":"","diams":"","die":"","DifferentialD":"","digamma":"","disin":"","div":"","divide":"","divideontimes":"","divonx":"","DJcy":"","djcy":"","dlcorn":"","dlcrop":"","dollar":"$","Dopf":"","dopf":"","Dot":"","dot":"","DotDot":"","doteq":"","doteqdot":"","DotEqual":"","dotminus":"","dotplus":"","dotsquare":"","doublebarwedge":"","DoubleContourIntegral":"","DoubleDot":"","DoubleDownArrow":"","DoubleLeftArrow":"","DoubleLeftRightArrow":"","DoubleLeftTee":"","DoubleLongLeftArrow":"","DoubleLongLeftRightArrow":"","DoubleLongRightArrow":"","DoubleRightArrow":"","DoubleRightTee":"","DoubleUpArrow":"","DoubleUpDownArrow":"","DoubleVerticalBar":"","DownArrowBar":"","downarrow":"","DownArrow":"","Downarrow":"","DownArrowUpArrow":"","DownBreve":"","downdownarrows":"","downharpoonleft":"","downharpoonright":"","DownLeftRightVector":"","DownLeftTeeVector":"","DownLeftVectorBar":"","DownLeftVector":"","DownRightTeeVector":"","DownRightVectorBar":"","DownRightVector":"","DownTeeArrow":"","DownTee":"","drbkarow":"","drcorn":"","drcrop":"","Dscr":"","dscr":"","DScy":"","dscy":"","dsol":"","Dstrok":"","dstrok":"","dtdot":"","dtri":"","dtrif":"","duarr":"","duhar":"","dwangle":"","DZcy":"","dzcy":"","dzigrarr":"","Eacute":"","eacute":"","easter":"","Ecaron":"","ecaron":"","Ecirc":"","ecirc":"","ecir":"","ecolon":"","Ecy":"","ecy":"","eDDot":"","Edot":"","edot":"","eDot":"","ee":"","efDot":"","Efr":"","efr":"","eg":"","Egrave":"","egrave":"","egs":"","egsdot":"","el":"","Element":"","elinters":"","ell":"","els":"","elsdot":"","Emacr":"","emacr":"","empty":"","emptyset":"","EmptySmallSquare":"","emptyv":"","EmptyVerySmallSquare":"","emsp13":"","emsp14":"","emsp":"","ENG":"","eng":"","ensp":"","Eogon":"","eogon":"","Eopf":"","eopf":"","epar":"","eparsl":"","eplus":"","epsi":"","Epsilon":"","epsilon":"","epsiv":"","eqcirc":"","eqcolon":"","eqsim":"","eqslantgtr":"","eqslantless":"","Equal":"","equals":"=","EqualTilde":"","equest":"","Equilibrium":"","equiv":"","equivDD":"","eqvparsl":"","erarr":"","erDot":"","escr":"","Escr":"","esdot":"","Esim":"","esim":"","Eta":"","eta":"","ETH":"","eth":"","Euml":"","euml":"","euro":"","excl":"!","exist":"","Exists":"","expectation":"","exponentiale":"","ExponentialE":"","fallingdotseq":"","Fcy":"","fcy":"","female":"","ffilig":"","fflig":"","ffllig":"","Ffr":"","ffr":"","filig":"","FilledSmallSquare":"","FilledVerySmallSquare":"","fjlig":"fj","flat":"","fllig":"","fltns":"","fnof":"","Fopf":"","fopf":"","forall":"","ForAll":"","fork":"","forkv":"","Fouriertrf":"","fpartint":"","frac12":"","frac13":"","frac14":"","frac15":"","frac16":"","frac18":"","frac23":"","frac25":"","frac34":"","frac35":"","frac38":"","frac45":"","frac56":"","frac58":"","frac78":"","frasl":"","frown":"","fscr":"","Fscr":"","gacute":"","Gamma":"","gamma":"","Gammad":"","gammad":"","gap":"","Gbreve":"","gbreve":"","Gcedil":"","Gcirc":"","gcirc":"","Gcy":"","gcy":"","Gdot":"","gdot":"","ge":"","gE":"","gEl":"","gel":"","geq":"","geqq":"","geqslant":"","gescc":"","ges":"","gesdot":"","gesdoto":"","gesdotol":"","gesl":"","gesles":"","Gfr":"","gfr":"","gg":"","Gg":"","ggg":"","gimel":"","GJcy":"","gjcy":"","gla":"","gl":"","glE":"","glj":"","gnap":"","gnapprox":"","gne":"","gnE":"","gneq":"","gneqq":"","gnsim":"","Gopf":"","gopf":"","grave":"`","GreaterEqual":"","GreaterEqualLess":"","GreaterFullEqual":"","GreaterGreater":"","GreaterLess":"","GreaterSlantEqual":"","GreaterTilde":"","Gscr":"","gscr":"","gsim":"","gsime":"","gsiml":"","gtcc":"","gtcir":"","gt":">","GT":">","Gt":"","gtdot":"","gtlPar":"","gtquest":"","gtrapprox":"","gtrarr":"","gtrdot":"","gtreqless":"","gtreqqless":"","gtrless":"","gtrsim":"","gvertneqq":"","gvnE":"","Hacek":"","hairsp":"","half":"","hamilt":"","HARDcy":"","hardcy":"","harrcir":"","harr":"","hArr":"","harrw":"","Hat":"^","hbar":"","Hcirc":"","hcirc":"","hearts":"","heartsuit":"","hellip":"","hercon":"","hfr":"","Hfr":"","HilbertSpace":"","hksearow":"","hkswarow":"","hoarr":"","homtht":"","hookleftarrow":"","hookrightarrow":"","hopf":"","Hopf":"","horbar":"","HorizontalLine":"","hscr":"","Hscr":"","hslash":"","Hstrok":"","hstrok":"","HumpDownHump":"","HumpEqual":"","hybull":"","hyphen":"","Iacute":"","iacute":"","ic":"","Icirc":"","icirc":"","Icy":"","icy":"","Idot":"","IEcy":"","iecy":"","iexcl":"","iff":"","ifr":"","Ifr":"","Igrave":"","igrave":"","ii":"","iiiint":"","iiint":"","iinfin":"","iiota":"","IJlig":"","ijlig":"","Imacr":"","imacr":"","image":"","ImaginaryI":"","imagline":"","imagpart":"","imath":"","Im":"","imof":"","imped":"","Implies":"","incare":"","in":"","infin":"","infintie":"","inodot":"","intcal":"","int":"","Int":"","integers":"","Integral":"","intercal":"","Intersection":"","intlarhk":"","intprod":"","InvisibleComma":"","InvisibleTimes":"","IOcy":"","iocy":"","Iogon":"","iogon":"","Iopf":"","iopf":"","Iota":"","iota":"","iprod":"","iquest":"","iscr":"","Iscr":"","isin":"","isindot":"","isinE":"","isins":"","isinsv":"","isinv":"","it":"","Itilde":"","itilde":"","Iukcy":"","iukcy":"","Iuml":"","iuml":"","Jcirc":"","jcirc":"","Jcy":"","jcy":"","Jfr":"","jfr":"","jmath":"","Jopf":"","jopf":"","Jscr":"","jscr":"","Jsercy":"","jsercy":"","Jukcy":"","jukcy":"","Kappa":"","kappa":"","kappav":"","Kcedil":"","kcedil":"","Kcy":"","kcy":"","Kfr":"","kfr":"","kgreen":"","KHcy":"","khcy":"","KJcy":"","kjcy":"","Kopf":"","kopf":"","Kscr":"","kscr":"","lAarr":"","Lacute":"","lacute":"","laemptyv":"","lagran":"","Lambda":"","lambda":"","lang":"","Lang":"","langd":"","langle":"","lap":"","Laplacetrf":"","laquo":"","larrb":"","larrbfs":"","larr":"","Larr":"","lArr":"","larrfs":"","larrhk":"","larrlp":"","larrpl":"","larrsim":"","larrtl":"","latail":"","lAtail":"","lat":"","late":"","lates":"","lbarr":"","lBarr":"","lbbrk":"","lbrace":"{","lbrack":"[","lbrke":"","lbrksld":"","lbrkslu":"","Lcaron":"","lcaron":"","Lcedil":"","lcedil":"","lceil":"","lcub":"{","Lcy":"","lcy":"","ldca":"","ldquo":"","ldquor":"","ldrdhar":"","ldrushar":"","ldsh":"","le":"","lE":"","LeftAngleBracket":"","LeftArrowBar":"","leftarrow":"","LeftArrow":"","Leftarrow":"","LeftArrowRightArrow":"","leftarrowtail":"","LeftCeiling":"","LeftDoubleBracket":"","LeftDownTeeVector":"","LeftDownVectorBar":"","LeftDownVector":"","LeftFloor":"","leftharpoondown":"","leftharpoonup":"","leftleftarrows":"","leftrightarrow":"","LeftRightArrow":"","Leftrightarrow":"","leftrightarrows":"","leftrightharpoons":"","leftrightsquigarrow":"","LeftRightVector":"","LeftTeeArrow":"","LeftTee":"","LeftTeeVector":"","leftthreetimes":"","LeftTriangleBar":"","LeftTriangle":"","LeftTriangleEqual":"","LeftUpDownVector":"","LeftUpTeeVector":"","LeftUpVectorBar":"","LeftUpVector":"","LeftVectorBar":"","LeftVector":"","lEg":"","leg":"","leq":"","leqq":"","leqslant":"","lescc":"","les":"","lesdot":"","lesdoto":"","lesdotor":"","lesg":"","lesges":"","lessapprox":"","lessdot":"","lesseqgtr":"","lesseqqgtr":"","LessEqualGreater":"","LessFullEqual":"","LessGreater":"","lessgtr":"","LessLess":"","lesssim":"","LessSlantEqual":"","LessTilde":"","lfisht":"","lfloor":"","Lfr":"","lfr":"","lg":"","lgE":"","lHar":"","lhard":"","lharu":"","lharul":"","lhblk":"","LJcy":"","ljcy":"","llarr":"","ll":"","Ll":"","llcorner":"","Lleftarrow":"","llhard":"","lltri":"","Lmidot":"","lmidot":"","lmoustache":"","lmoust":"","lnap":"","lnapprox":"","lne":"","lnE":"","lneq":"","lneqq":"","lnsim":"","loang":"","loarr":"","lobrk":"","longleftarrow":"","LongLeftArrow":"","Longleftarrow":"","longleftrightarrow":"","LongLeftRightArrow":"","Longleftrightarrow":"","longmapsto":"","longrightarrow":"","LongRightArrow":"","Longrightarrow":"","looparrowleft":"","looparrowright":"","lopar":"","Lopf":"","lopf":"","loplus":"","lotimes":"","lowast":"","lowbar":"_","LowerLeftArrow":"","LowerRightArrow":"","loz":"","lozenge":"","lozf":"","lpar":"(","lparlt":"","lrarr":"","lrcorner":"","lrhar":"","lrhard":"","lrm":"","lrtri":"","lsaquo":"","lscr":"","Lscr":"","lsh":"","Lsh":"","lsim":"","lsime":"","lsimg":"","lsqb":"[","lsquo":"","lsquor":"","Lstrok":"","lstrok":"","ltcc":"","ltcir":"","lt":"<","LT":"<","Lt":"","ltdot":"","lthree":"","ltimes":"","ltlarr":"","ltquest":"","ltri":"","ltrie":"","ltrif":"","ltrPar":"","lurdshar":"","luruhar":"","lvertneqq":"","lvnE":"","macr":"","male":"","malt":"","maltese":"","Map":"","map":"","mapsto":"","mapstodown":"","mapstoleft":"","mapstoup":"","marker":"","mcomma":"","Mcy":"","mcy":"","mdash":"","mDDot":"","measuredangle":"","MediumSpace":"","Mellintrf":"","Mfr":"","mfr":"","mho":"","micro":"","midast":"*","midcir":"","mid":"","middot":"","minusb":"","minus":"","minusd":"","minusdu":"","MinusPlus":"","mlcp":"","mldr":"","mnplus":"","models":"","Mopf":"","mopf":"","mp":"","mscr":"","Mscr":"","mstpos":"","Mu":"","mu":"","multimap":"","mumap":"","nabla":"","Nacute":"","nacute":"","nang":"","nap":"","napE":"","napid":"","napos":"","napprox":"","natural":"","naturals":"","natur":"","nbsp":"","nbump":"","nbumpe":"","ncap":"","Ncaron":"","ncaron":"","Ncedil":"","ncedil":"","ncong":"","ncongdot":"","ncup":"","Ncy":"","ncy":"","ndash":"","nearhk":"","nearr":"","neArr":"","nearrow":"","ne":"","nedot":"","NegativeMediumSpace":"","NegativeThickSpace":"","NegativeThinSpace":"","NegativeVeryThinSpace":"","nequiv":"","nesear":"","nesim":"","NestedGreaterGreater":"","NestedLessLess":"","NewLine":"\\n","nexist":"","nexists":"","Nfr":"","nfr":"","ngE":"","nge":"","ngeq":"","ngeqq":"","ngeqslant":"","nges":"","nGg":"","ngsim":"","nGt":"","ngt":"","ngtr":"","nGtv":"","nharr":"","nhArr":"","nhpar":"","ni":"","nis":"","nisd":"","niv":"","NJcy":"","njcy":"","nlarr":"","nlArr":"","nldr":"","nlE":"","nle":"","nleftarrow":"","nLeftarrow":"","nleftrightarrow":"","nLeftrightarrow":"","nleq":"","nleqq":"","nleqslant":"","nles":"","nless":"","nLl":"","nlsim":"","nLt":"","nlt":"","nltri":"","nltrie":"","nLtv":"","nmid":"","NoBreak":"","NonBreakingSpace":"","nopf":"","Nopf":"","Not":"","not":"","NotCongruent":"","NotCupCap":"","NotDoubleVerticalBar":"","NotElement":"","NotEqual":"","NotEqualTilde":"","NotExists":"","NotGreater":"","NotGreaterEqual":"","NotGreaterFullEqual":"","NotGreaterGreater":"","NotGreaterLess":"","NotGreaterSlantEqual":"","NotGreaterTilde":"","NotHumpDownHump":"","NotHumpEqual":"","notin":"","notindot":"","notinE":"","notinva":"","notinvb":"","notinvc":"","NotLeftTriangleBar":"","NotLeftTriangle":"","NotLeftTriangleEqual":"","NotLess":"","NotLessEqual":"","NotLessGreater":"","NotLessLess":"","NotLessSlantEqual":"","NotLessTilde":"","NotNestedGreaterGreater":"","NotNestedLessLess":"","notni":"","notniva":"","notnivb":"","notnivc":"","NotPrecedes":"","NotPrecedesEqual":"","NotPrecedesSlantEqual":"","NotReverseElement":"","NotRightTriangleBar":"","NotRightTriangle":"","NotRightTriangleEqual":"","NotSquareSubset":"","NotSquareSubsetEqual":"","NotSquareSuperset":"","NotSquareSupersetEqual":"","NotSubset":"","NotSubsetEqual":"","NotSucceeds":"","NotSucceedsEqual":"","NotSucceedsSlantEqual":"","NotSucceedsTilde":"","NotSuperset":"","NotSupersetEqual":"","NotTilde":"","NotTildeEqual":"","NotTildeFullEqual":"","NotTildeTilde":"","NotVerticalBar":"","nparallel":"","npar":"","nparsl":"","npart":"","npolint":"","npr":"","nprcue":"","nprec":"","npreceq":"","npre":"","nrarrc":"","nrarr":"","nrArr":"","nrarrw":"","nrightarrow":"","nRightarrow":"","nrtri":"","nrtrie":"","nsc":"","nsccue":"","nsce":"","Nscr":"","nscr":"","nshortmid":"","nshortparallel":"","nsim":"","nsime":"","nsimeq":"","nsmid":"","nspar":"","nsqsube":"","nsqsupe":"","nsub":"","nsubE":"","nsube":"","nsubset":"","nsubseteq":"","nsubseteqq":"","nsucc":"","nsucceq":"","nsup":"","nsupE":"","nsupe":"","nsupset":"","nsupseteq":"","nsupseteqq":"","ntgl":"","Ntilde":"","ntilde":"","ntlg":"","ntriangleleft":"","ntrianglelefteq":"","ntriangleright":"","ntrianglerighteq":"","Nu":"","nu":"","num":"#","numero":"","numsp":"","nvap":"","nvdash":"","nvDash":"","nVdash":"","nVDash":"","nvge":"","nvgt":">","nvHarr":"","nvinfin":"","nvlArr":"","nvle":"","nvlt":"<","nvltrie":"","nvrArr":"","nvrtrie":"","nvsim":"","nwarhk":"","nwarr":"","nwArr":"","nwarrow":"","nwnear":"","Oacute":"","oacute":"","oast":"","Ocirc":"","ocirc":"","ocir":"","Ocy":"","ocy":"","odash":"","Odblac":"","odblac":"","odiv":"","odot":"","odsold":"","OElig":"","oelig":"","ofcir":"","Ofr":"","ofr":"","ogon":"","Ograve":"","ograve":"","ogt":"","ohbar":"","ohm":"","oint":"","olarr":"","olcir":"","olcross":"","oline":"","olt":"","Omacr":"","omacr":"","Omega":"","omega":"","Omicron":"","omicron":"","omid":"","ominus":"","Oopf":"","oopf":"","opar":"","OpenCurlyDoubleQuote":"","OpenCurlyQuote":"","operp":"","oplus":"","orarr":"","Or":"","or":"","ord":"","order":"","orderof":"","ordf":"","ordm":"","origof":"","oror":"","orslope":"","orv":"","oS":"","Oscr":"","oscr":"","Oslash":"","oslash":"","osol":"","Otilde":"","otilde":"","otimesas":"","Otimes":"","otimes":"","Ouml":"","ouml":"","ovbar":"","OverBar":"","OverBrace":"","OverBracket":"","OverParenthesis":"","para":"","parallel":"","par":"","parsim":"","parsl":"","part":"","PartialD":"","Pcy":"","pcy":"","percnt":"%","period":".","permil":"","perp":"","pertenk":"","Pfr":"","pfr":"","Phi":"","phi":"","phiv":"","phmmat":"","phone":"","Pi":"","pi":"","pitchfork":"","piv":"","planck":"","planckh":"","plankv":"","plusacir":"","plusb":"","pluscir":"","plus":"+","plusdo":"","plusdu":"","pluse":"","PlusMinus":"","plusmn":"","plussim":"","plustwo":"","pm":"","Poincareplane":"","pointint":"","popf":"","Popf":"","pound":"","prap":"","Pr":"","pr":"","prcue":"","precapprox":"","prec":"","preccurlyeq":"","Precedes":"","PrecedesEqual":"","PrecedesSlantEqual":"","PrecedesTilde":"","preceq":"","precnapprox":"","precneqq":"","precnsim":"","pre":"","prE":"","precsim":"","prime":"","Prime":"","primes":"","prnap":"","prnE":"","prnsim":"","prod":"","Product":"","profalar":"","profline":"","profsurf":"","prop":"","Proportional":"","Proportion":"","propto":"","prsim":"","prurel":"","Pscr":"","pscr":"","Psi":"","psi":"","puncsp":"","Qfr":"","qfr":"","qint":"","qopf":"","Qopf":"","qprime":"","Qscr":"","qscr":"","quaternions":"","quatint":"","quest":"?","questeq":"","quot":"\\"","QUOT":"\\"","rAarr":"","race":"","Racute":"","racute":"","radic":"","raemptyv":"","rang":"","Rang":"","rangd":"","range":"","rangle":"","raquo":"","rarrap":"","rarrb":"","rarrbfs":"","rarrc":"","rarr":"","Rarr":"","rArr":"","rarrfs":"","rarrhk":"","rarrlp":"","rarrpl":"","rarrsim":"","Rarrtl":"","rarrtl":"","rarrw":"","ratail":"","rAtail":"","ratio":"","rationals":"","rbarr":"","rBarr":"","RBarr":"","rbbrk":"","rbrace":"}","rbrack":"]","rbrke":"","rbrksld":"","rbrkslu":"","Rcaron":"","rcaron":"","Rcedil":"","rcedil":"","rceil":"","rcub":"}","Rcy":"","rcy":"","rdca":"","rdldhar":"","rdquo":"","rdquor":"","rdsh":"","real":"","realine":"","realpart":"","reals":"","Re":"","rect":"","reg":"","REG":"","ReverseElement":"","ReverseEquilibrium":"","ReverseUpEquilibrium":"","rfisht":"","rfloor":"","rfr":"","Rfr":"","rHar":"","rhard":"","rharu":"","rharul":"","Rho":"","rho":"","rhov":"","RightAngleBracket":"","RightArrowBar":"","rightarrow":"","RightArrow":"","Rightarrow":"","RightArrowLeftArrow":"","rightarrowtail":"","RightCeiling":"","RightDoubleBracket":"","RightDownTeeVector":"","RightDownVectorBar":"","RightDownVector":"","RightFloor":"","rightharpoondown":"","rightharpoonup":"","rightleftarrows":"","rightleftharpoons":"","rightrightarrows":"","rightsquigarrow":"","RightTeeArrow":"","RightTee":"","RightTeeVector":"","rightthreetimes":"","RightTriangleBar":"","RightTriangle":"","RightTriangleEqual":"","RightUpDownVector":"","RightUpTeeVector":"","RightUpVectorBar":"","RightUpVector":"","RightVectorBar":"","RightVector":"","ring":"","risingdotseq":"","rlarr":"","rlhar":"","rlm":"","rmoustache":"","rmoust":"","rnmid":"","roang":"","roarr":"","robrk":"","ropar":"","ropf":"","Ropf":"","roplus":"","rotimes":"","RoundImplies":"","rpar":")","rpargt":"","rppolint":"","rrarr":"","Rrightarrow":"","rsaquo":"","rscr":"","Rscr":"","rsh":"","Rsh":"","rsqb":"]","rsquo":"","rsquor":"","rthree":"","rtimes":"","rtri":"","rtrie":"","rtrif":"","rtriltri":"","RuleDelayed":"","ruluhar":"","rx":"","Sacute":"","sacute":"","sbquo":"","scap":"","Scaron":"","scaron":"","Sc":"","sc":"","sccue":"","sce":"","scE":"","Scedil":"","scedil":"","Scirc":"","scirc":"","scnap":"","scnE":"","scnsim":"","scpolint":"","scsim":"","Scy":"","scy":"","sdotb":"","sdot":"","sdote":"","searhk":"","searr":"","seArr":"","searrow":"","sect":"","semi":";","seswar":"","setminus":"","setmn":"","sext":"","Sfr":"","sfr":"","sfrown":"","sharp":"","SHCHcy":"","shchcy":"","SHcy":"","shcy":"","ShortDownArrow":"","ShortLeftArrow":"","shortmid":"","shortparallel":"","ShortRightArrow":"","ShortUpArrow":"","shy":"","Sigma":"","sigma":"","sigmaf":"","sigmav":"","sim":"","simdot":"","sime":"","simeq":"","simg":"","simgE":"","siml":"","simlE":"","simne":"","simplus":"","simrarr":"","slarr":"","SmallCircle":"","smallsetminus":"","smashp":"","smeparsl":"","smid":"","smile":"","smt":"","smte":"","smtes":"","SOFTcy":"","softcy":"","solbar":"","solb":"","sol":"/","Sopf":"","sopf":"","spades":"","spadesuit":"","spar":"","sqcap":"","sqcaps":"","sqcup":"","sqcups":"","Sqrt":"","sqsub":"","sqsube":"","sqsubset":"","sqsubseteq":"","sqsup":"","sqsupe":"","sqsupset":"","sqsupseteq":"","square":"","Square":"","SquareIntersection":"","SquareSubset":"","SquareSubsetEqual":"","SquareSuperset":"","SquareSupersetEqual":"","SquareUnion":"","squarf":"","squ":"","squf":"","srarr":"","Sscr":"","sscr":"","ssetmn":"","ssmile":"","sstarf":"","Star":"","star":"","starf":"","straightepsilon":"","straightphi":"","strns":"","sub":"","Sub":"","subdot":"","subE":"","sube":"","subedot":"","submult":"","subnE":"","subne":"","subplus":"","subrarr":"","subset":"","Subset":"","subseteq":"","subseteqq":"","SubsetEqual":"","subsetneq":"","subsetneqq":"","subsim":"","subsub":"","subsup":"","succapprox":"","succ":"","succcurlyeq":"","Succeeds":"","SucceedsEqual":"","SucceedsSlantEqual":"","SucceedsTilde":"","succeq":"","succnapprox":"","succneqq":"","succnsim":"","succsim":"","SuchThat":"","sum":"","Sum":"","sung":"","sup1":"","sup2":"","sup3":"","sup":"","Sup":"","supdot":"","supdsub":"","supE":"","supe":"","supedot":"","Superset":"","SupersetEqual":"","suphsol":"","suphsub":"","suplarr":"","supmult":"","supnE":"","supne":"","supplus":"","supset":"","Supset":"","supseteq":"","supseteqq":"","supsetneq":"","supsetneqq":"","supsim":"","supsub":"","supsup":"","swarhk":"","swarr":"","swArr":"","swarrow":"","swnwar":"","szlig":"","Tab":"\\t","target":"","Tau":"","tau":"","tbrk":"","Tcaron":"","tcaron":"","Tcedil":"","tcedil":"","Tcy":"","tcy":"","tdot":"","telrec":"","Tfr":"","tfr":"","there4":"","therefore":"","Therefore":"","Theta":"","theta":"","thetasym":"","thetav":"","thickapprox":"","thicksim":"","ThickSpace":"","ThinSpace":"","thinsp":"","thkap":"","thksim":"","THORN":"","thorn":"","tilde":"","Tilde":"","TildeEqual":"","TildeFullEqual":"","TildeTilde":"","timesbar":"","timesb":"","times":"","timesd":"","tint":"","toea":"","topbot":"","topcir":"","top":"","Topf":"","topf":"","topfork":"","tosa":"","tprime":"","trade":"","TRADE":"","triangle":"","triangledown":"","triangleleft":"","trianglelefteq":"","triangleq":"","triangleright":"","trianglerighteq":"","tridot":"","trie":"","triminus":"","TripleDot":"","triplus":"","trisb":"","tritime":"","trpezium":"","Tscr":"","tscr":"","TScy":"","tscy":"","TSHcy":"","tshcy":"","Tstrok":"","tstrok":"","twixt":"","twoheadleftarrow":"","twoheadrightarrow":"","Uacute":"","uacute":"","uarr":"","Uarr":"","uArr":"","Uarrocir":"","Ubrcy":"","ubrcy":"","Ubreve":"","ubreve":"","Ucirc":"","ucirc":"","Ucy":"","ucy":"","udarr":"","Udblac":"","udblac":"","udhar":"","ufisht":"","Ufr":"","ufr":"","Ugrave":"","ugrave":"","uHar":"","uharl":"","uharr":"","uhblk":"","ulcorn":"","ulcorner":"","ulcrop":"","ultri":"","Umacr":"","umacr":"","uml":"","UnderBar":"_","UnderBrace":"","UnderBracket":"","UnderParenthesis":"","Union":"","UnionPlus":"","Uogon":"","uogon":"","Uopf":"","uopf":"","UpArrowBar":"","uparrow":"","UpArrow":"","Uparrow":"","UpArrowDownArrow":"","updownarrow":"","UpDownArrow":"","Updownarrow":"","UpEquilibrium":"","upharpoonleft":"","upharpoonright":"","uplus":"","UpperLeftArrow":"","UpperRightArrow":"","upsi":"","Upsi":"","upsih":"","Upsilon":"","upsilon":"","UpTeeArrow":"","UpTee":"","upuparrows":"","urcorn":"","urcorner":"","urcrop":"","Uring":"","uring":"","urtri":"","Uscr":"","uscr":"","utdot":"","Utilde":"","utilde":"","utri":"","utrif":"","uuarr":"","Uuml":"","uuml":"","uwangle":"","vangrt":"","varepsilon":"","varkappa":"","varnothing":"","varphi":"","varpi":"","varpropto":"","varr":"","vArr":"","varrho":"","varsigma":"","varsubsetneq":"","varsubsetneqq":"","varsupsetneq":"","varsupsetneqq":"","vartheta":"","vartriangleleft":"","vartriangleright":"","vBar":"","Vbar":"","vBarv":"","Vcy":"","vcy":"","vdash":"","vDash":"","Vdash":"","VDash":"","Vdashl":"","veebar":"","vee":"","Vee":"","veeeq":"","vellip":"","verbar":"|","Verbar":"","vert":"|","Vert":"","VerticalBar":"","VerticalLine":"|","VerticalSeparator":"","VerticalTilde":"","VeryThinSpace":"","Vfr":"","vfr":"","vltri":"","vnsub":"","vnsup":"","Vopf":"","vopf":"","vprop":"","vrtri":"","Vscr":"","vscr":"","vsubnE":"","vsubne":"","vsupnE":"","vsupne":"","Vvdash":"","vzigzag":"","Wcirc":"","wcirc":"","wedbar":"","wedge":"","Wedge":"","wedgeq":"","weierp":"","Wfr":"","wfr":"","Wopf":"","wopf":"","wp":"","wr":"","wreath":"","Wscr":"","wscr":"","xcap":"","xcirc":"","xcup":"","xdtri":"","Xfr":"","xfr":"","xharr":"","xhArr":"","Xi":"","xi":"","xlarr":"","xlArr":"","xmap":"","xnis":"","xodot":"","Xopf":"","xopf":"","xoplus":"","xotime":"","xrarr":"","xrArr":"","Xscr":"","xscr":"","xsqcup":"","xuplus":"","xutri":"","xvee":"","xwedge":"","Yacute":"","yacute":"","YAcy":"","yacy":"","Ycirc":"","ycirc":"","Ycy":"","ycy":"","yen":"","Yfr":"","yfr":"","YIcy":"","yicy":"","Yopf":"","yopf":"","Yscr":"","yscr":"","YUcy":"","yucy":"","yuml":"","Yuml":"","Zacute":"","zacute":"","Zcaron":"","zcaron":"","Zcy":"","zcy":"","Zdot":"","zdot":"","zeetrf":"","ZeroWidthSpace":"","Zeta":"","zeta":"","zfr":"","Zfr":"","ZHcy":"","zhcy":"","zigrarr":"","zopf":"","Zopf":"","Zscr":"","zscr":"","zwj":"","zwnj":""}')},505675:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>A});var n=i(465420),r=i(296540),a=i(52754),o=i(877293),s=i(479892),l=i(716249),d=i(808584),c=i(302019),u=i(670563);const h=c.fI.extendComponent({name:"TabDataContainer",defaultProps:{pl:"s5",flex:1,mt:"s6",mb:"s6"}}),p=c.fI.extendComponent({name:"ProductContainer",defaultProps:{alignItems:"center",borderColor:u.Jy.backgroundVeryLightGray,borderWidth:1,mr:"s4",pt:"s3",pb:"s3",pl:"s3",borderRadius:4}}),g=c.JU.extendComponent({name:"ProductTitleLabel",defaultProps:{lineHeight:18,pr:"s3"}}),m=c.az.extendComponent({name:"ImageContainer",defaultProps:{borderRadius:2,borderColor:u.Jy.backgroundVeryLightGray,borderWidth:1,height:36,width:36,mr:"s5"}});var v=i(45426),_=i(787921),C=i(914944),E=i(809400),T=i(96753);class f extends l.A{constructor(){super(...arguments),this.IMAGE_DIMENSION={height:34,width:34},this.CARD_HEIGHT=55,this._productTapped=(e,t)=>{const i=null==t?void 0:t.action;i&&(this.trackDiscoveryContentClickEvent(i.tracking),i.params.pageLoadState=T.LA.maskedLoading,this.dispatchAction(_.A.MAPI_ACTION,new C.rs(i)))},this._calculateDimensions=(e,t)=>({width:144,height:55}),this.renderTabData=(e,t)=>{var i,n;const l=null==t?void 0:t.value,c=null==l?void 0:l.productImage,h=null===(i=null==l?void 0:l.productTitle)||void 0===i?void 0:i.text,_=null==t?void 0:t.action,C=null==l?void 0:l.selected,E=(0,a.nS)(this.props.widgetSlotData),T=null==E?void 0:E.data,f=null===(n=null==T?void 0:T.comboProductsTabInfo)||void 0===n?void 0:n.length,A=o.Dimensions.get("window").width,S=this._renderProductWidth(A,f);return r.createElement(v.S,{onPressParam:{action:_},disableFeedback:!0,onPress:this._productTapped},r.createElement(p,{width:S.productContainerWidth,style:C?{borderColor:u.Jy.royalBlue}:{}},c&&r.createElement(m,null,r.createElement(d.A,{style:s.C1.margin_right_10,imageValue:c,width:this.IMAGE_DIMENSION.width,height:this.IMAGE_DIMENSION.height})),h&&r.createElement(g,{width:S.productLabelWidth,font:C?"m_medium":"m",numberOfLines:2,style:C?{color:u.Jy.royalBlue}:{}},h)))}}static getWidgetHeight(e){return 72}renderDivider(){}_renderProductWidth(e,t){let i={productContainerWidth:144,productLabelWidth:86};if(2===t){const n=e/t-16;i={productContainerWidth:n,productLabelWidth:n-56}}return i}renderWidget(){const e=(0,a.nS)(this.props.widgetSlotData),t=null==e?void 0:e.data;if(!t)return;const i=null==t?void 0:t.comboProductsTabInfo;if(!i)return;const n=o.Dimensions.get("window").width;return r.createElement(h,null,r.createElement(E.E,{forceNonDeterministicRendering:!0,data:i,renderItem:this.renderTabData,calculateDimensions:this._calculateDimensions,containerStyle:[{width:n,height:this.CARD_HEIGHT},s.C1.padding_right_12]}))}}class A extends n.A{getWidgetClass(e){return f}getWidgetHeight(e){return f.getWidgetHeight(e)}}},512468:(e,t,i)=>{"use strict";i.d(t,{O:()=>r});var n=i(296540);class r extends n.PureComponent{constructor(){super(...arguments),this.aspectItemClicked=()=>{if(this.props.aspectValue&&this.props.aspectValue.action&&this.props.didClickAspectItem){const e="impressionId";let t,i,n;this.props.aspectValue.tracking&&this.props.aspectValue.value&&(t=this.props.aspectValue.tracking[e],i=this.props.aspectValue.value.name,n=this.props.aspectValue.value.id),this.props.didClickAspectItem(this.props.aspectValue.action,t,i,n)}}}}},513192:(e,t)=>{"use strict";!function(e){e.CONFIRM_EXCHANGE="CONFIRM_EXCHANGE",e.REVIEW_OKAY="REVIEW_OKAY",e.ANSWER_AGAIN="ANSWER_AGAIN",e.CONTINUE_ASSESSMENT="CONTINUE_ASSESSMENT",e.SAVE_AND_EXIT="SAVE_AND_EXIT",e.DISMISS="DISMISS",e.DISMISS_AND_DISPATCH="DISMISS_AND_DISPATCH",e.GO_BACK="GO_BACK",e.BUNDLE_DESELECT="BUNDLE_DESELECT",e.EXCHANGE_DESELECT="EXCHANGE_DESELECT",e.SCROLL_TO_SLOT="SCROLL_TO_SLOT",e.DISPATCH="DISPATCH"}(t.h||(t.h={}))},516016:(e,t,i)=>{"use strict";i.d(t,{i2:()=>x});var n=i(296540),r=i(877293),a=i(911294),o=i(927443),s=i(813652),l=i(501113),d=i(410752),c=i(420721),u=i(352254),h=i(479892),p=i(497532),g=i(927503),m=i(988287),v=i(347953),_=i(938777),C=i(670563),E=i(184452),T=i(302019),f=i(727e3),A=i(257246),S=i(879052);const y="|";var w,I,b;!function(e){e[e.WITHOUT_PARENTHESIS=0]="WITHOUT_PARENTHESIS"}(w||(w={})),function(e){e.EMPTY="",e.RATINGS="ratings",e.REVIEWS="reviews"}(I||(I={})),function(e){e[e.DASHED_UNDERLINE=0]="DASHED_UNDERLINE"}(b||(b={}));class D{constructor(e,t){var i,n,s;const l=r.Dimensions.get("window").width,u=e.rating;this.productRatingDecimal=null==u?void 0:u.average,this.showCount=""!==e.countType;const g=void 0!==e.decorationType;if(this.textOuterContainerStyle=[h.C1.displayFlex,h.C1.rowWithoutFlex,h.C1.alignItemCenter],this.userReviews=e.userReviews,this.mainContainerStyle=[h.C1.position_relative,h.C1.justifyContentCenter,h.C1.flex,{width:l}],this.animatedRowStyle=[h.C1.height_full,h.C1.positionAbsolute,h.C1.justifyContentCenter,h.C1.alignItemFlexStart],this.outerContainerStyle=[h.C1.height_30,h.C1.rowAlignFlexStart],this.innerContainerStyle=[h.C1.height_full,h.C1.margin_left_8],this.animatedContainerStyle=[h.C1.justifyContentStart,h.C1.rowWithoutFlex,{width:l-95}],this.animatedReviewTextStyle=[h.XT.lightGreyText,h.XT.fontMedium_12,h.XT.lineHeight_16],this.isGroceryOrQuick=(null===(i=e.marketplace)||void 0===i?void 0:i.toUpperCase())===_.fOd.MARKETPLACE_GROCERY||(null===(n=e.marketplace)||void 0===n?void 0:n.toUpperCase())===_.fOd.MARKETPLACE_HYPERLOCAL,this.isSellerRating=(null==e?void 0:e.isSeller)||!1,this.enablePhotosFromCustomerText=!!v.A.getExperimentValue("enablePhotosFromCustomerText")&&t===c.Vn.EN,this.customerPhotoText=e.customerPhotoText?e.customerPhotoText:(0,c.ak)(t,{id:d.H.PP_CUSTOMER_PHOTOS}),this.productRatingDecimal){let i;this.ratingColor=(0,o.t0)(this.productRatingDecimal),this.productRatingString=`${this.productRatingDecimal} ${a.bh}`;const n="ratings"===e.countType?(0,c.ak)(t,{id:d.H.rex_string_RATINGS}):(0,c.ak)(t,{id:d.H.rex_string_REVIEWS});switch(e.countType){case"ratings":i=u&&u.count;break;case"reviews":i=u&&u.reviewCount}i&&(this.countString=(0,o.m3)(i),this.countString=0!==e.type&&"ratings"===e.countType?`(${this.countString})`:`${this.countString} ${n}`),e.showRatingAdjective&&(null===(s=e.rating)||void 0===s?void 0:s.ratingAdjective)&&!e.showRatingAdjectiveBeforeRating&&(this.countString=this.countString?[e.rating.ratingAdjective,y,this.countString].join(" "):e.rating.ratingAdjective),e.customerPhotoText&&e.numberOfCustomerPhotos&&(this.countString=this.countString+" "+(e.ratingAdjectiveSeparator?e.ratingAdjectiveSeparator:y)),!this.isGroceryOrQuick&&this.countString&&(this.countString=this.enablePhotosFromCustomerText?this.countString+(e.numberOfCustomerPhotos?" | "+this.customerPhotoText:""):this.countString)}if(g&&0===e.decorationType)this.ratingTextDecorationStyle=p.o.ratingsViewUnderlineDashed;e.isSeller&&(null==e?void 0:e.sellerRatingText)&&(this.countString=e.sellerRatingText)}}class x extends n.PureComponent{constructor(){var e;super(...arguments),this.showRatingInStars=null===(e=this.props.showRatingInStars)||void 0===e||e,this.numericalRatingWithColor={color:"#22A148"},this._renderRatingCountAndRatingAdjective=(e,t)=>n.createElement(f.w.Consumer,null,(i=>{const r=i?Object.assign(Object.assign({},this.props.ratingAdjectiveStyle),{color:(0,A.n6)(i)}):this.props.ratingAdjectiveStyle,a=i?Object.assign(Object.assign({},this.props.ratingCountStyle),{color:(0,A.n6)(i)}):this.props.ratingCountStyle;return n.createElement(T.JU,Object.assign({},(0,S.Z)("Product_Rating_Count"),{textAlignVertical:"center",alignSelf:"center",marginLeft:"s2"}),n.createElement(T.JU,Object.assign({},r,{marginHorizontal:"s2",numberOfLines:1,ellipsizeMode:"tail"}),this._getRatingAdjectiveString(t)),n.createElement(T.JU,Object.assign({},(0,S.Z)("Product_Rating_Count_Web"),a,{numberOfLines:1,ellipsizeMode:"tail"}),e))})),this._getRatingAdjectiveString=e=>["",e,this.props.ratingAdjectiveSeparator?this.props.ratingAdjectiveSeparator:y,""].join(" "),this._renderCustomerImagesText=(e,t)=>n.createElement(T.JU,Object.assign({},this.props.ratingCountStyle,{ml:"s0",numberOfLines:1,ellipsizeMode:"tail"}),this._getCustomerImagesText(e,t)),this._getCustomerImagesText=(e,t)=>(0,o.m3)(t)+" "+e,this._renderUserReviewsView=()=>{const e=new D(this.props,this.context.locale);if(e.productRatingString&&e.userReviews&&0!==e.userReviews.length)return n.createElement(r.View,{style:e.outerContainerStyle},n.createElement(l.A,Object.assign({},(0,S.Z)("Product_Pill_Rating"),{text:e.productRatingString,isRatingColorDisabled:this.props.isRatingColorDisabled,backgroundColor:e.ratingColor,pillBorderStyle:(0,T.nm)(this.props.pillBorderStyle||{}),rating:e.productRatingDecimal,separateStarContent:!0})),n.createElement(r.View,{style:e.innerContainerStyle},n.createElement(g.A,Object.assign({},(0,S.Z)("Product_Rolling_Text_Animation"),{numberOfViews:e.userReviews.length,getViewAt:t=>{var i;return this._renderViewAtIndex(null===(i=e.userReviews)||void 0===i?void 0:i[t],t)},animationDuration:1500,individualWaitTime:2e3,mainContainerStyle:e.mainContainerStyle,animatedRowStyle:e.animatedRowStyle}))))},this._renderViewAtIndex=(e,t)=>{if(!e||!e.value)return;const i=new D(this.props,this.context.locale),a=0===t?`${e.value.text}`:`"${e.value.text}`;return n.createElement(r.View,{style:i.animatedContainerStyle},n.createElement(r.Text,{style:i.animatedReviewTextStyle,ellipsizeMode:"tail",numberOfLines:1},a),0!==t&&n.createElement(r.Text,{style:i.animatedReviewTextStyle},'"'))}}static hasRating(e){return!!(null==e?void 0:e.average)||!1}render(){var e;const t=new D(this.props,this.context.locale),i=(null==t?void 0:t.isSellerRating)?C.Wo.ratingColorSeller:null===(e=this.props.ratingColor)||void 0===e?void 0:e.filledStarColor;return t.userReviews?this._renderUserReviewsView():n.createElement(f.w.Consumer,null,(e=>{var a;return t.productRatingString?n.createElement(T.az,null,n.createElement(T.az,Object.assign({},(0,S.Z)("Product_Rating_Container"),this.props.parentStyle||{}),this.showRatingInStars&&t.productRatingDecimal?n.createElement(m.A,Object.assign({},(0,S.Z)("Product_Rating_Star"),{rating:t.productRatingDecimal,smallStar:this.props.isSmallStar,starWidgetContainerStyle:this.props.starWidgetContainerStyle,fillColor:i,overrideFillColor:this.props.overrideRatingColor,outlineColor:this.props.overrideRatingColor?i:void 0,roundedStar:this.props.overrideRatingColor,themeContext:e})):n.createElement(l.A,Object.assign({},(0,S.Z)("Product_Pill_Rating_Star"),{text:t.productRatingString,isRatingColorDisabled:this.props.isRatingColorDisabled,backgroundColor:t.isSellerRating?C.Cf.fkButtonDarkBlueColor:t.ratingColor,pillBorderStyle:(0,T.nm)(this.props.pillBorderStyle||{}),rating:t.productRatingDecimal,separateStarContent:!0,textStyle:(0,T.kE)(this.props.ratingTextStyle||{}),pillContainerStyle:(0,T.nm)(this.props.ratingTextContainerStyle||{}),textSize:this.props.ratingPillSize})),this.props.showNumericalRatingNumer&&t.productRatingDecimal?n.createElement(r.View,{style:t.textOuterContainerStyle},n.createElement(r.Text,Object.assign({},(0,S.Z)("Product_Rating_Count"),{style:[(0,T.kE)(this.props.ratingCountStyle||{}),E.Y,this.numericalRatingWithColor,this.props.showNumericalRatingNumer?[h.XT.fontRegular_12,h.XT.lineHeight_16]:void 0],numberOfLines:1,ellipsizeMode:"tail"}),t.productRatingDecimal.toFixed(1)),n.createElement(r.Text,{style:[(0,T.kE)(this.props.ratingCountStyle||{}),E.YI],numberOfLines:1,ellipsizeMode:"tail"},"")):void 0,t.showCount&&t.countString?n.createElement(r.View,Object.assign({},(0,S.Z)("Product_Rating_Count"),{style:[this.props.ratingTextOuterContainerStyle?(0,T.nm)(this.props.ratingTextOuterContainerStyle):t.textOuterContainerStyle,(0,T.nm)(this.props.ratingCountContainerStyle||{})]}),n.createElement(r.View,Object.assign({},(0,S.Z)("Product_Rating_Count"),{style:t.ratingTextDecorationStyle}),this.props.showRatingAdjective&&(null===(a=this.props.rating)||void 0===a?void 0:a.ratingAdjective)&&this.props.showRatingAdjectiveBeforeRating?this._renderRatingCountAndRatingAdjective(t.countString,this.props.rating.ratingAdjective):n.createElement(r.Text,Object.assign({},(0,S.Z)("Product_Rating_Count"),{style:[(0,T.kE)(this.props.ratingCountStyle||{}),h.XT.alignTextCenterVertical,(0,A.oO)(e)],numberOfLines:1,ellipsizeMode:"tail"}),t.countString))):void 0,this.props.ratingCountImageStyle&&n.createElement(u.A,Object.assign({},(0,S.Z)("Product_Rating_Count_Image"),{source:this.props.imageSource||s.chevronLight,height:this.props.iconHeight||x.IMAGE_HEIGHT,width:this.props.iconWidth||x.IMAGE_WIDTH,style:this.props.ratingCountImageStyle}))),this.props.customerPhotoText&&this.props.numberOfCustomerPhotos&&n.createElement(T.az,{marginTop:"s1"},this._renderCustomerImagesText(this.props.customerPhotoText,this.props.numberOfCustomerPhotos))):null}))}}x.contextType=c.V8,x.IMAGE_HEIGHT=14,x.IMAGE_WIDTH=7},518320:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(465420),r=i(304489);class a extends n.A{getWidgetClass(){return r.A}getWidgetHeight(e){return 122}}},518521:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>C});var n=i(214181),r=i(100600),a=i(312520),o=i(587069),s=i(820101),l=i(104035),d=i(160251),c=i(637206),u=i(532667),h=i(602808),p=i(241811);const g=new Map([["ATLAS_BREADCRUMB",20007],["MULTIMEDIA",20002],["ATLAS_MULTIMEDIA",20002],["ATLAS_PMU_V5_PP_HORIZONTAL_GRID_VIEW",2e4],["PMU_V5_HORIZONTAL",2e4],["PMU_HORIZONTAL_EXTENDED",2e4],["ATLAS_PMU_V5_HORIZONTAL_PMU_WITH_RATINGS",2e4],["ATLAS_PMU_V6_HORIZONTAL_PMU_WITH_RATINGS",2e4],["ATLAS_PMU_V3_NOTIFY_INFINITE_FEED_VIEW_HYBRID",0],["PMU_V3",2e4],["ATLAS_OMU_V2",2e4],["ATLAS_OMU_V2_TWO_GRID_VIEW",2e4],["SEARCH_FEED",2e4]]),m=e=>{var t;if(!(null==e?void 0:e.slotData))return e;const i=Object.assign({},e.slotData),{widget:n,elementId:r}=i,a=null!==(t=null==n?void 0:n.widgetName)&&void 0!==t?t:"",o=Array.from(g.entries()).find((([e])=>a.includes(e)||(null!=r?r:"").includes(e))),s=e.pageNumber<=1,l=o?o[1]:s?20003:2e4;return i.parentId=l,i.layoutParams&&(i.layoutParams=(0,u.iA)(i.layoutParams)),Object.assign(Object.assign({},e),{slotData:i})};class v extends l.w{constructor(){super(...arguments),this.computeCompleteSlots=(0,p.A)(((e=[])=>{const t=e.filter(d.J9).map(m),i=e.some((e=>{var t,i;const n=null===(i=null===(t=e.slotData)||void 0===t?void 0:t.widget)||void 0===i?void 0:i.type;return n&&(0,h.uQ)(n)})),n=i?d.iU:d.TN,r=i?d.TN:d.iU;return[...[(0,u.kX)(20007,0,c.l.STACK),(0,u.kX)(2e4,0,c.l.STACK),(0,u.kX)(20001,2e4,c.l.ADJACENT),(0,u.kX)(20002,20001,c.l.STACK,n,d.Bf,!0)],(0,u.kX)(20003,20001,c.l.STACK,r,d.Bf),...t]})),this.getIsLayoutWithLogicalSlot=()=>!0,this.getMaxPageWidth=()=>d.P9,this.getCompleteSlots=()=>{var e;const t=null===(e=this.getWidgetsData(this.props))||void 0===e?void 0:e.completeSlots;return t?this.computeCompleteSlots(t):t},this.getHeaderSlots=()=>{var e;return((null===(e=this.getWidgetsData(this.props))||void 0===e?void 0:e.headerSlots)||[]).filter(d.J9)},this._shouldShowHeader=()=>!0}}class _ extends s.P{getPageClass(){return v}prepareViewModel(e,t){const i=super.prepareViewModel(e,t);return i.hideActionBar=!0,i.navigationBarViewModel=void 0,i.hideAppBar=!0,i}}class C extends n.default{constructor(e,t){super(e,t),this.getPageCreator=()=>_,this.getActionMapper=()=>o.A,r.default.loadedWidgetMappers.ProductPageMapper=a.default}}},521079:(e,t)=>{"use strict";!function(e){e.REWARD_BALANCE="REWARD_BALANCE",e.SEARCH_BUTTON="SEARCH_BUTTON",e.SEAT_BUTTON="SEAT_BUTTON",e.MEAL_BUTTON="MEAL_BUTTON",e.BAGGAGE_BUTTON="BAGGAGE_BUTTON",e.VIEW_SIMILAR="VIEW_SIMILAR",e.VA_HIGHLIGHT="VA_HIGHLIGHT"}(t.w||(t.w={}))},521807:(e,t,i)=>{"use strict";i.r(t),i.d(t,{FormattedAnnouncementWidgetViewTypes:()=>yt,default:()=>wt});var n=i(465420),r=i(52754),a=i(296540),o=i(716249),s=i(877293),l=i(808584),d=i(723372),c=i(479892),u=i(999855),h=i(135789),p=i(57522),g=i(672748),m=i(879052);class v extends o.A{constructor(e){super(e),this._defaultTextStyle=[c.XT.fontRegular_14],this._defaultSubTextStyle=[c.XT.fontRegular_12],this._viewModel=this._getViewModelFromProps(e)}static getWidgetHeight(e){return u.aH.WIDGET_HEIGHT}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i)||this._isVRPExchangeToggleDataChanged(e)}UNSAFE_componentWillReceiveProps(e,t){this._viewModel=this._getViewModelFromProps(e)}_isVRPExchangeToggleDataChanged(e){const t=(0,r.Qd)(this.props,p.j.EXCHANGE_PREFERENCE_DATA),i=(0,r.Qd)(e,p.j.EXCHANGE_PREFERENCE_DATA);return(null==i?void 0:i.exchangeNowSelected)!==(null==t?void 0:t.exchangeNowSelected)}renderDivider(){var e;const t=null===(e=this.props.widgetSlotData.slotData.widget)||void 0===e?void 0:e.widgetAttributes;return"ECO_COD_BOTTOMSHEET"===(0,r.KJ)(this.props.widgetSlotData)||(null==t?void 0:t.hideWidgetSeparator)?null:super.renderDivider()}renderWidget(){if(!this._viewModel||this._viewModel.hideWidget)return;const e=this._viewModel.hideImage,t="VIRTUAL_COMBO_V2_CALLOUT"===(0,r.KJ)(this.props.widgetSlotData),i="VIRTUAL_COMBO_SAVINGS"===(0,r.KJ)(this.props.widgetSlotData),n=a.createElement(l.A,Object.assign({},(0,m.Z)("CartPageWowImage"),{width:i?u.aH.VC_IMAGE_DIMEN:u.aH.IMAGE_DIMEN,height:i?u.aH.VC_IMAGE_DIMEN:u.aH.IMAGE_DIMEN,imageValue:this._viewModel.imageValue}));return a.createElement(s.View,Object.assign({},(0,m.Z)("FormattedAnnouncement"),{style:[u.py.announcementContainer,{backgroundColor:this._viewModel.backgroundColor},this._viewModel.widgetContainerStyle,this.getContentCollectionPadding(this.props)]}),e?void 0:this._viewModel.animConfig?a.createElement(h.tY,{animationConfig:this._viewModel.animConfig},n):n,a.createElement(s.View,{style:[u.py.messageView,this.textStyle(this._viewModel.hideImage)]},a.createElement(d.A,{useInline:t,messages:this._viewModel.messageData,textDefaultStyle:this._defaultTextStyle}),this._viewModel.subMessageData&&a.createElement(d.A,{useInline:t,messages:this._viewModel.subMessageData,textDefaultStyle:this._defaultSubTextStyle})))}_getViewModelFromProps(e){var t;const i=this._getAnnouncementValue(e);if(!i||!i.imageValue)return;let n={messageData:i.data,subMessageData:i.subData,imageValue:i.imageValue,backgroundColor:i.bgColor,hideImage:null!==(t=null==i?void 0:i.hideImage)&&void 0!==t&&t,hideWidget:this._hideWidget(e),interIconSpacing:null==i?void 0:i.interIconSpacing,widgetContainerStyle:i.containerStyle};if(n.imageValue.animation){const e=n.imageValue.animation,t={rippleColor:null==e?void 0:e.rippleColor,rippleDuration:null==e?void 0:e.rippleDuration,rippleCount:null==e?void 0:e.rippleCount,rippleIntervalDuration:null==e?void 0:e.rippleIntervalDuration,rippleRadius:u.aH.IMAGE_DIMEN,triggerType:h.Zr.ON_LOAD,type:h.J6.RIPPLE};n=Object.assign(Object.assign({},n),{animConfig:t})}return n}_hideWidget(e){const t=(0,r.Qd)(e,p.j.EXCHANGE_PREFERENCE_DATA);return!!(null==t?void 0:t.exchangeNowSelected)}_getAnnouncementValue(e){const t=(0,r.nS)(e.widgetSlotData),i=t&&t.data;return i&&i.renderableComponents&&i.renderableComponents[0].value}getContentCollectionPadding(e){}textStyle(e){var t;const i=null===(t=this._viewModel)||void 0===t?void 0:t.interIconSpacing;return e?[{marginStart:0}]:(0,g.Et)(i)?{marginStart:i}:[]}}class _ extends o.A{constructor(){super(...arguments),this.containerStyle=[c.C1.row,c.C1.contentAlignCenter,c.C1.margin12V_16H],this._defaultTextStyle=[c.XT.fontRegular_14],this._defaultImageStyle=c.C1.margin_left_6}static getWidgetHeight(){return u.Vl}renderWidget(){const e=(0,r.nS)(this.props.widgetSlotData),t=e&&e.data,i=t&&t.renderableComponents&&t.renderableComponents[0].value;if(!i)return;const n=i.data;return a.createElement(s.View,{style:this.containerStyle},a.createElement(d.A,{style:c.C1.flex,messages:n,textDefaultStyle:this._defaultTextStyle,imageDefaultStyle:this._defaultImageStyle,imageHeight:u.HF}))}}class C extends o.A{constructor(){super(...arguments),this.containerStyle=[c.C1.col,c.C1.padding2V],this._defaultTextStyle=[c.XT.fontMedium_12,c.XT.lineHeight_24,c.C1.alignItemBaseline,c.XT.whiteText],this._defaultImageStyle=[c.C1.alignItemBaseline,c.C1.margin_right_4],this.gbSavingsContainerStyle=[c.C1.padding_horizontal_16,c.C1.padding_vertical_8],this.gbSavingsTextStyle=[c.XT.fontMedium_14,c.XT.lineHeight_20,c.C1.alignItemBaseline,c.C1.padding_left_4],this.getContainerStyle=e=>"GB_SAVINGS_CALLOUT"===e?this.gbSavingsContainerStyle:this.containerStyle,this.getDefaultTextStyle=e=>"GB_SAVINGS_CALLOUT"===e?this.gbSavingsTextStyle:this._defaultTextStyle,this.getMessageViewStyle=e=>"GB_SAVINGS_CALLOUT"===e?c.C1.rowFlexStart:c.C1.contentSelfAlignCenter}static getWidgetHeight(e){const t=(0,r.nS)(e.widgetSlotData),i=null==t?void 0:t.data,n=(0,r.KJ)(e.widgetSlotData);return i?"GB_SAVINGS_CALLOUT"===n?36:28:0}renderWidget(){const e=(0,r.nS)(this.props.widgetSlotData),t=null==e?void 0:e.data,i=(0,r.KJ)(this.props.widgetSlotData),n=null==t?void 0:t.renderableComponents,o=n&&(null==n?void 0:n.length)>0?n[0].value:void 0;if(!o||!o.bgColor)return;const{data:l,bgColor:c}=o;return a.createElement(s.View,{style:[this.getContainerStyle(i),{backgroundColor:c}]},a.createElement(d.A,{style:this.getMessageViewStyle(i),messages:l,textDefaultStyle:this.getDefaultTextStyle(i),imageDefaultStyle:this._defaultImageStyle}))}renderDivider(){}}var E=i(45426),T=i(857850),f=i(848464);class A extends o.A{constructor(){super(...arguments),this.KEY_OFFER_ID="offerId",this.KEY_URL="url",this._containerStyle=[c.C1.col,c.C1.margin_horizontal_16,c.C1.padding12V,c.C1.border_bottom_width_1,c.C1.color_border_grey1],this._defaultTextStyle=[c.XT.fontMedium_14,c.XT.lineHeight_24],this._defaultImageStyle=c.C1.margin_right_8,this._FORMATTED_IMAGE_HEIGHT=16,this._handleAction=(e,t)=>{if(t&&"offerTnc"===t.screenType){const e=t.params[this.KEY_OFFER_ID],i=t.params[this.KEY_URL];this.dispatchAction(T.Q3.STATIC_WEB_PAGE_ACTION,new f.h(i,e,f.Q.TNC_MODAL))}}}static getWidgetHeight(e){const t=this._getRenderableComponents(e.widgetSlotData);if(!t)return 0;return 32*t.length+12}renderWidget(){let e=A._getRenderableComponents(this.props.widgetSlotData);const t=(0,r.KJ)(this.props.widgetSlotData);if(e=null==e?void 0:e.filter(Boolean),!e||0===e.length)return;let i={};return["REWARD_SUMMARY_CONDITIONS","REWARD_UNIFIED_VIEW"].includes(t)&&(i=c.C1.border_top_width_1),a.createElement(s.View,{style:[this._containerStyle,i]},this._generateFormattedAnnouncementList(e))}renderDivider(){}static _getRenderableComponents(e){const t=(0,r.nS)(e),i=t&&t.data;return i&&i.renderableComponents&&i.renderableComponents}_generateFormattedAnnouncementList(e){let t=this._defaultTextStyle,i=this._defaultImageStyle;return"REWARD_UNIFIED_VIEW"===(0,r.KJ)(this.props.widgetSlotData)&&(t=[this._defaultTextStyle,c.XT.lineHeight_20],i=c.C1.margin_right_4),a.createElement(a.Fragment,null,e.map((e=>e.value&&a.createElement(E.S,{onPress:this._handleAction,onPressParam:e.action},a.createElement(d.A,{style:c.C1.margin_vertical_4,messages:e.value.data,textDefaultStyle:t,imageDefaultStyle:i,imageHeight:this._FORMATTED_IMAGE_HEIGHT})))))}}var S=i(813652),y=i(6940),w=i(352254),I=i(415283),b=i(914944),D=i(537415),x=i(918210),P=i(90513),O=i(580555);class R extends o.A{constructor(){super(...arguments),this._defaultTextStyle=[c.XT.fontRegular_12,c.C1.alignItemBaseline,c.XT.blackText],this._defaultImageStyle=[{translateY:1}],this._leftIconStyle=c.C1.margin_right_8,this._onPress=(e,t)=>{var i;if(this.props.actionDispatcher&&t){if(this.trackDiscoveryWidgetClickEvent(this.willCreateNewDwell(t)),function(e){const t=x.A.convertAnalyticsVariableMapToContextualVariableMap(e),i=new O.Ay(t).getLockinTracking(),n={};i&&(n[P.Ay.EVAR170]=i),x.A.addPageData(n)}(t.tracking),"web"===s.Platform.OS&&t.loginType===D.G.LOGIN_NOT_REQUIRED&&(null===(i=t.params)||void 0===i?void 0:i.openInBottomSheet))return void this.props.actionDispatcher({type:I.Q3.SHOW_SUBPAGE,payload:new b.Oy(t)});this.props.actionDispatcher({type:I.Q3.MAPI_ACTION,payload:new b.Oy(t)})}}}static getWidgetHeight(){return 48}renderWidget(){const e=(0,r.nS)(this.props.widgetSlotData),t=e&&e.data,i=t&&t.renderableComponents,n=i&&i.length>0?i[0]:void 0,o=n&&n.value;if(!o||!o.bgColor)return;const u=o.imageValue,{data:h,bgColor:p}=o,g=null==e?void 0:e.widgetAttributes,m=(null==g?void 0:g.contentCornerRadius)?g.contentCornerRadius:0,v=g&&g.contentCollectionPadding?y.Ay.getRectFromString(g.contentCollectionPadding):void 0,_=v?{paddingLeft:v.left,paddingTop:v.top,paddingRight:v.right,paddingBottom:v.bottom}:c.C1.padding12V_16H;return a.createElement(E.S,{onPress:this._onPress,onPressParam:null==n?void 0:n.action,disabled:!(null==n?void 0:n.action)},a.createElement(s.View,{style:[c.C1.rowCenter,_,{backgroundColor:p,borderRadius:m}]},a.createElement(s.View,{style:c.C1.rowCenter},u&&a.createElement(l.A,{imageValue:u,width:18,height:18,style:this._leftIconStyle}),a.createElement(d.A,{applyFontWeightFix:!0,messages:h,textDefaultStyle:this._defaultTextStyle,imageHeight:12,imageDefaultStyle:this._defaultImageStyle})),(null==n?void 0:n.action)&&a.createElement(w.A,{source:S.chevronBold,height:9,width:9,style:c.C1.margin_right_4})))}renderDivider(){}}class k extends o.A{constructor(){super(...arguments),this._defaultTextStyle=[c.XT.fontRegular_12,c.C1.centerContents,c.XT.blackText]}static getWidgetHeight(){return 48}renderWidget(){const e=(0,r.nS)(this.props.widgetSlotData),t=e&&e.data,i=t&&t.renderableComponents,n=i&&i.length>0?i[0]:void 0,o=n&&n.value;if(!o||!o.bgColor)return;const{data:l,bgColor:u}=o,h=null==e?void 0:e.widgetAttributes,p=(null==h?void 0:h.contentCornerRadius)||0,g=h&&h.contentCollectionPadding?y.Ay.getRectFromString(h.contentCollectionPadding):void 0,m=[g?{paddingLeft:g.left,paddingTop:g.top,paddingRight:g.right,paddingBottom:g.bottom}:c.C1.padding12V_16H,c.C1.rowCenter,{backgroundColor:u,borderRadius:p}];return a.createElement(s.View,{style:m},a.createElement(s.View,{style:c.C1.colFlexCenter},a.createElement(d.A,{applyFontWeightFix:!0,messages:l,textDefaultStyle:this._defaultTextStyle,imageHeight:12})))}renderDivider(){}}var V=i(408791),L=i(982561),M=i(53606),N=i(347953),H=i(311676),W=i(867953),B=i(787921),U=i(155805);const F=N.A.getExperimentValue("isRnRAspectsOnTopFoldEnabled")?M.Ay.getPPRnrAspectAnimationTime():4e3;class G extends o.A{constructor(){super(...arguments),this._defaultTextStyle=[c.C1.alignItemBaseline,c.XT.blackText,c.XT.fontRegular_14,c.XT.lineHeight_20],this._containerStyle=[c.C1.rowWithoutFlex,c.C1.alignItemCenter,c.C1.justifyContentCenter],this._lottieContainerStyle=[c.C1.width_30,c.C1.height_30,c.C1.margin_left_4],this._lottieStyle={width:30,height:30},this._fireDCCEvent=(e,t)=>{t&&this.trackDiscoveryContentClickEvent(t)},this._fireDCIEvent=e=>{var t,i;const n=o.A.getTrackingParams(this.props,e),r=(new Date).getTime(),a=new H.Fdq(n,this.state.uniqueViewId,null===(t=this.props.pageInfo)||void 0===t?void 0:t.tabImpressionId,null===(i=this.state.trackingParams)||void 0===i?void 0:i.getImpressionInfo(),r,100);this.dispatchAction(B.A.DG_TRACKING,a)},this._onViewabilityStarted=(e,t)=>{t.forEach((e=>{(null==e?void 0:e.tracking)&&this._fireDCIEvent(null==e?void 0:e.tracking)}))},this.onLayout=e=>{const t=e.nativeEvent.layout.height;this.state.widgetHeight>=t||this.setState({widgetHeight:t})},this._getMultiCondition=e=>[new W.D_("PPrnrAspectsCalloutViewPort",2e3,98,this._onViewabilityStarted,void 0,e)]}getDerivedState(e,t){if(!t){const i=G.getWidgetHeight(e);return Object.assign(Object.assign({},super.getDerivedState(e,t)),{widgetHeight:i})}return Object.assign({},super.getDerivedState(e,t))}shouldComponentUpdate(e,t,i){return this.state.widgetHeight!==t.widgetHeight}static getWidgetHeight(e){const t=(0,r.nS)(e.widgetSlotData),i=null==t?void 0:t.data,n=i&&i.renderableComponents;if(!n)return 0;let a=0;return n.forEach((e=>{var t;const i=null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.data;if(i){const e=this.calculateCalloutLength(i);e>a&&(a=e)}})),7*a>s.Dimensions.get("window").width?52:32}static calculateCalloutLength(e){const t=null==e?void 0:e.data;if(t){let e=0;return t.forEach((t=>{var i,n;(null===(i=null==t?void 0:t.value)||void 0===i?void 0:i.text)&&(e+=null===(n=null==t?void 0:t.value)||void 0===n?void 0:n.text.length)})),e}return 0}renderWidget(){var e,t;const i=(0,r.nS)(this.props.widgetSlotData),n=null==i?void 0:i.data,o=n&&n.renderableComponents;if(o)return a.createElement(W.Ay,{conditions:this._getMultiCondition(o)},a.createElement(s.View,{style:[c.C1.displayFlex,c.C1.width100Percent,(0,U.wb)(null===(e=this.props.pageInfo)||void 0===e?void 0:e.pageURI,null===(t=this.props.pageInfo)||void 0===t?void 0:t.marketPlace)?c.C1.backgroundWhite:c.C1.backgroundGrey]},a.createElement(L.A,{style:{flexDirection:"column",alignItems:"center",justifyContent:"center"},itemHeight:this.state.widgetHeight+8,itemDelay:F,renderItem:e=>this._renderItemAtIndex(e,o),itemCount:o.length})))}_renderItemAtIndex(e,t){const i=t[e],n=i.value;if(!n)return null;const r=n.imageValue,o=n.mediaValue;this._containerStyle=o?[this._containerStyle,c.C1.padding_vertical_8,c.C1.padding_horizontal_12]:[this._containerStyle,c.C1.padding_horizontal_12,c.C1.padding_bottom_5,c.C1.padding_top_5];const{data:u}=n,h=null==i?void 0:i.tracking;return a.createElement(s.View,{onLayout:this.onLayout},a.createElement(E.S,{onPress:this._fireDCCEvent,onPressParam:h},a.createElement(s.View,{key:`announcement_${e}`,style:[this._containerStyle]},o&&a.createElement(s.View,{style:this._lottieContainerStyle},a.createElement(V.n,{sourceUrl:o.url,loop:o.loop,speed:1,autoPlay:o.autoplay,style:this._lottieStyle})),r&&a.createElement(l.A,{imageValue:r,width:24,height:24}),a.createElement(s.View,{style:[c.C1.margin_right_8,c.C1.shrinkContent,c.C1.margin_left_8]},a.createElement(d.A,{applyFontWeightFix:!0,messages:u,textDefaultStyle:this._defaultTextStyle,useTextContainer:!0})))))}renderDivider(){}}var z=i(398581),j=i(331547),X=i(184452);class Y extends o.A{constructor(){super(...arguments),this._defaultTextStyle=[c.C1.alignItemsCenterFullWidth,c.XT.blackText,c.XT.fontRegular_14,c.XT.lineHeight_20],this._containerStyle=[c.C1.rowWithoutFlex,c.C1.height_full],this._lottieContainerStyle=[c.C1.justifyContentCenter,c.C1.padding_left_16,c.C1.padding_vertical_12],this._formattedMessageViewStyle=[c.C1.height_full,c.C1.margin_right_16,c.C1.margin_left_8,c.C1.padding_vertical_16],this._lottieStyle={width:32,height:32},this._lottieViewReplayKey=1}getSavingValue(e){var t,i,n,a,o,s;const l=(0,r.nS)(e.widgetSlotData),d=null==l?void 0:l.data,c=null==d?void 0:d.renderableComponents,u=null==c?void 0:c[0].value;if(!u)return 0;try{const e=null===(a=null===(n=null===(i=null===(t=null==u?void 0:u.data)||void 0===t?void 0:t.data)||void 0===i?void 0:i[0])||void 0===n?void 0:n.value)||void 0===a?void 0:a.text,r=null===(s=null===(o=null==e?void 0:e.split(" "))||void 0===o?void 0:o[0])||void 0===s?void 0:s.substring(1);return parseFloat(r)}catch(e){return 0}}shouldComponentUpdate(e,t,i){return this.getSavingValue(e)>this.getSavingValue(this.props)&&this._lottieViewReplayKey++,super.shouldComponentUpdate(e,t,i)||this.props.widgetSlotData!==e.widgetSlotData}static getWidgetHeight(){return 72}renderWidget(){const e=(0,r.nS)(this.props.widgetSlotData),t=null==e?void 0:e.data,i=null==t?void 0:t.gradientBgColor,n=null==t?void 0:t.renderableComponents,o=n&&n.length>0?n[0].value:void 0;if(!o)return;const l=o.mediaValue,{data:u}=o,h=n&&n.length>1?n[1].value:void 0,p=null==h?void 0:h.data,g=a.createElement(s.View,{style:this._formattedMessageViewStyle},a.createElement(d.A,{applyFontWeightFix:!0,messages:u,textDefaultStyle:this._defaultTextStyle,useTextContainer:!0}),p&&a.createElement(d.A,{applyFontWeightFix:!0,messages:p,textDefaultStyle:this._defaultTextStyle,useTextContainer:!0})),m=i?a.createElement(z.W,{renderInWeb:!0,gradientColors:i,gradientStart:j._.LEFT,gradientEnd:j._.RIGHT,style:X.Uu},g):g;i||(this._backgroundColor={backgroundColor:o.bgColor});const v=a.createElement(s.View,{style:[this._containerStyle,this._backgroundColor]},l&&a.createElement(s.View,{style:[this._lottieContainerStyle,{backgroundColor:o.bgColor}]},a.createElement(V.n,{sourceUrl:l.url,loop:l.loop,speed:1,autoPlay:l.autoplay,style:this._lottieStyle,containerStyle:X.cR})),m);return a.createElement(s.View,{key:this._lottieViewReplayKey,style:[c.C1.padding_vertical_8,{height:Y.getWidgetHeight()}]},v)}renderDivider(){}}var q=i(302019),J=i(39868),K=i(10142),Q=i(756580),Z=i(492418);class $ extends o.A{static getWidgetHeight(e){var t;const i=(0,r.xH)(e.widgetSlotData);if(!i)return 0;const n=i.calloutViewType,a=i.title?32:0,o=(null===(t=i.spotlight)||void 0===t?void 0:t.value)?20:0,s=i.renderableComponents;return 16+a+o+(s?n===K.K.TICKER?$.calculateTickerHeight(s):$.calculateListHeight(s):0)}static calculateListHeight(e){let t=0;return e.forEach((e=>{var i;t+=38,(null===(i=e.value)||void 0===i?void 0:i.bgColor)&&(t+=16)})),t}static calculateTickerHeight(e){let t=32;return e.some((e=>{var t;return!!(null===(t=e.value)||void 0===t?void 0:t.bgColor)}))&&(t+=16),t}renderWidget(){var e;const t=(0,r.nS)(this.props.widgetSlotData),i=null==t?void 0:t.data;if(!i)return;const n=i.calloutViewType,o=i.title,s=null===(e=i.spotlight)||void 0===e?void 0:e.value,l=i.renderableComponents;return l?a.createElement(a.Fragment,null,a.createElement(ie,{mt:s?"s2":void 0},s&&this._renderSpotlightView(s),a.createElement(q.fv,{mt:s?"s6":void 0},o&&a.createElement(re,null,o),this._renderCallouts(n,l))),(null==t?void 0:t.footer)&&a.createElement(Q.A,{height:Z.Nsv})):void 0}isFooterSeparatorEnabled(){return!1}renderHeader(e){var t,i;const n=null==e?void 0:e.header,r=null===(i=null===(t=null==n?void 0:n.value)||void 0===t?void 0:t.titleValue)||void 0===i?void 0:i.text;return!!r&&a.createElement(ne,null,r)}_renderSpotlightView(e){var t,i;if(e.text)return a.createElement(J.A,{text:e.text,background:null===(t=e.renderAttributes)||void 0===t?void 0:t.background,animationStatus:null===(i=e.animation)||void 0===i?void 0:i.animationStatus})}_renderCallouts(e,t){let i;const n=t.length,r=(this.props.appContext.uiContext.windowFrame.width-32)/n;switch(e){case K.K.TICKER:i=a.createElement(L.A,{itemHeight:$.calculateTickerHeight(t),itemDelay:4e3,renderItem:e=>this._renderItemAtIndex(e,t[e],K.K.TICKER),itemCount:t.length});break;case K.K.LIST:i=a.createElement(q.az,{width:"100%"},t.map(((e,t)=>this._renderItemAtIndex(t,e))));break;default:i=a.createElement(q.fI,null,t.map(((e,t)=>this._renderItemAtIndex(t,e,void 0,r))))}return i}_renderItemAtIndex(e,t,i,n){const r=t.value;if(!r)return null;const o=r.imageValue,s=r.mediaValue,u=r.bgColor,{data:h}=r;return a.createElement(ae,{width:n||void 0,key:`announcement_${e}`,bg:u,isbgColor:!!u},s&&a.createElement(V.n,{sourceUrl:s.url,loop:s.loop,speed:1,autoPlay:s.autoplay,style:te}),o&&a.createElement(l.A,{imageValue:o,width:o.width?o.width:24,height:o.height?o.height:24}),a.createElement(d.A,{style:[c.C1.margin_left_8,c.C1.shrinkContent],numberOfLines:i===K.K.TICKER?1:void 0,applyFontWeightFix:!0,messages:h,textDefaultStyle:ee,useTextContainer:!0}))}isHeaderBottomBorderEnabled(){return!1}}const ee=(0,q.kE)({font:"m",color:"raw.grey.900"}),te={width:24,height:24},ie=q.fv.extendComponent({name:"SocialProofV3OuterContainer",defaultProps:{pt:"s5",pb:"s2",pr:"s6",pl:"s6"}}),ne=q.JU.extendComponent({name:"SocialProofV3GridLabel",defaultProps:{font:"m_medium",ml:"s6",mt:"s5"}}),re=q.JU.extendComponent({name:"SocialProofV3TitleLabel",defaultProps:{font:"l_medium",color:"raw.grey.900",mb:"s4"}}),ae=q.fI.extendComponent({name:"SocialProofV3CalloutContainer",defaultProps:e=>({alignItems:"center",mb:"s4",width:"100%",p:e.isbgColor?"s4":void 0,borderRadius:e.isbgColor?4:void 0})});class oe extends o.A{constructor(){super(...arguments),this._containerStyle=[c.C1.displayFlex,c.C1.flexFull,c.C1.colFlexCenter],this._defaultTextStyle=[c.XT.fontRegular_14,c.XT.fkDarkBlack,c.XT.lineHeight_20,c.XT.letterSpacing_15,c.XT.fontFamilyInter]}static getWidgetHeight(e){const t=oe.getRenderableComponents(e);if(!t||0===t.length)return 0;const i=oe.getContentCollectionPadding(e);let n=0;return i&&(n=i.top+i.bottom),o.A.getAdditionalHeight(e)+n+20}renderWidget(){const e=oe.getRenderableComponents(this.props);if(e&&0!==e.length)return a.createElement(s.View,{style:[c.C1.displayFlex,c.C1.width_full,{height:this.getWidgetContainerHeight()}]},this.renderAnnouncements(e))}getWidgetContainerHeight(){}renderDivider(){}renderItemAtIndex(e,t){const i=t[e].value;if(!i)return null;const n=i.data,r=i.bgColor||"#FFF",o=oe.getContentCollectionPadding(this.props),l=o?{paddingLeft:o.left,paddingTop:o.top,paddingRight:o.right,paddingBottom:o.bottom}:c.C1.padding12V_16H,u=this.getContainerStyle(l,r);return a.createElement(s.View,{style:u},a.createElement(d.A,{textDefaultStyle:this._defaultTextStyle,applyFontWeightFix:!0,messages:n,imageHeight:10}))}getTextStylePadding(){return c.C1.margin_horizontal_12}getContainerStyle(e,t){return[e,this._containerStyle,{backgroundColor:t}]}renderAnnouncements(e){return a.createElement(L.A,{itemHeight:oe.getWidgetHeight(this.props),itemDelay:6e3,renderItem:t=>this.renderItemAtIndex(t,e),itemCount:e.length})}static getRenderableComponents(e){const t=(0,r.xH)(e.widgetSlotData);return t&&t.renderableComponents}static getContentCollectionPadding(e){const t=(0,r.I2)(e.widgetSlotData);return t&&t.contentCollectionPadding?y.Ay.getRectFromString(t.contentCollectionPadding):void 0}}var se=i(347924);class le extends o.A{constructor(){super(...arguments),this.screenWidth=this.props.appContext.uiContext.windowFrame.width,this._defaultTextStyle=[c.XT.fontRegular_14,c.XT.fkDarkBlack],this._onPress=(e,t)=>{var i;if(this.props.actionDispatcher&&t){if(this.trackDiscoveryWidgetClickEvent(this.willCreateNewDwell(t)),"web"===s.Platform.OS&&t.loginType===D.G.LOGIN_NOT_REQUIRED&&(null===(i=t.params)||void 0===i?void 0:i.openInBottomSheet))return void this.props.actionDispatcher({type:I.Q3.SHOW_SUBPAGE,payload:new b.Oy(t)});this.props.actionDispatcher({type:I.Q3.MAPI_ACTION,payload:new b.Oy(t)})}}}static getWidgetHeight(e){const t=le.getRenderableComponents(e);if(!t||0===t.length)return 0;const i=le.getContentCollectionPadding(e);let n=0;return n=i&&0!==i.top&&0!==i.bottom?i.top+i.bottom:16,o.A.getAdditionalHeight(e)+n+10}renderWidget(){const e=le.getRenderableComponents(this.props);if(e&&0!==e.length)return a.createElement(s.View,null,this.renderAnnouncements(e))}renderDivider(){}renderItemAtIndex(e,t){const i=t[e],n=null==i?void 0:i.value;if(!n)return null;const r=null==n?void 0:n.data,o=le.getCornerRadius(this.props),s=le.getContentCollectionPadding(this.props),l=(null==n?void 0:n.bgColor)||Z.Jyk.white,u=[s?{paddingLeft:s.left,paddingTop:s.top,paddingRight:s.right,paddingBottom:s.bottom}:c.C1.padding12V_16H,{backgroundColor:l,borderRadius:o,height:le.getWidgetHeight(this.props)}],h={width:(null==i?void 0:i.action)?this.screenWidth-9-64:this.screenWidth-64};return a.createElement(E.S,{onPress:this._onPress,onPressParam:null==i?void 0:i.action,disabled:!(null==i?void 0:i.action)},a.createElement(se.eH,{style:u},r&&a.createElement(d.A,{textDefaultStyle:this._defaultTextStyle,applyFontWeightFix:!0,messages:r,imageHeight:14,style:h,ellipsizeMode:"tail",numberOfLines:1}),(null==i?void 0:i.action)&&a.createElement(w.A,{source:S.chevronBold,height:9,width:9})))}renderAnnouncements(e){var t,i;const n={backgroundColor:(null===(i=null===(t=e[0])||void 0===t?void 0:t.value)||void 0===i?void 0:i.bgColor)||Z.Jyk.white,borderRadius:le.getCornerRadius(this.props)};return e.length>=2?a.createElement(L.A,{itemHeight:le.getWidgetHeight(this.props),itemDelay:6e3,renderItem:t=>this.renderItemAtIndex(t,e),itemCount:e.length,style:n}):this.renderItemAtIndex(0,e)}static getRenderableComponents(e){const t=(0,r.xH)(e.widgetSlotData);return t&&t.renderableComponents}static getContentCollectionPadding(e){const t=(0,r.I2)(e.widgetSlotData);return(null==t?void 0:t.contentCollectionPadding)?y.Ay.getRectFromString(t.contentCollectionPadding):void 0}static getCornerRadius(e){const t=(0,r.I2)(e.widgetSlotData);return(null==t?void 0:t.contentCornerRadius)||0}}var de=i(468248),ce=i(868261);class ue extends o.A{constructor(){super(...arguments),this._defaultTextStyle=[c.C1.alignItemBaseline,c.XT.blackText,c.XT.fontRegular_14,c.XT.lineHeight_20],this.chevronStyle=[ce.n8.chevronImage,c.C1.black_tint_color],this.collapsibleContainerStyle=[c.C1.padding_left_16,c.C1.padding_right_18,c.C1.rowSpaceBetween,c.C1.padding_vertical_12,c.C1.alignItemCenter,c.C1.border_top_width_1,c.C1.color_border_separator],this.handleOtherSellersClick=(e,t)=>{t&&(this.trackDiscoveryWidgetClickEvent(this.willCreateNewDwell(t)),this.dispatchAction&&this.dispatchAction(I.Q3.MAPI_ACTION,new b.Oy(t)))}}static getWidgetHeight(){return 48}renderWidget(){const e=(0,r.xH)(this.props.widgetSlotData),t=null==e?void 0:e.renderableComponents,i=(null==t?void 0:t.length)>0?t[0]:void 0,n=null==i?void 0:i.value;if(!n)return;const{data:o}=n;return a.createElement(E.S,{onPress:this.handleOtherSellersClick,onPressParam:null==i?void 0:i.action},a.createElement(s.View,{style:this.collapsibleContainerStyle},a.createElement(d.A,{applyFontWeightFix:!0,messages:o,textDefaultStyle:this._defaultTextStyle,useTextContainer:!0}),a.createElement(w.A,{source:de.j.getChevronSrc().uri,style:this.chevronStyle,height:ce.fs,width:ce.fs})))}}class he extends o.A{constructor(){super(...arguments),this._defaultTextStyle=[c.C1.alignItemBaseline,c.XT.blackText,c.XT.fontMedium_14,c.XT.lineHeight_20],this._containerStyle=[c.C1.rowWithoutFlex,c.C1.alignItemCenter,c.C1.padding_vertical_8,c.C1.padding_horizontal_10,c.C1.mustardBackground,c.C1.border_radius_6,c.C1.margin_horizontal_16],this._formattedMessageViewStyle=[c.C1.shrinkContent,c.C1.margin_left_8]}static getWidgetHeight(){return 64}renderWidget(){const e=(0,r.nS)(this.props.widgetSlotData),t=null==e?void 0:e.data,i=null==t?void 0:t.renderableComponents,n=i&&i.length>0?i[0].value:void 0;if(!n)return;const o=n.imageValue,{data:c}=n,u=null==n?void 0:n.bgColor;return a.createElement(s.View,{style:[this._containerStyle,{backgroundColor:u}]},o&&a.createElement(l.A,{imageValue:o,width:24,height:24}),a.createElement(s.View,{style:this._formattedMessageViewStyle},a.createElement(d.A,{applyFontWeightFix:!0,messages:c,textDefaultStyle:this._defaultTextStyle,useTextContainer:!0})))}renderDivider(){}}var pe=i(700036),ge=i(521079);const me=q.fI.extendComponent({name:"WidgetViewStyles",defaultProps:{alignItems:"center",py:"s5",px:"s6",bg:"raw.blue.50",height:40}});class ve extends o.A{constructor(){super(...arguments),this._isSegmentDataAvailable=e=>{const t=pe.A.getObject("SEGMENT_DATA_AVAILABILITY");if(!t)return!1;let i=!1;return t.forEach((t=>{t.segmentIndex===e&&e&&(i=t.isDataAvailable)})),i}}static getWidgetHeight(e){const t=(0,r.Qd)(e,p.j.FLIGHT_SMB_DATA),i=pe.A.getObject("SEGMENT_DATA_AVAILABILITY");if(!i)return 0;let n=!1;return i.forEach((e=>{e.segmentIndex&&e.segmentIndex===(null==t?void 0:t.segmentIndex)&&(n=e.isDataAvailable)})),(null==t?void 0:t.currentTab)!==ge.w.SEAT_BUTTON?0:n?40:0}shouldComponentUpdate(e,t,i){const n=(0,r.Qd)(this.props,p.j.FLIGHT_SMB_DATA),a=(0,r.Qd)(e,p.j.FLIGHT_SMB_DATA),o=null==n?void 0:n.segmentIndex,s=null==a?void 0:a.segmentIndex,l=null==n?void 0:n.segments,d=null==a?void 0:a.segments;return super.shouldComponentUpdate(e,t,i)||o!==s||l!==d||this._isTabChanged(n,a)}_isTabChanged(e,t){return(null==e?void 0:e.currentTab)!==(null==t?void 0:t.currentTab)}renderWidget(){var e;const t=(0,r.Qd)(this.props,p.j.FLIGHT_SMB_DATA);if((null==t?void 0:t.currentTab)!==ge.w.SEAT_BUTTON)return;const i=(0,r.xH)(this.props.widgetSlotData),n=null==i?void 0:i.renderableComponents,o=n&&n[0].value;if(!o)return;const s=o.imageValue,{data:d}=o,c=null===(e=null==d?void 0:d.data[0])||void 0===e?void 0:e.value,u=(0,r.Qd)(this.props,p.j.FLIGHT_SMB_DATA);return this._isSegmentDataAvailable(null==u?void 0:u.segmentIndex)?a.createElement(me,null,a.createElement(q.fv,{pr:"s3"},s&&a.createElement(l.A,{imageValue:s,width:24,height:24})),a.createElement(q.fv,null,c&&c.text&&a.createElement(q.JU,{font:"s"}," ",c.text))):void 0}renderDivider(){}}var _e=i(463528);class Ce extends o.A{constructor(){super(...arguments),this._onClick=(e,t)=>{t&&(this.dispatchAction(I.Q3.MAPI_ACTION,new b.Oy(t)),this.trackDiscoveryWidgetClickEvent(this.willCreateNewDwell(t)))}}static getWidgetHeight(){return 84}renderWidget(){var e,t,i,n,o,s,d,c,u,h,p,g,m;const v=null===(i=null===(t=null===(e=(0,r.nS)(this.props.widgetSlotData))||void 0===e?void 0:e.data)||void 0===t?void 0:t.renderableComponents)||void 0===i?void 0:i[0],_=null==v?void 0:v.value;if(!_)return;const C=_.imageValue,E=null===(s=null===(o=null===(n=_.data)||void 0===n?void 0:n.data)||void 0===o?void 0:o[0])||void 0===s?void 0:s.value,T=null===(u=null===(c=null===(d=_.data)||void 0===d?void 0:d.data)||void 0===c?void 0:c[1])||void 0===u?void 0:u.value,f=null===(g=null===(p=null===(h=_.data)||void 0===h?void 0:h.data)||void 0===p?void 0:p[2])||void 0===g?void 0:g.value,A=null===(m=null==E?void 0:E.style)||void 0===m?void 0:m.fontWeight;return a.createElement(Ee,{style:{backgroundColor:_.bgColor}},C&&a.createElement(l.A,{imageValue:C,width:24,height:24}),a.createElement(Te,null,a.createElement(q.JU,{font:"bold"===A?"m_medium":"m",color:"v2.neutral.900"},null==E?void 0:E.text),a.createElement(q.JU,null,a.createElement(q.JU,{font:"s",color:"v2.neutral.900"},null==T?void 0:T.text),a.createElement(_e.A,{onTextPress:this._onClick,onPressParam:null==v?void 0:v.action,font:"s",style:{color:null==f?void 0:f.textColor}},null==f?void 0:f.text))))}renderDivider(){}}const Ee=q.az.extendComponent({name:"HighReturnsWidgetContainer",defaultProps:{flexDirection:"row",alignItems:"center",p:"s5",m:"s5"}}),Te=q.az.extendComponent({name:"TextContainer",defaultProps:{mr:"s6",flexShrink:1,ml:"s4"}});var fe=i(110941),Ae=i(279494);const Se="360:40";let ye=24;let we=40;class Ie extends o.A{constructor(){super(...arguments),this._defaultTextStyle=[c.XT.fontRegular_14,c.XT.whiteColor,c.XT.lineHeight_40]}static getWidgetHeight(e){const t=e.appContext.uiContext.getDimension("window").width;return Math.max(40,fe.A.getHeight(t-16,Se,40))}renderWidget(){var e;const t=(0,r.nS)(this.props.widgetSlotData),i=(0,r.xH)(this.props.widgetSlotData),n=Ie.getRenderableComponents(this.props),o=null==i?void 0:i.icon,d=null==i?void 0:i.bgLottie,u=this.props.appContext.uiContext.getDimension("window").width,h=null!==(e=null==d?void 0:d.aspectRatio)&&void 0!==e?e:Se;we=Math.max(40,fe.A.getHeight(u-16,h,40)),ye=we-16;const p=null==t?void 0:t.widgetAttributes,g=(null==p?void 0:p.contentCornerRadius)?p.contentCornerRadius:0;if(!n||0===n.length)return;const m=Ie.getRenderableLotties(this.props),v=[c.C1.padding8V,c.C1.padding8H,c.C1.justifyContentStart,c.C1.alignItemCenter,{borderRadius:g,height:ye}],_=[c.C1.absoluteTopLeft,{width:"100%",height:we}],C=[c.C1.margin_right_12,{width:ye}],E=[c.C1.margin_left_16,{height:we}],T=u-64-(ye+(o?ye:0));return a.createElement(q.az,{borderTopLeftRadius:4,borderBottomLeftRadius:4,justifyContent:"center",style:E},a.createElement(s.View,{style:_},d&&this.renderbgLottie(d)),a.createElement(q.fI,{style:v},a.createElement(s.View,{style:C},m&&this.renderLottieTicker(m)),a.createElement(s.View,{style:{width:T}},n&&this.renderAnnouncements(n)),o&&a.createElement(l.A,{imageValue:o,height:ye,width:ye})))}renderDivider(){}renderItemAtIndex(e,t){const i=t[e],n=null==i?void 0:i.value,r=[c.C1.row,c.C1.alignItemCenter,{height:we}];if(!n)return null;const o=null==n?void 0:n.data;return a.createElement(s.View,{style:r},o&&a.createElement(d.A,{textDefaultStyle:this._defaultTextStyle,applyFontWeightFix:!0,messages:o,ellipsizeMode:"tail",numberOfLines:1,useTextContainer:!0,useInline:!0,style:{height:we}}))}renderLottieAtIndex(e,t){const i=t[e],n=fe.A.getWidth(ye,null==i?void 0:i.aspectRatio,ye),r={height:ye,width:n};return i?a.createElement(s.View,null,(null==i?void 0:i.url)&&(0,Ae.Z)()&&a.createElement(V.n,{loop:!0,autoPlay:!0,enableUserInteraction:!1,speed:1,style:r,sourceUrl:null==i?void 0:i.url})||(null==i?void 0:i.thumbnailImage)&&this.renderThumbnailImage(i.thumbnailImage,n,ye)):null}renderAnnouncements(e){return a.createElement(L.A,{itemHeight:we,itemDelay:6e3,style:c.C1.centerContents,renderItem:t=>this.renderItemAtIndex(t,e),itemCount:e.length})}renderLottieTicker(e){return a.createElement(L.A,{itemHeight:ye,itemDelay:6e3,renderItem:t=>this.renderLottieAtIndex(t,e),itemCount:e.length,style:c.C1.centerContents})}renderbgLottie(e){const t=this.props.appContext.uiContext.getDimension("window").width-16,i={width:t,height:we};return e.url&&(0,Ae.Z)()&&a.createElement(V.n,{loop:null==e?void 0:e.loop,autoPlay:null==e?void 0:e.autoplay,enableUserInteraction:null==e?void 0:e.enableUserInteraction,speed:1,style:i,sourceUrl:null==e?void 0:e.url})||(null==e?void 0:e.thumbnailImage)&&this.renderThumbnailImage(e.thumbnailImage,t,we)}renderThumbnailImage(e,t,i){return a.createElement(l.A,{height:i,width:t,imageValue:e})}static getRenderableComponents(e){const t=(0,r.xH)(e.widgetSlotData);return null==t?void 0:t.renderableComponents}static getRenderableLotties(e){const t=(0,r.xH)(e.widgetSlotData);return null==t?void 0:t.renderableLotties}}class be extends o.A{constructor(){super(...arguments),this._onClick=(e,t)=>{var i;if(t){this.trackDiscoveryContentClickEvent(t.tracking,this.willCreateNewDwell(t));const e=s.Platform.OS===be.WEB&&(null===(i=t.params)||void 0===i?void 0:i.isSubPage)?B.A.SHOW_SUBPAGE:B.A.MAPI_ACTION;this.dispatchAction(e,new b.Oy(t))}}}static getWidgetHeight(){return 48}renderWidget(){const e=(0,r.xH)(this.props.widgetSlotData);if(!e)return;const t=null==e?void 0:e.renderableComponents,i=t&&t.length>0?t[0]:void 0,n=null==i?void 0:i.value,o=null==i?void 0:i.action;if(!n||!o)return;const{data:s,mediaValue:l,imageValue:c}=n;return a.createElement(E.S,{onPressParam:o,onPress:this._onClick,disableFeedback:!0},a.createElement(q.fI,{alignItems:"center",justifyContent:"space-between",m:"s6"},a.createElement(q.fI,{alignItems:"center"},l&&a.createElement(q.az,null,a.createElement(V.n,{speed:1,loop:l.loop,autoPlay:l.autoplay,sourceUrl:l.url,style:{width:be.LOTTIE_DIMENSIONS,height:be.LOTTIE_DIMENSIONS}})),s&&a.createElement(q.az,{ml:"s4"},a.createElement(d.A,{messages:s}))),c&&a.createElement(q.az,{width:be.CHEVRON_SIZE},a.createElement(w.A,{source:c.dynamicImageUrl,width:c.width||be.CHEVRON_SIZE,height:c.height||be.CHEVRON_SIZE}))))}renderDivider(){}}be.CHEVRON_SIZE=16,be.LOTTIE_DIMENSIONS=32,be.WEB="web";class De extends o.A{constructor(){super(...arguments),this._defaultTextStyle=[c.C1.alignItemBaseline,c.XT.blackText,c.XT.fontRegular_12,c.XT.lineHeight_16]}static getWidgetHeight(){return 32}renderWidget(){const e=(0,r.nS)(this.props.widgetSlotData),t=e&&e.data,i=t&&t.renderableComponents;if(!i)return;const n=i[0].value;if(!n)return;const o=n.imageValue,{data:s}=n;return a.createElement(se.fI,{alignItems:"center",px:"s4",py:"s6"},!!o&&a.createElement(l.A,{imageValue:o,width:16,height:16}),a.createElement(se.az,{marginRight:"s6",flexShrink:1,marginLeft:"s2"},a.createElement(d.A,{applyFontWeightFix:!0,messages:s,textDefaultStyle:this._defaultTextStyle,useTextContainer:!0})))}}class xe extends oe{constructor(){super(...arguments),this._containerLeftAlignedStyle=[c.C1.displayFlex,c.C1.colFlexStart]}static getWidgetHeight(e){const t=(0,r.nS)(e.widgetSlotData);return(null==t?void 0:t.data)?44+o.A.getAdditionalHeight(e):0}getContainerStyle(e,t){return[e,this._containerLeftAlignedStyle,{backgroundColor:t,borderRadius:xe.getCornerRadius(this.props)},c.C1.justifyContentCenter]}getTextStylePadding(){}getWidgetContainerHeight(){return 44}static getCornerRadius(e){const t=(0,r.I2)(e.widgetSlotData);return(null==t?void 0:t.contentCornerRadius)||0}}class Pe extends v{getContentCollectionPadding(e){const t=(0,r.I2)(e.widgetSlotData),i=null==t?void 0:t.contentCollectionPadding,n=i?y.Ay.getRectFromString(i):void 0;if(n)return{paddingLeft:n.left,paddingTop:n.top,paddingRight:n.right,paddingBottom:n.bottom}}renderDivider(){}static getWidgetHeight(e){let t=Pe.TITLE_HEIGHT;const i=(0,r.I2)(e.widgetSlotData),n=null==i?void 0:i.contentCollectionPadding,a=n?y.Ay.getRectFromString(n):void 0;return(null==a?void 0:a.top)&&(t+=null==a?void 0:a.top),(null==a?void 0:a.bottom)&&(t+=null==a?void 0:a.bottom),t}}Pe.TITLE_HEIGHT=20;var Oe=i(693267);class Re{static mapJustifyContent(e){if(!e)return"center";switch(e){case Oe.A.flexStart:return"flex-start";case Oe.A.flexEnd:return"flex-end";case Oe.A.spaceBetween:return"space-between";case Oe.A.spaceAround:return"space-around";case Oe.A.spaceEvenly:return"space-evenly";default:return"center"}}}var ke=i(102913),Ve=i(876505),Le=i(721503);class Me extends o.A{constructor(){super(...arguments),this._actionClicked=e=>{e&&(this.dispatchMAPIIndexedAction(e),e.tracking&&this.trackDiscoveryContentClickEvent(e.tracking))}}getDerivedState(e,t){var i;return Object.assign(Object.assign({},super.getDerivedState(e,t)),{renderableComponents:null!==(i=Me.getRenderableComponents(e))&&void 0!==i?i:[]})}shouldComponentUpdate(e,t,i){const n=this.state.renderableComponents,r=Me.getRenderableComponents(e);return super.shouldComponentUpdate(e,t,i)||n!==r}static getWidgetHeight(e){const t=Me.getRenderableComponents(e);if(!t||0===t.length)return 0;return o.A.getAdditionalHeight(e)+16+this.findIconImageHeight(t)}renderWidget(){const e=this.state.renderableComponents,t=Me.getBackgroundColor(this.props);if(0!==e.length)return a.createElement(se.az,{width:"100%"},this.renderAnnouncements(e,t))}renderDivider(){}getDCIData(e){if(e){const t=new O.Ay(e);return Le.A.createNewInstance((0,g.KQ)(),t)}}renderItemAtIndex(e,t){if(e>=t.length)return null;const i=t[e],n=i.value;if(!n)return null;const r=i.action,o=n.data,s=n.subData,u=n.bgColor,h=n.calloutContainerStyle,p=n.imageValue,g=Re.mapJustifyContent(null==n?void 0:n.justifyContent),m=Me.isUseTextContainer(o),v=i.tracking;return a.createElement(Ve.A,{trackingInfo:this.getDCIData(v)},a.createElement(ke.h1,{onPress:()=>this._actionClicked(r)},a.createElement(ke.eH,{key:`announcement_${e}`,padding:"s4",style:h,bg:u},a.createElement(He,{justifyContent:g},p&&o&&a.createElement(l.A,{style:c.C1.margin_horizontal_6,imageValue:p,width:20,height:20}),a.createElement(d.A,{textDefaultStyle:Ne,numberOfLines:1,applyFontWeightFix:!0,messages:o,imageHeight:20,useTextContainer:m,allowFontScaling:!1})),s&&a.createElement(d.A,{textDefaultStyle:Ne,numberOfLines:1,applyFontWeightFix:!0,messages:s,imageHeight:20,allowFontScaling:!1}))))}renderAnnouncements(e,t){return a.createElement(L.A,{itemHeight:Me.getWidgetHeight(this.props),itemDelay:3e3,renderItem:t=>this.renderItemAtIndex(t,e),itemCount:e.length,style:{backgroundColor:t},computeIndexValueOnRender:!0})}static getRenderableComponents(e){const t=(0,r.xH)(e.widgetSlotData);return t&&t.renderableComponents}static getBackgroundColor(e){const t=(0,r.xH)(e.widgetSlotData),i=null==t?void 0:t.gradientBgColor;return null==i?void 0:i[0]}static findIconImageHeight(e){var t;let i=20;for(const n of e)if(null===(t=null==n?void 0:n.value)||void 0===t?void 0:t.imageValue){const e=n.value.imageValue.height;e>i&&(i=e)}return i}static isUseTextContainer(e){const t=null==e?void 0:e.data;return!t||0===(null==t?void 0:t.length)||!t.some((e=>"FormattedImageData"===e.type))}}const Ne=(0,se.kE)({font:"m",color:"raw.grey.900"}),He=ke.eH.extendComponent({name:"ReasonToBuyCalloutContainer",defaultProps:{flex:1}}),We=q.JU.extendComponent({name:"FormattedAnnouncementV2Text ",defaultProps:{color:"v2.neutral.700",font:"s_medium",flexDirection:"row",justifyContent:"center",alignItems:"center"}}),Be=q.xM.extendComponent({name:"FormattedAnnouncementV2MessageView",defaultProps:{px:"s6",alignItems:"center",borderColor:"#E4E7ED",borderTopWidth:1}});class Ue extends v{static getWidgetHeight(e){return super.getWidgetHeight(e)-22}renderWidget(){const e=this._getAnnouncementValue(this.props),t=null==e?void 0:e.data.data[0].value.text;if(t)return a.createElement(Be,null,a.createElement(We,null,t))}renderDivider(){}}class Fe extends o.A{static getWidgetHeight(e){return 49}renderDivider(){}renderWidget(){var e,t;const i=(0,r.xH)(this.props.widgetSlotData),n=null===(e=null==i?void 0:i.renderableComponents)||void 0===e?void 0:e[0],o=null===(t=null==n?void 0:n.value)||void 0===t?void 0:t.data;return o?a.createElement(q.az,{py:"s6",px:"s6"},a.createElement(d.A,{messages:o})):void 0}}var Ge,ze=i(915742),je=i(912830),Xe=i(37114);!function(e){e.TOP_DISCOUNT_OF_THE_SALE="Top Discount of the Sale",e.OTHERS="OTHERS"}(Ge||(Ge={}));const Ye=S.dealTagonPPLottie;class qe extends o.A{constructor(e,t){super(e,t),this._lottieStyle=[{width:36,height:36},c.C1.margin_right_6],this._badgeHeight=new s.Animated.Value(48),this.lottieRef=a.createRef(),this._screenWidth=s.Dimensions.get("window").width,this._onTimerLayout=e=>{this.timerLayoutWidth=e.nativeEvent.layout.width,this.saleTagLayoutWidth+this.timerLayoutWidth>this._screenWidth-34&&this.setState({showTimer:!1})},this._onSaleTagLayout=e=>{this.saleTagLayoutWidth=e.nativeEvent.layout.width},this._getMultiCondition=()=>[new W.D_("PPTaginViewport",8e3,100,this.startAnimation)],this._onCountDownTimerFinished=()=>{this.setState({showTimer:!1})},this.startAnimation=()=>{s.Animated.parallel([s.Animated.timing(this._badgeHeight,{toValue:0,duration:500,useNativeDriver:!1})]).start()},this.timerLayoutWidth=0,this.saleTagLayoutWidth=0,this.state=Object.assign(Object.assign({},super.getDerivedState(e,void 0)),{showTimer:!0})}static getWidgetHeight(){return 48}componentDidMount(){setTimeout((()=>{var e,t,i;null===(i=null===(t=null===(e=this.lottieRef)||void 0===e?void 0:e.current)||void 0===t?void 0:t.play)||void 0===i||i.call(t)}),1e3)}shouldComponentUpdate(e,t,i){return this.state.showTimer!==t.showTimer||super.shouldComponentUpdate(e,t,i)}renderWidget(){var e,t,i,n,o,l,d,u,h,p,g,m,v,_,C,E,T;const f=(0,r.nS)(this.props.widgetSlotData),A=null==f?void 0:f.data,S=null==A?void 0:A.renderableComponents;if(!S)return;const y=null===(i=null===(t=null===(e=null==S?void 0:S[0])||void 0===e?void 0:e.value)||void 0===t?void 0:t.data)||void 0===i?void 0:i.data;if(!y)return;const w=null===(o=null===(n=null==y?void 0:y[0])||void 0===n?void 0:n.value)||void 0===o?void 0:o.text,I=null===(d=null===(l=null==y?void 0:y[2])||void 0===l?void 0:l.value)||void 0===d?void 0:d.endTime;if(!w)return;let b=Ye;const D=M.Ay.getSaleTagOnPPConfig(),x=(0,Xe.m)(null===(u=this.props.pageInfo)||void 0===u?void 0:u.layoutParams),P=this._convertToSnakeCase(w);b=null!==(p=null!==(h=null==D?void 0:D[P])&&void 0!==h?h:null==D?void 0:D.default_lottie)&&void 0!==p?p:b;const O=a.createElement(q.fI,{alignItems:"center",alignSelf:"center",onLayout:this._onSaleTagLayout},a.createElement(V.n,{ref:this.lottieRef,sourceUrl:b,speed:1,style:this._lottieStyle,cacheStrategy:"strong",loop:!0}),a.createElement(q.JU,{ellipsizeMode:"tail",numberOfLines:1,font:"m_medium",color:null!==(g=null==D?void 0:D.saleTagTextColor)&&void 0!==g?g:"common.black"},w)),R=this.state.showTimer&&(null==D?void 0:D.showTimerIfEligible)&&I&&I-Date.now()>0&&a.createElement(q.az,{onLayout:this._onTimerLayout},a.createElement(ze.Ay,{style:[c.XT.fontMedium_14,{color:null!==(m=null==D?void 0:D.timerTextColor)&&void 0!==m?m:Z.Jyk.black}],timestampInMillis:I-Date.now(),onCountDownFinish:this._onCountDownTimerFinished,timerType:je.De.HIDE_SECONDS_BEFORE_SPACE}));return a.createElement(W.Ay,{conditions:this._getMultiCondition()},a.createElement(s.Animated.View,{style:[{height:this._badgeHeight.interpolate({inputRange:[0,1],outputRange:[0,1]}),backgroundColor:null!==(T=null!==(E=null===(C=null===(_=null===(v=null==x?void 0:x.color)||void 0===v?void 0:v.custom)||void 0===_?void 0:_.saleTagBGColor)||void 0===C?void 0:C.hex)&&void 0!==E?E:null==D?void 0:D.saleTagBGColor)&&void 0!==T?T:Z.Jyk.backgroundLightPink},c.C1.margin_bottom_8,c.C1.overflowHidden]},a.createElement(Je,null,a.createElement(Ke,null,O,R))))}renderDivider(){}_convertToSnakeCase(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,"")}}const Je=q.az.extendComponent({name:"DeliveryDelightOuterContainer",defaultProps:()=>({justifyContent:"center"})}),Ke=q.fI.extendComponent({name:"DeliveryDelightInnerContainer",defaultProps:()=>({alignContent:"center",alignItems:"center",justifyContent:"space-between",mx:"s5",py:"s4"})});var Qe=i(163256);class Ze extends Qe.o{static getWidgetHeight(){return 44}renderWidget(){var e,t,i,n,o,s;const l=(0,r.xH)(this.props.widgetSlotData),d=l.counter||0,c=l.initialValue||0,u=null===(e=null==l?void 0:l.renderableComponents)||void 0===e?void 0:e[0],h=null==u?void 0:u.action,p=null===(s=null===(o=null===(n=null===(i=null===(t=null==u?void 0:u.value)||void 0===t?void 0:t.data)||void 0===i?void 0:i.data)||void 0===n?void 0:n[0])||void 0===o?void 0:o.value)||void 0===s?void 0:s.text;if(!u)return;const g=d===c&&c>0?S.checkboxDarkBlueChecked:d>0&&d<c?S.checkboxPartialDarkBlue:S.checkboxDarkGreyUnchecked,m=d===c&&c>0||d>0&&d<c;return a.createElement($e,null,a.createElement(E.S,{onPress:()=>{h&&this.dispatchAction(T.Q3.MAPI_ACTION,new b.Oy(h))},disableFeedback:!1},a.createElement(se.az,{borderColor:"raw.grey.400",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"common.white",borderWidth:1,width:20,height:20,borderRadius:2,mr:"s4"},m&&a.createElement(w.A,{key:g,source:g,height:20,width:20}))),a.createElement(se.JU,{font:"m"},`${d}/${c} ${p}`))}}const $e=se.fI.extendComponent({name:"WidgetViewStyles",defaultProps:{alignItems:"center",py:"s5",px:"s6",height:44}});class et extends o.A{constructor(){super(...arguments),this._defaultTextStyle=[c.C1.alignItemBaseline,c.XT.blackText,c.XT.fontRegular_12,c.XT.lineHeight_16],this.onClick=(e,t)=>{t&&this.dispatchAction(I.Q3.MAPI_ACTION,new b.Oy(t))}}static getWidgetHeight(e){return 26+o.A.getAdditionalHeight(e)}renderWidget(){const e=(0,r.nS)(this.props.widgetSlotData),t=e&&e.data,i=t&&t.renderableComponents;if(!i||0===i.length)return;const n=i[0],{action:o,value:s}=n;if(!s)return;const{data:l}=s;return a.createElement(se.az,{px:"s6",py:"s2"},a.createElement(se.SB,{onPress:this.onClick,onPressParam:o},a.createElement(d.A,{applyFontWeightFix:!0,messages:l,textDefaultStyle:this._defaultTextStyle})))}renderDivider(){}}class tt extends o.A{static getWidgetHeight(e){return 56}renderWidget(){const e=(0,r.nS)(this.props.widgetSlotData),t=null==e?void 0:e.data,i=null==t?void 0:t.title;return a.createElement(q.az,{height:56,px:"s5",justifyContent:"center"},a.createElement(q.fI,{alignItems:"center"},a.createElement(q.JU,{font:"l_medium"},i)))}}var it=i(915070),nt=i(529548);class rt extends it.default{static getWidgetHeight(e){return 42}renderWidget(){var e,t,i,n,o,s,l;const d=(0,r.nS)(this.props.widgetSlotData),c=null==d?void 0:d.data,u=null===(s=null===(o=null===(n=null===(i=null===(t=null===(e=null==c?void 0:c.renderableComponents)||void 0===e?void 0:e[0].value)||void 0===t?void 0:t.data)||void 0===i?void 0:i.data)||void 0===n?void 0:n[0])||void 0===o?void 0:o.value)||void 0===s?void 0:s.text,h=null===(l=null==c?void 0:c.renderableComponents)||void 0===l?void 0:l[0].action;return a.createElement(q.az,{p:"s5",bg:"common.white"},a.createElement(E.S,{onPress:this.onClick,onPressParam:h,disableFeedback:!h},a.createElement(q.az,{height:36,width:"100%",alignItems:"center",justifyContent:"center",borderWidth:1,borderRadius:4,borderColor:T.Jy.darkGrey_7},a.createElement(q.JU,{font:"m_medium",color:"raw.blue.500"},u))))}renderDivider(){}applyLayoutDetailsToWidget(e){let t=(0,r.lf)(this.props.widgetSlotData);return nt.A.apply(t,e,!1,this.props.appContext.isDlsScreen)}}class at extends v{constructor(){super(...arguments),this.onClick=(e,t)=>{t&&(t.type===I.Q3.BROWSER_NAVIGATION?this.dispatchAction(I.Q3.BROWSER_NAVIGATION,t):this.dispatchMAPIIndexedAction(t))}}renderWidget(){const e=this.getMessagesData(this.props);if(!e)return;const t=e?e.length-1:-1;return a.createElement(s.View,Object.assign({},(0,m.Z)("FormattedAnnouncement"),{style:u.py.announcementContainer}),a.createElement(s.View,{style:u.aU.messageView},e&&e.map(((e,i)=>i===t?a.createElement(E.S,{key:i,disableFeedback:!0,onPress:this.onClick,onPressParam:e.action},e&&e.value&&a.createElement(d.A,{messages:e.value.data,textDefaultStyle:this._defaultTextStyle})):e&&e.value&&a.createElement(d.A,{key:i,messages:e.value.data,textDefaultStyle:this._defaultTextStyle})))))}getMessagesData(e){const t=(0,r.nS)(e.widgetSlotData),i=null==t?void 0:t.data;return null==i?void 0:i.renderableComponents}}var ot=i(727e3);class st extends o.A{static getWidgetHeight(){return 48}renderWidget(){var e,t;const i=(0,r.nS)(this.props.widgetSlotData),n=null==i?void 0:i.data,o=null==n?void 0:n.title,s=null==n?void 0:n.renderableComponents;if(!o||!s||0===s.length)return;const d=null===(t=null===(e=s[0])||void 0===e?void 0:e.value)||void 0===t?void 0:t.imageValue,c={flexDirection:"row",alignItems:"center",bg:"v2.storeFront.turquoise.50",px:"s6",py:"s5",borderTopWidth:0,borderBottomWidth:0},u={font:"m_medium",ml:"s6",color:"common.black"};return a.createElement(ot.w.Consumer,null,(e=>{var t,i,n,r,s,h;const p=this.getPageTheme()===Xe.S.FAST_FASHION,g=p?"common.black":"v2.storeFront.turquoise.50",m=p?"common.white":"common.black",v=e&&p?Object.assign(Object.assign({},c),{bg:g,borderColor:null===(h=null===(s=null===(r=null===(n=null===(i=null===(t=this.props)||void 0===t?void 0:t.themeContext)||void 0===i?void 0:i.color)||void 0===n?void 0:n.default)||void 0===r?void 0:r.divider)||void 0===s?void 0:s.primary)||void 0===h?void 0:h.hex,borderTopWidth:1,borderBottomWidth:1}):c,_=p?Object.assign(Object.assign({},u),{color:m}):u;return a.createElement(se.xM,Object.assign({},v),d&&a.createElement(l.A,{imageValue:d,width:24,height:24}),a.createElement(se.JU,Object.assign({},_),o))}))}renderDivider(){}}var lt=i(670563),dt=i(690423);class ct extends o.A{constructor(){super(...arguments),this._onButtonClick=(e,t)=>{t&&this.dispatchAction(I.Q3.MAPI_ACTION,new b.rs(t)),this.trackDiscoveryWidgetClickEvent(this.willCreateNewDwell(t)),this._triggerPPBSSEEvent(t)},this._triggerPPBSSEEvent=e=>{var t;if(!e)return;const i=dt.A.getAggregatedCTATransientDataFromProps(this.props);if(i){const n={cartContext:dt.A.getCartContextFromCTATransientData(i)};this.trackDGEvent(new H.YUY(null===(t=e.tracking)||void 0===t?void 0:t.ctaAction,n))}}}static getWidgetHeight(){return ct.WIDGET_HEIGHT}renderWidget(){var e,t,i,n,o,s,l,d,c;const u=(0,r.xH)(this.props.widgetSlotData),h=null===(t=null===(e=null==u?void 0:u.renderableComponents)||void 0===e?void 0:e[0])||void 0===t?void 0:t.value;if(!h)return;const p=null===(s=null===(o=null===(n=null===(i=null==h?void 0:h.data)||void 0===i?void 0:i.data)||void 0===n?void 0:n[0])||void 0===o?void 0:o.value)||void 0===s?void 0:s.text,g=null===(d=null===(l=null==u?void 0:u.spotlight)||void 0===l?void 0:l.value)||void 0===d?void 0:d.text,m=null===(c=null==u?void 0:u.spotlight)||void 0===c?void 0:c.action;return p||g?a.createElement(se.fI,{padding:"s6",paddingBottom:"s8",justifyContent:"space-between",alignItems:"center"},p&&a.createElement(se.JU,{style:ct.TITLE_STYLE},p),g&&a.createElement(E.S,{onPress:this._onButtonClick,onPressParam:m,disableFeedback:!1},a.createElement(se.JU,{style:ct.CTA_STYLE},g))):void 0}}ct.WIDGET_HEIGHT=64,ct.TITLE_STYLE=[c.XT.fontFamilyInterSemiBold_16,c.XT.lineHeight_24],ct.CTA_STYLE=[c.XT.fontFamilyInterSemiBold_12,c.XT.lineHeight_18,{color:lt.Jy.royalBlue}];var ut=i(495176),ht=i(699730),pt=i(821877);class gt extends o.A{renderWidget(){var e;const t=(0,r.nS)(this.props.widgetSlotData);if(!t)return;const i=t.data,n=null==i?void 0:i.renderableComponents;if(!(null==n?void 0:n.length))return;const o=null===(e=n[0].value)||void 0===e?void 0:e.data;return o&&o.data.length?a.createElement(ht.Fb,null,a.createElement(ht.cx,null,a.createElement(ht.fK,null,(0,pt.aQ)(o.data[0].value,26)),a.createElement(ut.A,{richTextData:o.data[1].value})),a.createElement(q.az,{pt:"s6"},a.createElement(ut.A,{richTextData:o.data[2].value}))):void 0}}var mt=i(241598),vt=i(624801);function _t(e){var t,i,n;return e&&"FormattedAnnouncementValue"===(null===(n=null===(i=null===(t=null==e?void 0:e.renderableComponents)||void 0===t?void 0:t[0])||void 0===i?void 0:i.value)||void 0===n?void 0:n.type)}const Ct=mt.fI.extendComponent({defaultProps:{bg:"backgroundSubtle.neutral.group",borderRadius:vt.CRKeysBasic.cr8,mx:"s6",my:"s5",p:"s4",justifyContent:"flex-start"},name:"FormattedAnnouncementContainer"});class Et extends o.A{renderWidget(){const e=(0,r.xH)(this.props.widgetSlotData),t=_t(e)?e:void 0;if(!t)return;const i=t.renderableComponents;return a.createElement(mt.az,null,null==i?void 0:i.map(((e,t)=>a.createElement(mt.az,{key:String(t)},this.renderItem(e)))))}renderItem(e){const t=e.value;if(!t)return;const{hideImage:i,imageValue:n}=t,r=!!i,{height:o,width:s}=Tt.imageStyle;return a.createElement(Ct,null,!r&&n?a.createElement(l.A,{width:o,height:s,imageValue:n,style:Tt.imageStyle}):null,a.createElement(mt.fv,null,a.createElement(d.A,{useInline:!1,messages:t.data,textDefaultStyle:Tt.heading}),t.subData?a.createElement(d.A,{useInline:!1,messages:t.subData,textDefaultStyle:Tt.subdata}):null))}static getWidgetHeight(e){var t,i;const n=(0,r.xH)(e.widgetSlotData),a=_t(n)?n:void 0;return a?76*(null!==(i=null===(t=null==a?void 0:a.renderableComponents)||void 0===t?void 0:t.length)&&void 0!==i?i:0):0}}const Tt=s.StyleSheet.create({imageStyle:{width:32,height:32,marginRight:8},heading:{fontSize:14,fontFamily:"inter_bold",lineHeight:18},subdata:{fontSize:14,fontFamily:"inter_regular",lineHeight:18,marginTop:8,marginRight:8,paddingRight:8,width:"90%"}});var ft=i(198213);class At extends v{static getWidgetHeight(e){return 64}renderDivider(){}renderWidget(){var e,t,i,n,r,o;const l=this._getAnnouncementValue(this.props);if(l)return a.createElement(s.View,{style:[c.C1.margin_top_16,c.C1.margin_left_16,c.C1.margin_right_16,c.C1.border_radius_8,c.C1.overflowHidden]},a.createElement(z.W,{gradientColors:[null!==(i=null===(t=null===(e=l.containerStyle)||void 0===e?void 0:e.gradient)||void 0===t?void 0:t.startBleedingColor)&&void 0!==i?i:"#DDFBF0",null!==(o=null===(r=null===(n=l.containerStyle)||void 0===n?void 0:n.gradient)||void 0===r?void 0:r.stopBleedingColor)&&void 0!==o?o:"#DFF0FF"],gradientStart:j._.LEFT,gradientEnd:j._.RIGHT,renderInWeb:!0},a.createElement(s.View,{style:[c.C1.row,c.C1.justifyContentSpaceBetween]},a.createElement(s.View,{style:[c.C1.padding_left_12,c.C1.padding_top_12,c.C1.padding_bottom_12]},l.data?a.createElement(d.A,{messages:l.data,textDefaultStyle:St.data}):null,l.subData?a.createElement(d.A,{messages:l.subData,textDefaultStyle:St.subdata,style:c.C1.padding_top_4}):null),a.createElement(s.View,{style:[c.C1.padding_right_16,c.C1.justifyContentCenter]},l.imageValue?a.createElement(ft.Dk,{source:l.imageValue.dynamicImageUrl,width:l.imageValue.width,height:l.imageValue.height}):null))))}}const St=s.StyleSheet.create({data:{fontSize:14,fontFamily:"inter_bold",lineHeight:18,color:lt.Jy.green600},subdata:{fontSize:12,fontFamily:"inter_regular",lineHeight:16,color:lt.Jy.successGreen}});var yt;!function(e){e.TOBACCO_ANNOUNCEMENT="TOBACCO_ANNOUNCEMENT",e.POTENTIAL_COIN_ANNOUNCEMENT="POTENTIAL_COIN_ANNOUNCEMENT",e.REWARD_PAYMENT_ANNOUNCEMENT="REWARD_PAYMENT_ANNOUNCEMENT",e.REWARD_SUMMARY_CONDITIONS="REWARD_SUMMARY_CONDITIONS",e.REWARD_CONFIRMATION_CONDITIONS="REWARD_CONFIRMATION_CONDITIONS",e.CNC_SAVE_ANNOUNCEMENT="CNC_SAVE_ANNOUNCEMENT",e.REWARD_UNIFIED_VIEW="REWARD_UNIFIED_VIEW",e.SOCIAL_PROOF_ANNOUNCEMENT="SOCIAL_PROOF_ANNOUNCEMENT",e.SOCIAL_PROOF_ANNOUNCEMENT_V2="SOCIAL_PROOF_ANNOUNCEMENT_V2",e.SOCIAL_PROOF_ANNOUNCEMENT_V3="SOCIAL_PROOF_ANNOUNCEMENT_V3",e.TRAVEL_HOME_PAGE_SUPER_COIN="TRAVEL_HOME_PAGE_SUPER_COIN",e.VERTICAL_SCROLLING_ANNOUNCEMENT="VERTICAL_SCROLLING_ANNOUNCEMENT",e.LEFT_ALIGNED_ANNOUNCEMENT="LEFT_ALIGNED_ANNOUNCEMENT",e.VERTICAL_SCROLLING_CLICKABLE_ANNOUNCEMENT="VERTICAL_SCROLLING_CLICKABLE_ANNOUNCEMENT",e.SELLER_CALLOUT="SELLER_CALLOUT",e.SELECTIVE_CHECKOUT="SELECTIVE_CHECKOUT",e.SEATS_NOTE="SEATS_NOTE",e.HIGH_RETURN_CALLOUT="HIGH_RETURN_CALLOUT",e.SOCIAL_PROOF_TICKER="SOCIAL_PROOF_TICKER",e.SUPERCOIN_EXPIRY_ANNOUNCEMENT="SUPERCOIN_EXPIRY_ANNOUNCEMENT",e.GB_SAVINGS_CALLOUT="GB_SAVINGS_CALLOUT",e.BENEFIT_ANNOUNCEMENT="BENEFIT_ANNOUNCEMENT",e.RETURNS_SOCIAL_PROOF_ANNOUNCEMENT="RETURNS_SOCIAL_PROOF_ANNOUNCEMENT",e.LEFT_ALIGNED_FORMATTED_ANNOUNCEMENT="LEFT_ALIGNED_FORMATTED_ANNOUNCEMENT",e.REASON_TO_BUY="REASON_TO_BUY",e.FORMATTED_ANNOUNCEMENT_V2="FORMATTED_ANNOUNCEMENT_V2",e.REORDER="Reorder",e.DEAL_TAG_SALE_CALLOUT="DEAL_TAG_SALE_CALLOUT",e.SPEC_RATING_ANNOUNCEMENT="SPEC_RATING_ANNOUNCEMENT",e.VIRTUAL_COMBO_V2_CALLOUT="VIRTUAL_COMBO_V2_CALLOUT",e.VIRTUAL_COMBO_SAVINGS="VIRTUAL_COMBO_SAVINGS",e.POST_ATC_PAGE_PP="POST_ATC_PAGE_PP",e.BMSM_BROWSE="BMSM_BROWSE",e.LOW_RETURN_CALLOUT="LOW_RETURN_CALLOUT",e.LEFT_ALIGNED_ANNOUNCEMENT_WITH_CTA="LEFT_ALIGNED_ANNOUNCEMENT_WITH_CTA",e.PRESCRIPTION="PRESCRIPTION",e.ECO_COD_BOTTOMSHEET="ECO_COD_BOTTOMSHEET",e.NEP_CART_BOTTOMSHEET="NEP_CART_BOTTOMSHEET",e.RIGHT_ALIGNED_ANNOUNCEMENT="RIGHT_ALIGNED_ANNOUNCEMENT"}(yt||(yt={}));class wt extends n.A{getWidgetClass(e){const t=r.nS(e.widgetSlotData);switch(t?t.viewType:void 0){case"TOBACCO_ANNOUNCEMENT":return at;case"POTENTIAL_COIN_ANNOUNCEMENT":return _;case"REWARD_PAYMENT_ANNOUNCEMENT":case"GB_SAVINGS_CALLOUT":return C;case"POST_ATC_PAGE_PP":return tt;case"BMSM_BROWSE":return rt;case"REWARD_SUMMARY_CONDITIONS":case"REWARD_CONFIRMATION_CONDITIONS":case"REWARD_UNIFIED_VIEW":return A;case"CNC_SAVE_ANNOUNCEMENT":return R;case"SUPERCOIN_EXPIRY_ANNOUNCEMENT":return k;case"SOCIAL_PROOF_ANNOUNCEMENT":return G;case"DEAL_TAG_SALE_CALLOUT":return qe;case"HIGH_RETURN_CALLOUT":return Ce;case"SOCIAL_PROOF_ANNOUNCEMENT_V3":return $;case"SELLER_CALLOUT":return ue;case"VERTICAL_SCROLLING_ANNOUNCEMENT":return oe;case"LEFT_ALIGNED_ANNOUNCEMENT":return xe;case"VERTICAL_SCROLLING_CLICKABLE_ANNOUNCEMENT":return le;case"SOCIAL_PROOF_ANNOUNCEMENT_V2":return Y;case"TRAVEL_HOME_PAGE_SUPER_COIN":return he;case"SELECTIVE_CHECKOUT":return Ze;case"SEATS_NOTE":return ve;case"SOCIAL_PROOF_TICKER":return Ie;case"RETURNS_SOCIAL_PROOF_ANNOUNCEMENT":return De;case"BENEFIT_ANNOUNCEMENT":return be;case"LEFT_ALIGNED_FORMATTED_ANNOUNCEMENT":return Pe;case"REASON_TO_BUY":return Me;case"SPEC_RATING_ANNOUNCEMENT":return et;case"FORMATTED_ANNOUNCEMENT_V2":return Ue;case"Reorder":return Fe;case"VIRTUAL_COMBO_V2_CALLOUT":case"VIRTUAL_COMBO_SAVINGS":default:return v;case"LOW_RETURN_CALLOUT":return st;case"LEFT_ALIGNED_ANNOUNCEMENT_WITH_CTA":return ct;case"PRESCRIPTION":return gt;case"NEP_CART_BOTTOMSHEET":return Et;case"RIGHT_ALIGNED_ANNOUNCEMENT":return At}}getWidgetHeight(e){const t=r.nS(e.widgetSlotData);switch(t?t.viewType:void 0){case"REWARD_PAYMENT_ANNOUNCEMENT":case"GB_SAVINGS_CALLOUT":return C.getWidgetHeight(e);case"POTENTIAL_COIN_ANNOUNCEMENT":return _.getWidgetHeight();case"DEAL_TAG_SALE_CALLOUT":return qe.getWidgetHeight();case"POST_ATC_PAGE_PP":return tt.getWidgetHeight(e);case"BMSM_BROWSE":return rt.getWidgetHeight(e);case"CNC_SAVE_ANNOUNCEMENT":return R.getWidgetHeight();case"SOCIAL_PROOF_ANNOUNCEMENT":return G.getWidgetHeight(e);case"SOCIAL_PROOF_ANNOUNCEMENT_V3":return $.getWidgetHeight(e);case"HIGH_RETURN_CALLOUT":return Ce.getWidgetHeight();case"TRAVEL_HOME_PAGE_SUPER_COIN":return he.getWidgetHeight();case"VERTICAL_SCROLLING_ANNOUNCEMENT":return oe.getWidgetHeight(e);case"LEFT_ALIGNED_ANNOUNCEMENT":return xe.getWidgetHeight(e);case"SELECTIVE_CHECKOUT":return Ze.getWidgetHeight();case"SEATS_NOTE":return ve.getWidgetHeight(e);case"SOCIAL_PROOF_TICKER":return Ie.getWidgetHeight(e);case"RETURNS_SOCIAL_PROOF_ANNOUNCEMENT":return De.getWidgetHeight();case"LEFT_ALIGNED_FORMATTED_ANNOUNCEMENT":return Pe.getWidgetHeight(e);case"LOW_RETURN_CALLOUT":return st.getWidgetHeight();case"REASON_TO_BUY":return Me.getWidgetHeight(e);case"SPEC_RATING_ANNOUNCEMENT":return et.getWidgetHeight(e);case"FORMATTED_ANNOUNCEMENT_V2":return Ue.getWidgetHeight(e);case"Reorder":return Fe.getWidgetHeight(e);case"SOCIAL_PROOF_ANNOUNCEMENT_V2":return Y.getWidgetHeight();case"LEFT_ALIGNED_ANNOUNCEMENT_WITH_CTA":return ct.getWidgetHeight();case"NEP_CART_BOTTOMSHEET":return Et.getWidgetHeight(e);case"RIGHT_ALIGNED_ANNOUNCEMENT":return At.getWidgetHeight(e);default:return v.getWidgetHeight(e)}}}},521813:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(918210),r=i(90513);class a{handleAction(e,t,i){var a;const o={};if(void 0!==(null===(a=e.payload)||void 0===a?void 0:a.selectedPillIndex)){const t=`FilterPills_${e.payload.selectedPillIndex}`;return o[r.Ay.PROP62]=t,n.A.addPageData(o),!0}return!1}}},523541:e=>{"use strict";e.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},525598:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(918210),r=i(90513),a=i(229833);class o{handleAction(e,t,i){const o=e.payload,s=t.pageDataResponse&&t.pageDataResponse.pageContext?t.pageDataResponse.pageContext:void 0,l=s&&s.trackingDataV2?s.trackingDataV2:void 0,d={};d[r.fM.EVENT22]=String(o.childProductsAdded);let c=l&&l.sproduct?a.A.getSProductAdding(r.Ay.EVAR18,t.pageMeta.pageName,l.sproduct):"";o.childrenSProduct.forEach((e=>{c+=","+a.A.getSProductAdding(r.Ay.EVAR18,t.pageMeta.pageName,e)})),d[r.Ay.PRODUCTS]=c;const u="reco_pp_add_to_cart_"+String(o.totalProductsAdded)+"_"+(o.anyChildDeselected?"1":"0");d[r.Ay.EVAR20]=u;const h=!(!l||!l.preferredSellerWSR)&&l.preferredSellerWSR,p=l&&l.sellerCount?l.sellerCount:1;return d[r.Ay.EVAR28]=p>1?h?"WSR Multiple":"NWSR Multiple":h?"WSR Single":"NWSR Single",l&&l.listingId&&l.listingId===o.parentListingID?d[r.Ay.PROP9]="true":d[r.Ay.PROP9]="false",o.productHasIncentivisedOffer&&a.A.addEvent(d,r.fM.EVENT90),a.A.addEvent(d,r.fM.EVENT_SC_ADD),n.A.addEventData(d),n.A.trackEventUnderName("AddToCart"),!0}}},527040:(e,t,i)=>{"use strict";i.d(t,{A:()=>S});var n=i(296540),r=i(877293),a=i(723372),o=i(950555),s=i(990543),l=i(887261),d=i(670563),c=i(309865),u=i(241598),h=i(361161),p=i(857850);const g=({value:e,textStyle:t,height:i,width:a,animationDuration:o})=>{const s=(0,n.useRef)(new r.Animated.Value(0)).current,l=(0,n.useRef)(null),d=null!==l.current&&l.current!==e;(0,n.useEffect)((()=>{null!==l.current&&l.current!==e?(s.setValue(0),r.Animated.timing(s,{toValue:1,duration:o,easing:r.Easing.linear,useNativeDriver:!0}).start((()=>{l.current=e}))):l.current=e}),[e,o,s]);const c=s.interpolate({inputRange:[0,1],outputRange:[0,i]}),u=s.interpolate({inputRange:[0,1],outputRange:[-i,0]}),h=s.interpolate({inputRange:[0,.5,1],outputRange:[1,.5,0]}),p=s.interpolate({inputRange:[0,.5,1],outputRange:[0,.5,1]});return n.createElement(r.View,{style:[C.pairContainer,{height:i,width:a}]},d&&n.createElement(r.Animated.Text,{style:[t,C.pairTextAbsolute,{opacity:h,transform:[{translateY:c}]}]},l.current),n.createElement(r.Animated.Text,{style:[t,C.pairTextAbsolute,{opacity:d?p:1,transform:[{translateY:d?u:0}]}]},e))},m=n.memo(g);const v=e=>{const t=Date.now();return Math.max(0,Math.floor((e-t)/1e3))},_=({endTime:e,onTimerFinish:t,textStyle:i,pairAnimationDuration:a=300})=>{if(!e)return null;const[o,s]=(0,n.useState)((()=>v(e))),[l,d]=(0,n.useState)({width:0,height:0}),c=(0,n.useMemo)((()=>o>=3600),[o]),p=(0,n.useMemo)((()=>o>=60),[o]);(0,n.useEffect)((()=>{o<=0&&t()}),[o,t]),(0,n.useEffect)((()=>{s(v(e))}),[e]),function(e,t){const i=(0,n.useRef)();(0,n.useEffect)((()=>{i.current=e}),[e]),(0,n.useEffect)((()=>{if(null!==t){const e=setInterval((function(){i.current&&i.current()}),t);return()=>clearInterval(e)}}),[t])}((()=>{s(v(e))}),o>0?1e3:null);const{hh:g,mm:_,ss:E}=(e=>{const t=Math.floor(e/3600),i=Math.floor(e%3600/60),n=e%60;return{hh:t<10?`0${t}`:`${t}`,mm:i<10?`0${i}`:`${i}`,ss:n<10?`0${n}`:`${n}`}})(o),T=r.StyleSheet.flatten([C.defaultText,i]),f=(0,n.useMemo)((()=>[n.createElement(u.JU,{key:"measurement-View",style:T},"00")]),[T]),A=(0,n.useCallback)((e=>{const t=T.fontSize||12;d({width:e,height:1.4*t})}),[T.fontSize]),S=(0,h.L8)(f,!0,A);return 0===l.width?S:n.createElement(r.View,{style:C.timerDisplayContainer},S,c&&n.createElement(n.Fragment,null,n.createElement(m,{value:g,textStyle:T,height:l.height,width:l.width,animationDuration:a}),n.createElement(r.Text,{style:[T,C.colonStyle]},":")),p&&n.createElement(n.Fragment,null,n.createElement(m,{value:_,textStyle:T,height:l.height,width:l.width,animationDuration:a}),n.createElement(r.Text,{style:[T,C.colonStyle]},":")),n.createElement(m,{value:E,textStyle:T,height:l.height,width:l.width,animationDuration:a}))},C=r.StyleSheet.create({timerDisplayContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:p.Jy.white,paddingHorizontal:6,paddingVertical:2,borderRadius:4},pairContainer:{overflow:"hidden",position:"relative",justifyContent:"center",alignItems:"center"},pairTextAbsolute:{position:"absolute",textAlign:"center"},defaultText:{color:p.Jy.black,fontFamily:l.Mq,fontSize:12},colonStyle:{marginHorizontal:1,lineHeight:14}});var E=i(479892),T=i(808584);"android"===r.Platform.OS&&r.UIManager.setLayoutAnimationEnabledExperimental&&r.UIManager.setLayoutAnimationEnabledExperimental(!0);const f=n.memo((({desc:e,image:t,isIconVisible:i,maxWidth:r})=>{var o,l,d;if(!(null===(l=null===(o=null==e?void 0:e.data)||void 0===o?void 0:o[0])||void 0===l?void 0:l.value))return null;const h="#161F2A"===e.data[0].value.textColor?"backgroundBold.neutral.group":"foreground.constant.white",p=t&&i?(null===(d=t.dynamicImageUrl)||void 0===d?void 0:d.includes("rukmini"))?n.createElement(T.A,{imageValue:t,width:t.width||17,height:t.height||17,resizeMode:"cover",style:E.C1.margin_right_4}):n.createElement(u.az,{mr:"s2"},n.createElement(c.I,{name:t.dynamicImageUrl||"TimerIcon",size:t.height||17,strokeColor:h})):null;return n.createElement(u.fI,{alignItems:"center",justifyContent:"center",maxWidth:r/s.f9},p,n.createElement(a.A,{messages:e,useTextContainer:!0,numberOfLines:1,ellipsizeMode:"tail"}))})),A=r.StyleSheet.create({animationContainer:{alignSelf:"flex-start",marginLeft:8},containerBaseStyle:{paddingHorizontal:8,paddingVertical:5,height:36,borderRadius:8,alignSelf:"flex-start",flexDirection:"row",alignItems:"center"}}),S=e=>{var t,i,a,c,p,g;const{displayData:m,animationCommand:v,onAnimationComplete:C,onTimerFinish:E,timerEndTime:T,machineState:S,screenWidth:y,screenHeight:w,timerDetails:I,animationMode:b,isAllocationFailed:D}=e,x=(0,n.useRef)(null),P=(0,n.useRef)(null),[O,R]=(0,n.useState)(0),[k,V]=(0,n.useState)(!1),[L,M]=(0,n.useState)(0),N=(0,n.useRef)(S),H="SHOWING_STATIC_POST_MESSAGE"===S,W=H?(null!==(i=null===(t=null==m?void 0:m.descriptions)||void 0===t?void 0:t.length)&&void 0!==i?i:1)-1:0,B="full"===b&&!H&&!("SHOWING_ERROR_TICKER"===S||"SHOWING_CONTENT_END_MESSAGE"===S),U=H?W:O,F=((e,t)=>{const i=(0,n.useRef)(new r.Animated.Value(0)).current,a=(0,n.useRef)(e);(0,n.useEffect)((()=>{const n=a.current;e!==n&&(a.current=e,i.setValue(0),r.Animated.timing(i,{toValue:1,duration:t,easing:r.Easing.ease,useNativeDriver:!1}).start())}),[e,t,i]);const o=a.current;return i.interpolate({inputRange:[0,1],outputRange:[o,e]})})((null===(g=null===(p=null===(c=null===(a=null==m?void 0:m.descriptions)||void 0===a?void 0:a[U])||void 0===c?void 0:c.value)||void 0===p?void 0:p.containerStyle)||void 0===g?void 0:g.backgroundColor)||(null==m?void 0:m.backgroundColor)||d.Jy.darkMagenta,S!==N.current?250:h.ph);(0,n.useEffect)((()=>{N.current=S}),[S]),(0,n.useEffect)((()=>{V(!1)}),[m,null==m?void 0:m.descriptions,null==m?void 0:m.image]),(0,n.useEffect)((()=>()=>{P.current&&clearTimeout(P.current)}),[]);const G=(0,n.useCallback)((e=>{M(e),!k&&e>0&&V(!0)}),[]),z=k?v:"NONE",j=(0,n.useCallback)((()=>{"CENTERING_REWARD"!==S&&"RETURNING_REWARD"!==S||C()}),[C,S]),X=(0,s.T2)(z,B,j,x,{width:y,height:w},L),Y=(0,n.useCallback)((e=>{if(R(e),P.current&&(clearTimeout(P.current),P.current=null),"SHOWING_TICKER"===S&&(null==m?void 0:m.descriptions)){e===m.descriptions.length-1&&(P.current=setTimeout((()=>{C()}),h.ph/2))}}),[S,null==m?void 0:m.descriptions,C]),q=(0,n.useMemo)((()=>{var e;return null===(e=null==m?void 0:m.descriptions)||void 0===e?void 0:e.map(((e,t)=>n.createElement(f,{key:t,desc:e.value,image:m.image,isIconVisible:1!==t,maxWidth:y-32})))}),[null==m?void 0:m.descriptions,null==m?void 0:m.image,y]),J=(0,n.useMemo)((()=>({color:(null==I?void 0:I.textColor)||d.Jy.darkMagenta,fontFamily:l.Mq,fontSize:(null==I?void 0:I.textSize)||12})),[I]);if(!m)return null;const K="SHOWING_TICKER"===S,Q=!!T&&0!==T&&!D;return n.createElement(r.Animated.View,{style:[A.animationContainer,X],ref:x},n.createElement(r.Animated.View,{style:[A.containerBaseStyle,{backgroundColor:F}]},n.createElement(o.Xj,null,!!q&&q.length>0&&n.createElement(h.Ay,{items:q,height:26,isActive:K,onWidthCalculated:G,onAnimationStart:Y,showStaticText:"SHOWING_STATIC_POST_MESSAGE"===S,staticTextIndex:m.descriptions?m.descriptions.length-1:0,loopCount:1}),Q&&n.createElement(u.az,{mr:"s1",ml:m.descriptions?"s2":void 0},n.createElement(_,{endTime:T,onTimerFinish:E,textStyle:J})))))}},528078:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>b});var n=i(52754),r=i(465420),a=i(438993),o=i(296540),s=i(976321),l=i(241598),d=i(624801),c=i(309865),u=i(951823),h=i(198213),p=i(770194),g=i(398581),m=i(901070);const v=e=>{const{bankLogos:t,offerTitle:i,calloutText:n,discountedPriceText:r,offerSubTitleRC:a}=e.offer,u=!!(t&&t.length>0),{dispatcher:v}=(0,m.a)();return o.createElement(l.az,{paddingTop:"s2"},o.createElement(l.az,{flexDirection:"row",justifyContent:"space-between"},o.createElement(l.az,{flexDirection:"row",alignItems:"center",gap:"s3"},i?o.createElement(l.JU,{typography:"subheading",color:"foreground.default.secondary"},i):null,n?o.createElement(l.az,{borderRadius:d.CRKeysBasic.cr2,overflow:"hidden"},o.createElement(g.W,{gradientColors:["#FCD05B","#FDE79C","#FDE79C","#FCD05B"],gradientStart:[1,1],gradientEnd:[0,0],renderInWeb:!0},o.createElement(l.JU,{color:"foreground.constant.black",typography:"tag",paddingHorizontal:"s3",paddingVertical:"s1"},n))):null),o.createElement(l.h1,{onPress:()=>{(0,s.co)(v)}},o.createElement(c.I,{name:"Close",size:24,fillColor:"foreground.default.primary"}))),o.createElement(l.az,{flexDirection:"row",alignItems:"center",marginTop:"s2",gap:"s3"},o.createElement(l.az,{maxHeight:44,maxWidth:44,padding:"s2"},u?o.createElement(h.Dk,{source:t[0],height:24,width:24}):null),o.createElement(l.az,null,o.createElement(l.JU,{typography:"title",color:"foreground.default.primary"},r),o.createElement(p.r,{offerSubTitleRC:a,isBankOfferBottomSheet:!0}))))};var _=i(415283),C=i(848464),E=i(914944),T=i(877293);const f=({tnc:e})=>{const{dispatcher:t}=(0,m.a)();return o.createElement(o.Fragment,null,e.map(((i,n)=>{const r=n<e.length-1&&n>0;return o.createElement(l.az,{key:n,flexDirection:"row"},i.action?(e=>{return e&&e.value&&e.action?o.createElement(l.h1,{onPress:(i=e.action,()=>{if(i)if("offerTnc"===i.screenType||"OFFER_TNC"===i.screenType){const e=i.params.offerId,n=i.params.url;null==t||t({type:_.Q3.STATIC_WEB_PAGE_ACTION,payload:new C.h(n,e,C.Q.TNC_MODAL,void 0,void 0,"web"===T.Platform.OS)})}else null==t||t({type:_.Q3.MAPI_ACTION,payload:new E.Oy(i)})})},o.createElement(l.JU,{color:"foreground.brandPrimary.link",typography:"label"},e.value.ctaText)):null;var i})(i):(e=>{var t,i;return o.createElement(l.JU,{color:"foreground.default.primary",typography:"subtext"},null!==(i=null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.ctaText)&&void 0!==i?i:"")})(i),r?o.createElement(l.JU,{color:"foreground.default.primary",typography:"subtext",marginHorizontal:"s1"},", "):null)})))};var A=i(383049);const S=({value:e})=>{var t,i,n;if(!e)return o.createElement(o.Fragment,null," ");const r=e.staticData,a=null==e?void 0:e.tnc,s=void 0!==(null==e?void 0:e.applied)&&!!(null===(i=null===(t=null==e?void 0:e.actionCta)||void 0===t?void 0:t.value)||void 0===i?void 0:i.ctaText),h=(null!==(n=null==a?void 0:a.length)&&void 0!==n?n:0)>0;return o.createElement(l.az,{padding:"s6",bg:"backgroundSubtle.neutral.base"},o.createElement(v,{offer:e}),o.createElement(l.az,{height:1,bg:"outline.neutral.seperator",marginVertical:"s6"}),null==r?void 0:r.map(((e,t)=>e.contentValue?o.createElement(l.az,{key:t,flexDirection:"row"},o.createElement(l.JU,null," "),o.createElement(l.JU,{typography:"subtext",color:"foreground.default.primary"},e.contentValue)):null)),a&&h?o.createElement(l.az,{flexDirection:"row",marginTop:"s2",paddingLeft:"s4",marginBottom:"s6"},o.createElement(f,{tnc:a})):null,e.bottomSheetFooter?o.createElement(l.az,{bg:"backgroundSubtle.brandPrimary.group",borderRadius:d.CRKeysBasic.cr4,flexDirection:"row",gap:"s3",marginBottom:"s5",paddingVertical:"s3",paddingHorizontal:"s4"},o.createElement(c.I,{size:16,name:"InfoIcon",fillColor:"foreground.default.primary"}),o.createElement(l.JU,{typography:"subtext",color:"foreground.default.primary"},e.bottomSheetFooter)):null,s?o.createElement(A.w,null,o.createElement(u.H,{value:{applied:e.applied,actionCta:e.actionCta},isEmiBottomSheet:!1})):null)};var y=i(957775),w=i(547134);class I extends a.A{componentDidMount(){super.componentDidMount(),this.props.actionDispatcher&&(0,y.dispatchDgAction)(w.A.OFFER_BOTTOM_SHEET,this.props.actionDispatcher)}renderWidget(){var e;const{bottomSheetDetails:t,nepData:i}=(0,n.xH)(this.props.widgetSlotData),r=(0,s.bb)(t)?t:void 0,a=(0,s.Vr)(i)?i:void 0;if(!r||!a)return o.createElement(l.az,null);const{updateWidgetInfo:d,nepContext:c,selectedTab:u}=a;return o.createElement(m.v,{updateWidgetInfo:d,selectedTab:u,nepContext:c,dispatcher:this.props.actionDispatcher,trackDiscoveryContentClickEvent:this.trackDiscoveryContentClickEvent,scrollToSlotPosition:this.props.scrollToSlotPosition,isLoggedIn:(0,s.M3)(this.props.appContext),pageUID:null===(e=this.props.pageInfo)||void 0===e?void 0:e.pageUID},o.createElement(S,Object.assign({},r)))}}class b extends r.A{getWidgetClass(){return I}getWidgetHeight(e){var t,i,r,a,o,s;const l=(0,n.xH)(e.widgetSlotData),{bottomSheetDetails:d}=l,c=null===(t=null==d?void 0:d.value)||void 0===t?void 0:t.staticData;return 150+20*(null!==(i=null==c?void 0:c.length)&&void 0!==i?i:0)+20*(null!==(o=null===(a=null===(r=null==d?void 0:d.value)||void 0===r?void 0:r.tnc)||void 0===a?void 0:a.length)&&void 0!==o?o:0)+((null===(s=null==d?void 0:d.value)||void 0===s?void 0:s.bottomSheetFooter)?20:0)+44}}},532701:(e,t,i)=>{"use strict";i.d(t,{S:()=>a,A:()=>o});var n=i(173620),r=(i(296540),i(877293));const a=function(){return(0,n.A)(r.View,{style:{alignSelf:"flex-start"}},void 0,(0,n.A)(r.Text,{style:{color:"red"}},void 0,"React Native WebView does not support this platform."))},o=a},535529:(e,t,i)=>{"use strict";i.r(t),i.d(t,{RboUnlockedViewType:()=>f,default:()=>x});var n=i(465420),r=i(52754),a=i(310830),o=i(296540),s=i(877293),l=i(716249),d=i(145210),c=i(787921),u=i(415283),h=i(333346),p=i(146387),g=i(57522);class m{constructor(e){this.type=g.j.RBO_UNLOCKED_DATA,this.quantity=null!=e?e:1}}var v=i(617313),_=i(479892),C=i(395567),E=i(580555);class T extends l.A{constructor(){super(...arguments),this.previousCalloutStyle=[_.C1.margin_top_8,_.C1.flex,_.XT.fontRegular_12,_.XT.lightGreyText,_.C1.shrinkContent],this.dispatchAction=(e,t)=>{if(this.props.actionDispatcher){const i=(0,u.w2)(e,this.props,t);(null==i?void 0:i.payload)instanceof h.n&&this._updatePageVolatileData(i.payload),this.props.actionDispatcher(i)}},this._triggerOmnitureCall=e=>(t,i)=>{e&&this.trackOmnitureEvent(new C.jkf(v.GroceryInterstitialOmnitureActionTypes.RBO_UNLOCKED_A2B,new E.Ay(e),t,i))}}componentWillUnmount(){var e,t;null===(t=(e=this.props).actionDispatcher)||void 0===t||t.call(e,{type:c.A.INVALIDATE_PAGE_FOR_URL})}renderSkimmedPmuCards(e){return e?e.map((e=>{var t,i,n;return o.createElement(d.z,{uniqueViewId:this.state.uniqueViewId,trackDGEvent:this.trackDGEvent,productSummaryMinValue:e.value,dispatchAction:this.dispatchAction,locale:this.props.appContext.locale,triggerOmnitureCall:this._triggerOmnitureCall(null===(n=null===(i=null===(t=e.value)||void 0===t?void 0:t.productAction)||void 0===i?void 0:i.action)||void 0===n?void 0:n.tracking)})})):void 0}renderDivider(){}_updatePageVolatileData(e){var t,i;if(e.actionMeta.previousQuantity<e.actionMeta.quantity){let e=(0,r.Qd)(this.props,g.j.RBO_UNLOCKED_DATA);e?e.quantity++:e=new m,null===(i=(t=this.props).actionDispatcher)||void 0===i||i.call(t,new p.YI(new p.qF(g.j.RBO_UNLOCKED_DATA,e)))}}}var f,A=i(808584),S=i(492418),y=i(750029),w=i(560203);class I extends T{constructor(){super(...arguments),this._pmuDiscountTextStyle=[_.XT.fontMedium_16,_.XT.lineHeight_24,_.XT.letterSpacing_15],this._basketDiscountTextStyle=[_.XT.fontMedium_16_padding,_.XT.lineHeight_24,_.XT.letterSpacing_15]}static getWidgetHeight(e){let t=0;const i=(0,r.xH)(e.widgetSlotData),n=null==i?void 0:i.renderableComponents;return null==n||n.forEach((e=>{var i,n,r;switch(null===(i=e.value)||void 0===i?void 0:i.offerCardType){case y.E.RBO_BASKET_OFFER_CARD:const i=e.value;t+=32,t+=(null===(n=i.title)||void 0===n?void 0:n.text)?24:0,t+=20;break;case y.E.RBO_PMU_OFFER_CARD:const a=e.value;t+=24,t+=(null===(r=null==a?void 0:a.title)||void 0===r?void 0:r.text)?48:0,a.products&&(t+=102*a.products.length)}})),t}renderWidget(){const e=(0,r.xH)(this.props.widgetSlotData),t=null==e?void 0:e.renderableComponents;return o.createElement(s.View,null,t&&t.map((e=>{var t;switch(null===(t=e.value)||void 0===t?void 0:t.offerCardType){case y.E.RBO_BASKET_OFFER_CARD:const t=e.value;return this._renderDiscountRatchedView(t);case y.E.RBO_PMU_OFFER_CARD:const i=e.value;return this._renderStealDealsRatchetView(i)}})))}_renderDiscountRatchedView(e){var t,i;const n=null===(t=e.title)||void 0===t?void 0:t.image,r=null===(i=e.title)||void 0===i?void 0:i.text,a=e.prevBasketOfferCallout;return o.createElement(s.View,null,o.createElement(s.View,{style:[_.C1.row,_.C1.padding16H,_.C1.padding16V]},n?o.createElement(A.A,{imageValue:n,width:45,height:45}):void 0,o.createElement(s.View,{style:[_.C1.padding_left_16,_.C1.flex]},r?o.createElement(s.Text,{style:this._basketDiscountTextStyle},r):void 0,o.createElement(s.Text,null,e.prefixText," ",S.y3o,e.discount),a&&o.createElement(s.Text,{style:this.previousCalloutStyle},a))),o.createElement(w.A,{heightVal:8}))}_renderStealDealsRatchetView(e){var t;const i=e.products,n=null===(t=e.title)||void 0===t?void 0:t.text;return o.createElement(s.View,null,n?o.createElement(s.View,{style:[_.C1.margin_top_24,_.C1.margin_left_16]},o.createElement(s.Text,{style:this._pmuDiscountTextStyle},n)):void 0,this.renderSkimmedPmuCards(i),o.createElement(w.A,{heightVal:8}))}}class b extends T{constructor(){super(...arguments),this._titleTextStyle=[_.XT.fontMedium_16_padding,_.XT.lineHeight_24,_.C1.margin_top_12],this._prefixTextStyle=[_.C1.padding_top_20,_.C1.padding_bottom_6],this._rupeeTextStyle=[_.XT.fontMedium_40,_.XT.lineHeight_45],this._containerViewStyle=[_.C1.alignItemCenter,_.C1.flex,_.C1.padding_top_24]}static getWidgetHeight(e){var t,i,n;let a=0;const o=(0,r.xH)(e.widgetSlotData),s=null===(t=null==o?void 0:o.renderableComponents)||void 0===t?void 0:t[0].value;return s?(a+=24,a+=(null===(i=s.title)||void 0===i?void 0:i.image)?45:0,a+=(null===(n=s.title)||void 0===n?void 0:n.text)?24:0,a+=46,a+=69,a):a}renderWidget(){var e,t,i;const n=(0,r.xH)(this.props.widgetSlotData),a=null===(e=null==n?void 0:n.renderableComponents)||void 0===e?void 0:e[0].value;if(!a)return;const l=null===(t=a.title)||void 0===t?void 0:t.image,d=null===(i=a.title)||void 0===i?void 0:i.text,c=a.prefixText,u=a.discount,h=a.prevBasketOfferCallout,p=a.percentageCallout||!1?`${u}${S.NPf}`:`${S.y3o}${u}`;return o.createElement(s.View,{style:this._containerViewStyle},l&&o.createElement(A.A,{imageValue:l,width:45,height:45}),d&&o.createElement(s.Text,{style:this._titleTextStyle},d),c&&o.createElement(s.Text,{style:this._prefixTextStyle},c),u&&o.createElement(s.Text,{style:this._rupeeTextStyle},p),void 0!==h&&o.createElement(s.Text,{style:this.previousCalloutStyle},h))}}class D extends T{static getWidgetHeight(e){var t,i;let n=0;const a=(0,r.xH)(e.widgetSlotData),o=null===(t=null==a?void 0:a.renderableComponents)||void 0===t?void 0:t[0].value;return n+=24,n+=(null===(i=null==o?void 0:o.title)||void 0===i?void 0:i.text)?48:0,(null==o?void 0:o.products)&&(n+=102*o.products.length),n}renderWidget(){var e,t;const i=(0,r.xH)(this.props.widgetSlotData),n=null===(e=null==i?void 0:i.renderableComponents)||void 0===e?void 0:e[0].value;if(!n)return;const a=n.products,l=null===(t=n.title)||void 0===t?void 0:t.text;return o.createElement(s.View,null,l?o.createElement(s.View,null,o.createElement(s.Text,{style:[_.XT.fontMedium_18,_.C1.padding24]},l)):void 0,this.renderSkimmedPmuCards(a))}}!function(e){e.RBO_PMU_OFFER="RBO_PMU_OFFER",e.RBO_BASKET_OFFER="RBO_BASKET_OFFER",e.RBO_COMBINED="RBO_COMBINED"}(f||(f={}));class x extends n.A{getWidgetClass(e){switch(this.getViewType(e)){case"RBO_COMBINED":return I;case"RBO_BASKET_OFFER":return b;case"RBO_PMU_OFFER":return D}return a.default}getWidgetHeight(e){switch(this.getViewType(e)){case"RBO_COMBINED":return I.getWidgetHeight(e);case"RBO_BASKET_OFFER":return b.getWidgetHeight(e);case"RBO_PMU_OFFER":return D.getWidgetHeight(e)}return a.default.getWidgetHeight(e)}getViewType(e){var t;return null!==(t=(0,r.KJ)(e.widgetSlotData))&&void 0!==t?t:(0,r.X6)(e.widgetSlotData)}}},536245:(e,t,i)=>{"use strict";i.d(t,{A:()=>k});var n=i(296540),r=i(52754),a=i(809400),o=i(470496),s=i(311676),l=i(347924),d=i(580555),c=i(876505),u=i(672748),h=i(439322),p=i(735546),g=i(989411),m=i(787921),v=i(914944),_=i(738221),C=i.n(_),E=i(644598),T=i(614006),f=i(690423),A=i(877293),S=i(722984),y=i(294188),w=i(972904),I=i(137098),b=i(721503),D=i(847150),x=i(938777),P=i(879052);const O="go_to_cart",R="add_combo_to_cart";class k extends w.A{constructor(e){super(e),this._cartChanged=e=>{const t=[],i=[];if(null==e?void 0:e.cartData){const n=k.getProductsFromWidget(this.props.widgetSlotData);null==n||n.map(((n,r)=>{var a,o,s,l,d,c;const u=(null===(s=null===(o=null===(a=n.value)||void 0===a?void 0:a.addComboToCart)||void 0===o?void 0:o.action)||void 0===s?void 0:s.params.lids).every((t=>{var i;return null===(i=null==e?void 0:e.cartData)||void 0===i?void 0:i[t]}));i.concat(null===(c=null===(d=null===(l=n.value)||void 0===l?void 0:l.addComboToCart)||void 0===d?void 0:d.action)||void 0===c?void 0:c.params.lids),t[r]=u})),this.setState({productsInCartStatus:t})}},this._productTappedDGEvent=()=>{const e=new s.Xtl(this.getFetchId(),x.E$j.VIRTUAL_COMBO_KEY,this.getListingId());this.trackDGEvent(e)},this._trackDCCEvent=(e,t)=>{var i,n,r,a;const l=null===(r=null===(n=null===(i=null==e?void 0:e.value)||void 0===i?void 0:i.primaryProductCard)||void 0===n?void 0:n.productMeta)||void 0===r?void 0:r.productId,c=Object.assign({},t.tracking);l&&(c.productId=l);const u=new d.Ay(c),h=(null===(a=this.props.pageInfo)||void 0===a?void 0:a.baseImpressionId)?new o.A(this.props.pageInfo.baseImpressionId):void 0,p=t.tracking.tabImpressionId;let g=this.props.pageInfo?this.props.pageInfo.tabImpressionId:void 0;p&&(g=g?Object.assign(Object.assign({},g),{impressionId:p}):new o.A(p));const m=new s.dv9(u,h,g);this.trackDGEvent(m)},this.getFetchId=()=>{const e=super.getFetchId();return e&&e.length>0?e.split(".")[0]:e},this._getContentViewTracking=(e,t)=>{if(!t)return;const i=t.listingId;if(i){const n=this.props.appContext.userManager.isLIDInCart(i);if(e.value){const r=null==e?void 0:e.tracking;return new h.A((0,u.lk)(),(null==r?void 0:r.fetchId)||this.getFetchId(),t.productId,i,x.E$j.VIRTUAL_COMBO_KEY,null==r?void 0:r.parentListingId,n,void 0,void 0,null==r?void 0:r.comboId)}}},this.renderItems=(e,t,i)=>{var r;const a=null===(r=this.state.productsInCartStatus)||void 0===r?void 0:r[i],o=n.createElement(l.az,{ml:0===i?"s0":"s4"},(null==t?void 0:t.value)&&n.createElement(g.A,{isProductinCart:a,cardData:null==t?void 0:t.value,cardTapped:()=>this.cardActionTapped(t),actionTapped:()=>this.onItemTapped(t,a),themeContext:this.props.themeContext,index:i}));return this.getViewWithTracker(o,t)},this._calculateDimensions=()=>({width:261,height:338}),this.renderPrimaryProductCard=e=>{},this._cartChanged=C()(this._cartChanged,30),this.state=Object.assign(Object.assign({},this.state),{productsInCartStatus:this.updateProductInCartStatus(k.getProductsFromWidget(this.props.widgetSlotData))}),(0,S.d)(A.NativeModules.CartModule).addListener("cartChanged",this._cartChanged)}static getProductsFromWidget(e){const t=(0,r.nS)(e),i=null==t?void 0:t.data;return null==i?void 0:i.renderableComponents}updateProductInCartStatus(e){let t=[];return e?(e.map(((e,i)=>{var n,r,a;t[i]=this.isProductInCart(null===(a=null===(r=null===(n=e.value)||void 0===n?void 0:n.addComboToCart)||void 0===r?void 0:r.action)||void 0===a?void 0:a.params.lids)})),t):t}isProductInCart(e){return!!(null==e?void 0:e.length)&&e.every((e=>this.props.appContext.userManager.isLIDInCart(e)))}static getWidgetHeight(e){return this.getProductsFromWidget(e.widgetSlotData)?438:0}renderWidget(){if(k.getProductsFromWidget(this.props.widgetSlotData))return this.renderWidgetContent()}renderWidgetContent(){var e,t;const i=k.getProductsFromWidget(this.props.widgetSlotData);if(i)return n.createElement(l.az,{pb:"s5"},(null===(t=null===(e=i[0])||void 0===e?void 0:e.value)||void 0===t?void 0:t.primaryProductCard)&&this.renderPrimaryProductCard(i[0].value.primaryProductCard),n.createElement(a.E,{disableRecycling:!0,forceNonDeterministicRendering:!0,containerStyle:{paddingHorizontal:16},calculateDimensions:this._calculateDimensions,data:i,extendedState:this.state.productsInCartStatus,renderItem:this.renderItems,estimatedContentHeight:338}))}generateAggregatedDataObject(e,t,i,n,r,a,o,s){const l={};return l.listingId=e,i&&(l.aggregatedCartContext=f.A.createCartContext(i,t||0,a,n||"",!1,!1,r,"",o||i,s||e)),l}getAllProductsList(e){const{primaryProductCard:t,secondaryProductCards:i}=e.value||{};let n=[];return t&&n.push(t),i&&n.push(...i),n}_sendATCC(e,t,i){var n,r,a,l,d,c,u,h,p,g,m,v;let _=this.getAllProductsList(e);const C=null===(a=null===(r=null===(n=null==e?void 0:e.value)||void 0===n?void 0:n.addComboToCart)||void 0===r?void 0:r.action)||void 0===a?void 0:a.params;let E=null===(h=null===(u=null===(c=null===(d=null===(l=this.props.pageInfo)||void 0===l?void 0:l.pageContext)||void 0===d?void 0:d.fdpEventTracking)||void 0===c?void 0:c.events)||void 0===u?void 0:u.psi)||void 0===h?void 0:h.os;if(_.length<1)return;for(let n=1;n<_.length;n++){const r=_[n],a=null==r?void 0:r.productMeta.listingId,l=null===(p=e.action)||void 0===p?void 0:p.tracking;if(a&&l&&(null===(g=Object.keys(l))||void 0===g?void 0:g.length)>0&&this.props.actionDispatcher){const e=(null==l?void 0:l.findingMethod)?{findingMethod:l.findingMethod}:void 0,n=new s.jto(a,x.E$j.VIRTUAL_COMBO_KEY,void 0,new o.A(l.impressionId),e,null==r?void 0:r.productMeta.productId,void 0,null===(m=null==C?void 0:C[a])||void 0===m?void 0:m.pls,void 0,void 0,E,void 0,void 0,null===(v=null==C?void 0:C[a])||void 0===v?void 0:v.ppd,void 0,void 0,null==l?void 0:l.detailedFindingMethod,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,true,void 0,t,i),d=new s.ax6(n);this.props.actionDispatcher(d)}}}updateAggregatedData(e){const t=r.wU(this.props.widgetSlotData)||T.n.PHYSICAL_ATTACH,i={},{value:n}=e,{primaryProductCard:a,secondaryProductCards:o}=n||{},s=null==a?void 0:a.productMeta.productId,l=null==a?void 0:a.productMeta.listingId;let d=this.removePids();null==o||o.forEach((r=>{var a,o;const c=r.productMeta.productId;d&&(d=d.filter((e=>e!==c)));const u=this.generateAggregatedDataObject(null==r?void 0:r.productMeta.listingId,null===(a=null==n?void 0:n.pricing)||void 0===a?void 0:a.displayPrice,c,null==r?void 0:r.titles.title,t,null===(o=e.action)||void 0===o?void 0:o.tracking,s,l);i[c]=u})),this.dispatchAction(m.A.AGGREGATED_CTA,new E.Y(E.m.UPDATE_CTA_STATE,i,d))}removePids(){const e=k.getProductsFromWidget(this.props.widgetSlotData),t=[];return null==e||e.map((e=>{var i,n,r;t.push(...null===(r=null===(n=null===(i=e.value)||void 0===i?void 0:i.addComboToCart)||void 0===n?void 0:n.action)||void 0===r?void 0:r.params.pids)})),t}onItemTapped(e,t){var i,n;const{action:r}=(null===(i=e.value)||void 0===i?void 0:i.addComboToCart)||{};if(r){const i=r.params.lids,a=r.params.pids;r.params.attachItems=[],r.params.attachItems.isPhysicalAttach=!0,r.tracking=Object.assign(Object.assign({},r.tracking),{contentType:t?O:R});const o=null!==(n=(0,D.F4)(r.tracking.isCombo))&&void 0!==n&&n,s=r.tracking.comboId,l=t?I.x.COMBO_GO_TO_CART:I.x.COMBO_ADD_TO_CART;i.map(((e,t)=>{if(0===t)return r.params.listingId=e,void(r.params.productId=a[0]);r.params.attachItems[t-1]={action:{params:{lids:[e],pids:[a[t]],productId:a[t]}}}})),t||this._sendATCC(e,o,s),this._trackVASWidgetClick(e,l),this._trackDCCEvent(e,r),this.updateAggregatedData(e),this.dispatchAction(m.A.MAPI_ACTION,new v.Oy(r))}}cardActionTapped(e){const t=e.action;if(!t)return;const i=I.x.COMBO_CLICK;this._productTappedDGEvent(),this._trackVASWidgetClick(e,i),this._trackDCCEvent(e,t),this.dispatchAction(m.A.MAPI_ACTION,new v.Oy(t))}renderHeader(e){var t,i,r,a;const o=null==e?void 0:e.header;return n.createElement(p.ZT,null,n.createElement(p.Id,Object.assign({},(0,P.Z)("PMU_Combo_Title")),null===(i=null===(t=null==o?void 0:o.value)||void 0===t?void 0:t.titleValue)||void 0===i?void 0:i.text),n.createElement(p.ar,Object.assign({},(0,P.Z)("PMU_Combo_Subtitle")),null===(a=null===(r=null==o?void 0:o.value)||void 0===r?void 0:r.subTitleValue)||void 0===a?void 0:a.text))}shouldComponentUpdate(e,t,i){return!!(0,y.A)(t.productsInCartStatus,this.state.productsInCartStatus)||super.shouldComponentUpdate(e,t,i)}_trackVASWidgetClick(e,t){var i,n;const r=this.getAllProductsList(e),a=null===(i=e.tracking)||void 0===i?void 0:i.comboId;if(0===r.length)return;const o=r[0].productMeta.listingId,l=null===(n=null==e?void 0:e.tracking)||void 0===n?void 0:n.fetchId;o&&r.forEach((e=>{const i=this._getProductTracking(e,l||"",o,t),{productId:n,listingId:r,finalPrice:d,parentListId:c,userState:h,eventType:p,attachType:g,planTerm:m,modifiedNavigationContext:v}=i;if(!l||!n||!r)return;const _=(0,u.lk)(),C=new s.dX2(_,l,n,r,p,d,h,c,g,m,v,a);this.trackDGEvent(C)}))}_getProductTracking(e,t,i,n){const{productMeta:r}=e;return{productId:r.productId,attachType:x.E$j.VIRTUAL_COMBO_KEY,fid:t,listingId:r.listingId,parentListId:i,eventType:n}}_getDCIEvent(e){const t=null==e?void 0:e.getTracking().tabImpressionId;let i=this.props.pageInfo?this.props.pageInfo.tabImpressionId:void 0;t&&(i=Object.assign(Object.assign({},i),{impressionId:t}));const n=this.state.trackingParams?this.state.trackingParams.getImpressionInfo():void 0;return b.A.createNewInstance(this.state.uniqueViewId,e,n,i)}getViewWithTracker(e,t){var i,r;const a=null===(r=null===(i=null==t?void 0:t.value)||void 0===i?void 0:i.primaryProductCard)||void 0===r?void 0:r.productMeta.productId,o=Object.assign({},t.tracking);a&&(o.productId=a);const s=t.tracking&&this._getDCIEvent(new d.Ay(o)),{secondaryProductCards:l}=t.value||{};let u;if(l&&l.length>0){const i=n.createElement(c.A,{trackingInfo:this._getContentViewTracking(t,l[0].productMeta)},e);u=l.length>1?n.createElement(c.A,{trackingInfo:this._getContentViewTracking(t,l[1].productMeta)},i):i}return s?n.createElement(c.A,{trackingInfo:s},u):e}}},536340:(e,t,i)=>{var n=i(967495).isTag;function r(e,t,i,n){for(var a,o=[],s=0,l=t.length;s<l&&!(e(t[s])&&(o.push(t[s]),--n<=0))&&(a=t[s].children,!(i&&a&&a.length>0&&(a=r(e,a,i,n),o=o.concat(a),(n-=a.length)<=0)));s++);return o}e.exports={filter:function(e,t,i,n){Array.isArray(t)||(t=[t]);"number"==typeof n&&isFinite(n)||(n=1/0);return r(e,t,!1!==i,n)},find:r,findOneChild:function(e,t){for(var i=0,n=t.length;i<n;i++)if(e(t[i]))return t[i];return null},findOne:function e(t,i){for(var r=null,a=0,o=i.length;a<o&&!r;a++)n(i[a])&&(t(i[a])?r=i[a]:i[a].children.length>0&&(r=e(t,i[a].children)));return r},existsOne:function e(t,i){for(var r=0,a=i.length;r<a;r++)if(n(i[r])&&(t(i[r])||i[r].children.length>0&&e(t,i[r].children)))return!0;return!1},findAll:function(e,t){var i=[],r=t.slice();for(;r.length;){var a=r.shift();n(a)&&(a.children&&a.children.length>0&&r.unshift.apply(r,a.children),e(a)&&i.push(a))}return i}}},537528:(e,t,i)=>{"use strict";i.d(t,{J:()=>r,c:()=>a});var n=i(877293);const r=24,a=n.StyleSheet.create({couponContainerStyle:{margin:10},staticCouponContainerStyle:{marginTop:12,marginHorizontal:4},carouselContainerStyles:{marginLeft:8,marginRight:8},titleContainerStyle:{marginHorizontal:12,marginBottom:8,paddingBottom:8},couponTagStyle:{flex:1,position:"absolute",top:54,left:12,paddingLeft:6,paddingRight:5,paddingBottom:1,borderRadius:2,minHeight:16,alignItems:"center"},subtitleRowStyle:{flex:1,flexDirection:"row",paddingLeft:28,paddingTop:6,alignItems:"center"},couponOfferView:{paddingHorizontal:10,paddingBottom:10,paddingTop:12},unlockButton:{marginLeft:28,width:114}})},545969:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(918210),r=i(90513),a=i(229833);class o{handleAction(e,t,i){const o=e.payload,s=o.position,l=o.placement,d=o.videoId,c=t.pageMeta.pageType,u=t.pageDataResponse&&t.pageDataResponse.pageContext?t.pageDataResponse.pageContext:void 0,h=u&&u.analyticsData?u.analyticsData:void 0,p={},g=h&&h.category?h.category:"",m=h&&h.vertical?h.vertical:"",v=u&&u.marketplace?u.marketplace:"FLIPKART",_=u&&u.productId?u.productId:"";return p[r.Ay.PROP3]=c,u&&(p[r.Ay.PRODUCTS]=a.A.getProductString(_,g,m,v)),p[r.Ay.PROP14]="Video_"+l+"_"+s+"_"+d,p[r.fM.EVENT189]="1",n.A.addEventData(p),n.A.trackEventUnderName(l+"_Video Play"),!0}}},545992:(e,t,i)=>{"use strict";i.d(t,{R:()=>r});var n=i(57522);class r{constructor(e){this.type=n.j.SWC_COUPON_APPLIED_DATA,this.isCouponApplyClicked=e}}},549680:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(918210),r=i(90513),a=i(530136),o=i(229833),s=i(614006),l=i(159874);class d{constructor(){this.HORIZONTAL_GRID_VIEW="HORIZONTAL_GRID_VIEW",this.RECO="RECO"}handleAction(e,t,i){var d,c;const u=t.pageDataResponse&&t.pageDataResponse.pageContext&&t.pageDataResponse.pageContext,h=u&&u.trackingDataV2,p=e.payload,g=t.pageMeta,m=g.pageTrackingData,v=null===(c=null===(d=null==t?void 0:t.pageDataResponse)||void 0===d?void 0:d.trackingContext)||void 0===c?void 0:c.tracking;let _,C={};if(C=(0,l.Gq)(null==p?void 0:p.marketplaceTrackingDataMap,g.pageName),!u||!h||!m)return!1;let E=h.sproduct;const{widgetType:T="",viewType:f="",widgetTitle:A=""}=m;return _=T.toUpperCase()!==s.n.BASKET_PMU&&T.toUpperCase()!==this.RECO||f.toUpperCase()!==this.HORIZONTAL_GRID_VIEW?a.A.ProductPage:`${f}_${A}_${a.A.ProductPage}`,E+="|"+r.Ay.EVAR18+"="+_,C[r.Ay.PRODUCTS]=E,(null==v?void 0:v.eVar178)&&(C[r.Ay.EVAR178]=v.eVar178),p&&(p.scAdd?(o.A.addEvent(C,r.fM.EVENT157),o.A.addEvent(C,r.fM.EVENT_SC_ADD,r.PY.COUNTER_CONST)):(o.A.addEvent(C,r.fM.EVENT_SC_REMOVE),o.A.addEvent(C,r.fM.EVENT99,r.PY.N_COUNTER_CONST))),n.A.addAndtrackEventUnderName("sendActionOmnitureData",C),!0}}},552946:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var n=i(877293),r=i(287727),a=i(110941),o=i(737999),s=i(300952),l=i(347953),d=i(349350),c=i(198213);class u{static getCarouselImageHeight(e,t,i,n,r){if(!e||!e.multimediaComponents||e.multimediaComponents.length<=i)return u.getDefaultImageHeight(t,n,r);const o=Object.assign({},e.multimediaComponents[i].value);o&&o&&(o.aspectRatio="2:3");let l=o&&a.A.getImageRatio(o.aspectRatio);return l?(l>s.A.LIFESTYLE_ASPECT_RATIO&&"ELONGATED_IMAGE"!==r&&(l=s.A.LIFESTYLE_ASPECT_RATIO),n*l):u.getDefaultImageHeight(t,n,r)}static getDefaultImageHeight(e,t,i){if(e===r.I.LIFESTYLE||"LoadingStateLifestyle"===i)return s.A.LIFESTYLE_ASPECT_RATIO*t;if(e===r.I.MOBILE)return s.A.MOBILE_ASPECT_RATIO*t;if(e===r.I.GROCERY){return!!l.A.getExperimentValue("resizeProductCarousel")?t:s.A.GROCERY_ASPECT_RATIO*t}return t}static isYoutubeVideo(e){return!(!e||e.contentType!==o.A.VIDEO||e.source!==o.A.YOUTUBE||!e.contentId)}static isReviewImageBucket(e){return!(!e||e.contentType!==o.A.IMAGE_BUCKETS)}static isMediaTypeFK3D(e){return!(!e||e.contentType!==d.z.FK_3D)}static isMediaTypeTestimonial(e){return!(!e||e.contentType!==d.z.TESTIMONIAL)}static isMediaTypeBrandCertificate(e){return!(!e||e.contentType!==d.z.BRAND_CERTIFICATE)}static isFkVideo(e){return!(!e||e.contentType!==o.A.VIDEO||e.source!==o.A.FKVIDEO||!e.contentId)}static buildYoutubeImageUrl(e){if(e)return"https://img.youtube.com/vi/"+e+"/0.jpg"}static buildFkVideoThumbnailUrl(e,t){if(e.url){if(t){const t=Math.round(n.Dimensions.get("window").width),i=Math.round(n.Dimensions.get("window").height);return c.Dk.generateImageUrl(e.url,t,i,"100")}return e.url}}static getVideoIndices(e){const t=[];return e.forEach(((e,i)=>{(u.isYoutubeVideo(e.value)||u.isFkVideo(e.value))&&t.push(i)})),t}static getCarouselMaxImageHeight(e,t,i,n){if(!e||!e.multimediaComponents||e.multimediaComponents.length<=0)return u.getDefaultImageHeight(t,i,n);let r=0;return e.multimediaComponents.forEach(((a,o)=>{const s=u.getCarouselImageHeight(e,t,o,i,n);s>r&&(r=s)})),r}static _getEachBucketImageSize(e){const t=e-24-16;return Math.floor(t/3)}static isHighlightsImageValue(e){const t=null==e?void 0:e.highlightItems;return t&&t.length>0||!1}static isHighlightsImageValueLinks(e){const t=null==e?void 0:e.highlightItems,i=null==e?void 0:e.viewType;return t&&t.length>0&&"RIGHT_SIDE_VIEW_WITH_NAVIGATION"===i||!1}static isFeedsMediaValue(e){return"FeedsMediaValue"===e.type}}},553011:(e,t,i)=>{var n;!function(r){var a=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(){this._events={},this._conf&&s.call(this,this._conf)}function s(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners&&(this._events.maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),this.wildcard&&(this.listenerTree={}))}function l(e){this._events={},this.newListener=!1,s.call(this,e)}function d(e,t,i,n){if(!i)return[];var r,a,o,s,l,c,u,h=[],p=t.length,g=t[n],m=t[n+1];if(n===p&&i._listeners){if("function"==typeof i._listeners)return e&&e.push(i._listeners),[i];for(r=0,a=i._listeners.length;r<a;r++)e&&e.push(i._listeners[r]);return[i]}if("*"===g||"**"===g||i[g]){if("*"===g){for(o in i)"_listeners"!==o&&i.hasOwnProperty(o)&&(h=h.concat(d(e,t,i[o],n+1)));return h}if("**"===g){for(o in(u=n+1===p||n+2===p&&"*"===m)&&i._listeners&&(h=h.concat(d(e,t,i,p))),i)"_listeners"!==o&&i.hasOwnProperty(o)&&("*"===o||"**"===o?(i[o]._listeners&&!u&&(h=h.concat(d(e,t,i[o],p))),h=h.concat(d(e,t,i[o],n))):h=o===m?h.concat(d(e,t,i[o],n+2)):h.concat(d(e,t,i[o],n)));return h}h=h.concat(d(e,t,i[g],n+1))}if((s=i["*"])&&d(e,t,s,n+1),l=i["**"])if(n<p)for(o in l._listeners&&d(e,t,l,p),l)"_listeners"!==o&&l.hasOwnProperty(o)&&(o===m?d(e,t,l[o],n+2):o===g?d(e,t,l[o],n+1):((c={})[o]=l[o],d(e,t,{"**":c},n+1)));else l._listeners?d(e,t,l,p):l["*"]&&l["*"]._listeners&&d(e,t,l["*"],p);return h}function c(e,t){for(var i=0,n=(e="string"==typeof e?e.split(this.delimiter):e.slice()).length;i+1<n;i++)if("**"===e[i]&&"**"===e[i+1])return;for(var r=this.listenerTree,o=e.shift();o;){if(r[o]||(r[o]={}),r=r[o],0===e.length){if(r._listeners){if("function"==typeof r._listeners)r._listeners=[r._listeners,t];else if(a(r._listeners)&&(r._listeners.push(t),!r._listeners.warned)){var s=10;void 0!==this._events.maxListeners&&(s=this._events.maxListeners),s>0&&r._listeners.length>s&&(r._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",r._listeners.length),console.trace&&console.trace())}}else r._listeners=t;return!0}o=e.shift()}return!0}l.EventEmitter2=l,l.prototype.delimiter=".",l.prototype.setMaxListeners=function(e){this._events||o.call(this),this._events.maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e},l.prototype.event="",l.prototype.once=function(e,t){return this.many(e,1,t),this},l.prototype.many=function(e,t,i){var n=this;if("function"!=typeof i)throw new Error("many only accepts instances of Function");function r(){0==--t&&n.off(e,r),i.apply(this,arguments)}return r._origin=i,this.on(e,r),n},l.prototype.emit=function(){this._events||o.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,i,n,r,a,s=arguments.length;if(this._all&&this._all.length){if(a=this._all.slice(),s>3)for(t=new Array(s),r=1;r<s;r++)t[r]=arguments[r];for(n=0,i=a.length;n<i;n++)switch(this.event=e,s){case 1:a[n].call(this,e);break;case 2:a[n].call(this,e,arguments[1]);break;case 3:a[n].call(this,e,arguments[1],arguments[2]);break;default:a[n].apply(this,t)}}if(this.wildcard){a=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();d.call(this,a,l,this.listenerTree,0)}else{if("function"==typeof(a=this._events[e])){switch(this.event=e,s){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(s-1),r=1;r<s;r++)t[r-1]=arguments[r];a.apply(this,t)}return!0}a&&(a=a.slice())}if(a&&a.length){if(s>3)for(t=new Array(s-1),r=1;r<s;r++)t[r-1]=arguments[r];for(n=0,i=a.length;n<i;n++)switch(this.event=e,s){case 1:a[n].call(this);break;case 2:a[n].call(this,arguments[1]);break;case 3:a[n].call(this,arguments[1],arguments[2]);break;default:a[n].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},l.prototype.emitAsync=function(){this._events||o.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,i,n,r,a,s=[],l=arguments.length;if(this._all){if(l>3)for(t=new Array(l),r=1;r<l;r++)t[r]=arguments[r];for(n=0,i=this._all.length;n<i;n++)switch(this.event=e,l){case 1:s.push(this._all[n].call(this,e));break;case 2:s.push(this._all[n].call(this,e,arguments[1]));break;case 3:s.push(this._all[n].call(this,e,arguments[1],arguments[2]));break;default:s.push(this._all[n].apply(this,t))}}if(this.wildcard){a=[];var c="string"==typeof e?e.split(this.delimiter):e.slice();d.call(this,a,c,this.listenerTree,0)}else a=this._events[e];if("function"==typeof a)switch(this.event=e,l){case 1:s.push(a.call(this));break;case 2:s.push(a.call(this,arguments[1]));break;case 3:s.push(a.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(l-1),r=1;r<l;r++)t[r-1]=arguments[r];s.push(a.apply(this,t))}else if(a&&a.length){if(l>3)for(t=new Array(l-1),r=1;r<l;r++)t[r-1]=arguments[r];for(n=0,i=a.length;n<i;n++)switch(this.event=e,l){case 1:s.push(a[n].call(this));break;case 2:s.push(a[n].call(this,arguments[1]));break;case 3:s.push(a[n].call(this,arguments[1],arguments[2]));break;default:s.push(a[n].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},l.prototype.on=function(e,t){if("function"==typeof e)return this.onAny(e),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");if(this._events||o.call(this),this.emit("newListener",e,t),this.wildcard)return c.call(this,e,t),this;if(this._events[e]){if("function"==typeof this._events[e])this._events[e]=[this._events[e],t];else if(a(this._events[e])&&(this._events[e].push(t),!this._events[e].warned)){var i=10;void 0!==this._events.maxListeners&&(i=this._events.maxListeners),i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace&&console.trace())}}else this._events[e]=t;return this},l.prototype.onAny=function(e){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(e),this},l.prototype.addListener=l.prototype.on,l.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var i,n=[];if(this.wildcard){var o="string"==typeof e?e.split(this.delimiter):e.slice();n=d.call(this,null,o,this.listenerTree,0)}else{if(!this._events[e])return this;i=this._events[e],n.push({_listeners:i})}for(var s=0;s<n.length;s++){var l=n[s];if(i=l._listeners,a(i)){for(var c=-1,u=0,h=i.length;u<h;u++)if(i[u]===t||i[u].listener&&i[u].listener===t||i[u]._origin&&i[u]._origin===t){c=u;break}if(c<0)continue;return this.wildcard?l._listeners.splice(c,1):this._events[e].splice(c,1),0===i.length&&(this.wildcard?delete l._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(i===t||i.listener&&i.listener===t||i._origin&&i._origin===t)&&(this.wildcard?delete l._listeners:delete this._events[e],this.emit("removeListener",e,t))}return function e(t){if(t!==r){var i=Object.keys(t);for(var n in i){var a=i[n],o=t[a];o instanceof Function||"object"!=typeof o||(Object.keys(o).length>0&&e(t[a]),0===Object.keys(o).length&&delete t[a])}}}(this.listenerTree),this},l.prototype.offAny=function(e){var t,i=0,n=0;if(e&&this._all&&this._all.length>0){for(i=0,n=(t=this._all).length;i<n;i++)if(e===t[i])return t.splice(i,1),this.emit("removeListenerAny",e),this}else{for(i=0,n=(t=this._all).length;i<n;i++)this.emit("removeListenerAny",t[i]);this._all=[]}return this},l.prototype.removeListener=l.prototype.off,l.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||o.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),i=d.call(this,null,t,this.listenerTree,0),n=0;n<i.length;n++){i[n]._listeners=null}else{if(!this._events||!this._events[e])return this;this._events[e]=null}return this},l.prototype.listeners=function(e){if(this.wildcard){var t=[],i="string"==typeof e?e.split(this.delimiter):e.slice();return d.call(this,t,i,this.listenerTree,0),t}return this._events||o.call(this),this._events[e]||(this._events[e]=[]),a(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},l.prototype.listenersAny=function(){return this._all?this._all:[]},(n=function(){return l}.call(t,i,t,e))===r||(e.exports=n)}()},554606:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>m});var n=i(465420),r=i(296540),a=i(52754),o=i(761208),s=i(479892),l=i(716249),d=i(877293),c=i(45426),u=i(352254),h=i(415283),p=i(914944);class g extends l.A{constructor(){super(...arguments),this.IMAGE_DIMENSION=56,this.titleStyle=[o.fv.titleStyle,s.XT.fkGreenText],this.renderInProgressTier=(e,t)=>{const{progress:i,title:n,description:a}=e,l=null==i?void 0:i.applicableItems,c=null==i?void 0:i.actionableItems;return r.createElement(d.View,{style:s.C1.row,key:`Basket_offer_tier${t}`},r.createElement(d.View,{style:o.fv.leftBox},r.createElement(d.View,{style:o.fv.circleGreenBorder})),r.createElement(d.View,{style:s.C1.col},r.createElement(d.Text,{numberOfLines:1,style:this.titleStyle},n),r.createElement(d.Text,{numberOfLines:1,style:o.fv.subTitleStyle},a),r.createElement(d.View,{style:o.n_.progressContainer},null==l?void 0:l.map(this._renderApplicableItems),null==c?void 0:c.map(this._renderActionableItems))))},this._renderActionableItems=(e,t)=>{var i;const n=(null===(i=e.value)||void 0===i?void 0:i.count)||1,r=[];for(let i=0;i<n;i++)r.push(this._renderActionableItem(e,t,i));return r},this._renderApplicableItems=(e,t)=>{var i;const n=(null===(i=e.value)||void 0===i?void 0:i.count)||1,r=[];for(let i=0;i<n;i++)r.push(this._renderApplicableItem(e,t,i));return r},this.onPress=(e,t)=>{t&&this.props.actionDispatcher&&this.props.actionDispatcher({type:h.Q3.MAPI_ACTION,payload:new p.rs(t)})}}static getWidgetHeight(e){return 90+this.getAdditionalHeight(e)}renderDivider(){}renderWidget(){const e=(0,a.nS)(this.props.widgetSlotData),t=e&&e.data,{title:i,tiers:n}=t||{};if(n&&!(n.length<1))return r.createElement(d.View,{style:o.n_.outerContainer},this.renderTitle(i),n.map(this.renderInProgressTier))}renderTitle(e){return e?r.createElement(d.Text,{numberOfLines:1,style:o.fv.headerStyle},e):void 0}_renderActionableItem(e,t,i){return r.createElement(c.S,{onPress:this.onPress,disableFeedback:!0,onPressParam:null==e?void 0:e.action,key:`BMGN_actionable${t}_${i}`},r.createElement(d.View,{style:o.n_.greyBox},r.createElement(d.View,null,r.createElement(d.View,{style:o.n_.verticalLine}),r.createElement(d.View,{style:o.n_.horizontalLine}))))}_renderApplicableItem(e,t,i){var n,a;const s=null===(a=null===(n=null==e?void 0:e.value)||void 0===n?void 0:n.icon)||void 0===a?void 0:a.dynamicImageUrl;return r.createElement(c.S,{onPress:this.onPress,disableFeedback:!0,onPressParam:null==e?void 0:e.action,key:`BMGN_applicable${t}_${i}`},r.createElement(u.A,{style:o.n_.imageContainer,source:s,width:this.IMAGE_DIMENSION,height:this.IMAGE_DIMENSION,resizeMode:"contain"}))}}class m extends n.A{getWidgetClass(e){return g}getWidgetHeight(e){return g.getWidgetHeight(e)}}},558931:(e,t,i)=>{"use strict";i.d(t,{A:()=>A});var n,r,a,o=i(296540),s=i(877293),l=i(352254),d=i(45426),c=i(479892),u=i(813652),h=i(857850),p=i(914944),g=i(80733),m=i(145176),v=i(537415),_=i(298494),C=i(996213),E=i(492418),T=i(738221),f=i.n(T);!function(e){e[e.VISIBLE=0]="VISIBLE",e[e.HIDDEN=1]="HIDDEN"}(n||(n={})),function(e){e[e.COLLAPSED=0]="COLLAPSED",e[e.EXPANDED=1]="EXPANDED"}(r||(r={})),function(e){e[e.FLICK_UP=0]="FLICK_UP",e[e.FLICK_DOWN=1]="FLICK_DOWN",e[e.NONE=2]="NONE"}(a||(a={}));class A extends o.PureComponent{constructor(e,t){var i,n,r,a,o,l,d,u,g;super(e,t),this._CROSS_ICON_HEIGHT=20,this._OPACITY_THRESHOLD=50,this._pageHeight=this.props.pageHeight,this._modalHeight=null!==(i=this.props.customModalHeight)&&void 0!==i?i:.6*this.props.pageHeight,this._rootStyle=[c.C1.col,{minHeight:this._modalHeight}],this._cardRootStyle=[c.C1.flex,c.C1.justifyContentCenter,c.C1.alignItemCenter],this._cardTappableRootStyle=[c.C1.flex,c.C1.displayFlex],this._cardStyle=this.props.cardStyle||[c.C1.colWithoutFlex,c.C1.alignItemCenter,c.C1.justifyContentCenter,c.C1.contentSelfAlignCenter,c.C1.border_radius_4,c.C1.backgroundWhite,{width:.5*this.props.pageWidth}],this._crossIconStyle=[c.C1.margin_left_20,c.C1.margin_top_20],this._bottomsheetState=0,this._currentScrollOffset={timestamp:-1,offset:0},this._velocityY=0,this._isAndroid="android"===s.Platform.OS,this._isIOS="ios"===s.Platform.OS,this._isWeb="web"===s.Platform.OS,this._changeFakeBottomSheetState=()=>{const e=0===this._bottomsheetState?0:1,t={type:h.Q3.SCROLL_TO_INDEX_IF_EXISTS,tracking:{},loginType:v.G.LOGIN_NOT_REQUIRED,params:{index:e}};this._currentScrollOffset.offset>0&&this.dispatchAction(h.Q3.MAPI_ACTION,new p.Oy(t))},this.changeFakeBottomSheetStateDebounced=f()(this._changeFakeBottomSheetState,300),this._handleClose=(e,t)=>{var i;if(this.props.onCloseWithoutTransition&&t)this.props.onClose(null==t?void 0:t.action);else if(this.state.transitionsComplete){this.props.onClose();const e={loginType:v.G.LOGIN_NOT_REQUIRED,params:{},tracking:{},type:h.aw.GO_BACK};this.dispatchAction(h.Q3.MAPI_ACTION,new p.Oy(null!==(i=null==t?void 0:t.action)&&void 0!==i?i:e))}},this.dispatchAction=(e,t)=>{this.props.actionDispatcher&&this.props.actionDispatcher({type:e,payload:t})},this.state=Object.assign(Object.assign({},this.state),{transitionsComplete:!1,modalState:0}),this._containerOpacity=null!==(r=null===(n=e.intialTransitionValues)||void 0===n?void 0:n.intialOpacity)&&void 0!==r?r:new s.Animated.Value(1),this._containerScale=null!==(o=null===(a=e.intialTransitionValues)||void 0===a?void 0:a.intialscale)&&void 0!==o?o:new s.Animated.Value(1.2),this._cardPaddingTop=null!==(d=null===(l=e.intialTransitionValues)||void 0===l?void 0:l.intialCardPaddingTop)&&void 0!==d?d:new s.Animated.Value(.25*this._pageHeight),this._cardPaddingBottom=null!==(g=null===(u=e.intialTransitionValues)||void 0===u?void 0:u.intialCardPaddingBottom)&&void 0!==g?g:new s.Animated.Value(.45*this._pageHeight)}componentDidMount(){this.dispatchAction(h.Q3.TOGGLE_PAGE_SCROLLABLE,new _.A(!1)),m.A.getInstance().notify(!1),this.props.scrollProps&&(this.props.scrollProps.scrollComponentEventEmitter.addListener(g.th.ON_SCROLL,this._onScroll,this),this.props.scrollProps.scrollComponentEventEmitter.addListener(g.th.ON_SCROLL_DRAG_END,this._onScrollDragEnd,this)),this.props.canStartTransitions()&&this._startTransitions()}componentDidUpdate(e,t,i){!this.state.transitionsComplete&&this.props.canStartTransitions()&&this._startTransitions()}componentWillUnmount(){this.dispatchAction(h.Q3.TOGGLE_PAGE_SCROLLABLE,new _.A(!0)),this.props.scrollProps&&(this.props.scrollProps.scrollComponentEventEmitter.removeListenerForEvent(g.th.ON_SCROLL,this._onScroll),this.props.scrollProps.scrollComponentEventEmitter.removeListenerForEvent(g.th.ON_SCROLL_DRAG_END,this._onScrollDragEnd))}render(){return o.createElement(o.Fragment,null,o.createElement(s.View,{style:this._rootStyle},this.props.closeIcon&&this._renderCross(this.props.closeIcon),o.createElement(d.S,{disableFeedback:!0,onPress:this._handleClose,onPressParam:this.props.closeIcon,tappableStyle:this._cardTappableRootStyle},o.createElement(s.View,{style:this._cardRootStyle},this._renderCard()))))}_renderCross(e){var t,i;const n=null!==(i=null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.dynamicImageUrl)&&void 0!==i?i:(0,u.cross)();return o.createElement(d.S,{onPress:this._handleClose,onPressParam:e},o.createElement(s.View,null,o.createElement(l.A,{style:this._crossIconStyle,source:n,width:this._CROSS_ICON_HEIGHT,height:this._CROSS_ICON_HEIGHT,resizeMode:"center"})))}_renderCard(){return o.createElement(s.Animated.View,{style:{opacity:this._containerOpacity,transform:[{scaleX:this._containerScale},{scaleY:this._containerScale}],marginTop:this._cardPaddingTop,marginBottom:this._cardPaddingBottom}},o.createElement(d.S,{disableFeedback:!0},o.createElement(s.View,{style:this._cardStyle},this.props.children)))}_onScroll(e){const t=e.contentOffset.y;t<=this._OPACITY_THRESHOLD?this._containerOpacity.setValue(1-t/this._OPACITY_THRESHOLD*1):this._containerOpacity.setValue(0),t>this._modalHeight&&0===this.state.modalState?(this.dispatchAction(h.Q3.CHANGE_PAGE_BACKGROUND,new C.A(h.Jy.white)),this.props.onModalStateChange(1),this.setState(Object.assign(Object.assign({},this.state),{modalState:1}))):t<=this._modalHeight&&1===this.state.modalState&&(this.dispatchAction(h.Q3.CHANGE_PAGE_BACKGROUND,new C.A(E.hIQ.transparentWhite)),this.props.onModalStateChange(0),this.setState(Object.assign(Object.assign({},this.state),{modalState:0})));const i=(new Date).getTime();(this._isIOS||this._isWeb)&&this._calculateScrollVelocityY(t,i),this._currentScrollOffset={timestamp:i,offset:t},this._isWeb&&this._onScrollDragEnd(e)}_calculateScrollVelocityY(e,t){const i=this._currentScrollOffset.timestamp;-1!==i&&(this._velocityY=1e3*(e-this._currentScrollOffset.offset)/(t-i))}_getScrollFlickDirection(e){const t=this._isAndroid?2e3:100;return e>t?0:e<-t?1:2}_onScrollDragEnd(e){var t,i;const n=e.contentOffset.y,r=this._isAndroid?null!==(i=null===(t=e.velocity)||void 0===t?void 0:t.y)&&void 0!==i?i:0:this._velocityY,a=this._isAndroid?this._changeFakeBottomSheetState:this.changeFakeBottomSheetStateDebounced;n<=.3*this._modalHeight?(this._bottomsheetState=0,0===this._getScrollFlickDirection(r)&&(this._bottomsheetState=1),a()):n<=this._modalHeight&&(this._bottomsheetState=1,1===this._getScrollFlickDirection(r)&&(this._bottomsheetState=0),a())}_startTransitions(){const e=()=>{m.A.getInstance().notify(!0),this.dispatchAction(h.Q3.TOGGLE_PAGE_SCROLLABLE,new _.A(!0)),this.setState(Object.assign(Object.assign({},this.state),{transitionsComplete:!0}))};s.Animated.parallel([s.Animated.timing(this._containerScale,{toValue:1,duration:600,useNativeDriver:!1,easing:s.Easing.ease}),s.Animated.timing(this._cardPaddingTop,{toValue:0,duration:600,useNativeDriver:!1,easing:s.Easing.ease}),s.Animated.timing(this._cardPaddingBottom,{toValue:0,duration:600,useNativeDriver:!1,easing:s.Easing.ease})]).start((t=>e()))}}},562906:(e,t,i)=>{"use strict";i.d(t,{A:()=>W});var n,r=i(296540),a=i(877293),o=i(40543),s=i(231679),l=i(813652),d=i(865167),c=i(988013),u=i(492418),h=i(561310),p=i(110825),g=i(787921),m=i(914944);!function(e){e.rex_resource_TRY_IT_ON_ICON_URL="rex_resource_TRY_IT_ON_ICON_URL"}(n||(n={}));var v=i(748960),_=i(860095),C=i(311676),E=i(931479),T=i(410752),f=i(395567),A=i(287727),S=i(362509),y=i(300952),w=i(169211),I=i(816762),b=i(716249),D=i(479892),x=i(97529),P=i(454334),O=i(352254),R=function(e,t,i,n){return new(i||(i=Promise))((function(r,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};class k extends r.PureComponent{constructor(e){super(e),this.ONBOARDIN_KEY="@Flipkart:UserHasTriedOnboarding",this.ANIMATION_COUNTER_KEY="@Flipkart:AnimationCounter",this.ANIMATION_ITERATIONS=5,this.ANIMATION_CYCLE_DELAY=1.5,this.translateY=new a.Animated.Value(0),this.dummyValue=new a.Animated.Value(0),this.rotateZ=new a.Animated.Value(0);const t=new a.Animated.Value(0);this.translateY=new a.Animated.Value(0),this.rotateZ=t,this.rotateZValue=t.interpolate({inputRange:e.loader?[0,.25,.5,.75,1]:[-10,10],outputRange:e.loader?["0deg","90deg","180deg","270deg","360deg"]:["-10deg","10deg"]}),this.iconWidth=e.width||27,this.iconHeight=e.height||27}animation(){a.Animated.loop(a.Animated.sequence([a.Animated.timing(this.translateY,{toValue:-4,duration:300,useNativeDriver:!0}),a.Animated.timing(this.rotateZ,{toValue:10,duration:150,useNativeDriver:!0,easing:a.Easing.inOut(a.Easing.sin)}),a.Animated.timing(this.rotateZ,{toValue:-10,duration:300,useNativeDriver:!0,easing:a.Easing.inOut(a.Easing.sin)}),a.Animated.timing(this.rotateZ,{toValue:0,duration:150,useNativeDriver:!0,easing:a.Easing.inOut(a.Easing.sin)}),a.Animated.timing(this.translateY,{toValue:0,duration:300,useNativeDriver:!0}),a.Animated.timing(this.dummyValue,{delay:1e3*this.ANIMATION_CYCLE_DELAY,toValue:2,duration:0,useNativeDriver:!0})]),{iterations:this.ANIMATION_ITERATIONS}).start()}loaderAnimation(){this.rotateZ.setValue(0),a.Animated.timing(this.rotateZ,{toValue:1,duration:1e3,useNativeDriver:!1,easing:a.Easing.linear}).start((()=>this.loaderAnimation()))}componentDidMount(){this.props.loader?this.loaderAnimation():this.handleKey()}componentWillUnmount(){this.translateY.stopAnimation(),this.rotateZ.stopAnimation(),this.dummyValue.stopAnimation()}handleKey(){return R(this,void 0,void 0,(function*(){if("true"!==(yield P.A.getValue(this.ONBOARDIN_KEY))){const e=yield P.A.getValue(this.ANIMATION_COUNTER_KEY),t=e?Number(e):0;t<=1&&setTimeout((()=>{this.animation()}),this.ANIMATION_CYCLE_DELAY),yield P.A.setValue(this.ANIMATION_COUNTER_KEY,`${t+1}`)}}))}render(){return r.createElement(a.Animated.View,{style:{transform:[{translateY:this.translateY},{rotateZ:this.rotateZValue}]}},r.createElement(O.A,{source:this.props.imageSource,width:this.iconWidth,height:this.iconHeight,resizeMode:"contain"}))}}var V=i(580555),L=i(52754),M=i(857850),N=i(879052),H=function(e,t,i,n){return new(i||(i=Promise))((function(r,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};class W extends r.PureComponent{constructor(e){super(e),this.VTO_DFM_FAIL_MESSAGE="Try on loading failed, please try in some time",this.HIT_SLOP={top:8,bottom:8,right:8,left:8},this.DEFAULT_OVERLAY_PROPS={animatedWrap:1,overlayActionValue:this.props.overlayAnimValueWithNativeDriver},this._handleAssistedBuyingAction=(e,t)=>{t&&this.dispatchAction(g.A.MAPI_ACTION,new m.Oy(t))},this._handleViewSimilarClick=(e,t)=>{t&&this.dispatchAction(g.A.MAPI_ACTION,new m.Oy(t))},this._handleBookPreviewClick=(e,t)=>{var i,n;if(t){const e=new h.iM(h.xH.OPEN_MODAL,p.dv.getWebViewModalAction(t));null===(n=(i=this.props.parentProps).actionDispatcher)||void 0===n||n.call(i,e)}},this._handleProductDetailsClick=(e,t)=>{t&&(this.props.trackOmnitureEvent(new f.I0F),this.dispatchAction(g.A.MAPI_ACTION,new m.Oy(t)))},this._handleTryItOnShadeClick=(e,t)=>{if(t){const e={contentMode:v.f.FULL},i=p.dv.modifyActionWithBottomSheetBehaviour(t,e);this.dispatchAction(g.A.MAPI_ACTION,new m.Oy(i))}},this._handleVirtualTryOnButtonClick=(e,t)=>H(this,void 0,void 0,(function*(){var i;if((null===(i=null==t?void 0:t.action)||void 0===i?void 0:i.params.screenName)===M.MC.TRY_ND_BUY_PAGE)this.props.trackOmnitureEvent(new f.FCz(new V.Ay(t.action.tracking))),this.props.trackDiscoveryContentClickEvent(t.action.tracking),this.dispatchAction(g.A.MAPI_ACTION,new m.Oy(t.action));else try{(yield _.lg.checkIfModuleIsInstalled(_.lg.VIRTUAL_TRY_ON_NATIVE_MODULE_NAME))?this._dispatchVirtualTryOnMapiAction(e,t):(this.setState({isDFMLoading:!0}),_.lg.getEmitter().addListener(_.lg.INSTALL_PROGRESS_SUBSCRIPTION_EVENT,(i=>{var n;const r=new C.qsS(i.status,null===(n=this.props.trackingParams)||void 0===n?void 0:n.getImpressionId());this.props.trackDGEvent(r);const a=i.status;if(a===_.X_.INSTALLED)this.setState({isDFMLoading:!1}),this._dispatchVirtualTryOnMapiAction(e,t);else if(a===_.X_.FAILED){this.setState({isDFMLoading:!1});const e={snackBarProps:{message:this.VTO_DFM_FAIL_MESSAGE,duration:E.g.SHORT,design:0}};this.dispatchAction(g.A.SHOW_SNACK_BAR_ACTION,e)}})),yield _.lg.requestInstallModule(_.lg.VIRTUAL_TRY_ON_NATIVE_MODULE_NAME))}catch(e){}})),this._dispatchVirtualTryOnMapiAction=(e,t)=>{if(t){const e={contentMode:v.f.DYNAMIC,peekHeight:1};if(t.action){this.props.trackOmnitureEvent(new f.FCz(new V.Ay(t.action.tracking))),this.props.trackDiscoveryContentClickEvent(t.action.tracking);const i=p.dv.modifyActionWithBottomSheetBehaviour(t.action,e);this.dispatchAction(g.A.MAPI_ACTION,new m.Oy(i))}}},this._renderColorSwatch=e=>{if(this.props.parentState.layoutKey!==A.I.LIFESTYLE||!e.value||!e.value.attributeOptions||!e.value.attributeOptions[0]||e.value.attributeOptions[0].length<S.Tz)return;const t=y.A.extractSwatchPillColorsToDraw(e.value.attributeOptions[0]);return r.createElement(d.n,{animatedWrap:1,overlayActionValue:this.props.overlayAnimValueWithNativeDriver,containerStyle:c.p.colorsContainer,viewStyle:c.p.colorSwatchOverlay,hitSlop:this.HIT_SLOP,onPress:this._onColorPickerClick,onPressParam:e},r.createElement(S.gA,{circleDiameter:16,countTextSize:16,shadowRadius:8,circleHexCodes:t,variantCount:e.value.attributeOptions[0].length}))},this._onColorPickerClick=(e,t)=>{const i=t.action;if(i){const e={contentMode:v.f.DYNAMIC,peekPercentage:I.i.DEFAULT_PEEK_HEIGHT_PERCENTAGE,peekHeight:236+u.vzS},t=p.dv.modifyActionWithBottomSheetBehaviour(i,e),n=new m.rs(t);n&&this.dispatchAction(g.A.MAPI_ACTION,n)}this.props.trackOmnitureEvent(new f.aUZ)},this._onSimilarRecoClick=(e,t)=>{if(t){const e={contentMode:v.f.DYNAMIC,peekPercentage:I.i.DEFAULT_PEEK_HEIGHT_PERCENTAGE,peekHeight:236+u.vzS},i=p.dv.modifyActionWithBottomSheetBehaviour(t,e),n=new m.rs(i);n&&this.dispatchAction(g.A.MAPI_ACTION,n),this.props.trackDiscoveryContentClickEvent(t.tracking),this.props.trackOmnitureEvent(new f.wKV(x.A.SWATCH_SHOW_SIMILAR_RECO_CLICK,b.A.getTrackingParams(this.props.parentProps,t.tracking)))}},this.getOverlayParamsMap=()=>{var e;return null===(e=this.props.parentProps.widgetSlotData.slotData.layoutParams)||void 0===e?void 0:e.overlayParamsMap},this.DEFAULT_COLLAPSIBLE_OVERLAY_BUTTON_PROPS={containerStyle:c.p.overlayButtonContainer,viewStyle:c.p.overlayButtonAlone,textStyle:s.M1.overlayButtonText,imageStyle:s.M1.overlayButtonIcon,defaultImageSize:s.aH.OVERLAY_BUTTON_ICON_SIZE,animatedWrap:2,overlayActionValue:this.props.overlayAnimValueWithoutNativeDriver},this.state=Object.assign(Object.assign({},this.state),{isDFMLoading:!1})}componentDidMount(){const e=(0,L.xH)(this.props.parentProps.widgetSlotData);(null==e?void 0:e.tryOnLookId)&&this._handleVirtualTryOnButtonClick(void 0,e.virtualTryOnAction)}componentWillUnmount(){var e;null===(e=this.props.overlayAnimValueWithoutNativeDriver)||void 0===e||e.removeAllListeners()}render(){const e=(0,L.xH)(this.props.parentProps.widgetSlotData);if(e)return this.renderOverlayComponents(e)}renderOverlayComponents(e){const t=this.getRenderableOverlays(e);return r.createElement(a.View,Object.assign({},(0,N.Z)("Bottom_Right_Overlay"),{style:[s.M1.rightOverlay,D.C1.absolute_bottom_position]}),t.map(((e,t)=>r.createElement(d.n,Object.assign({key:t},e,{themeContext:this.props.themeContext})))),e.virtualTryOnAction&&this.renderVirtualTryOnButton(e.virtualTryOnAction),e.singleAttributeSwatch&&this._renderColorSwatch(e.singleAttributeSwatch))}getRenderableOverlays(e){var t,i,r,a,d,u,h,p;const g=[];if((null===(t=e.floatingActionValues)||void 0===t?void 0:t.assistedBuyingActions)&&!this.props.parentState.isReviewImageBucket&&(null===(i=e.floatingActionValues)||void 0===i||i.assistedBuyingActions.forEach((e=>{g.push(Object.assign(Object.assign({},this.DEFAULT_COLLAPSIBLE_OVERLAY_BUTTON_PROPS),{component:e,defaultImageSource:l.compareIcon,onPress:this._handleAssistedBuyingAction}))}))),(null===(r=e.floatingActionValues)||void 0===r?void 0:r.viewSimilar)&&!this.props.parentState.isReviewImageBucket&&g.push(Object.assign(Object.assign({},this.DEFAULT_COLLAPSIBLE_OVERLAY_BUTTON_PROPS),{component:e.floatingActionValues.viewSimilar,defaultImageSource:l.viewSimilarIcon,onPress:this._handleViewSimilarClick})),(null===(a=e.floatingActionValues)||void 0===a?void 0:a.preview)&&!this.props.parentState.isReviewImageBucket&&o.EI&&g.push(Object.assign(Object.assign({},this.DEFAULT_OVERLAY_PROPS),{component:e.floatingActionValues.preview,containerStyle:c.p.bookPreviewIconContainerAnimated,viewStyle:c.p.bookPreviewActionOverlay,textStyle:s.M1.previewText,imageStyle:s.M1.bookPreviewIcon,defaultImageSource:l.bookPreviewIcon,defaultImageSize:s.aH.PREVIEW_ICON_SIZE,onPress:this._handleBookPreviewClick})),e.tryTheShadeAction&&!this.props.parentState.isReviewImageBucket){const t=this.props.localize({id:n.rex_resource_TRY_IT_ON_ICON_URL,isResource:!0});g.push(Object.assign(Object.assign({},this.DEFAULT_OVERLAY_PROPS),{disableElevation:!0,component:e.tryTheShadeAction,containerStyle:c.p.tryTheShadeIconContainerAnimated,viewStyle:c.p.tryTheShadeOverlay,imageStyle:s.M1.tryTheShadeIcon,defaultImageSource:t,defaultImageSize:{width:s.aH.TRY_IT_ON_ICON_WIDTH,height:s.aH.TRY_IT_ON_ICON_HEIGHT},onPress:this._handleTryItOnShadeClick}))}if((null===(d=e.productDetailsAnnouncement)||void 0===d?void 0:d.action)&&(null===(u=this.getOverlayParamsMap())||void 0===u?void 0:u.productDetails)&&g.push(Object.assign(Object.assign({},this.DEFAULT_OVERLAY_PROPS),{component:this.getProductActionFromAnnouncementValue(e.productDetailsAnnouncement),containerStyle:c.p.productDetailsContainerAnimated,viewStyle:c.p.productDetailsOverlay,textStyle:c.p.productDetailsText,imageStyle:c.p.productDetailsIcon,defaultImageSource:l.newProductDetailsIcon,defaultImageSize:s.aH.PRODUCT_DETAILS_ICON_SIZE,onPress:this._handleProductDetailsClick})),e.showSimilarAction&&!e.singleAttributeSwatch&&!(null===(h=this.getOverlayParamsMap())||void 0===h?void 0:h.productDetails)){const t=e.showSimilarAction;let i;if(null===(p=t.action)||void 0===p?void 0:p.tracking){const e=b.A.getTrackingParams(this.props.parentProps,t.action.tracking);i=this.props.getContentViewTrackingData(e)}g.push(Object.assign(Object.assign({},this.DEFAULT_OVERLAY_PROPS),{component:t,containerStyle:c.p.wrapperContainer,viewStyle:c.p.similarContainer,textStyle:s.M1.showSimilarText,onPress:this._onSimilarRecoClick,trackingInfo:i}))}const m=g.length;if(m>1||1===m&&(e.virtualTryOnAction||e.singleAttributeSwatch)){let e=0;for(;e<g.length-1;)g[e].viewStyle=c.p.overlayButtonWithOthers,e++}return g}getProductActionFromAnnouncementValue(e){return{action:e.action,value:{type:"ProductActionValue",enabled:!1,iconRight:{type:"ImageValue",dynamicImageUrl:l.newProductDetailsIcon,height:s.aH.PRODUCT_DETAILS_ICON_SIZE,width:s.aH.PRODUCT_DETAILS_ICON_SIZE},text:this.props.localize({id:T.H.rex_string_DETAILS})}}}renderVirtualTryOnButton(e){var t,i,n,o,l;const d=!!this.state.isDFMLoading,c=null===(i=null===(t=e.value)||void 0===t?void 0:t.image)||void 0===i?void 0:i.dynamicImageUrl,h=s.M1.vtoText,p=[h,D.XT.fontBold_12,{maxWidth:"100%"}],g=null===(l=null===(o=null===(n=e.value)||void 0===n?void 0:n.text)||void 0===o?void 0:o.split(" "))||void 0===l?void 0:l.join("\n"),m=d?r.createElement(r.Fragment,null,r.createElement(k,{key:"loader",imageSource:u.SFh,loader:!0,width:20,height:20}),r.createElement(a.View,null,r.createElement(a.Text,{style:p},"Please "),r.createElement(a.Text,{style:p},"wait..."))):r.createElement(r.Fragment,null,r.createElement(k,{key:"camera",imageSource:c}),r.createElement(a.Text,{style:h},g));return r.createElement(w.S,{onPress:this._handleVirtualTryOnButtonClick,onPressParam:e,disableFeedback:!0},r.createElement(a.View,{style:s.M1.vtoContainer},this.props.getTrackableContentView(r.createElement(a.View,{style:s.M1.vtoWrapper},m),e.tracking)))}dispatchAction(e,t){var i,n;null===(n=(i=this.props.parentProps).actionDispatcher)||void 0===n||n.call(i,{type:e,payload:t})}}},564776:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ViewTypes:()=>m,default:()=>_});var n=i(614006),r=i(296540),a=i(877293),o=i(770269),s=i(52754),l=i(809400),d=i(787921),c=i(365149),u=i(136156),h=i(97529),p=i(438870);class g extends o.A{constructor(){super(...arguments),this.quantityUpdated=(e,t,i)=>(n,r,a)=>{if(a&&this.dispatchAction){const o=a.tracking,{findingMethod:s,otracker1:l,pageType:u,widgetTitle:p,sProduct:g}=o,m=Object.assign({findingMethod:s,otracker1:l,pageType:u,widgetTitle:p,newValue:r,oldValue:n,sProduct:g},e),v={previousQuantity:n,quantity:r,action:a,price:t,category:i,trackingData:m,trackingActionType:h.A.PMU_HORIZONTAL_EXTENDED_ADD_TO_BASKET};this.dispatchAction(d.A.PMU_EXTENDED_BASKET_ADD,new c.G(v)),this.fireDCEEvent(o,n,r)}}}static getWidgetHeight(e){var t;const i=(0,s.nS)(e.widgetSlotData),n=null==i?void 0:i.data,r=null==n?void 0:n.renderableComponents,a=null!==(t=null==r?void 0:r.some((e=>{var t;return!!(null===(t=e.value)||void 0===t?void 0:t.xtraSaverCallout)})))&&void 0!==t&&t?p.Oj.INLINE:0;return u.dv+a+g.getAdditionalHeight(e)}isRefImageDisabled(){return!0}shouldComponentUpdate(e,t){var i,n;const r=null===(i=e.appContext)||void 0===i?void 0:i.xtraSaverState,a=null===(n=this.props.appContext)||void 0===n?void 0:n.xtraSaverState;return super.shouldComponentUpdate(e,t)||(null==r?void 0:r.status)!==(null==a?void 0:a.status)}renderWidget(){var e,t,i;const n=(0,s.nS)(this.props.widgetSlotData),o=null==n?void 0:n.data,c=null==o?void 0:o.renderableComponents;if(!c)return;const h=this._getXtraSaverAvailabilityInfo(c)?p.Oj.INLINE:0,g=u.dv+h;return r.createElement(a.View,{style:[u.yX.container,{height:g}]},r.createElement(l.E,{calculateDimensions:()=>this.calculateDimensions(h),data:c,containerStyle:[u.yX.groceryProductCard,{height:g}],viewStyle:u.yX.list,renderItem:this.renderItem(d.A.PMU_EXTENDED_BASKET_ADD),extendedState:null===(i=null===(t=null===(e=this.props)||void 0===e?void 0:e.appContext)||void 0===t?void 0:t.xtraSaverState)||void 0===i?void 0:i.status}))}}var m,v=i(465420);!function(e){e.GRID="GRID"}(m||(m={}));class _ extends v.A{getWidgetClass(e){return s.KJ(e.widgetSlotData),g}getWidgetHeight(e){return s.KJ(e.widgetSlotData),g.getWidgetHeight(e)}getWidgetType(e){return`${n.n.PMU_HORIZONTAL_EXTENDED}_${s.KJ(e.widgetSlotData)}`}}},565378:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var n=i(690423),r=i(349851),a=i(985234),o=i(644598),s=i(146387);class l{handleAction(e,t,i){let l=!1;if(e.payload instanceof o.Y){l=!0;const o=e.payload.productsToAdd,d=e.payload.productsToRemove;if(o||d&&d.length>0){const e=n.A.getAggregatedCTATransientDataFromState(t),l=e?Object.assign({},e):new r.qK({});l.productData=Object.assign(Object.assign({},l.productData),o),d&&d.forEach((e=>{l.productData[e]&&delete l.productData[e]}),l),i(new s.zF(new s.pN(a.V.AGGREGATED_CTA,l)))}}return l}}},566829:(e,t,i)=>{"use strict";i.d(t,{A:()=>N});var n=i(296540),r=i(877293),a=i(787921),o=i(395567),s=i(914944),l=i(492418),d=i(988013),c=i(52754),u=i(716249),h=i(972904),p=i(379610),g=i(552946),m=i(492656),v=i(361990),_=i(80733),C=i(53606),E=i(226410),T=i(146387),f=i(616139),A=i(479892),S=i(562906),y=i(938777),w=i(419101),I=i(537415),b=i(57522),D=i(727e3),x=i(257246),P=i(456874),O=i(352254),R=i(110941),k=i(879052),V=i(155805),L=i(160251);function M(e){return e&&"productId"in e}class N extends p.A{constructor(e){super(e),this.TIMEOUT_FOR_ICON_ANIMATION=4e3,this.OVERLAY_ANIMATION_DURATION=150,this.CALLOUT_CONTAINER_HEIGHT=96,this.CALLOUT_CONTAINER_WIDTH=96,this.CALLOUT_IMAGE_HEIGHT=64,this.CALLOUT_IMAGE_WIDTH=64,this.CONTENT_TYPE_REVIEW_GALLERY="CPGalleryShown",this.IS_IOS="ios"===r.Platform.OS,this._wishlistCollapsed=!1,this._wishlistCollapseProgress=new r.Animated.Value(0),this.carouselContainerStyle={},this.onCollapsedStateChange=e=>{setTimeout((()=>{this.setState({isInImmersiveMode:!e},(()=>{this.props.actionDispatcher&&this.dispatchAction(a.A.MAPI_ACTION,new s.Oy({loginType:I.G.LOGIN_NOT_REQUIRED,params:{index:this.props.widgetSlotData.position},tracking:{},type:e?a.A.DISABLE_IMMERSIVE_MODE:a.A.ENABLE_IMMERSIVE_MODE}))}))}),50)},this._carouselContains3DMediaValueAtPosZero=()=>{var e;const t=N.getMultiMediaWidgetDataFromProps(this.props),i=t&&t.multimediaComponents,n=null===(e=null==i?void 0:i[0])||void 0===e?void 0:e.value;return!(!n||!g.A.isMediaTypeFK3D(n))},this._onReviewThumbnailClicked=(e,t)=>{this.trackDiscoveryContentClickEvent(e.tracking,!1,t),this.dispatchAction(a.A.MAPI_ACTION,new s.rs(e))},this._onYoutubeChangeState=(e,t)=>{this.setState({overlayIconsVisibility:e}),this._disableYoutubeAutoplay(t||0)},this._isAutoZoomEnabled=()=>{var e,t;return(null===(t=null===(e=this.props.pageInfo)||void 0===e?void 0:e.pageContext)||void 0===t?void 0:t.type)===l.KbP&&!!C.Ay.getReactNativeConfigGlobalValue("isCarouselAutoZoomEnabled")},this._collapseWishlist=()=>{r.Animated.timing(this._wishlistCollapseProgress,{toValue:1,duration:200,useNativeDriver:!1}).start()},this._getTrackingParams=e=>u.A.getTrackingParams(this.props,e),this._getContentViewTracking=e=>this.getContentViewTrackingData(e),this._onMediaSwipedToPosition=(e,t=void 0,i,n,r)=>{var a,o,s,l,d,c,u;this.setState({showWowDealTag:0===e});const h=p.A.getMultiMediaWidgetDataFromProps(this.props),m=g.A.isMediaTypeTestimonial(null===(o=null===(a=null==h?void 0:h.multimediaComponents)||void 0===a?void 0:a[e])||void 0===o?void 0:o.value),v=null===(d=null===(l=null===(s=null==h?void 0:h.multimediaComponents)||void 0===s?void 0:s[e])||void 0===l?void 0:l.tracking)||void 0===d?void 0:d.contentType,_=m?v:N.isReviewMediaValue(null===(u=null===(c=null==h?void 0:h.multimediaComponents)||void 0===c?void 0:c[e])||void 0===u?void 0:u.value)?this.CONTENT_TYPE_REVIEW_GALLERY:void 0;this.trackMediaImpression(e,t,i,_,n),r||(this.state.hasSwiped||((t||0===t)&&this.trackMediaSwipe(t,i),this.setState({hasSwiped:!0})),this._updateCalloutStatus(e),this.trackMediaSwipe(e,i),this.handleOverlayActionsAnimation(e,t))},this.handleOverlayActionsAnimation=(e,t)=>{var i,n;const r=p.A.getMultiMediaWidgetDataFromProps(this.props),a=r&&r.multimediaComponents,o=null===(i=null==a?void 0:a[e])||void 0===i?void 0:i.value;if(o&&(g.A.isHighlightsImageValue(o)||g.A.isMediaTypeTestimonial(o)))g.A.isHighlightsImageValueLinks(o)&&g.A.isMediaTypeTestimonial(o)||this._animateOverlayActions(1);else if(void 0!==t){const e=null===(n=null==a?void 0:a[t])||void 0===n?void 0:n.value;e&&(g.A.isHighlightsImageValue(e)||g.A.isMediaTypeTestimonial(e))&&this._animateOverlayActions(0)}this._animateNonNativeActions(0===e?0:1),o&&(g.A.isMediaTypeFK3D(o)||g.A.isHighlightsImageValueLinks(o))?setTimeout((()=>{this.setState({bottomMediaOverlayVisibility:!1})}),5):setTimeout((()=>{this.setState({bottomMediaOverlayVisibility:!0})}),5)},this._animateNonNativeActions=e=>{r.Animated.timing(this._overlayAnimValueWithoutNativeDriver,{toValue:e,duration:this.OVERLAY_ANIMATION_DURATION,easing:r.Easing.out(r.Easing.cubic),useNativeDriver:!1}).start()},this._animateOverlayActions=e=>{r.Animated.timing(this._overlayAnimValueWithNativeDriver,{toValue:e,duration:this.OVERLAY_ANIMATION_DURATION,easing:r.Easing.linear,useNativeDriver:!0}).start()},this._onMediaClicked=e=>{var t,i,n,r;const o=N.getMultiMediaWidgetDataFromProps(this.props),l=this.state.layoutKey,d=o&&o.multimediaComponents,c=[];let u=0;if(d){const r=d[e].value;if(r&&g.A.isHighlightsImageValue(r))return;const a=N.isReviewMediaValue(null===(i=null===(t=null==o?void 0:o.multimediaComponents)||void 0===t?void 0:t[e])||void 0===i?void 0:i.value)?this.CONTENT_TYPE_REVIEW_GALLERY:void 0;this.trackMediaImpression(e,void 0,void 0,a),this.trackDiscoveryContentClickEvent(null===(n=d[e])||void 0===n?void 0:n.tracking),d.forEach(((t,i)=>{const n=Object.assign({},t),r=Object.assign({},n.value);v.e.shouldRemoveNoteInfoFromMultimedia()&&(r.info=void 0),n.value=r,g.A.isHighlightsImageValue(n.value)||g.A.isMediaTypeFK3D(n.value)||g.A.isMediaTypeTestimonial(n.value)||g.A.isMediaTypeBrandCertificate(n.value)?i<=e&&u++:c.push(n)}))}const h=e-u,m=c&&c[h]&&c[h].value,_=null===(r=null==c?void 0:c[h])||void 0===r?void 0:r.action;if(m){const e=p.A.isYoutubeVideo(m),t=g.A.isFkVideo(m);if(e)this.handleYoutubeVideoClick(m.contentId,m.url,m.source,h);else if(t&&this.props.actionDispatcher&&_)this.dispatchAction(a.A.MAPI_ACTION,new s.Oy(_));else{const e=!!C.Ay.getReactNativeConfigGlobalValue("enableFkVideoDataPassToNative"),t=(0,w.E)(c,this.props.appContext.userManager.isFeatureAvailable(y.xbY),e,h,this.IS_IOS),i=t.multiMediaComponents;this.handleGalleryClick(h-t.numOfIndicesToSkip,i,N._shouldOpenLifestyleGallery(l))}}},this._renderCalloutText=e=>{var t;const i=null===(t=e.value)||void 0===t?void 0:t.text;return i?n.createElement(r.View,{style:d.p.calloutContainer},n.createElement(r.Text,{style:d.p.calloutStyle},i)):null},this._renderRefurbishAnnouncement=e=>{const t=null==e?void 0:e.value,i=null==t?void 0:t.grade;return n.createElement(r.View,{style:d.p.gradeContainer},n.createElement(E.X,{gradeId:null==i?void 0:i.id,subtitle:null==i?void 0:i.shortDesc,isCenterAligned:!0}))},this._renderCarouselCallout=(e,t)=>{const i=n.createElement(P.A,{data:e,renderItem:this._renderCalloutImage,scrollEnabled:!1,loop:!0,autoplay:!0,autoplayInterval:2e3,hasParallaxImages:!1,windowSize:3,sliderWidth:this.CALLOUT_CONTAINER_WIDTH,itemWidth:this.CALLOUT_CONTAINER_WIDTH,itemHeight:this.CALLOUT_IMAGE_HEIGHT,inactiveSlideOpacity:1,inactiveSlideScale:1});return t?n.createElement(r.ImageBackground,{source:{uri:R.A.generateImageUrl(t,this.CALLOUT_CONTAINER_WIDTH,this.CALLOUT_CONTAINER_HEIGHT)},resizeMode:"cover",style:d.p.carouselCalloutContainer},i):n.createElement(r.View,{style:d.p.carouselCalloutContainer},i)},this._renderCalloutImage=e=>n.createElement(r.View,{style:d.p.calloutImageContainer},n.createElement(O.A,{source:e.item.value.dynamicImageUrl,height:this.CALLOUT_IMAGE_HEIGHT,width:this.CALLOUT_IMAGE_WIDTH})),this._sendReviewBucketClickTracking=(e,t,i,n,r)=>{this.trackOmnitureEvent(new o.G6O(e,t,i,n,r))},this._disableYoutubeAutoplay=e=>{const t=(0,c.nS)(this.props.widgetSlotData),i=t&&this.isMultimediaWidgetData(t.type,t.data)?t.data:void 0,n=i&&i.multimediaComponents,r=n&&n[e].value.autoPlayRequired;t&&n&&r&&e<n.length&&(n[e].value.autoPlayRequired=!1,this.dispatchAction(a.A.UPDATE_WIDGET,new T._D(t)))},this.isMultimediaWidgetData=(e,t)=>t&&"multimediaComponents"in t&&"MULTIMEDIA"===e,this.isProductPagePreviewVolatileData=e=>e.type===b.j.PRODUCT_PAGE_PREVIEW&&"thumbnailUrl"in e,this.state=Object.assign(Object.assign({},this.state),{isReviewImageBucket:!1,isDFMLoading:!1,overlayIconsVisibility:!0,isInImmersiveMode:!1,bottomMediaOverlayVisibility:this._getInitialBottomMediaOverlayVisibility(),showWowDealTag:!0}),this._overlayAnimValueWithNativeDriver=new r.Animated.Value(0),this._overlayAnimValueWithoutNativeDriver=new r.Animated.Value(0)}static getWidgetHeight(e){const t=p.A.getMultiMediaWidgetDataFromProps(e),i=(0,c.UN)(e.widgetSlotData),n=e.appContext.uiContext.windowFrame.width,r=(0,c.KJ)(e.widgetSlotData);return m.A.getHeight(t,i,n,r)}shouldStateUpdate(e,t){const i=h.A.isPresentInWishlist(e);return this.state.isInWishlist!==i||super.shouldStateUpdate(e,t)}getDerivedState(e,t){var i,n,r,a;e.scrollProps&&(e.scrollProps.scrollComponentEventEmitter.removeListenerForEvent(_.th.ON_SCROLL_DRAG_BEGIN,this._onScrollDragBegin),e.scrollProps.scrollComponentEventEmitter.addListener(_.th.ON_SCROLL_DRAG_BEGIN,this._onScrollDragBegin,this));const o=this.isProductWishlisted(e),s=!(!t||!t.hasSwiped)&&t.hasSwiped,l=(null===(n=null===(i=this.props)||void 0===i?void 0:i.pageInfo)||void 0===n?void 0:n.pageContext)&&M(this.props.pageInfo.pageContext)?this.props.pageInfo.pageContext:void 0,d=(null===(r=null==e?void 0:e.pageInfo)||void 0===r?void 0:r.pageContext)&&M(e.pageInfo.pageContext)?e.pageInfo.pageContext:void 0,u=!!(t&&t.isReviewImageBucket&&l&&d&&l.productId===d.productId)&&t.isReviewImageBucket;return(null==l?void 0:l.productId)!==(null==d?void 0:d.productId)&&(this._overlayAnimValueWithNativeDriver&&this._animateOverlayActions(0),null===(a=this._overlayAnimValueWithoutNativeDriver)||void 0===a||a.setValue(0)),Object.assign(Object.assign({},super.getDerivedState(e,t)),{isInWishlist:o,layoutKey:(0,c.UN)(e.widgetSlotData),hasSwiped:s,isReviewImageBucket:u})}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i)||this.state.isInWishlist!==t.isInWishlist||this.state.isReviewImageBucket!==t.isReviewImageBucket||this.state.isDFMLoading!==t.isDFMLoading||this.state.overlayIconsVisibility!==t.overlayIconsVisibility||this.state.isInImmersiveMode!==t.isInImmersiveMode||this.state.bottomMediaOverlayVisibility!==t.bottomMediaOverlayVisibility||this.state.showWowDealTag!==t.showWowDealTag}componentDidMount(){var e,t;const i=N.getMultiMediaWidgetDataFromProps(this.props);if(!this._wishlistCollapsed&&i){const n=null===(t=null===(e=null==i?void 0:i.floatingActionValues)||void 0===e?void 0:e.collectionAction)||void 0===t?void 0:t.value;n&&(this._iconTextTimeoutId=setTimeout((()=>{this._wishlistCollapsed=!0,this._collapseWishlist()}),n.iconTextTimeOut||this.TIMEOUT_FOR_ICON_ANIMATION))}}_getInitialBottomMediaOverlayVisibility(){return!this._carouselContains3DMediaValueAtPosZero()}componentWillUnmount(){super.componentWillUnmount(),this.props.scrollProps&&this.props.scrollProps.scrollComponentEventEmitter.removeListenerForEvent(_.th.ON_SCROLL_DRAG_BEGIN,this._onScrollDragBegin)}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),(0,c.nS)(this.props.widgetSlotData)!==(0,c.nS)(e.widgetSlotData)&&(!this._carouselContains3DMediaValueAtPosZero()&&this.state.isInImmersiveMode?this.onCollapsedStateChange(!0):this._carouselContains3DMediaValueAtPosZero()&&this.state.isInImmersiveMode&&this.props.widgetSlotData.position!==e.widgetSlotData.position&&this.onCollapsedStateChange(!1))}renderWidget(){var e,t,i,a,o,s;const l=p.A.getMultiMediaWidgetDataFromProps(this.props),d=l&&l.multimediaComponents;if(!l||!d)return;const u=(0,c.KJ)(this.props.widgetSlotData),h=(null===(t=null===(e=this.props)||void 0===e?void 0:e.pageInfo)||void 0===t?void 0:t.pageContext)&&M(this.props.pageInfo.pageContext)?this.props.pageInfo.pageContext:void 0,m=h&&h.productId,v=l.calloutText,_=l.refurbishAnnouncement,E=this.getMediaCarouselComponent(),T=(0,c.Qd)(this.props,b.j.PRODUCT_PAGE_PREVIEW),y=T&&this.isProductPagePreviewVolatileData(T)?T:void 0,w=null==y?void 0:y.thumbnailUrl;w&&(0,c.H7)(this.props,b.j.PRODUCT_PAGE_PREVIEW);const I=l.themeTag&&l.themeTag.data,P=null===(a=null===(i=null==l?void 0:l.themeTag)||void 0===i?void 0:i.containerStyle)||void 0===a?void 0:a.backgroundImage,O=(null==d?void 0:d.length)?null==d?void 0:d.length:0,R=null==l?void 0:l.wowTag;let N=this.props.appContext.uiContext.getPageFrame().width||this.props.appContext.uiContext.windowFrame.width,H=this.props.appContext.uiContext.getPageFrame().height||this.props.appContext.uiContext.windowFrame.height;return(0,V.wb)(null===(o=this.props.pageInfo)||void 0===o?void 0:o.pageURI,null===(s=this.props.pageInfo)||void 0===s?void 0:s.marketPlace)&&(N=L.b2,H=L.b2),n.createElement(D.w.Consumer,null,(e=>{var t,i,a,o;return n.createElement(r.View,Object.assign({},(0,k.Z)(`Media_Carousal_Container_${O}`),{style:[this.carouselContainerStyle,(0,x.No)(e)]}),n.createElement(E,{multimediaWidgetData:l,showPageIndicator:this.showPageIndicator(d),onMediaClicked:this._onMediaClicked,videoIndices:g.A.getVideoIndices(d),width:N,height:H,layoutKey:(0,c.UN)(this.props.widgetSlotData),onMediaSwipedTo:this._onMediaSwipedToPosition,viewType:u,actionDispatcher:this.props.actionDispatcher,trackReviewBucketClick:this._sendReviewBucketClickTracking,getTrackingParams:this._getTrackingParams,getContentViewTrackingData:this._getContentViewTracking,key:this._carouselContains3DMediaValueAtPosZero()?"":m,autoZoomInAbValue:this._isAutoZoomEnabled(),restartAutoZoomEnabled:!!C.Ay.getReactNativeConfigGlobalValue("restartAutoZoomEnabled"),autoZoomStartDelay:C.Ay.getReactNativeConfigGlobalValue("autoZoomStartDelay"),autoZoomAnimationTime:C.Ay.getReactNativeConfigGlobalValue("autoZoomAnimationTime"),autoZoomInitialScale:C.Ay.getReactNativeConfigGlobalValue("autoZoomInitialScale"),autoZoomFinalScale:C.Ay.getReactNativeConfigGlobalValue("autoZoomFinalScale"),pageInfo:this.props.pageInfo,widgetType:null===(t=(0,c.nS)(this.props.widgetSlotData))||void 0===t?void 0:t.type,onYoutubeChangeState:this._onYoutubeChangeState,imageDimensionCache:this.cache,onReviewThumbnailClicked:this._onReviewThumbnailClicked,getTrackableContentView:this.getTrackableContentView,productId:m,trackDiscoveryContentClickEvent:this.trackDiscoveryContentClickEvent,thumbnailUrl:w,onCollapsedChanged:this.onCollapsedStateChange,localize:this.localize,safeAreaInset:this.props.appContext.uiContext.getWindowSafeAreaInset(),rootWidget:this,rootWidgetProps:this.props,isHyperlocalDesktop:(0,V.wb)(null===(i=this.props.pageInfo)||void 0===i?void 0:i.pageURI,null===(a=this.props.pageInfo)||void 0===a?void 0:a.marketPlace)}),this.state.overlayIconsVisibility&&!this.state.isInImmersiveMode&&n.createElement(n.Fragment,null,(null===(o=l.spotlight)||void 0===o?void 0:o.value)&&!this.state.isReviewImageBucket&&!this.state.isInImmersiveMode&&this.renderSpotlight(l.spotlight.value,A.C1.flex,this._overlayAnimValueWithNativeDriver),this.state.showWowDealTag&&(null==R?void 0:R.value)&&this.renderWowTag(R),n.createElement(f.A,{floatingActionValues:l.floatingActionValues,isReviewImageBucket:this.state.isReviewImageBucket,renderWishlistIcon:this.renderWishlistIcon,isInWishlist:this.state.isInWishlist,overlayAnimValueWithNativeDriver:this._overlayAnimValueWithNativeDriver,actionDispatcher:this.props.actionDispatcher,isInImmersiveMode:this.state.isInImmersiveMode}),this.state.bottomMediaOverlayVisibility&&n.createElement(S.A,{parentProps:this.props,parentState:this.state,overlayAnimValueWithNativeDriver:this._overlayAnimValueWithNativeDriver,overlayAnimValueWithoutNativeDriver:this._overlayAnimValueWithoutNativeDriver,localize:this.localize,getTrackableContentView:this.getTrackableContentView,trackingParams:this.state.trackingParams,getContentViewTrackingData:this.getContentViewTrackingData,trackDGEvent:this.trackDGEvent,trackDiscoveryContentClickEvent:this.trackDiscoveryContentClickEvent,trackOmnitureEvent:this.trackOmnitureEvent,themeContext:e}),v&&this._renderCalloutText(v),_&&this._renderRefurbishAnnouncement(_)),I&&I.length>0&&this._renderCarouselCallout(I,P))}))}getMediaCarouselComponent(){return m.A}showPageIndicator(e){return N._showPageIndicator(e)}_onScrollDragBegin(e){this._iconTextTimeoutId&&clearTimeout(this._iconTextTimeoutId),this._wishlistCollapsed||(this._wishlistCollapsed=!0,this._collapseWishlist())}static isReviewMediaValue(e){const t=e;return"ReviewMediaGallery"===(null==t?void 0:t.type)}_updateCalloutStatus(e){const t=p.A.getMultiMediaWidgetDataFromProps(this.props),i=t&&t.multimediaComponents;if(i&&e<i.length&&i[e]&&i[e].value){const t=g.A.isReviewImageBucket(i[e].value);this.setState({isReviewImageBucket:t})}}}N._showPageIndicator=e=>!!e&&e.length>1,N._shouldOpenLifestyleGallery=e=>!0,N._populateMetaDataInMediaComponent=e=>e.map((e=>{if(g.A.isFkVideo(e.value)){return Object.assign(Object.assign({},e),{value:Object.assign(Object.assign({},e.value),{metaData:{mapiNavAction:null==e?void 0:e.action,fkVideoThumbnailImgUrl:(null==e?void 0:e.value)?g.A.buildFkVideoThumbnailUrl(e.value):""}})})}return e}))},568137:(e,t,i)=>{"use strict";i.d(t,{e:()=>o});var n=i(877293),r=i(887261),a=i(670563);const o=n.StyleSheet.create({container:{paddingTop:12,paddingBottom:12,paddingLeft:8,paddingRight:8,flexDirection:"row",justifyContent:"space-between"},horizontalViewContainer:{paddingBottom:12,paddingLeft:16,paddingRight:16,flexDirection:"row",justifyContent:"space-between"},dataContainer:{flex:1,minWidth:0},p0Container:{paddingLeft:8,paddingRight:4,paddingTop:4,paddingBottom:4,flexDirection:"row",justifyContent:"space-between"},p1Container:{paddingLeft:8,paddingRight:12,paddingTop:8,paddingBottom:8,flexDirection:"row",justifyContent:"space-between",backgroundColor:a.Jy.solitudeGrey},p1Title:{fontFamily:r.fontLightDefault,fontSize:12,lineHeight:16,flex:2.5,marginRight:32},adInnerContainer:{flexDirection:"row"},adDataContainer:{paddingLeft:12,fontFamily:r.fontLightDefault,flex:1,minWidth:0,justifyContent:"center",maxHeight:120},finalPrice:{color:a.dU,fontFamily:r.$u,paddingRight:4,fontSize:14,lineHeight:20},strikeoff:{color:a.T_,fontSize:14,lineHeight:20,textDecorationLine:"line-through"},discount:{fontSize:14,lineHeight:20,color:a.y_,fontFamily:r.$u},faAdvantageImage:{width:65,height:20,marginTop:2},advertisementImage:{width:24,height:20,marginLeft:8,borderRadius:2},p0Title:{fontFamily:r.fontLightDefault,fontSize:12,lineHeight:16},p0TitleForSoloView:{fontFamily:r.fontLightDefault,fontSize:14,lineHeight:20},titleHorizontalView:{fontFamily:r.$u,fontSize:14,lineHeight:20},highlightedHorizontalView:{fontFamily:r.fontLightDefault,color:a.Jy.dimGray,fontSize:14,lineHeight:20,marginTop:4},sponsoredHorizontalView:{fontFamily:r.fontLightDefault,color:a.Jy.dimGray,fontSize:10,lineHeight:16},p0Brand:{fontFamily:r.A$,color:a.Jy.dimGray,fontSize:12,lineHeight:16},p0finalPrice:{color:a.dU,paddingRight:4,fontSize:12},p0strikeoff:{color:a.T_,fontSize:12,textDecorationLine:"line-through"},p0discount:{fontSize:12,color:a.y_},fAssuredContainer:{display:"flex",flexDirection:"row",alignItems:"center",paddingTop:2,paddingBottom:2},reviewCountStyle:{fontFamily:r.A$,fontSize:12,lineHeight:16,letterSpacing:.3,color:a.Jy.darkBlack},placeholderContainer:{paddingLeft:8,paddingRight:4,paddingTop:4,paddingBottom:4,marginTop:5,marginBottom:5,backgroundColor:a.JO},advertisementContentContainer:{borderRadius:5,borderWidth:1},advertisementTextContainer:{display:"flex",justifyContent:"center",alignItems:"center",borderRadius:2,borderWidth:1,height:20,width:24},advertisementText:{fontSize:10}})},572144:(e,t,i)=>{"use strict";i.d(t,{T:()=>n});const n=i(296540).Fragment},572173:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(465420),r=i(881593),a=i(52754);class o extends n.A{getWidgetClass(e){return r.A}getWidgetHeight(e){return r.A.getWidgetHeight(e)}getWidgetType(e){var t,i,n;const r=(0,a.KJ)(e.widgetSlotData),o=super.getWidgetType(e)+"_"+r,s=null===(t=e.widgetSlotData.slotData.widget)||void 0===t?void 0:t.data,l=null===(n=null===(i=null==s?void 0:s.defaultState)||void 0===i?void 0:i.recyclingId)||void 0===n?void 0:n.currentState;return l?`${o}_${l}`:o}}},575176:e=>{"use strict";e.exports=JSON.parse('{"Aacute":"","aacute":"","Abreve":"","abreve":"","ac":"","acd":"","acE":"","Acirc":"","acirc":"","acute":"","Acy":"","acy":"","AElig":"","aelig":"","af":"","Afr":"","afr":"","Agrave":"","agrave":"","alefsym":"","aleph":"","Alpha":"","alpha":"","Amacr":"","amacr":"","amalg":"","amp":"&","AMP":"&","andand":"","And":"","and":"","andd":"","andslope":"","andv":"","ang":"","ange":"","angle":"","angmsdaa":"","angmsdab":"","angmsdac":"","angmsdad":"","angmsdae":"","angmsdaf":"","angmsdag":"","angmsdah":"","angmsd":"","angrt":"","angrtvb":"","angrtvbd":"","angsph":"","angst":"","angzarr":"","Aogon":"","aogon":"","Aopf":"","aopf":"","apacir":"","ap":"","apE":"","ape":"","apid":"","apos":"\'","ApplyFunction":"","approx":"","approxeq":"","Aring":"","aring":"","Ascr":"","ascr":"","Assign":"","ast":"*","asymp":"","asympeq":"","Atilde":"","atilde":"","Auml":"","auml":"","awconint":"","awint":"","backcong":"","backepsilon":"","backprime":"","backsim":"","backsimeq":"","Backslash":"","Barv":"","barvee":"","barwed":"","Barwed":"","barwedge":"","bbrk":"","bbrktbrk":"","bcong":"","Bcy":"","bcy":"","bdquo":"","becaus":"","because":"","Because":"","bemptyv":"","bepsi":"","bernou":"","Bernoullis":"","Beta":"","beta":"","beth":"","between":"","Bfr":"","bfr":"","bigcap":"","bigcirc":"","bigcup":"","bigodot":"","bigoplus":"","bigotimes":"","bigsqcup":"","bigstar":"","bigtriangledown":"","bigtriangleup":"","biguplus":"","bigvee":"","bigwedge":"","bkarow":"","blacklozenge":"","blacksquare":"","blacktriangle":"","blacktriangledown":"","blacktriangleleft":"","blacktriangleright":"","blank":"","blk12":"","blk14":"","blk34":"","block":"","bne":"=","bnequiv":"","bNot":"","bnot":"","Bopf":"","bopf":"","bot":"","bottom":"","bowtie":"","boxbox":"","boxdl":"","boxdL":"","boxDl":"","boxDL":"","boxdr":"","boxdR":"","boxDr":"","boxDR":"","boxh":"","boxH":"","boxhd":"","boxHd":"","boxhD":"","boxHD":"","boxhu":"","boxHu":"","boxhU":"","boxHU":"","boxminus":"","boxplus":"","boxtimes":"","boxul":"","boxuL":"","boxUl":"","boxUL":"","boxur":"","boxuR":"","boxUr":"","boxUR":"","boxv":"","boxV":"","boxvh":"","boxvH":"","boxVh":"","boxVH":"","boxvl":"","boxvL":"","boxVl":"","boxVL":"","boxvr":"","boxvR":"","boxVr":"","boxVR":"","bprime":"","breve":"","Breve":"","brvbar":"","bscr":"","Bscr":"","bsemi":"","bsim":"","bsime":"","bsolb":"","bsol":"\\\\","bsolhsub":"","bull":"","bullet":"","bump":"","bumpE":"","bumpe":"","Bumpeq":"","bumpeq":"","Cacute":"","cacute":"","capand":"","capbrcup":"","capcap":"","cap":"","Cap":"","capcup":"","capdot":"","CapitalDifferentialD":"","caps":"","caret":"","caron":"","Cayleys":"","ccaps":"","Ccaron":"","ccaron":"","Ccedil":"","ccedil":"","Ccirc":"","ccirc":"","Cconint":"","ccups":"","ccupssm":"","Cdot":"","cdot":"","cedil":"","Cedilla":"","cemptyv":"","cent":"","centerdot":"","CenterDot":"","cfr":"","Cfr":"","CHcy":"","chcy":"","check":"","checkmark":"","Chi":"","chi":"","circ":"","circeq":"","circlearrowleft":"","circlearrowright":"","circledast":"","circledcirc":"","circleddash":"","CircleDot":"","circledR":"","circledS":"","CircleMinus":"","CirclePlus":"","CircleTimes":"","cir":"","cirE":"","cire":"","cirfnint":"","cirmid":"","cirscir":"","ClockwiseContourIntegral":"","CloseCurlyDoubleQuote":"","CloseCurlyQuote":"","clubs":"","clubsuit":"","colon":":","Colon":"","Colone":"","colone":"","coloneq":"","comma":",","commat":"@","comp":"","compfn":"","complement":"","complexes":"","cong":"","congdot":"","Congruent":"","conint":"","Conint":"","ContourIntegral":"","copf":"","Copf":"","coprod":"","Coproduct":"","copy":"","COPY":"","copysr":"","CounterClockwiseContourIntegral":"","crarr":"","cross":"","Cross":"","Cscr":"","cscr":"","csub":"","csube":"","csup":"","csupe":"","ctdot":"","cudarrl":"","cudarrr":"","cuepr":"","cuesc":"","cularr":"","cularrp":"","cupbrcap":"","cupcap":"","CupCap":"","cup":"","Cup":"","cupcup":"","cupdot":"","cupor":"","cups":"","curarr":"","curarrm":"","curlyeqprec":"","curlyeqsucc":"","curlyvee":"","curlywedge":"","curren":"","curvearrowleft":"","curvearrowright":"","cuvee":"","cuwed":"","cwconint":"","cwint":"","cylcty":"","dagger":"","Dagger":"","daleth":"","darr":"","Darr":"","dArr":"","dash":"","Dashv":"","dashv":"","dbkarow":"","dblac":"","Dcaron":"","dcaron":"","Dcy":"","dcy":"","ddagger":"","ddarr":"","DD":"","dd":"","DDotrahd":"","ddotseq":"","deg":"","Del":"","Delta":"","delta":"","demptyv":"","dfisht":"","Dfr":"","dfr":"","dHar":"","dharl":"","dharr":"","DiacriticalAcute":"","DiacriticalDot":"","DiacriticalDoubleAcute":"","DiacriticalGrave":"`","DiacriticalTilde":"","diam":"","diamond":"","Diamond":"","diamondsuit":"","diams":"","die":"","DifferentialD":"","digamma":"","disin":"","div":"","divide":"","divideontimes":"","divonx":"","DJcy":"","djcy":"","dlcorn":"","dlcrop":"","dollar":"$","Dopf":"","dopf":"","Dot":"","dot":"","DotDot":"","doteq":"","doteqdot":"","DotEqual":"","dotminus":"","dotplus":"","dotsquare":"","doublebarwedge":"","DoubleContourIntegral":"","DoubleDot":"","DoubleDownArrow":"","DoubleLeftArrow":"","DoubleLeftRightArrow":"","DoubleLeftTee":"","DoubleLongLeftArrow":"","DoubleLongLeftRightArrow":"","DoubleLongRightArrow":"","DoubleRightArrow":"","DoubleRightTee":"","DoubleUpArrow":"","DoubleUpDownArrow":"","DoubleVerticalBar":"","DownArrowBar":"","downarrow":"","DownArrow":"","Downarrow":"","DownArrowUpArrow":"","DownBreve":"","downdownarrows":"","downharpoonleft":"","downharpoonright":"","DownLeftRightVector":"","DownLeftTeeVector":"","DownLeftVectorBar":"","DownLeftVector":"","DownRightTeeVector":"","DownRightVectorBar":"","DownRightVector":"","DownTeeArrow":"","DownTee":"","drbkarow":"","drcorn":"","drcrop":"","Dscr":"","dscr":"","DScy":"","dscy":"","dsol":"","Dstrok":"","dstrok":"","dtdot":"","dtri":"","dtrif":"","duarr":"","duhar":"","dwangle":"","DZcy":"","dzcy":"","dzigrarr":"","Eacute":"","eacute":"","easter":"","Ecaron":"","ecaron":"","Ecirc":"","ecirc":"","ecir":"","ecolon":"","Ecy":"","ecy":"","eDDot":"","Edot":"","edot":"","eDot":"","ee":"","efDot":"","Efr":"","efr":"","eg":"","Egrave":"","egrave":"","egs":"","egsdot":"","el":"","Element":"","elinters":"","ell":"","els":"","elsdot":"","Emacr":"","emacr":"","empty":"","emptyset":"","EmptySmallSquare":"","emptyv":"","EmptyVerySmallSquare":"","emsp13":"","emsp14":"","emsp":"","ENG":"","eng":"","ensp":"","Eogon":"","eogon":"","Eopf":"","eopf":"","epar":"","eparsl":"","eplus":"","epsi":"","Epsilon":"","epsilon":"","epsiv":"","eqcirc":"","eqcolon":"","eqsim":"","eqslantgtr":"","eqslantless":"","Equal":"","equals":"=","EqualTilde":"","equest":"","Equilibrium":"","equiv":"","equivDD":"","eqvparsl":"","erarr":"","erDot":"","escr":"","Escr":"","esdot":"","Esim":"","esim":"","Eta":"","eta":"","ETH":"","eth":"","Euml":"","euml":"","euro":"","excl":"!","exist":"","Exists":"","expectation":"","exponentiale":"","ExponentialE":"","fallingdotseq":"","Fcy":"","fcy":"","female":"","ffilig":"","fflig":"","ffllig":"","Ffr":"","ffr":"","filig":"","FilledSmallSquare":"","FilledVerySmallSquare":"","fjlig":"fj","flat":"","fllig":"","fltns":"","fnof":"","Fopf":"","fopf":"","forall":"","ForAll":"","fork":"","forkv":"","Fouriertrf":"","fpartint":"","frac12":"","frac13":"","frac14":"","frac15":"","frac16":"","frac18":"","frac23":"","frac25":"","frac34":"","frac35":"","frac38":"","frac45":"","frac56":"","frac58":"","frac78":"","frasl":"","frown":"","fscr":"","Fscr":"","gacute":"","Gamma":"","gamma":"","Gammad":"","gammad":"","gap":"","Gbreve":"","gbreve":"","Gcedil":"","Gcirc":"","gcirc":"","Gcy":"","gcy":"","Gdot":"","gdot":"","ge":"","gE":"","gEl":"","gel":"","geq":"","geqq":"","geqslant":"","gescc":"","ges":"","gesdot":"","gesdoto":"","gesdotol":"","gesl":"","gesles":"","Gfr":"","gfr":"","gg":"","Gg":"","ggg":"","gimel":"","GJcy":"","gjcy":"","gla":"","gl":"","glE":"","glj":"","gnap":"","gnapprox":"","gne":"","gnE":"","gneq":"","gneqq":"","gnsim":"","Gopf":"","gopf":"","grave":"`","GreaterEqual":"","GreaterEqualLess":"","GreaterFullEqual":"","GreaterGreater":"","GreaterLess":"","GreaterSlantEqual":"","GreaterTilde":"","Gscr":"","gscr":"","gsim":"","gsime":"","gsiml":"","gtcc":"","gtcir":"","gt":">","GT":">","Gt":"","gtdot":"","gtlPar":"","gtquest":"","gtrapprox":"","gtrarr":"","gtrdot":"","gtreqless":"","gtreqqless":"","gtrless":"","gtrsim":"","gvertneqq":"","gvnE":"","Hacek":"","hairsp":"","half":"","hamilt":"","HARDcy":"","hardcy":"","harrcir":"","harr":"","hArr":"","harrw":"","Hat":"^","hbar":"","Hcirc":"","hcirc":"","hearts":"","heartsuit":"","hellip":"","hercon":"","hfr":"","Hfr":"","HilbertSpace":"","hksearow":"","hkswarow":"","hoarr":"","homtht":"","hookleftarrow":"","hookrightarrow":"","hopf":"","Hopf":"","horbar":"","HorizontalLine":"","hscr":"","Hscr":"","hslash":"","Hstrok":"","hstrok":"","HumpDownHump":"","HumpEqual":"","hybull":"","hyphen":"","Iacute":"","iacute":"","ic":"","Icirc":"","icirc":"","Icy":"","icy":"","Idot":"","IEcy":"","iecy":"","iexcl":"","iff":"","ifr":"","Ifr":"","Igrave":"","igrave":"","ii":"","iiiint":"","iiint":"","iinfin":"","iiota":"","IJlig":"","ijlig":"","Imacr":"","imacr":"","image":"","ImaginaryI":"","imagline":"","imagpart":"","imath":"","Im":"","imof":"","imped":"","Implies":"","incare":"","in":"","infin":"","infintie":"","inodot":"","intcal":"","int":"","Int":"","integers":"","Integral":"","intercal":"","Intersection":"","intlarhk":"","intprod":"","InvisibleComma":"","InvisibleTimes":"","IOcy":"","iocy":"","Iogon":"","iogon":"","Iopf":"","iopf":"","Iota":"","iota":"","iprod":"","iquest":"","iscr":"","Iscr":"","isin":"","isindot":"","isinE":"","isins":"","isinsv":"","isinv":"","it":"","Itilde":"","itilde":"","Iukcy":"","iukcy":"","Iuml":"","iuml":"","Jcirc":"","jcirc":"","Jcy":"","jcy":"","Jfr":"","jfr":"","jmath":"","Jopf":"","jopf":"","Jscr":"","jscr":"","Jsercy":"","jsercy":"","Jukcy":"","jukcy":"","Kappa":"","kappa":"","kappav":"","Kcedil":"","kcedil":"","Kcy":"","kcy":"","Kfr":"","kfr":"","kgreen":"","KHcy":"","khcy":"","KJcy":"","kjcy":"","Kopf":"","kopf":"","Kscr":"","kscr":"","lAarr":"","Lacute":"","lacute":"","laemptyv":"","lagran":"","Lambda":"","lambda":"","lang":"","Lang":"","langd":"","langle":"","lap":"","Laplacetrf":"","laquo":"","larrb":"","larrbfs":"","larr":"","Larr":"","lArr":"","larrfs":"","larrhk":"","larrlp":"","larrpl":"","larrsim":"","larrtl":"","latail":"","lAtail":"","lat":"","late":"","lates":"","lbarr":"","lBarr":"","lbbrk":"","lbrace":"{","lbrack":"[","lbrke":"","lbrksld":"","lbrkslu":"","Lcaron":"","lcaron":"","Lcedil":"","lcedil":"","lceil":"","lcub":"{","Lcy":"","lcy":"","ldca":"","ldquo":"","ldquor":"","ldrdhar":"","ldrushar":"","ldsh":"","le":"","lE":"","LeftAngleBracket":"","LeftArrowBar":"","leftarrow":"","LeftArrow":"","Leftarrow":"","LeftArrowRightArrow":"","leftarrowtail":"","LeftCeiling":"","LeftDoubleBracket":"","LeftDownTeeVector":"","LeftDownVectorBar":"","LeftDownVector":"","LeftFloor":"","leftharpoondown":"","leftharpoonup":"","leftleftarrows":"","leftrightarrow":"","LeftRightArrow":"","Leftrightarrow":"","leftrightarrows":"","leftrightharpoons":"","leftrightsquigarrow":"","LeftRightVector":"","LeftTeeArrow":"","LeftTee":"","LeftTeeVector":"","leftthreetimes":"","LeftTriangleBar":"","LeftTriangle":"","LeftTriangleEqual":"","LeftUpDownVector":"","LeftUpTeeVector":"","LeftUpVectorBar":"","LeftUpVector":"","LeftVectorBar":"","LeftVector":"","lEg":"","leg":"","leq":"","leqq":"","leqslant":"","lescc":"","les":"","lesdot":"","lesdoto":"","lesdotor":"","lesg":"","lesges":"","lessapprox":"","lessdot":"","lesseqgtr":"","lesseqqgtr":"","LessEqualGreater":"","LessFullEqual":"","LessGreater":"","lessgtr":"","LessLess":"","lesssim":"","LessSlantEqual":"","LessTilde":"","lfisht":"","lfloor":"","Lfr":"","lfr":"","lg":"","lgE":"","lHar":"","lhard":"","lharu":"","lharul":"","lhblk":"","LJcy":"","ljcy":"","llarr":"","ll":"","Ll":"","llcorner":"","Lleftarrow":"","llhard":"","lltri":"","Lmidot":"","lmidot":"","lmoustache":"","lmoust":"","lnap":"","lnapprox":"","lne":"","lnE":"","lneq":"","lneqq":"","lnsim":"","loang":"","loarr":"","lobrk":"","longleftarrow":"","LongLeftArrow":"","Longleftarrow":"","longleftrightarrow":"","LongLeftRightArrow":"","Longleftrightarrow":"","longmapsto":"","longrightarrow":"","LongRightArrow":"","Longrightarrow":"","looparrowleft":"","looparrowright":"","lopar":"","Lopf":"","lopf":"","loplus":"","lotimes":"","lowast":"","lowbar":"_","LowerLeftArrow":"","LowerRightArrow":"","loz":"","lozenge":"","lozf":"","lpar":"(","lparlt":"","lrarr":"","lrcorner":"","lrhar":"","lrhard":"","lrm":"","lrtri":"","lsaquo":"","lscr":"","Lscr":"","lsh":"","Lsh":"","lsim":"","lsime":"","lsimg":"","lsqb":"[","lsquo":"","lsquor":"","Lstrok":"","lstrok":"","ltcc":"","ltcir":"","lt":"<","LT":"<","Lt":"","ltdot":"","lthree":"","ltimes":"","ltlarr":"","ltquest":"","ltri":"","ltrie":"","ltrif":"","ltrPar":"","lurdshar":"","luruhar":"","lvertneqq":"","lvnE":"","macr":"","male":"","malt":"","maltese":"","Map":"","map":"","mapsto":"","mapstodown":"","mapstoleft":"","mapstoup":"","marker":"","mcomma":"","Mcy":"","mcy":"","mdash":"","mDDot":"","measuredangle":"","MediumSpace":"","Mellintrf":"","Mfr":"","mfr":"","mho":"","micro":"","midast":"*","midcir":"","mid":"","middot":"","minusb":"","minus":"","minusd":"","minusdu":"","MinusPlus":"","mlcp":"","mldr":"","mnplus":"","models":"","Mopf":"","mopf":"","mp":"","mscr":"","Mscr":"","mstpos":"","Mu":"","mu":"","multimap":"","mumap":"","nabla":"","Nacute":"","nacute":"","nang":"","nap":"","napE":"","napid":"","napos":"","napprox":"","natural":"","naturals":"","natur":"","nbsp":"","nbump":"","nbumpe":"","ncap":"","Ncaron":"","ncaron":"","Ncedil":"","ncedil":"","ncong":"","ncongdot":"","ncup":"","Ncy":"","ncy":"","ndash":"","nearhk":"","nearr":"","neArr":"","nearrow":"","ne":"","nedot":"","NegativeMediumSpace":"","NegativeThickSpace":"","NegativeThinSpace":"","NegativeVeryThinSpace":"","nequiv":"","nesear":"","nesim":"","NestedGreaterGreater":"","NestedLessLess":"","NewLine":"\\n","nexist":"","nexists":"","Nfr":"","nfr":"","ngE":"","nge":"","ngeq":"","ngeqq":"","ngeqslant":"","nges":"","nGg":"","ngsim":"","nGt":"","ngt":"","ngtr":"","nGtv":"","nharr":"","nhArr":"","nhpar":"","ni":"","nis":"","nisd":"","niv":"","NJcy":"","njcy":"","nlarr":"","nlArr":"","nldr":"","nlE":"","nle":"","nleftarrow":"","nLeftarrow":"","nleftrightarrow":"","nLeftrightarrow":"","nleq":"","nleqq":"","nleqslant":"","nles":"","nless":"","nLl":"","nlsim":"","nLt":"","nlt":"","nltri":"","nltrie":"","nLtv":"","nmid":"","NoBreak":"","NonBreakingSpace":"","nopf":"","Nopf":"","Not":"","not":"","NotCongruent":"","NotCupCap":"","NotDoubleVerticalBar":"","NotElement":"","NotEqual":"","NotEqualTilde":"","NotExists":"","NotGreater":"","NotGreaterEqual":"","NotGreaterFullEqual":"","NotGreaterGreater":"","NotGreaterLess":"","NotGreaterSlantEqual":"","NotGreaterTilde":"","NotHumpDownHump":"","NotHumpEqual":"","notin":"","notindot":"","notinE":"","notinva":"","notinvb":"","notinvc":"","NotLeftTriangleBar":"","NotLeftTriangle":"","NotLeftTriangleEqual":"","NotLess":"","NotLessEqual":"","NotLessGreater":"","NotLessLess":"","NotLessSlantEqual":"","NotLessTilde":"","NotNestedGreaterGreater":"","NotNestedLessLess":"","notni":"","notniva":"","notnivb":"","notnivc":"","NotPrecedes":"","NotPrecedesEqual":"","NotPrecedesSlantEqual":"","NotReverseElement":"","NotRightTriangleBar":"","NotRightTriangle":"","NotRightTriangleEqual":"","NotSquareSubset":"","NotSquareSubsetEqual":"","NotSquareSuperset":"","NotSquareSupersetEqual":"","NotSubset":"","NotSubsetEqual":"","NotSucceeds":"","NotSucceedsEqual":"","NotSucceedsSlantEqual":"","NotSucceedsTilde":"","NotSuperset":"","NotSupersetEqual":"","NotTilde":"","NotTildeEqual":"","NotTildeFullEqual":"","NotTildeTilde":"","NotVerticalBar":"","nparallel":"","npar":"","nparsl":"","npart":"","npolint":"","npr":"","nprcue":"","nprec":"","npreceq":"","npre":"","nrarrc":"","nrarr":"","nrArr":"","nrarrw":"","nrightarrow":"","nRightarrow":"","nrtri":"","nrtrie":"","nsc":"","nsccue":"","nsce":"","Nscr":"","nscr":"","nshortmid":"","nshortparallel":"","nsim":"","nsime":"","nsimeq":"","nsmid":"","nspar":"","nsqsube":"","nsqsupe":"","nsub":"","nsubE":"","nsube":"","nsubset":"","nsubseteq":"","nsubseteqq":"","nsucc":"","nsucceq":"","nsup":"","nsupE":"","nsupe":"","nsupset":"","nsupseteq":"","nsupseteqq":"","ntgl":"","Ntilde":"","ntilde":"","ntlg":"","ntriangleleft":"","ntrianglelefteq":"","ntriangleright":"","ntrianglerighteq":"","Nu":"","nu":"","num":"#","numero":"","numsp":"","nvap":"","nvdash":"","nvDash":"","nVdash":"","nVDash":"","nvge":"","nvgt":">","nvHarr":"","nvinfin":"","nvlArr":"","nvle":"","nvlt":"<","nvltrie":"","nvrArr":"","nvrtrie":"","nvsim":"","nwarhk":"","nwarr":"","nwArr":"","nwarrow":"","nwnear":"","Oacute":"","oacute":"","oast":"","Ocirc":"","ocirc":"","ocir":"","Ocy":"","ocy":"","odash":"","Odblac":"","odblac":"","odiv":"","odot":"","odsold":"","OElig":"","oelig":"","ofcir":"","Ofr":"","ofr":"","ogon":"","Ograve":"","ograve":"","ogt":"","ohbar":"","ohm":"","oint":"","olarr":"","olcir":"","olcross":"","oline":"","olt":"","Omacr":"","omacr":"","Omega":"","omega":"","Omicron":"","omicron":"","omid":"","ominus":"","Oopf":"","oopf":"","opar":"","OpenCurlyDoubleQuote":"","OpenCurlyQuote":"","operp":"","oplus":"","orarr":"","Or":"","or":"","ord":"","order":"","orderof":"","ordf":"","ordm":"","origof":"","oror":"","orslope":"","orv":"","oS":"","Oscr":"","oscr":"","Oslash":"","oslash":"","osol":"","Otilde":"","otilde":"","otimesas":"","Otimes":"","otimes":"","Ouml":"","ouml":"","ovbar":"","OverBar":"","OverBrace":"","OverBracket":"","OverParenthesis":"","para":"","parallel":"","par":"","parsim":"","parsl":"","part":"","PartialD":"","Pcy":"","pcy":"","percnt":"%","period":".","permil":"","perp":"","pertenk":"","Pfr":"","pfr":"","Phi":"","phi":"","phiv":"","phmmat":"","phone":"","Pi":"","pi":"","pitchfork":"","piv":"","planck":"","planckh":"","plankv":"","plusacir":"","plusb":"","pluscir":"","plus":"+","plusdo":"","plusdu":"","pluse":"","PlusMinus":"","plusmn":"","plussim":"","plustwo":"","pm":"","Poincareplane":"","pointint":"","popf":"","Popf":"","pound":"","prap":"","Pr":"","pr":"","prcue":"","precapprox":"","prec":"","preccurlyeq":"","Precedes":"","PrecedesEqual":"","PrecedesSlantEqual":"","PrecedesTilde":"","preceq":"","precnapprox":"","precneqq":"","precnsim":"","pre":"","prE":"","precsim":"","prime":"","Prime":"","primes":"","prnap":"","prnE":"","prnsim":"","prod":"","Product":"","profalar":"","profline":"","profsurf":"","prop":"","Proportional":"","Proportion":"","propto":"","prsim":"","prurel":"","Pscr":"","pscr":"","Psi":"","psi":"","puncsp":"","Qfr":"","qfr":"","qint":"","qopf":"","Qopf":"","qprime":"","Qscr":"","qscr":"","quaternions":"","quatint":"","quest":"?","questeq":"","quot":"\\"","QUOT":"\\"","rAarr":"","race":"","Racute":"","racute":"","radic":"","raemptyv":"","rang":"","Rang":"","rangd":"","range":"","rangle":"","raquo":"","rarrap":"","rarrb":"","rarrbfs":"","rarrc":"","rarr":"","Rarr":"","rArr":"","rarrfs":"","rarrhk":"","rarrlp":"","rarrpl":"","rarrsim":"","Rarrtl":"","rarrtl":"","rarrw":"","ratail":"","rAtail":"","ratio":"","rationals":"","rbarr":"","rBarr":"","RBarr":"","rbbrk":"","rbrace":"}","rbrack":"]","rbrke":"","rbrksld":"","rbrkslu":"","Rcaron":"","rcaron":"","Rcedil":"","rcedil":"","rceil":"","rcub":"}","Rcy":"","rcy":"","rdca":"","rdldhar":"","rdquo":"","rdquor":"","rdsh":"","real":"","realine":"","realpart":"","reals":"","Re":"","rect":"","reg":"","REG":"","ReverseElement":"","ReverseEquilibrium":"","ReverseUpEquilibrium":"","rfisht":"","rfloor":"","rfr":"","Rfr":"","rHar":"","rhard":"","rharu":"","rharul":"","Rho":"","rho":"","rhov":"","RightAngleBracket":"","RightArrowBar":"","rightarrow":"","RightArrow":"","Rightarrow":"","RightArrowLeftArrow":"","rightarrowtail":"","RightCeiling":"","RightDoubleBracket":"","RightDownTeeVector":"","RightDownVectorBar":"","RightDownVector":"","RightFloor":"","rightharpoondown":"","rightharpoonup":"","rightleftarrows":"","rightleftharpoons":"","rightrightarrows":"","rightsquigarrow":"","RightTeeArrow":"","RightTee":"","RightTeeVector":"","rightthreetimes":"","RightTriangleBar":"","RightTriangle":"","RightTriangleEqual":"","RightUpDownVector":"","RightUpTeeVector":"","RightUpVectorBar":"","RightUpVector":"","RightVectorBar":"","RightVector":"","ring":"","risingdotseq":"","rlarr":"","rlhar":"","rlm":"","rmoustache":"","rmoust":"","rnmid":"","roang":"","roarr":"","robrk":"","ropar":"","ropf":"","Ropf":"","roplus":"","rotimes":"","RoundImplies":"","rpar":")","rpargt":"","rppolint":"","rrarr":"","Rrightarrow":"","rsaquo":"","rscr":"","Rscr":"","rsh":"","Rsh":"","rsqb":"]","rsquo":"","rsquor":"","rthree":"","rtimes":"","rtri":"","rtrie":"","rtrif":"","rtriltri":"","RuleDelayed":"","ruluhar":"","rx":"","Sacute":"","sacute":"","sbquo":"","scap":"","Scaron":"","scaron":"","Sc":"","sc":"","sccue":"","sce":"","scE":"","Scedil":"","scedil":"","Scirc":"","scirc":"","scnap":"","scnE":"","scnsim":"","scpolint":"","scsim":"","Scy":"","scy":"","sdotb":"","sdot":"","sdote":"","searhk":"","searr":"","seArr":"","searrow":"","sect":"","semi":";","seswar":"","setminus":"","setmn":"","sext":"","Sfr":"","sfr":"","sfrown":"","sharp":"","SHCHcy":"","shchcy":"","SHcy":"","shcy":"","ShortDownArrow":"","ShortLeftArrow":"","shortmid":"","shortparallel":"","ShortRightArrow":"","ShortUpArrow":"","shy":"","Sigma":"","sigma":"","sigmaf":"","sigmav":"","sim":"","simdot":"","sime":"","simeq":"","simg":"","simgE":"","siml":"","simlE":"","simne":"","simplus":"","simrarr":"","slarr":"","SmallCircle":"","smallsetminus":"","smashp":"","smeparsl":"","smid":"","smile":"","smt":"","smte":"","smtes":"","SOFTcy":"","softcy":"","solbar":"","solb":"","sol":"/","Sopf":"","sopf":"","spades":"","spadesuit":"","spar":"","sqcap":"","sqcaps":"","sqcup":"","sqcups":"","Sqrt":"","sqsub":"","sqsube":"","sqsubset":"","sqsubseteq":"","sqsup":"","sqsupe":"","sqsupset":"","sqsupseteq":"","square":"","Square":"","SquareIntersection":"","SquareSubset":"","SquareSubsetEqual":"","SquareSuperset":"","SquareSupersetEqual":"","SquareUnion":"","squarf":"","squ":"","squf":"","srarr":"","Sscr":"","sscr":"","ssetmn":"","ssmile":"","sstarf":"","Star":"","star":"","starf":"","straightepsilon":"","straightphi":"","strns":"","sub":"","Sub":"","subdot":"","subE":"","sube":"","subedot":"","submult":"","subnE":"","subne":"","subplus":"","subrarr":"","subset":"","Subset":"","subseteq":"","subseteqq":"","SubsetEqual":"","subsetneq":"","subsetneqq":"","subsim":"","subsub":"","subsup":"","succapprox":"","succ":"","succcurlyeq":"","Succeeds":"","SucceedsEqual":"","SucceedsSlantEqual":"","SucceedsTilde":"","succeq":"","succnapprox":"","succneqq":"","succnsim":"","succsim":"","SuchThat":"","sum":"","Sum":"","sung":"","sup1":"","sup2":"","sup3":"","sup":"","Sup":"","supdot":"","supdsub":"","supE":"","supe":"","supedot":"","Superset":"","SupersetEqual":"","suphsol":"","suphsub":"","suplarr":"","supmult":"","supnE":"","supne":"","supplus":"","supset":"","Supset":"","supseteq":"","supseteqq":"","supsetneq":"","supsetneqq":"","supsim":"","supsub":"","supsup":"","swarhk":"","swarr":"","swArr":"","swarrow":"","swnwar":"","szlig":"","Tab":"\\t","target":"","Tau":"","tau":"","tbrk":"","Tcaron":"","tcaron":"","Tcedil":"","tcedil":"","Tcy":"","tcy":"","tdot":"","telrec":"","Tfr":"","tfr":"","there4":"","therefore":"","Therefore":"","Theta":"","theta":"","thetasym":"","thetav":"","thickapprox":"","thicksim":"","ThickSpace":"","ThinSpace":"","thinsp":"","thkap":"","thksim":"","THORN":"","thorn":"","tilde":"","Tilde":"","TildeEqual":"","TildeFullEqual":"","TildeTilde":"","timesbar":"","timesb":"","times":"","timesd":"","tint":"","toea":"","topbot":"","topcir":"","top":"","Topf":"","topf":"","topfork":"","tosa":"","tprime":"","trade":"","TRADE":"","triangle":"","triangledown":"","triangleleft":"","trianglelefteq":"","triangleq":"","triangleright":"","trianglerighteq":"","tridot":"","trie":"","triminus":"","TripleDot":"","triplus":"","trisb":"","tritime":"","trpezium":"","Tscr":"","tscr":"","TScy":"","tscy":"","TSHcy":"","tshcy":"","Tstrok":"","tstrok":"","twixt":"","twoheadleftarrow":"","twoheadrightarrow":"","Uacute":"","uacute":"","uarr":"","Uarr":"","uArr":"","Uarrocir":"","Ubrcy":"","ubrcy":"","Ubreve":"","ubreve":"","Ucirc":"","ucirc":"","Ucy":"","ucy":"","udarr":"","Udblac":"","udblac":"","udhar":"","ufisht":"","Ufr":"","ufr":"","Ugrave":"","ugrave":"","uHar":"","uharl":"","uharr":"","uhblk":"","ulcorn":"","ulcorner":"","ulcrop":"","ultri":"","Umacr":"","umacr":"","uml":"","UnderBar":"_","UnderBrace":"","UnderBracket":"","UnderParenthesis":"","Union":"","UnionPlus":"","Uogon":"","uogon":"","Uopf":"","uopf":"","UpArrowBar":"","uparrow":"","UpArrow":"","Uparrow":"","UpArrowDownArrow":"","updownarrow":"","UpDownArrow":"","Updownarrow":"","UpEquilibrium":"","upharpoonleft":"","upharpoonright":"","uplus":"","UpperLeftArrow":"","UpperRightArrow":"","upsi":"","Upsi":"","upsih":"","Upsilon":"","upsilon":"","UpTeeArrow":"","UpTee":"","upuparrows":"","urcorn":"","urcorner":"","urcrop":"","Uring":"","uring":"","urtri":"","Uscr":"","uscr":"","utdot":"","Utilde":"","utilde":"","utri":"","utrif":"","uuarr":"","Uuml":"","uuml":"","uwangle":"","vangrt":"","varepsilon":"","varkappa":"","varnothing":"","varphi":"","varpi":"","varpropto":"","varr":"","vArr":"","varrho":"","varsigma":"","varsubsetneq":"","varsubsetneqq":"","varsupsetneq":"","varsupsetneqq":"","vartheta":"","vartriangleleft":"","vartriangleright":"","vBar":"","Vbar":"","vBarv":"","Vcy":"","vcy":"","vdash":"","vDash":"","Vdash":"","VDash":"","Vdashl":"","veebar":"","vee":"","Vee":"","veeeq":"","vellip":"","verbar":"|","Verbar":"","vert":"|","Vert":"","VerticalBar":"","VerticalLine":"|","VerticalSeparator":"","VerticalTilde":"","VeryThinSpace":"","Vfr":"","vfr":"","vltri":"","vnsub":"","vnsup":"","Vopf":"","vopf":"","vprop":"","vrtri":"","Vscr":"","vscr":"","vsubnE":"","vsubne":"","vsupnE":"","vsupne":"","Vvdash":"","vzigzag":"","Wcirc":"","wcirc":"","wedbar":"","wedge":"","Wedge":"","wedgeq":"","weierp":"","Wfr":"","wfr":"","Wopf":"","wopf":"","wp":"","wr":"","wreath":"","Wscr":"","wscr":"","xcap":"","xcirc":"","xcup":"","xdtri":"","Xfr":"","xfr":"","xharr":"","xhArr":"","Xi":"","xi":"","xlarr":"","xlArr":"","xmap":"","xnis":"","xodot":"","Xopf":"","xopf":"","xoplus":"","xotime":"","xrarr":"","xrArr":"","Xscr":"","xscr":"","xsqcup":"","xuplus":"","xutri":"","xvee":"","xwedge":"","Yacute":"","yacute":"","YAcy":"","yacy":"","Ycirc":"","ycirc":"","Ycy":"","ycy":"","yen":"","Yfr":"","yfr":"","YIcy":"","yicy":"","Yopf":"","yopf":"","Yscr":"","yscr":"","YUcy":"","yucy":"","yuml":"","Yuml":"","Zacute":"","zacute":"","Zcaron":"","zcaron":"","Zcy":"","zcy":"","Zdot":"","zdot":"","zeetrf":"","ZeroWidthSpace":"","Zeta":"","zeta":"","zfr":"","Zfr":"","ZHcy":"","zhcy":"","zigrarr":"","zopf":"","Zopf":"","Zscr":"","zscr":"","zwj":"","zwnj":""}')},576732:(e,t,i)=>{"use strict";i.r(t),i.d(t,{WidgetViewTypes:()=>S,default:()=>x});var n=i(465420),r=i(622293),a=i(35058),o=i(52754),s=i(479892),l=i(670563);class d extends r.A{constructor(){super(...arguments),this.widgetStyle=[s.C1.row,s.C1.height_48,s.C1.backgroundWhite,s.C1.padding32H,s.C1.padding8V,s.C1.flex],this.containerStyle=[s.C1.flex,s.C1.row,s.C1.rowCenter,s.C1.contentAlignCenter,s.C1.height_full,s.C1.backgroundVIYS,s.C1.border_radius_6,s.C1.padding4V],this.imageStyle=[s.C1.margin_right_15],this.textContainerStyle=[s.C1.colWithoutFlex,s.C1.wrap],this.arTextTitleStyle=[s.XT.fontMedium_14,{color:l.KS.darkBlueText},s.XT.lineHeight_24],this.preferredViewMode=a.Zw.AR_ONLY,this.getBaseImageWidth=()=>d.IMAGE_WIDTH,this.getBaseImageHeight=()=>d.IMAGE_HEIGHT,this.renderSubtitle=e=>{},this.renderChevron=()=>{},this.renderTermsAndConditions=(e,t)=>{}}static getWidgetHeight(e){const t=(0,o.nS)(e.widgetSlotData);return(null==t?void 0:t.data)?48:0}applyLayoutDetailsToWidget(){return s.C1.backgroundClear}renderWidget(){const{featureDetectionState:e}=this.state;if("NOT_DECIDED"!==e&&"NOT_PRESENT"!==e&&"PARTIALLY_PRESENT"!==e)return this.renderButtonAccordingToRenderableComponent(this.buttonRenderableComponent)}renderDivider(){}}d.IMAGE_WIDTH=22,d.IMAGE_HEIGHT=18;class c extends d{constructor(){super(...arguments),this.isFeatureAvailable=()=>{var e,t,i,n;const r=this.getWidgetData();try{a.v6.assertWebPlatform()}catch(e){return Promise.resolve("NOT_PRESENT")}return a.v6.isIos()?a.v6.isDeviceARQuicklookCandidate()&&a.v6.ARUtilsParser.hasIosModels((null===(t=null===(e=null==r?void 0:r.viysText)||void 0===e?void 0:e.value)||void 0===t?void 0:t.arInfo)||"{}")?Promise.resolve("PRESENT"):Promise.resolve("NOT_PRESENT"):a.v6.ARUtilsParser.hasAndroidModels((null===(n=null===(i=null==r?void 0:r.viysText)||void 0===i?void 0:i.value)||void 0===n?void 0:n.arInfo)||"{}")&&a.v6.isSceneViewerCandidate()?Promise.resolve("PRESENT"):Promise.resolve("NOT_PRESENT")}}}var u=i(492418);class h extends c{constructor(){super(...arguments),this.widgetStyle=[s.C1.row,s.C1.height_36,s.C1.backgroundWhite,s.C1.padding38H,s.C1.margin_top_12,s.C1.flex],this.containerStyle=[s.C1.flex,s.C1.row,s.C1.contentAlignCenter,s.C1.height_full,s.C1.backgroundWhite,s.C1.border_radius_6,s.C1.padding4V,{borderColor:u.KS8.darkBlueText,borderWidth:1}],this.leftGraphicSize=23,this.leftGraphicContainer=[{height:this.leftGraphicSize,width:this.leftGraphicSize},s.C1.margin_right_14]}}const p=h;class g extends h{constructor(){super(...arguments),this.widgetStyle=[s.C1.row,{backgroundColor:u.xce.threeDViewerBackGroundColor},s.C1.padding16H,s.C1.padding_bottom_18],this.containerStyle=[s.C1.flex,s.C1.row,s.C1.contentAlignCenter,s.C1.height_full,s.C1.backgroundWhite,s.C1.border_radius_16,s.C1.padding4V,s.C1.width_168,s.C1.contentSelfAlignEnd,s.C1.height_32,{backgroundColor:u.xce.threeDViewerBackGroundColor},{borderColor:u.V9u.linkWaterGrey,borderWidth:1}],this.leftGraphicSize=23,this.leftGraphicContainer=[{height:this.leftGraphicSize,width:this.leftGraphicSize},s.C1.margin_right_14]}}var m=i(296540),v=i(877293),_=i(45426),C=i(408791),E=i(184452),T=i(198213),f=i(257246);class A extends r.A{constructor(e){super(e),this.sessionNudgeThreshold=10,this.overallNudgeThreshold=20,this.defaultGraphicSizeWidth=102,this.defaultGraphicSizeHeight=58,this.widgetStyle=[s.C1.flex,s.C1.row,s.C1.margin_horizontal_12,s.C1.border_style_solid,s.C1.border_width_1],this.tappableWidgetStyle=[s.C1.height_full,s.C1.width_full,s.C1.overflowHidden],this.containerStyle=[s.C1.flex,s.C1.rowAlignFlexStart,s.C1.row,s.C1.height_full,s.C1.overflowHidden,s.C1.padding_left_12],this.titleViewContainerStyle=[s.C1.padding_bottom_4],this.renderButtonAccordingToRenderableComponent=e=>{var t,i,n,r,a,o,d,c,u;if(!e)return;const h=null!==(i=null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.borderRadius)&&void 0!==i?i:s.C1.border_radius_4.borderRadius,p=null!==(a=null!==(n=(0,f.Ix)(this.props.themeContext))&&void 0!==n?n:null===(r=null==e?void 0:e.value)||void 0===r?void 0:r.borderColor)&&void 0!==a?a:l.OK.flipkartBlue,g=null!==(d=null===(o=null==e?void 0:e.value)||void 0===o?void 0:o.buttonColor)&&void 0!==d?d:l.Jy.white,C=[this.widgetStyle,{borderRadius:h,borderColor:p,backgroundColor:g}],E=[this.tappableWidgetStyle,{borderRadius:h}],T=[this.containerStyle,{borderRadius:h}];return this.getTrackableContentView(m.createElement(v.View,{style:C},m.createElement(_.S,{onPress:this.onButtonPress,tappableStyle:E},m.createElement(v.View,{style:T},this.renderGraphic(null===(c=null==e?void 0:e.value)||void 0===c?void 0:c.image),this.renderText(e),this.renderGraphic(null===(u=null==e?void 0:e.value)||void 0===u?void 0:u.iconRight),this.renderTerms(e)))),null==e?void 0:e.tracking)},this.renderTerms=e=>{var t,i;const n=null===(i=null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.tncUrl)||void 0===i?void 0:i.action;return n&&this.renderTermsAndConditions(n,e)},this.numberOfLines=1,this.renderText=e=>{var t,i,n,r;const a=[[this.arTextTitleStyle,{color:null!==(i=null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.buttonTextColor)&&void 0!==i?i:l.Jy.black}],s.XT.fontMedium_16],o=[this.arTextSubtitleStyle,{color:l.Jy.dimGray},s.XT.fontRegular_14];return m.createElement(v.View,{style:this.textContainerStyle},m.createElement(v.View,{style:this.titleViewContainerStyle},m.createElement(v.Text,{style:a},null===(n=null==e?void 0:e.value)||void 0===n?void 0:n.title)),m.createElement(v.View,null,m.createElement(v.Text,{style:o,numberOfLines:this.numberOfLines},null===(r=null==e?void 0:e.value)||void 0===r?void 0:r.subTitle)))},this.renderGraphic=e=>{const t=null==e?void 0:e.source,i=A.DEFAULT_AUTO_PLAY_LOOP_COUNT;if(!e)return null;const{height:n,width:r}=this.getHeightAndWidth(e),a={height:n,width:r},o=this.lottieSupport&&this.state.lottieState.shouldLottieAnimationPlay,s=!this.lottieSupport||!this.state.lottieState.hasLottieAnimationStarted;return m.createElement(v.View,{style:a},t&&o&&m.createElement(C.n,{onAnimationStart:this.onLottieAnimationStarted,loop:!1,autoPlay:!0,sourceUrl:t,style:a,containerStyle:E.aR,speed:1,loopCount:i}),s&&this.renderFallback(e))},this.getHeightAndWidth=e=>{var t,i;return{height:null!==(t=e.height)&&void 0!==t?t:this.defaultGraphicSizeHeight,width:null!==(i=e.width)&&void 0!==i?i:this.defaultGraphicSizeWidth}},this.renderFallback=e=>{const t=null==e?void 0:e.dynamicImageUrl,{height:i,width:n}=this.getHeightAndWidth(e),r=[this.leftGraphicFallbackImage,{height:i,width:n}];return m.createElement(T.Dk,{style:r,height:i,width:n,source:t})}}renderDivider(){return null}}A.DEFAULT_AUTO_PLAY_LOOP_COUNT=3;var S,y=i(938777),w=i(700036),I=i(454334),b=function(e,t,i,n){return new(i||(i=Promise))((function(r,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};class D extends A{constructor(){super(...arguments),this.setFeatureDetectionState=()=>b(this,void 0,void 0,(function*(){const e=this.getWidgetData(),t="PARTIALLY_PRESENT";this.updateRenderableComponentsBasedOnFeatureDetection(e,t);const i=yield this.shouldLottiePlayBasedOnNudgeLogic();this.setState({featureDetectionState:t,lottieState:Object.assign(Object.assign({},this.state.lottieState),{shouldLottieAnimationPlay:i})}),this.handleDirectExperience()})),this.handleDirectExperience=()=>b(this,void 0,void 0,(function*(){const e=this.getWidgetData(),t=w.A.getBoolean(y.J1O.CUSTOM_3D_VIEWER_VISITED);yield I.A.setValue(y.J1O.COMPARE_3D_INITIAL_MODE,"true"),(null==e?void 0:e.immersive)&&!t?this.openExperience():w.A.setBoolean(y.J1O.CUSTOM_3D_VIEWER_VISITED,!1)}))}}!function(e){e.CUSTOM_3D_VIEW="CUSTOM_3D_VIEW",e.PP_PAGE="PP",e.COMMON_3D_VIEW="COMMON_3D_VIEW",e.VIYS_TRIGGER_DESIGN_V2="VIYS_TRIGGER_DESIGN_V2",e.COMPARE_3D_VIEW="COMPARE_3D_VIEW"}(S||(S={}));class x extends n.A{getWidgetClass(e){switch(o.KJ(e.widgetSlotData)){case"CUSTOM_3D_VIEW":return p;case"PP":default:return r.A;case"COMMON_3D_VIEW":return D;case"VIYS_TRIGGER_DESIGN_V2":return A;case"COMPARE_3D_VIEW":return g}}getWidgetHeight(e){switch(o.KJ(e.widgetSlotData)){case"CUSTOM_3D_VIEW":return c.getWidgetHeight(e);case"PP":default:return r.A.getWidgetHeight(e);case"COMMON_3D_VIEW":return D.getWidgetHeight(e);case"VIYS_TRIGGER_DESIGN_V2":return A.getWidgetHeight(e)}}}},578038:(e,t,i)=>{"use strict";i.d(t,{k:()=>r});var n=function(e,t,i,n){return new(i||(i=Promise))((function(r,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};class r{static getTargetedDiscountAbValue(){return r.enableTargetedDiscount}static getTargetedDiscountAbValueAsync(){return n(this,void 0,void 0,(function*(){return Promise.resolve(r.enableTargetedDiscount)}))}}r.enableTargetedDiscount=!0},582045:(e,t,i)=>{"use strict";i.d(t,{P:()=>n});const n=(e,t)=>e&&t?t[e]:void 0},582389:(e,t,i)=>{"use strict";i.d(t,{GT:()=>a,WP:()=>r,sr:()=>o});var n=i(249989);class r{constructor(e,t,i,r,a){this.type=n.z.SWATCH_SELECTION_COMPLETED_DATA,this.clearOnChangeURI=!0,this.pid=e,this.lid=t,this.sProductString=i,this.sProductSuffix=r,this.pageUID=a}}class a{constructor(e,t){this.type=n.z.PRODUCT_PAGE_SWATCH_SELECTION_DATA,this.clearOnChangeURI=!0,this.pid=e,this.errorMessage=t}}class o{constructor(e){this.type=n.z.PRODUCT_PAGE_UNIFORM_PREVIOUS_SWATCH_DATA,this.clearOnChangeURI=!1,this.data=e}}},585935:(e,t)=>{"use strict";!function(e){e.SUCCESS="SUCCESS",e.IN_PROGRESS="IN_PROGRESS",e.FAILED="FAILED",e.INIT="INIT"}(t.P||(t.P={}))},587038:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(918210),r=i(90513),a=i(229833);class o{handleAction(e,t,i){const o=e.payload.contentId,s=t.pageMeta.pageType,l=t.pageDataResponse&&t.pageDataResponse.pageContext?t.pageDataResponse.pageContext:void 0,d=l&&l.analyticsData?l.analyticsData:void 0,c={};let u="",h="";d&&(u=d.category?d.category:"",h=d.vertical?d.vertical:"");const p=l&&l.marketplace?l.marketplace:"FLIPKART",g=l&&l.productId?l.productId:"";let m;return c[r.Ay.PROP3]=s,m=l&&l.trackingDataV2?l.trackingDataV2.sproduct:a.A.getProductString(g,u,h,p),c[r.Ay.PRODUCTS]=m,c[r.Ay.PROP14]="Installation_Video Play_0_"+o,a.A.addEvent(c,r.fM.EVENT189),n.A.addEventData(c),n.A.trackEventUnderName("Installation_Video Play"),!0}}},587069:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(415283);class r{static getAction(e){let t;switch(e){case n.Q3.MODAL_ACTION:t=i(157421);break;case n.Q3.OMNITURE_TRACKING:t=i(116284);break;case n.Q3.EXPAND_ACTION:t=i(168773);break;case n.Q3.TRACK_PAGE_VIEW:t=i(704897);break;case n.Q3.UPDATE_PAGE_TRANSIENT_DATA:case n.Q3.UPDATE_PAGE_INSTANCE_DATA:case n.Q3.UPDATE_PAGE_INSTANCE_DATA_ON_CHANGE_URI:t=i(709392);break;case n.Q3.UPDATE_SLOT_TRANSIENT_DATA:case n.Q3.UPDATE_WIDGET:t=i(746644);break;case n.Q3.AGGREGATED_CTA:t=i(565378);break;case n.Q3.UPDATE_VALUE_STORE_CONTEXT:t=i(419140);break;case n.Q3.RESOLVE_PAGE_EVENT:t=i(900690)}if(t)return t&&t.default?t.default:t}static getNonCriticalAction(e){let t;switch(e){case n.Q3.MAPI_ACTION:t=Promise.all([i.e(59534),i.e(4738)]).then(i.bind(i,205547));break;case n.Q3.FETCH_NEXT_PAGE:t=Promise.all([i.e(59534),i.e(4738)]).then(i.bind(i,693722));break;case n.Q3.REVIEWS_UI_ACTION:t=Promise.all([i.e(59534),i.e(4738)]).then(i.bind(i,644384));break;case n.Q3.LOCAL_ACTION:t=Promise.all([i.e(59534),i.e(4738)]).then(i.bind(i,538244));break;case n.Q3.STATIC_WEB_PAGE_ACTION:t=Promise.all([i.e(59534),i.e(4738)]).then(i.bind(i,91286));break;case n.Q3.QNA_ACTION:case n.Q3.QNA_MAPI_ACTION:t=Promise.all([i.e(59534),i.e(4738)]).then(i.bind(i,617792));break;case n.Q3.TRACK_FLOODLIGHT:t=Promise.all([i.e(59534),i.e(4738)]).then(i.bind(i,442709));break;case n.Q3.SHOW_BOTTOMSHEET:t=Promise.all([i.e(59534),i.e(4738)]).then(i.bind(i,734927));break;case n.Q3.SHOW_TOAST:t=Promise.all([i.e(59534),i.e(4738)]).then(i.bind(i,72124));break;case n.Q3.SWATCH_ACTION:t=Promise.all([i.e(59534),i.e(4738)]).then(i.bind(i,102513));break;case n.Q3.CHECKOUT_STATE_CHANGE:t=Promise.all([i.e(59534),i.e(4738)]).then(i.bind(i,421937));break;case n.Q3.ATTACH_ACTION:t=Promise.all([i.e(59534),i.e(4738)]).then(i.bind(i,91054));break;case n.Q3.BASKET_ADD:case n.Q3.BASKET_ADD_SWATCH_DISMISS:t=Promise.all([i.e(59534),i.e(4738)]).then(i.bind(i,225973));break;case n.Q3.CTA_PRICE_SHEET:t=Promise.all([i.e(59534),i.e(4738)]).then(i.bind(i,829317));break;case n.Q3.TRANSACT_ACTION:t=Promise.all([i.e(59534),i.e(4738)]).then(i.bind(i,246282));break;case n.Q3.REVIEWS_EXPANDED_BOTTOMSHEET:t=Promise.all([i.e(59534),i.e(4738)]).then(i.bind(i,355960));break;case n.Q3.PMU_HORIZONTAL_BASKET_ADD:t=Promise.all([i.e(59534),i.e(4738)]).then(i.bind(i,140613));break;case n.Q3.ATLAS_ADD_TO_BASKET:t=Promise.all([i.e(59534),i.e(4738)]).then(i.bind(i,724379));break;case n.Q3.APPLY_CUSTOM_DENOMINATION:t=Promise.all([i.e(59534),i.e(4738)]).then(i.bind(i,699114));break;case n.Q3.SEARCH_FEED_REFRESH:t=Promise.all([i.e(59534),i.e(4738)]).then(i.bind(i,674512));break;case n.Q3.IMMERSE_HORIZONTAL_WIDGET_REFRESH:t=Promise.all([i.e(59534),i.e(4738)]).then(i.bind(i,723134));break;case n.Q3.MULTI_ACTION:t=Promise.all([i.e(59534),i.e(4738)]).then(i.bind(i,780909));break;case n.Q3.LOCAL_CART_UPDATE:case n.Q3.LOCAL_CART_SYNC:t=Promise.all([i.e(59534),i.e(4738)]).then(i.bind(i,405850));break;case n.Q3.PMU_EXTENDED_BASKET_ADD:t=Promise.all([i.e(59534),i.e(4738)]).then(i.bind(i,669864));break;case n.Q3.LOAD_LAZY_ACTION_HANDLER_CHUNK:Promise.all([i.e(59534),i.e(4738)]).then(i.bind(i,205547))}if(t)return t}}},587952:(e,t)=>{"use strict";!function(e){e.SMALL="SMALL",e.BIG="BIG"}(t.i||(t.i={}))},598318:(e,t,i)=>{"use strict";i.d(t,{BI:()=>w,Bc:()=>M,DC:()=>b,DK:()=>_,E:()=>A,GK:()=>I,MN:()=>y,N0:()=>o,P9:()=>h,PO:()=>s,Qg:()=>p,Rn:()=>f,Sq:()=>P,Sw:()=>k,U$:()=>l,Ui:()=>m,Wp:()=>L,Z8:()=>R,fz:()=>g,hO:()=>c,is:()=>O,iy:()=>H,kD:()=>V,kZ:()=>x,lb:()=>d,pl:()=>S,qI:()=>C,rp:()=>u,tS:()=>D,tv:()=>v,wx:()=>E,x4:()=>T,xk:()=>N});var n=i(302019),r=i(877293),a=i(492418);const o=n.JU.extendComponent({name:"SwatchErrorLabel",defaultProps:{font:"s",color:"raw.magenta.500",mx:"s6",mb:"s4"}}),s=n.az.extendComponent({name:"SwatchHeaderContainer",defaultProps:{flexDirection:"row",px:"s6",alignItems:"center",justifyContent:"space-between"}}),l=n.az.extendComponent({name:"SwatchHeaderLeftChildContainer",defaultProps:{flexDirection:"row",alignItems:"center",flexShrink:1}}),d=n.az.extendComponent({name:"SwatchHeaderRightChildContainer",defaultProps:{flexDirection:"row",alignItems:"center"}}),c=n.JU.extendComponent({name:"SwatchTitleLabel",defaultProps:{font:"m",color:"raw.grey.900"}}),u=n.JU.extendComponent({name:"SwatchSelectedOptionLabel",defaultProps:{font:"m_medium",color:"raw.grey.900",numberOfLines:1,flexShrink:1}}),h=n.JU.extendComponent({name:"ScarcityCalloutLabel",defaultProps:{font:"xs_medium",color:"raw.magenta.600",textAlignVertical:"center",textAlign:"center",px:"s2",mt:"s3"}}),p=n.JU.extendComponent({name:"NudgeCalloutLabel",defaultProps:{font:"xs_medium",color:"common.white",bg:"v2.theme2.600",borderWidth:1,borderRadius:4,borderColor:"v2.theme2.600",textAlignVertical:"center",textAlign:"center",px:"s3",mt:"s3",overflow:"hidden"}}),g=72,m=n.az.extendComponent({name:"BoxImageSwatchContainer",defaultProps:{alignItems:"center",width:g}}),v=n.az.extendComponent({name:"BoxImageSwatchImageContainer",defaultProps:e=>{var t;return{borderWidth:e.selected?1.17:.78,borderColor:e.selected?e.disabled?a.Jyk.darkMagenta:null!==(t=e.borderThemeColor)&&void 0!==t?t:a.Jyk.royalBlue:a.Jyk.fkGrayForty,borderRadius:4,overflow:"hidden",borderStyle:e.disabled?"dashed":"solid",height:g,width:g,alignItems:"center",justifyContent:"center"}}}),_=n.JU.extendComponent({name:"BoxImageSwatchLabel",defaultProps:e=>{var t;return{font:e.selected&&!e.disabled?"s_medium":"s",color:e.selected?e.disabled?"raw.magenta.500":null!==(t=e.primaryDLSThemeColor)&&void 0!==t?t:"raw.blue.500":e.disabled?"raw.grey.200":"raw.grey.900",numberOfLines:1,pt:"s4"}}}),C=n.JU.extendComponent({name:"SwatchPriceLabel",defaultProps:e=>{var t;return{font:e.selected&&!e.disabled?"xs_medium":"xs",color:e.selected?e.disabled?"raw.magenta.500":e.available?null!==(t=e.primaryDLSThemeColor)&&void 0!==t?t:"raw.blue.500":"raw.magenta.500":e.disabled?"raw.grey.200":e.available?"raw.grey.900":"raw.magenta.500",numberOfLines:2,mt:"s2"}}}),E=n.az.extendComponent({name:"BoxTextSwatchContainer",defaultProps:e=>{var t;return{borderWidth:1,borderColor:e.selected?e.disabled?a.Jyk.darkMagenta:e.available?null!==(t=e.borderThemeColor)&&void 0!==t?t:a.Jyk.royalBlue:a.Jyk.raspberry:a.Jyk.fkGrayForty,borderStyle:e.disabled?"dashed":"solid",borderRadius:4,minWidth:e.showPrice?140:80,maxWidth:140,height:94}}}),T=n.az.extendComponent({name:"BoxListSwatchContainer",defaultProps:e=>{var t;return{borderWidth:e.selected?e.disabled?1:1.5:1,borderColor:e.selected?e.disabled?a.Jyk.darkMagenta:e.available?null!==(t=e.borderThemeColor)&&void 0!==t?t:a.Jyk.royalBlue:a.Jyk.raspberry:a.Jyk.fkGrayForty,borderStyle:e.disabled?"dashed":"solid",borderRadius:6,flexDirection:"row",alignItems:"center",justifyContent:"space-between",px:"s5",py:"s5",height:68}}}),f=n.fI.extendComponent({name:"BoxTextSwatchOptionContainer",defaultProps:e=>{var t;return{bg:e.showPrice?e.selected&&!e.disabled&&e.available?null!==(t=e.backgroundDLSThemeColor)&&void 0!==t?t:"raw.blue.50":"raw.grey.50":void 0,alignItems:"center",justifyContent:"center",py:"s4",minHeight:36,maxHeight:"android"===r.Platform.OS?52:void 0,borderTopLeftRadius:4,borderTopRightRadius:4}}}),A=n.JU.extendComponent({name:"BoxTextSwatchOptionLabel",defaultProps:e=>{var t;return{font:e.selected&&!e.disabled?"m_medium":"m",color:e.selected?e.disabled?"raw.magenta.500":e.available?null!==(t=e.primaryDLSThemeColor)&&void 0!==t?t:"raw.black.500":a.Jyk.raspberry:"raw.grey.900",flexGrow:e.showPrice?1:void 0,numberOfLines:2,px:"s5",textAlign:"left",textAlignVertical:"center"}}}),S=n.JU.extendComponent({name:"BoxListSwatchOptionLabel",defaultProps:e=>{var t;return{font:e.selected&&!e.disabled?"m_medium":"m",color:e.selected?e.disabled?"raw.magenta.500":e.available?null!==(t=e.primaryDLSThemeColor)&&void 0!==t?t:"raw.blue.500":"raw.magenta.600":"raw.grey.900",textAlign:"left",textAlignVertical:"center"}}}),y=n.fI.extendComponent({name:"BoxTextSwatchInfoContainer",defaultProps:e=>({pt:"s4",flexDirection:"column"})}),w=n.fI.extendComponent({name:"BoxListSwatchInfoContainer",defaultProps:e=>({flexDirection:"column",alignItems:"flex-end",maxWidth:90})}),I=n.JU.extendComponent({name:"BoxTextSwatchPriceLabel",defaultProps:e=>({font:"m",color:e.selected?e.disabled?"raw.magenta.500":e.available?"raw.grey.900":"raw.magenta.600":e.disabled?"raw.grey.500":e.available?"raw.grey.900":"raw.magenta.600",px:"s5",textAlignVertical:"center"})}),b=n.JU.extendComponent({name:"BoxListSwatchPriceLabel",defaultProps:e=>({alignItems:"flex-end",font:e.selected?e.disabled?"m":"m_medium":"m",color:e.selected?e.disabled?"raw.magenta.500":e.available?"raw.grey.900":"raw.magenta.600":e.disabled?"raw.grey.500":e.available?"raw.grey.900":"raw.magenta.600"})}),D=n.JU.extendComponent({name:"BoxTextSwatchStrikeOffPriceLabel",defaultProps:{pt:"s1",font:"s",color:"raw.grey.500",px:"s5",textAlignVertical:"center",textDecorationLine:"line-through"}}),x=n.JU.extendComponent({name:"BoxListSwatchStrikeOffPriceLabel",defaultProps:{pt:"s1",font:"s",color:"raw.grey.500",textAlignVertical:"center",textDecorationLine:"line-through"}}),P=n.JU.extendComponent({name:"BoxListDiscountPriceLabel",defaultProps:{pt:"s1",font:"s_medium",color:"#108934",textAlignVertical:"center",pr:"s3"}}),O=(n.JU.extendComponent({name:"WithinSwatchOptionScarcityCalloutLabel",defaultProps:{font:"xs_medium",color:"raw.magenta.500",textAlignVertical:"center",textAlign:"center",px:"s4"}}),n.JU.extendComponent({name:"WithinSwatchOptionNudgeCalloutLabel",defaultProps:{position:"absolute",zIndex:5,font:"xs_medium",color:"common.white",bg:"v2.theme2.600",borderWidth:1,borderRadius:4,borderColor:"v2.theme2.600",textAlignVertical:"center",textAlign:"center",px:"s2",overflow:"hidden"}})),R=n.az.extendComponent({name:"CircleTextSwatchContainer",defaultProps:e=>{var t,i;return{borderWidth:1,borderColor:e.selected?e.disabled?a.Jyk.darkMagenta:null!==(t=e.borderThemeColor)&&void 0!==t?t:a.Jyk.royalBlue:a.V9u.mecuryGrey,borderStyle:e.disabled?"dashed":"solid",bg:e.selected?e.disabled?void 0:null!==(i=e.backgroundDLSThemeColor)&&void 0!==i?i:"raw.blue.50":void 0,borderRadius:20,overflow:"hidden",minWidth:40,height:40,px:"s3",alignItems:"center",justifyContent:"center"}}}),k=n.JU.extendComponent({name:"CircleTextSwatchLabel",defaultProps:e=>{var t;return{font:e.selected&&!e.disabled?"m_medium":"m",color:e.selected?e.disabled?"raw.magenta.500":null!==(t=e.primaryDLSThemeColor)&&void 0!==t?t:"raw.blue.500":e.disabled?"raw.grey.200":"raw.grey.900"}}}),V=(0,n.nm)({borderRadius:16,overflow:"hidden",minWidth:32,height:32,alignItems:"center",justifyContent:"center"}),L=n.az.extendComponent({name:"CircleColorSwatchOuterContainer",defaultProps:e=>{var t;return{borderWidth:1,borderColor:e.selected?e.disabled?a.Jyk.darkMagenta:null!==(t=e.borderThemeColor)&&void 0!==t?t:a.Jyk.royalBlue:e.disabled?a.V9u.mecuryGrey:a.JO0,borderStyle:e.disabled?"dashed":"solid",borderRadius:20,overflow:"hidden",width:40,height:40,alignItems:"center",justifyContent:"center"}}}),M=n.az.extendComponent({name:"CrossOuterContainer",defaultProps:{width:20,height:20,justifyContent:"center",alignItems:"center"}}),N=n.az.extendComponent({name:"CrossLine",defaultProps:{width:3,height:20,bg:"raw.magenta.500",borderWidth:.75,borderColor:a.Jyk.white,borderRadius:2,position:"absolute"}}),H=n.az.extendComponent({name:"CrossInnerContainer",defaultProps:{position:"absolute",width:1.5,height:3,bg:"raw.magenta.500",transform:[{rotate:"45deg"}]}})},599255:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>re});var n=i(465420),r=i(877293),a=i(716249),o=i(52754),s=i(57522),l=i(146387),d=i(482123),c=i(302019),u=i(296540),h=i(787921),p=i(914944),g=i(45426),m=i(352254);const v=c.az.extendComponent({name:"FloatingContainer",defaultProps:{justifyContent:"flex-end"}}),_=c.fI.extendComponent({name:"ViewSimilarButton",defaultProps:{m:"s1",bg:"common.white",alignItems:"center",justifyContent:"center",py:"s4",zIndex:1,shadowOffset:{width:0,height:1},shadowRadius:8,shadowOpacity:.1,shadowColor:"common.black",elevation:2,borderRadius:36}}),C=c.az.extendComponent({name:"SneekImagePlaceHolder",defaultProps:{borderRadius:10,borderWidth:1,borderColor:"common.white",shadow:10,overflow:"hidden",bg:"common.white"}});var E=function(e,t,i,n){return new(i||(i=Promise))((function(r,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};const T=.12*r.Dimensions.get("screen").height,f=.78*r.Dimensions.get("screen").height;class A extends a.A{constructor(e){super(e),this.FLOATING_CONTAINER_HEIGHT=40,this.FLOATING_CONTAINER_WIDTH=126,this.upAnim=new r.Animated.Value(this.FLOATING_CONTAINER_HEIGHT),this.Anim=new r.Animated.Value(0),this.IMAGE_HEIGHT=24,this.IMAGE_WIDTH=24,this.dragFab=new r.Animated.ValueXY,this.fabPosition={x:0,y:0},this._onMoveShouldSetPanResponderCapture=(e,t)=>Math.abs(t.dy)>20,this._onPanResponderMove=({nativeEvent:e},t)=>{const i={x:0,y:t.dy};e.pageY>T&&e.pageY<f&&this.dragFab.setValue(i)},this._onPanResponderGrant=()=>{this.dragFab.setOffset({x:0,y:this.fabPosition.y}),this.dragFab.setValue({x:0,y:0})},this._onPress=(e,t)=>{t&&(this.dispatchAction(h.A.MAPI_ACTION,new p.rs(t)),this.trackDiscoveryWidgetClickEvent())},this.floatingContainerHeight=this.getContainerHeight(),this.dragFab.addListener((e=>{this.fabPosition=e})),this.panResponder=r.PanResponder.create({onMoveShouldSetPanResponderCapture:this._onMoveShouldSetPanResponderCapture,onPanResponderMove:this._onPanResponderMove,onPanResponderGrant:this._onPanResponderGrant,onPanResponderRelease:()=>this.dragFab.flattenOffset()})}getDerivedState(e,t){var i;const n=(0,o.Qd)(e,s.j.FLOATING_ACTIONS_WIDGET);let r,a;return n&&n.widgetDataKey&&void 0!==t?((null===(i=null==n?void 0:n.widgetDataKey)||void 0===i?void 0:i.startsWith("show"))?(r=n.scrollIndicator&&!n.isStickerVisible,a=this.state.hideflag2):(r=this.state.hideflag1,a=n.isStickerVisible||!n.scrollIndicator),Object.assign(Object.assign({},super.getDerivedState(e,t)),{hideflag1:r,hideflag2:a})):super.getDerivedState(e,t)}shouldStateUpdate(e,t){const i=(0,o.Qd)(e,s.j.FLOATING_ACTIONS_WIDGET);return"showViewSimilarRecoInMuiltimediaWidget"===(null==i?void 0:i.widgetDataKey)||"hideViewSimilarRecoInMuiltimediaWidget"===(null==i?void 0:i.widgetDataKey)||super.shouldStateUpdate(e,t)}componentDidMount(){super.componentDidMount();let e=(0,o.Qd)(this.props,s.j.FLOATING_ACTIONS_WIDGET);e=Object.assign(Object.assign({},e),{scrollIndicator:void 0,isStickerVisible:void 0}),this.props.actionDispatcher&&this.props.actionDispatcher(new l.YI(new l.qF(s.j.FLOATING_ACTIONS_WIDGET,e)))}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i)||this.state.hideflag1!==t.hideflag1||this.state.hideflag2!==t.hideflag2}static getWidgetHeight(){return 0}renderWidget(){}render(){var e,t,i,n,a,s,l,d,h,p,E,T;const f=(0,o.xH)(this.props.widgetSlotData);if(!f||void 0===this.state.hideflag1&&void 0===this.state.hideflag2||this.state.hideflag1||this.state.hideflag2)return null;this.Animation();return u.createElement(v,{style:{marginTop:this.floatingContainerHeight},width:this.getContainerWidth(),pointerEvents:"auto"},u.createElement(r.Animated.View,Object.assign({style:{transform:this.dragFab.getTranslateTransform()}},this.panResponder.panHandlers),(null==f?void 0:f.sneakImages)&&u.createElement(r.Animated.View,{style:{transform:[{translateY:this.upAnim},{scale:this.Anim}],opacity:this.Anim}},u.createElement(c.az,null,u.createElement(c.fI,null,f.sneakImages.map(((e,t)=>u.createElement(C,{style:{transform:[{rotate:15*(t-1)+"deg"}]},top:1===t?-8:-3,zIndex:1===t?1:0},u.createElement(m.A,{source:e.imageUrl,height:51,width:38}))))))),u.createElement(g.S,{disableFeedback:!0,onPress:this._onPress,onPressParam:null===(e=f.viewSimilar)||void 0===e?void 0:e.action},u.createElement(_,{height:this.FLOATING_CONTAINER_HEIGHT,width:this.FLOATING_CONTAINER_WIDTH},u.createElement(c.az,{mr:"s4"},u.createElement(m.A,{source:null===(n=null===(i=null===(t=null==f?void 0:f.viewSimilar)||void 0===t?void 0:t.value)||void 0===i?void 0:i.image)||void 0===n?void 0:n.dynamicImageUrl,height:(null===(l=null===(s=null===(a=null==f?void 0:f.viewSimilar)||void 0===a?void 0:a.value)||void 0===s?void 0:s.image)||void 0===l?void 0:l.height)||this.IMAGE_HEIGHT,width:(null===(p=null===(h=null===(d=null==f?void 0:f.viewSimilar)||void 0===d?void 0:d.value)||void 0===h?void 0:h.image)||void 0===p?void 0:p.width)||this.IMAGE_WIDTH})),u.createElement(c.JU,{font:"s_medium"},null===(T=null===(E=null==f?void 0:f.viewSimilar)||void 0===E?void 0:E.value)||void 0===T?void 0:T.text)))))}Animation(){r.Animated.parallel([r.Animated.sequence([r.Animated.timing(this.Anim,{toValue:1,duration:400,easing:r.Easing.out(r.Easing.ease),useNativeDriver:!0}),r.Animated.delay(500),r.Animated.timing(this.Anim,{toValue:0,duration:400,easing:r.Easing.out(r.Easing.ease),useNativeDriver:!0})]),r.Animated.sequence([r.Animated.timing(this.upAnim,{toValue:0,duration:400,easing:r.Easing.out(r.Easing.ease),useNativeDriver:!0}),r.Animated.delay(500),r.Animated.timing(this.upAnim,{toValue:this.FLOATING_CONTAINER_HEIGHT,duration:400,easing:r.Easing.out(r.Easing.ease),useNativeDriver:!0})])]).start()}getContainerHeight(){const e=(0,o.lf)(this.props.widgetSlotData);let t=this.FLOATING_CONTAINER_HEIGHT;return(null==e?void 0:e.positionBottom)?t+=parseInt(e.positionBottom):(null==e?void 0:e.positionTop)&&(t+=parseInt(e.positionTop)),"ios"!==r.Platform.OS||(null==e?void 0:e.positionBottom)||(null==e?void 0:e.positionTop)||(t+=350,this.checkAndUpdateStylings()),t}getContainerWidth(){const e=(0,o.lf)(this.props.widgetSlotData);let t=this.FLOATING_CONTAINER_WIDTH;return(null==e?void 0:e.positionRight)?t+=parseInt(e.positionRight):(null==e?void 0:e.positionLeft)&&(t+=parseInt(e.positionLeft)),"ios"!==r.Platform.OS||(null==e?void 0:e.positionRight)||(null==e?void 0:e.positionLeft)||(t+=16),t}checkAndUpdateStylings(){return E(this,void 0,void 0,(function*(){try{(yield d.S.isIPhoneWithNotch())&&(this.floatingContainerHeight+=34)}catch(e){}}))}}var S=i(637608),y=i(415283),w=i(561310);const I={priceStyle:{color:"common.black",marginRight:"s4",font:"m_medium"},sellingPriceStyle:{color:"raw.grey.400",font:"m",alignItems:"center",textDecorationLine:"line-through"},discountPriceStyle:{color:"success.primary",font:"m"},parentStyle:{marginTop:"s4"}};var b=i(492418),D=i(516016),x=i(927443),P=i(420721),O=i(410752),R=i(432160),k=i(723372),V=i(479892),L=i(215807),M=i(422018),N=i(166057),H=i(722984),W=i(918873),B=i(249423);class U{constructor(e){this.type=s.j.VIEW_SIMILAR_SWATCH_SELECTION_DATA,this.swatchSelectedValue=e}}const F=c.az.extendComponent({name:"ProductCardContainer",defaultProps:{bg:b.BPn,borderWidth:1,borderColor:b.V9u.linkWaterGrey,borderRadius:12,overflow:"hidden"}}),G=c.az.extendComponent({name:"ProductInfoContainer",defaultProps:{paddingHorizontal:"s6",paddingBottom:"s6",marginTop:"s5"}}),z=c.JU.extendComponent({name:"SuperTitleLabel",defaultProps:{font:"m_medium",color:"raw.grey.900",numberOfLines:1,ellipsizeMode:"tail"}}),j=c.JU.extendComponent({name:"ProductTitleLabel",defaultProps:{font:"s",color:"raw.grey.400",numberOfLines:1,ellipsizeMode:"tail",marginTop:"s2"}}),X=c.az.extendComponent({name:"AddToCartContainer",defaultProps:{marginHorizontal:"s6",paddingVertical:"s6",borderTopWidth:.95,borderColor:b.Jyk.backgroundVeryLightGray,alignItems:"center",justifyContent:"center"}});class Y extends u.Component{constructor(e,t){var i,n,a,o,s;super(e,t),this.PRODUCT_IMAGE_HEIGHT=375,this.PRODUCT_IMAGE_WIDTH=280,this._cartChanged=e=>{var t,i,n;if(this.state.listingId&&(null==e?void 0:e.cartData)&&(null===(n=null===(i=null===(t=this.props.productCard)||void 0===t?void 0:t.value)||void 0===i?void 0:i.productMeta)||void 0===n?void 0:n.listingId)){const t=void 0!==e.cartData[this.state.listingId];t!==this.state.isItemInCart&&this.setState({isItemInCart:t})}},this._onProductCardClick=(e,t)=>{var i,n,r,a;if(t){null===(n=(i=this.props).actionDispatcher)||void 0===n||n.call(i,new w.iM(w.xH.CLOSE_MODAL));const e={type:y.Q3.MAPI_ACTION,payload:new p.rs(t)};null===(a=(r=this.props).actionDispatcher)||void 0===a||a.call(r,e)}},this._handleAddToCartClick=(e,t)=>{var i,n,r,a,o,s,l,d,c,u,h;if(!t)return;if(this.state.isItemInCart)return void(null===(n=(i=this.props).actionDispatcher)||void 0===n||n.call(i,W.j.getCartNavigationAction()));const g=null===(r=this.props.productCard.value)||void 0===r?void 0:r.swatchComponent;if(g){const e=null===(o=(a=this.props).getSwatchSelectionVolatileData)||void 0===o?void 0:o.call(a),t=this._getPidForSwatchValue(null==e?void 0:e.swatchSelectedValue);if(g.products&&t&&g.attributes&&1===g.attributes.length){const e=null===(s=g.products[t])||void 0===s?void 0:s.listingId;if(e)return void this._addProductToCart(e,t)}this._openSwatchSelectionModal({swatchComponent:{value:g}},null===(c=null===(d=null===(l=this.props.productCard)||void 0===l?void 0:l.value)||void 0===d?void 0:d.productMeta)||void 0===c?void 0:c.productId)}else{const e={type:y.Q3.MAPI_ACTION,payload:new p.rs(t)};null===(h=(u=this.props).actionDispatcher)||void 0===h||h.call(u,e)}},this._openSwatchSelectionModal=(e,t)=>{if(e&&this.props.actionDispatcher){const i=[{swatchSelectionRequired:!0,text:(0,P.ak)(this.context.locale,{id:O.H.rex_string_CONFIRM}),actionType:N.a.SWATCH_SELECTION_WITH_CALLBACK,buttonMode:0,shouldDisableActionButtonOnError:!0,callback:this._onSwatchSelectionCompletedCallback}];this.props.actionDispatcher(new M.lX(new M.w1(i,e,L.m.BOTTOM_SHEET,t)))}},this._onSwatchSelectionCompletedCallback=e=>{const t=e.lid,i=e.pid;t&&i&&this._addProductToCart(t,i)};const l=null===(n=null===(i=e.productCard.action)||void 0===i?void 0:i.params)||void 0===n?void 0:n.listingId;this.state={isItemInCart:Y._isItemInCart(this.props.appContext,l),listingId:null===(s=null===(o=null===(a=this.props.productCard)||void 0===a?void 0:a.value)||void 0===o?void 0:o.productMeta)||void 0===s?void 0:s.listingId},(0,H.d)(r.NativeModules.CartModule).addListener("cartChanged",this._cartChanged)}static _isItemInCart(e,t){return e.userManager.isLIDInCart(t)}render(){var e,t;const i=this.props.productCard,n=i.value,r=null===(t=null===(e=null==n?void 0:n.images)||void 0===e?void 0:e[0])||void 0===t?void 0:t.imageUrl;return u.createElement(g.S,{onPress:this._onProductCardClick,onPressParam:i.action},u.createElement(F,null,this._renderProductImage(r),this._renderProductInfo(n),this._renderAddToCart(null==n?void 0:n.addToCartAction)))}componentWillUnmount(){(0,H.d)(r.NativeModules.CartModule).removeListener("cartChanged",this._cartChanged)}_renderProductImage(e){return u.createElement(c.az,{overflow:"hidden"},u.createElement(m.A,{resizeMode:"contain",source:e,height:this.PRODUCT_IMAGE_HEIGHT,width:this.PRODUCT_IMAGE_WIDTH}))}_renderAddToCart(e){const{action:t,value:i}=e||{};if(!t||!i)return;const n=this.state.isItemInCart?(0,B.nx)((0,P.ak)(this.context.locale,{id:O.H.rex_string_GO_TO_CART})):i.text;return u.createElement(g.S,{onPress:this._handleAddToCartClick,onPressParam:t},u.createElement(X,null,u.createElement(c.JU,{font:"m_medium"},n)))}_addProductToCart(e,t){var i,n,r,a,o,d,c;let u=null===(r=null===(n=null===(i=this.props.productCard)||void 0===i?void 0:i.value)||void 0===n?void 0:n.addToCartAction)||void 0===r?void 0:r.action;if(u){u.params.listingId=e,u.params.productId=t;const i={type:y.Q3.MAPI_ACTION,payload:new p.rs(u)};null===(o=(a=this.props).actionDispatcher)||void 0===o||o.call(a,i),this.setState({listingId:e})}const h=this._getSwatchValueForPid(t);h&&(null===(c=(d=this.props).actionDispatcher)||void 0===c||c.call(d,new l.YI(new l.qF(s.j.VIEW_SIMILAR_SWATCH_SELECTION_DATA,new U(h)))))}_getSwatchValueForPid(e){var t,i;const n=null===(t=this.props.productCard.value)||void 0===t?void 0:t.swatchComponent,r=null===(i=null==n?void 0:n.products)||void 0===i?void 0:i[e];if((null==n?void 0:n.attributeOptions)&&n.attributeOptions.length>0&&(null==r?void 0:r.attributeIndexes)&&r.attributeIndexes.length>0){return n.attributeOptions[0][r.attributeIndexes[0]].value}}_getPidForSwatchValue(e){var t,i;if(!e)return;const n=null===(t=this.props.productCard.value)||void 0===t?void 0:t.swatchComponent,r=this._getAttributeIndexForSwatchValue(e,null==n?void 0:n.attributeOptions);if(!r)return;const a=null==n?void 0:n.products;for(const e in a)if(a.hasOwnProperty(e)&&(null==a?void 0:a[e].attributeIndexes)){const t=a[e];if((null==t?void 0:t.available)&&(null===(i=null==t?void 0:t.attributeIndexes)||void 0===i?void 0:i[0])&&t.attributeIndexes[0]===r)return e}}_getAttributeIndexForSwatchValue(e,t){if(!t||0===t.length||!(null==t?void 0:t[0]))return;let i;return t[0].map(((t,n)=>{t.value===e&&(i=n)})),i}renderProductRatingView(e){const t=e.reviewCount,i=t&&e.average&&e.average>0?`& ${(0,x.m3)(t)} ${(0,P.ak)(this.context.locale,{id:O.H.rex_string_REVIEWS})}`:t?`${(0,x.m3)(t)} ${(0,P.ak)(this.context.locale,{id:O.H.rex_string_REVIEWS})}`:void 0;return u.createElement(D.i2,{rating:e,countType:"ratings",parentStyle:{marginTop:"s2",flexDirection:"row"},ratingCountStyle:{color:"raw.grey.400",font:"s",marginLeft:"s3"},ratingColor:e.ratingColor,type:0,reviewString:i})}_renderProductInfo(e){var t,i,n;const r=null===(t=null==e?void 0:e.snippets)||void 0===t?void 0:t[0];return u.createElement(G,null,u.createElement(c.fI,{justifyContent:"space-between",alignItems:"center"},u.createElement(z,null,null===(i=null==e?void 0:e.titles)||void 0===i?void 0:i.superTitle),(null==e?void 0:e.fAssured)&&u.createElement(R.A,null)),u.createElement(j,null,null===(n=null==e?void 0:e.titles)||void 0===n?void 0:n.title),(null==e?void 0:e.rating)&&this.renderProductRatingView(e.rating),u.createElement(S.A,{priceStyle:I.priceStyle,sellingPriceStyle:I.sellingPriceStyle,discountStyle:I.discountPriceStyle,price:null==e?void 0:e.pricing,parentStyle:I.parentStyle,enablePriceVariationsAB:!0}),r&&u.createElement(k.A,{style:V.C1.margin_top_4,messages:r,numberOfLines:2,useTextContainer:!0}),(null==e?void 0:e.deliveryCallout)&&u.createElement(k.A,{style:r?V.C1.margin_top_0:V.C1.margin_top_4,messages:null==e?void 0:e.deliveryCallout,numberOfLines:2,textDefaultStyle:[V.XT.fontRegular_12,V.XT.lineHeight_18],useTextContainer:!0}))}}Y.contextType=P.V8;var q=i(217083);const J=(e,t,i)=>{const n=i.itemWidth||200,r=Math.round(.5*n),a=Math.round(.42*n),o=Math.round(.25*n);let s={},l={};return i.inactiveSlideOpacity&&i.inactiveSlideOpacity<1&&(s={opacity:t.interpolate({inputRange:[-1,0,1],outputRange:[i.inactiveSlideOpacity,1,i.inactiveSlideOpacity],extrapolate:"clamp"})}),i.inactiveSlideScale&&i.inactiveSlideScale<1&&(l={transform:[{scale:t.interpolate({inputRange:[-1,0,1],outputRange:[i.inactiveSlideScale,1,i.inactiveSlideScale],extrapolate:"clamp"})},{translateX:t.interpolate({inputRange:[-1,0,1],outputRange:[r*i.inactiveSlideScale,0,-a*i.inactiveSlideScale],extrapolate:"clamp"})},{translateY:t.interpolate({inputRange:[-1,0,1],outputRange:[o*i.inactiveSlideScale,0,o*i.inactiveSlideScale],extrapolate:"clamp"})}]}),Object.assign(Object.assign({},s),l)},K=(e,t)=>{const i=[1,0,-1];return{inputRange:(0,q.cI)(i,e,t),outputRange:i}},Q=(e,t)=>{const i=Math.round(.55*e),n=Math.round(.42*e),r=Math.round(.28*e);return{translateLeftX:i*t,translateLeftY:r*t,translateRightX:n*t,translateRightY:r*t}};var Z=i(727048),$=i(813652),ee=i(562236),te=i(957775),ie=i(547134);class ne extends a.A{constructor(){super(...arguments),this._carouselRef=u.createRef(),this.carouselStyle={flex:1,marginTop:24},this.ITEM_WIDTH=280,this.INACTIVE_SLIDE_OPACITY=1,this.INACTIVE_SLIDE_SCALE=.65,this.DIMISS_ICON_HEIGHT=52,this.DIMISS_ICON_WIDTH=52,this._renderDismissButton=()=>{const e="web"===r.Platform.OS;return u.createElement(c.az,{alignItems:"center",justifyContent:"center",marginTop:e?"s10":"s0"},u.createElement(g.S,{onPress:this._onClickDismiss},u.createElement(m.A,{source:$.viewSimilarDismissIcon,height:this.DIMISS_ICON_HEIGHT,width:this.DIMISS_ICON_WIDTH})))},this._onClickDismiss=e=>{var t;(null===(t=this.props.pageInfo)||void 0===t?void 0:t.pageUID)&&ee.e.goBack(this.props.pageInfo.pageUID)},this._renderItem=e=>u.createElement(Y,{productCard:e.item,actionDispatcher:this.props.actionDispatcher,appContext:this.props.appContext,getSwatchSelectionVolatileData:this.getSwatchSelectionVolatileData}),this.getSwatchSelectionVolatileData=()=>(0,o.Qd)(this.props,s.j.VIEW_SIMILAR_SWATCH_SELECTION_DATA)}componentDidMount(){super.componentDidMount(),this.props.actionDispatcher&&(0,te.dispatchDgAction)(ie.A.VIEW_SIMILAR_SWIPE_LIST,this.props.actionDispatcher)}static getWidgetHeight(e){const t=(0,o.nS)(e.widgetSlotData),i=t&&t.data;if(!i)return 0;const n=i.renderableComponents;if(!n||0===n.length)return 0;const r=n.length>1?n[1].value:n[0].value;return 76+this.getProductCardHeight(r)+a.A.getAdditionalHeight(e)}static getProductCardHeight(e){if(!e)return 0;let t=40;return e.rating&&(t+=22),e.snippets&&(t+=22),e.deliveryCallout&&(t+=22),e.addToCartAction&&(t+=50),387+t+8+20+16}renderWidget(){const e=(0,o.nS)(this.props.widgetSlotData),t=e&&e.data;if(!t)return;const i=t.renderableComponents;if(!i||0===i.length)return;const n="android"===r.Platform.OS,a="web"===r.Platform.OS;return u.createElement(c.fv,null,this._renderDismissButton(),a?u.createElement(Z.A,{ref:this._carouselRef,data:i,renderItem:this._renderItem,itemWidth:this.ITEM_WIDTH,sliderWidth:Math.round(this.props.appContext.uiContext.windowFrame.width),activeSlideAlignment:"center",firstItem:1,inactiveSlideScale:this.INACTIVE_SLIDE_SCALE,style:this.carouselStyle,centerAlignWithoutLoop:!0,inactiveSlideTransform:Q(this.ITEM_WIDTH,this.INACTIVE_SLIDE_SCALE),customInterploatedSlide:!0}):u.createElement(q.Ay,{ref:this._carouselRef,data:i,renderItem:this._renderItem,itemWidth:this.ITEM_WIDTH,sliderWidth:Math.round(this.props.appContext.uiContext.windowFrame.width),activeSlideAlignment:"center",firstItem:1,inactiveSlideOpacity:this.INACTIVE_SLIDE_OPACITY,loop:!0,inactiveSlideScale:this.INACTIVE_SLIDE_SCALE,enableMomentum:!n,removeClippedSubviews:!1,scrollInterpolator:K,slideInterpolatedStyle:J,containerCustomStyle:V.C1.margin_top_24}))}renderDivider(){}}class re extends n.A{getWidgetClass(e){return"SWIPEABLE_POPUP"===o.KJ(e.widgetSlotData)?ne:A}getWidgetHeight(e){return"SWIPEABLE_POPUP"===o.KJ(e.widgetSlotData)?ne.getWidgetHeight(e):A.getWidgetHeight()}}},599547:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(918210),r=i(90513),a=i(229833);class o{handleAction(e,t,i){const o={};return a.A.addEvent(o,r.fM.EVENT231),n.A.addPageData(o),!0}}},602715:(e,t,i)=>{"use strict";i.d(t,{h:()=>O});var n=i(296540),r=i(45426),a=i(302019),o=i(201159),s=i(257246),l=i(879052);class d{constructor(e){this.upVoteStyle={flexDirection:"row",alignItems:"center",mr:"s3"},this.downVoteStyle={flexDirection:"row",alignItems:"center"}}}const c=a.az.extendComponent({name:"VotesContainer",defaultProps:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"space-between",my:"s2"}}),u=a.eH.extendComponent({name:"VotesContainer",defaultProps:{mr:"s5",pv:"s5",borderRadius:15,borderWidth:1,borderColor:"raw.grey.200",justifyContent:"center",alignItems:"center"}}),h=a.JU.extendComponent({name:"VotesContainer",defaultProps:e=>{var t,i;const n=null!==(t=(0,s.o0)(e.themeContext))&&void 0!==t?t:"primary.main",r=null!==(i=(0,s.n6)(e.themeContext))&&void 0!==i?i:"text.secondary";return{font:"s_medium",color:e.selected?n:r,ml:"s2"}}}),p=a.ov.extendComponent({name:"KebabContainer",defaultProps:{width:36}});class g extends n.PureComponent{constructor(e,t){super(e,t),this.isEligibleToShowCount=e=>{const t=Number(e);return!!isNaN(t)||t>0},this.state=this._getDerivedState(e)}UNSAFE_componentWillReceiveProps(e,t){this.props.reportAbuseVisible!==e.reportAbuseVisible&&this.setState(this._getDerivedState(e))}render(){return n.createElement(c,null,n.createElement(a.az,{flexDirection:"row"},this.renderUpvoteView(),this.renderDownvoteView()),n.createElement(a.az,null,this.props.reportAbuseVisible&&n.createElement(r.S,Object.assign({},(0,l.Z)("Kebab_Menu_Icon"),{onPress:this.props.didShowMenuHandler,disableFeedback:!0}),n.createElement(p,null,n.createElement(o.Wq,{color:"text.secondary",size:12})))))}_getDerivedState(e){return{viewModel:new d(e)}}renderUpvoteView(){return n.createElement(r.S,{onPress:this.props.isUpvoteEnabled?void 0:this.props.didUpvoteHandler,disableFeedback:!0},n.createElement(u,Object.assign({},(0,l.Z)("UpVoteWithCountContainer"),{borderColor:this.props.isUpvoteEnabled?this.getSelectedBorderColor():this.getDefaultBorderColor()}),n.createElement(a.az,Object.assign({},(0,l.Z)("Helpful_Count_Container"),{padding:"s3",flexDirection:"row",alignItems:"center"}),n.createElement(o.Ge,Object.assign({},(0,l.Z)("Thumbs_Up_Icon"),{size:16,color:this.props.isUpvoteEnabled?this.getSelectedIconBorderColor():this.getDefaultIconBorderColor(),fill:this.props.isUpvoteEnabled?this.getSelectedIconFillColor():this.getDefaultIconFillColor()})),this.props.upVoteCount&&this.isEligibleToShowCount(this.props.upVoteCount)?n.createElement(h,Object.assign({},(0,l.Z)("Helpful_Count"),{selected:this.props.isUpvoteEnabled,themeContext:this.props.themeContext}),g.HELPFUL_FOR,this.props.upVoteCount):n.createElement(h,Object.assign({},(0,l.Z)("Helpful_Count"),{selected:this.props.isUpvoteEnabled,themeContext:this.props.themeContext}),g.HELPFUL))))}renderDownvoteView(){return n.createElement(r.S,{onPress:this.props.isDownvoteEnabled?void 0:this.props.didDownvoteHandler,disableFeedback:!0},n.createElement(u,Object.assign({},(0,l.Z)("DownVoteWithCountContainer"),{mr:this.props.reportAbuseVisible?"s1":void 0,borderColor:this.props.isDownvoteEnabled?this.getSelectedBorderColor():this.getDefaultBorderColor()}),n.createElement(a.az,Object.assign({padding:"s3"},(0,l.Z)("Down_Vote_Count_Container"),{flexDirection:"row",alignItems:"center"}),n.createElement(o.d2,Object.assign({},(0,l.Z)("Thumbs_Down_Icon"),{size:16,color:this.props.isDownvoteEnabled?this.getSelectedIconBorderColor():this.getDefaultIconBorderColor(),fill:this.props.isDownvoteEnabled?this.getSelectedIconFillColor():this.getDefaultIconFillColor()})),this.props.downVoteCount&&this.isEligibleToShowCount(this.props.downVoteCount)?n.createElement(h,Object.assign({},(0,l.Z)("Down_Vote_Count"),{selected:this.props.isDownvoteEnabled,themeContext:this.props.themeContext}),this.props.downVoteCount):null)))}getSelectedBorderColor(){var e;return null!==(e=(0,s.JU)(this.props.themeContext))&&void 0!==e?e:"raw.blue.500"}getDefaultBorderColor(){var e;return null!==(e=(0,s.n6)(this.props.themeContext))&&void 0!==e?e:"raw.grey.200"}getSelectedIconBorderColor(){var e;return null!==(e=(0,s.JU)(this.props.themeContext))&&void 0!==e?e:"raw.blue.500"}getDefaultIconBorderColor(){var e;return null!==(e=(0,s.n6)(this.props.themeContext))&&void 0!==e?e:"raw.grey.400"}getSelectedIconFillColor(){var e;return null!==(e=(0,s.qU)(this.props.themeContext))&&void 0!==e?e:"raw.blue.100"}getDefaultIconFillColor(){var e;return null!==(e=(0,s.qU)(this.props.themeContext))&&void 0!==e?e:"common.white"}}g.HELPFUL_FOR="Helpful for ",g.HELPFUL="Helpful",g.defaultProps={reportAbuseVisible:!0,isDownvoteEnabled:!0,isUpvoteEnabled:!0};var m,v,_=i(877293),C=i(313169),E=i(410752),T=i(420721),f=i(352254);!function(e){e.CERTIFIED_BUYER="CERTIFIED_BUYER",e.EXPERT_REVIEW="EXPERT_REVIEW",e.CORE_REVIEW="CORE_REVIEW",e.SELLER="SELLER",e.VERIFIED_BUYER="VERIFIED_BUYER",e.VERIFIED_PURCHASE="VERIFIED_PURCHASE"}(v||(v={}));const A=a.eH.extendComponent({name:"AuthorNameViewContainer",defaultProps:{alignItems:"flex-start",height:20}}),S=a.eH.extendComponent({name:"AuthorNameView",defaultProps:{height:20,flex:1,justifyContent:"flex-start"}}),y=null===(m=null===_.NativeModules||void 0===_.NativeModules?void 0:_.NativeModules.DesktopClientInfo)||void 0===m?void 0:m.isDesktopClient,w=a.JU.extendComponent({name:"AuthorLabel",defaultProps:({labelColor:e})=>({color:e||"raw.grey.300",font:y?"s":"m",maxWidth:y?void 0:96,textAlign:"center",pb:"s1",mt:"s1",numberOfLines:y?void 0:1,ellipsizeMode:"tail",flexShrink:1})}),I=a.JU.extendComponent({name:"LocationLabel",defaultProps:({labelColor:e})=>({color:e||"raw.grey.300",font:y?"s":"m",textAlign:"center",maxWidth:y?void 0:156,pr:"s3",pb:"s1",mt:"s1",numberOfLines:y?void 0:1})}),b=a.JU.extendComponent({name:"LocationLabel",defaultProps:{color:"raw.grey.300",font:"m",textAlign:"center",maxWidth:156,pr:"s3",pb:"s1",mt:"s1",numberOfLines:1}}),D=a.az.extendComponent({name:"AuthorCityLabel",defaultProps:{flexDirection:"row",width:"100%"}}),x=a.az.extendComponent({name:"UGCcontainer",defaultProps:{flexDirection:"column",justifyContent:"space-between"}});class P{constructor(e){this.isCertifiedBuyer=!1,this.isFlipkartSeller=!1,this.isExpert=!1,this.isVerifiedBuyer=!1,this.isVerifiedPurchase=!1,this.isAuthorTagAvailable=!1,e.reviewPropertyMap&&(this.isCertifiedBuyer=!!e.reviewPropertyMap.CERTIFIED_BUYER,this.isExpert=!!e.reviewPropertyMap.EXPERT_REVIEW||!!e.reviewPropertyMap.CORE_REVIEW,this.isFlipkartSeller=!!e.reviewPropertyMap.SELLER,this.isVerifiedBuyer=!!e.reviewPropertyMap.VERIFIED_BUYER,this.isVerifiedPurchase=!!e.reviewPropertyMap.VERIFIED_PURCHASE),this.isAuthorTagAvailable=this.isCertifiedBuyer||this.isExpert||this.isFlipkartSeller||this.isVerifiedBuyer||this.isVerifiedPurchase,e.created&&(this.createdString=this.isAuthorTagAvailable?"  "+e.created:e.created)}}class O extends n.PureComponent{constructor(e,t){super(e,t),this.FLIPKART_SELLER_TEXT={text:(0,T.ak)(this.context.locale,{id:E.H.rex_string_reviews_constants_FLIPKART_SELLER}),style:C.z.footerText},this.CERTIFIED_BUYER_TEXT={text:(0,T.ak)(this.context.locale,{id:E.H.rex_string_reviews_constants_CERTIFIED_BUYER}),style:C.z.footerText},this.VERIFIED_BUYER_TEXT={text:(0,T.ak)(this.context.locale,{id:E.H.rex_string_Verified_Buyer}),style:C.z.footerText},this.VERIFIED_PURCHASE_TEXT={text:(0,T.ak)(this.context.locale,{id:E.H.rex_string_VERIFIED_PURCHASE}),style:C.z.footerText},this.EXPERT_TEXT={text:(0,T.ak)(this.context.locale,{id:E.H.rex_string_reviews_constants_EXPERT}),style:C.z.footerText},this.state=this._getDerivedState(e)}UNSAFE_componentWillReceiveProps(e,t){this.setState(this._getDerivedState(e))}render(){const e=this.props.location&&this.props.location.city,t=e&&`, ${e}`,i=this.props.userBadge;return n.createElement(x,null,this.props.authorName&&n.createElement(A,null,n.createElement(S,null,n.createElement(D,null,n.createElement(w,Object.assign({},(0,l.Z)("Swatch_Review_Author"),{labelColor:(0,s.n6)(this.props.themeContext)}),this.props.authorName),t?n.createElement(I,Object.assign({},(0,l.Z)("Swatch_Review_Location"),{labelColor:(0,s.n6)(this.props.themeContext)}),t):null,i?this.getAuthorBadge(i):null))),!this.props.hideVotes&&n.createElement(g,{didShowMenuHandler:this.props.didShowMenuHandler,downVoteCount:this.props.downVoteCount,upVoteCount:this.props.upVoteCount,isDownvoteEnabled:this.props.isDownvoteEnabled,isUpvoteEnabled:this.props.isUpvoteEnabled,didDownvoteHandler:this.props.didDownvoteHandler,didUpvoteHandler:this.props.didUpvoteHandler,reportAbuseVisible:this.props.reportAbuseVisible,themeContext:this.props.themeContext}),this.state.viewModel.isAuthorTagAvailable&&n.createElement(a.az,{height:10,my:"s2"},this.getAuthorTags(this.state.viewModel)))}getAuthorTags(e){const t=(0,s.n6)(this.props.themeContext);return n.createElement(a.fI,null,e.isCertifiedBuyer&&n.createElement(R,{text:this.CERTIFIED_BUYER_TEXT.text,color:t}),e.isVerifiedBuyer&&n.createElement(R,{text:this.VERIFIED_BUYER_TEXT.text,color:t}),e.isVerifiedPurchase&&n.createElement(R,{text:this.VERIFIED_PURCHASE_TEXT.text,color:t}),e.isExpert&&n.createElement(R,{text:this.EXPERT_TEXT.text,color:t}),e.isFlipkartSeller&&n.createElement(R,{text:this.FLIPKART_SELLER_TEXT.text,color:t}),e.createdString&&n.createElement(a.JU,Object.assign({},(0,l.Z)("Posted_Ago"),{font:"s",color:null!=t?t:"raw.grey.300",alignSelf:"center",numberOfLines:1}),e.createdString))}getAuthorBadge(e){const t=e.value,i=(null==t?void 0:t.badgeColor)?null==t?void 0:t.badgeColor:"raw.grey.300",r=null==t?void 0:t.badgeImage,o=(null==r?void 0:r.height)?null==r?void 0:r.height:12,s=(null==r?void 0:r.width)?null==r?void 0:r.width:12;return n.createElement(a.SB,{onPress:this.props.didBadgeClickHandler,disableFeedback:!0},n.createElement(a.fI,{alignItems:"center",justifyContent:"flex-start"},n.createElement(a.az,{mr:"s2"},n.createElement(f.A,{source:null==r?void 0:r.dynamicImageUrl,height:o,width:s,resizeMode:"contain"})),(null==t?void 0:t.badgeTitle)?n.createElement(b,{color:i},t.badgeTitle):null))}_getDerivedState(e){return{viewModel:new P(e)}}}function R(e){var t;const i=e.text;return n.createElement(a.fI,Object.assign({},(0,l.Z)("Author_Tag"),{alignItems:"center",justifyContent:"flex-start"}),n.createElement(a.az,{mr:"s2",my:"s1"},n.createElement(o.So,Object.assign({},(0,l.Z)("Author_Tag_Certified_Icon"),{size:12}))),n.createElement(a.JU,Object.assign({},(0,l.Z)("Author_Tag_Text"),{font:"s",color:null!==(t=e.color)&&void 0!==t?t:"raw.grey.300"}),i))}O.contextType=T.V8},608580:(e,t,i)=>{"use strict";i.d(t,{V:()=>r});var n=i(800303);const r=n.DlsStyleSheet.create({titleText:{color:n.Color.rawColor("#111112"),font:n.Font.regularSize,marginTop:4,lineHeight:20},tagParentStyle:{flex:1,flexDirection:"row",flexWrap:"wrap",marginTop:8,alignSelf:"flex-start",marginBottom:-8},chevronImage:{height:12,width:12,alignSelf:"center",resizeMode:"contain",marginLeft:5},productOfferV2Style:{paddingBottom:8,paddingTop:8,flex:1,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},asmMessage:{flex:1,flexWrap:"wrap",color:n.Color.rawColor("#C70055"),lineHeight:20,font:n.Font.regularSizeMediumWeight,marginTop:8},urgencyViewAnimatedGradientStyle:{width:20,height:13}})},610167:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>We});var n=i(465420),r=i(52754),a=i(296540),o=i(877293),s=i(302019);const l=s.az.extendComponent({name:"Header",defaultProps:{p:"s6"}}),d=s.JU.extendComponent({name:"Title",defaultProps:{font:"l_medium",mb:"s2",color:"text.primary"}}),c=s.JU.extendComponent({name:"TitleCallout",defaultProps:{font:"s_medium",color:"common.white",px:"s2",borderRadius:2,ml:"s4"}}),u=s.JU.extendComponent({name:"RTOSubTitle",defaultProps:{p:"s5",bg:"v2.neutral.50",pb:"s4",font:"s",flex:1}}),h=s.JU.extendComponent({name:"RTOSubTitleHyperLink",defaultProps:{font:"s_medium",color:"v2.primary.500"}}),p=s.az.extendComponent({name:"RTODescription",defaultProps:{p:"s5",bg:"v2.neutral.50",flex:1,flexDirection:"row",alignItems:"flex-start"}}),g=s.az.extendComponent({name:"RTODescriptionItem",defaultProps:{flex:1,px:"s2",flexDirection:"column",justifyContent:"center",alignItems:"center"}}),m=s.JU.extendComponent({name:"RTODescriptionItemTitle",defaultProps:{textAlign:"center",mt:"s4",mb:"s2",font:"s_medium"}}),v=s.JU.extendComponent({name:"RTODescriptionItemSubTitle",defaultProps:{textAlign:"center",font:"s",color:"v2.neutral.700"}}),_=s.az.extendComponent({name:"RTOFooter",defaultProps:{p:"s5",flex:1,flexDirection:"row",alignItems:"flex-start"}}),C=s.az.extendComponent({name:"RTOPricingBox",defaultProps:{flex:1,flexDirection:"row"}}),E=s.JU.extendComponent({name:"RTOPricingLabel",defaultProps:{font:"s"}}),T=s.fI.extendComponent({name:"RTOActionButton",defaultProps:{py:"s3",font:"m_medium",alignItems:"center",borderRadius:4,borderWidth:1}});var f=i(45426),A=i(415283),S=i(352254),y=i(876380),w=i(816158),I=i(4880),b=i(876505),D=i(272625),x=i(337497),P=i(46277),O=i(670563),R=i(887261),k=i(320071),V=i(201159),L=i(985234),M=i(410752),N=i(938777),H=i(163256),W=i(311676),B=i(537415),U=i(800683),F=i(927443),G=i(322392),z=i(914944),j=i(420721),X=i(690423);class Y extends H.o{renderWidget(){}constructor(e,t){var i,n;super(e,t),this._getPlanWithCompositeListings=(e,t)=>{const i=this._getPlanAsMutualExclusion(t,e),n=this._getCompositeListings(e,t);return i&&(i.compositeListings=n),i},this._dispatchAttachAction=(e,t)=>{if(!this.props.actionDispatcher)return;const i=t?new I.A(e):new I.A(void 0,e);this.props.actionDispatcher({type:A.Q3.ATTACH_ACTION,payload:i})},this._handleRTOActionButtonClickTracking=(e,t,i)=>{this.getVASTrackingPayload(x.A.VAS_WIDGET_CLICK,t||0,i||0,e)},this.howItWorks=(e,t)=>{this.dispatchAction(A.Q3.MAPI_ACTION,new z.rs(t))},this._getButtonText=(e,t,i)=>{const{locale:n}=this.props.appContext,r=e?t||M.H.rex_string_REMOVE:i||M.H.rex_string_ADD;return this._capitalize((0,j.ak)(n,{id:r}))},this.renderTitle=e=>{var t,i,n,r,o,u;const h=e.titles.title,p=null===(i=null===(t=e.bannerContent)||void 0===t?void 0:t.value)||void 0===i?void 0:i.title,g=null===(r=null===(n=e.bannerContent)||void 0===n?void 0:n.value)||void 0===r?void 0:r.backgroundColor,m=null===(u=null===(o=e.bannerContent)||void 0===o?void 0:o.value)||void 0===u?void 0:u.formattedAnnouncement;if(h)return a.createElement(l,null,a.createElement(s.xM,{alignItems:"center"},a.createElement(d,null,h),p&&p.length>0&&a.createElement(c,{style:{backgroundColor:g}},p)),m&&(null==m?void 0:m.length)&&a.createElement(s.az,{mt:"s2"},a.createElement(s.JU,null,m.map((e=>{var t;return a.createElement(s.JU,{font:(null===(t=e.style)||void 0===t?void 0:t.fontWeight)?"s_medium":"s"},e.text)})))))},this._isInterstitialPage="BOTTOM_SHEET"===(null===(n=null===(i=e.widgetSlotData.slotData.widget)||void 0===i?void 0:i.tracking)||void 0===n?void 0:n.pageType),this.state=this.getDerivedState(e,void 0)}static getWidgetHeight(){return 342}componentDidMount(){this.updateTransientDataFromState(this.props,this.state)}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.updateTransientDataFromState(this.props,this.state)}shouldComponentUpdate(e,t,i){return this.state.tickerData!==t.tickerData||this.state.isProductPlanSelected!==t.isProductPlanSelected||this.state.prevExistingAddOns!==t.prevExistingAddOns}getAggregatedCartData(e){const t={},{price:i,category:n,parentProduct:r,widgetContext:a,title:o,tracking:s,freebie:l,compositeListings:d}=e;if(d&&d.length>0)for(const e of d){const{abbListingId:d,abbProductId:c}=e,u=X.A.generateTransientDataKey(c),h={};h.listingId=d,h.freebieItem=l,h.aggregatedCartContext=X.A.createCartContext(c,i,s,o,!1,!1,a.widgetType,n,r.productId,r.listingId),t[u]=h}return t}checkIfRelaventCartItemsChanged(e,t,i,n){var r,a;const o=null===(r=e.appContext.userManager)||void 0===r?void 0:r.getCartContents(),s=t.cartData;if(void 0===o&&void 0===s)return!1;let l=!1;const d=o?Object.keys(o).sort():[],c=s?Object.keys(s).sort():[],u=this._getCompositeListings(i,n),h=null===(a=this._getParentProductContext())||void 0===a?void 0:a.listingId;return l=!!h&&d.includes(h)!==c.includes(h),!!l||(u&&u.forEach((({abbListingId:e})=>{d.includes(e)!==c.includes(e)&&(l=l||!0)})),l)}_hasABBTransientDataChanged(e,t,i){var n,r,a,o,s,l,d,c;const u=null===(o=null===(a=null===(r=null===(n=this.props.pageInfo)||void 0===n?void 0:n.pageTransientData)||void 0===r?void 0:r.data)||void 0===a?void 0:a[L.V.ABB])||void 0===o?void 0:o.mutualExclusion,h=null===(c=null===(d=null===(l=null===(s=e.pageInfo)||void 0===s?void 0:s.pageTransientData)||void 0===l?void 0:l.data)||void 0===d?void 0:d[L.V.ABB])||void 0===c?void 0:c.mutualExclusion;if(void 0===u&&void 0===h)return!1;let p=!1;const g=u?Object.keys(u).sort():[],m=h?Object.keys(h).sort():[],v=this._getCompositeListings(t,i);return v&&v.forEach((({abbProductId:e})=>{g.includes(e)!==m.includes(e)&&(p=p||!0)})),p}isProductRemovedFromCartOrTransientData(e,t,i,n,r,a,o){var s,l,d,c,u,h,p,g,m;const v=this._getCompositeListings(i,n),_=null==v?void 0:v[o].abbListingId,C=null==v?void 0:v[o].abbProductId,E=null===(s=e.appContext.userManager)||void 0===s?void 0:s.getCartContents(),T=t.cartData,f=null===(u=null===(c=null===(d=null===(l=e.pageInfo)||void 0===l?void 0:l.pageTransientData)||void 0===d?void 0:d.data)||void 0===c?void 0:c[L.V.ABB])||void 0===u?void 0:u.mutualExclusion,A=null===(m=null===(g=null===(p=null===(h=this.props.pageInfo)||void 0===h?void 0:h.pageTransientData)||void 0===p?void 0:p.data)||void 0===g?void 0:g[L.V.ABB])||void 0===m?void 0:m.mutualExclusion,S=A?Object.keys(A).sort():[],y=f?Object.keys(f).sort():[];return r?!(!_||!T[_]||E[_]):!!a&&!(!C||!S.includes(C)||y.includes(C))}updateTransientDataFromState(e,t){}isParentRemovedFromCartOrAddedToCart(e,t){var i;const n=null===(i=this._getParentProductContext())||void 0===i?void 0:i.listingId;return(!!t&&n&&!!t.cartData[n])!==(n&&e.appContext.userManager.isLIDInCart(n))}_getParentProductContext(){const e=(0,r.xH)(this.props.widgetSlotData);return e&&e.parentContext}_getPlan(e,t){var i;const n=this._getProduct(e);return null===(i=null==n?void 0:n.value)||void 0===i?void 0:i.planDetails[t]}_getProduct(e){const t=(0,r.nS)(this.props.widgetSlotData),i=null==t?void 0:t.data,n=null==i?void 0:i.products;return null==n?void 0:n[e]}_getCompositeListings(e,t){const i=this._getPlan(e,t);return null==i?void 0:i.compositeListings}_getPlanAsMutualExclusion(e,t){var i,n,a,o,s,l;const d=this._getProduct(t);if(d){const c=(null===(i=d.value)||void 0===i?void 0:i.childProductIdentifier)||[],u=this._getPlan(t,e),h=this._getProductTracking(e,t),p=this._getParentProductContext(),g=(0,r.nS)(this.props.widgetSlotData),m=(0,r.KJ)(this.props.widgetSlotData)||"";if(u&&p){return{productId:u.abbProductId,listingId:u.abbListingId,selected:!0,childProductIdentifier:c,category:u.digitalType,tracking:d.tracking||{},title:(null===(n=d.value)||void 0===n?void 0:n.titles.title)||"",freebie:(null===(a=d.value)||void 0===a?void 0:a.freebie)||!1,price:(null===(o=u.pricing)||void 0===o?void 0:o.finalPrice.value)||0,location:{planIndex:e,cardIndex:t,index:this.props.index,slotBehavior:this.props.widgetSlotData.behaviour},parentProduct:{productId:p.productId,listingId:p.listingId||""},widgetContext:{isDefaultAddedViewType:!1,viewType:m,widgetType:g.type,pageType:(null===(l=null===(s=this.props.pageInfo)||void 0===s?void 0:s.pageContext)||void 0===l?void 0:l.type)||""},trackingParams:h}}}}_getProductTracking(e,t){var i,n,r,a,o,s;const l=this._getPlan(t,e),d=null===(i=null==l?void 0:l.subtitle)||void 0===i?void 0:i.text,c=this._getParentProductContext();let u;if(d){const e=d.split(/\s/g);"Year"===e[1]?u=12*Number(e[0]):"Months"===e[1]&&(u=Number(e[0]))}const h=this._getProduct(t),{socialMarketingId:p,parentListingId:g,pageType:m,widgetType:v,viewType:_}=(null==h?void 0:h.tracking)||{},C=this.getFetchId()||(null===(o=null===(a=null===(r=null===(n=this.props.pageInfo)||void 0===n?void 0:n.pageContext)||void 0===r?void 0:r.fdpEventTracking)||void 0===a?void 0:a.commonContext)||void 0===o?void 0:o.fid);return l?{productId:l.abbProductId,listingId:l.abbListingId,finalPrice:null===(s=l.pricing)||void 0===s?void 0:s.finalPrice.value,fid:C,isAlreadyAttached:this.state.isProductPlanSelected,socialMarketingId:p,parentListId:g||(null==c?void 0:c.listingId),userState:P.Ic.Collapse,attachType:N.IRM.Digital,planTerm:u,modifiedNavigationContext:{pageType:m,pageName:`${m}_${g}_${v}_${_}`}}:{}}getVASTrackingPayload(e,t,i,n,r,a,o,s){var l,d;const c=this._getPlan(i,t);if(!c)return;const u=this._getProduct(i),{parentListingId:h,instanceId:p,fetchId:g,userState:m,planTerm:v,pageType:_,widgetType:C,viewType:E}=(null==u?void 0:u.tracking)||{},T={pageType:_,pageName:`${_}_${h}_${C}_${E}`};let f;switch(e){case x.A.VAS_WIDGET_CLICK:f=new W.dX2(p,g,r||c.abbProductId,a||c.abbListingId,n,o||(null===(d=null===(l=c.pricing)||void 0===l?void 0:l.finalPrice)||void 0===d?void 0:d.value),m||P.Ic.Expanded,h,s||N.IRM.VirtualCombo,Number(v),T);break;case x.A.VAS_WIDGET_IMPRESSION:f=new W.uXZ(p,g,r||c.abbProductId,a||c.abbListingId,m,h,void 0,s||N.IRM.RTO,void 0,T);break;default:f=void 0}return f&&this.props.actionDispatcher&&this.props.actionDispatcher(new W.ax6(f)),f}_showDefaultedOptedError(){const e=[],t={value:{enabled:!1,title:"Ok",type:"AbbActionValue"},action:{loginType:B.G.LOGIN_NOT_REQUIRED,type:A.Q3.POPUP_DISMISS,params:{},tracking:{}}};e.push(t);const i={data:{subtitle:"Click on Continue below to review your purchase and remove items that you may not need before placing the order.",flatView:!1,actions:e,tracking:{}},type:"ABB_POPUP"};this.props.actionDispatcher&&U.A.handleAction(i,A.Q3.SHOW_POPUP,this.props.actionDispatcher)}_showAbbPopup(e,t,i){var n,r;const a=(0,F.h2)(e),o=a.data.actions.find((e=>{var t;return(null===(t=e.action)||void 0===t?void 0:t.type)===G.X.CART_REMOVE}));o&&(null===(n=o.action)||void 0===n?void 0:n.params)&&(o.action.params={remove:t},i&&(o.action.params.add=i,o.action.params.snackBar=null===(r=o.value)||void 0===r?void 0:r.snackBar)),this.props.actionDispatcher&&U.A.handleAction(a,A.Q3.SHOW_POPUP,this.props.actionDispatcher)}_capitalize(e){return e.length>0?e[0].toUpperCase()+e.slice(1).toLowerCase():e}getAddOns(e,t){var i,n,a;const o=null===(i=(0,r.nS)(e.widgetSlotData))||void 0===i?void 0:i.data,s=null===(a=null===(n=null==o?void 0:o.products)||void 0===n?void 0:n[t])||void 0===a?void 0:a.value;return null==s?void 0:s.addOns}}var q=i(700036);class J extends Y{constructor(e,t){super(e,t),this.handleActionButton=e=>{const{actionButton:t}=null==e?void 0:e.planDetails[0],i=null==t?void 0:t.value,n=this.state.isProductPlanSelected,r=n?"raw.blue.50":"v2.neutral.0",o=n?"s5":"s9",l=n?"s2":"s0",d=n?this._showPopup:this._showSnackbar;return a.createElement(f.S,{onPress:d,onPressParam:i,disableFeedback:!0},a.createElement(T,{bg:r,borderColor:"v2.primary.500",px:o},n?a.createElement(V.F5,{size:16}):null,a.createElement(s.JU,{ml:l,color:"v2.primary.500",font:"m_medium"},this._getButtonText(n))))},this.renderRTOSubtitle=e=>{const t=e.titles.subtitle,i=e.hyperlink;return a.createElement(u,null,null==t?void 0:t.concat(" "),i?a.createElement(k.A,{onTextPress:this.howItWorks,onPressParam:null==i?void 0:i.action,style:this.rtoStyles.howItWorksTextStyle},a.createElement(h,null,null==i?void 0:i.text)):null)},this.renderRTODescription=e=>{const t=e.desriptionText;return t?a.createElement(p,null,t&&t.map(((e,t)=>{var i,n,r;const o=null==e?void 0:e.value;return a.createElement(g,{key:t},(null==o?void 0:o.imageValue)?a.createElement(S.A,{source:null===(i=null==o?void 0:o.imageValue)||void 0===i?void 0:i.dynamicImageUrl,width:(null===(n=null==o?void 0:o.imageValue)||void 0===n?void 0:n.width)||36,height:(null===(r=null==o?void 0:o.imageValue)||void 0===r?void 0:r.height)||36}):null,a.createElement(m,null,null==o?void 0:o.title),a.createElement(v,null,null==o?void 0:o.subTitle))}))):null},this.renderRTOPricing=e=>{var t,i,n;const{pricing:r,cumulativePricing:o}=null==e?void 0:e.planDetails[0],l=null==o?void 0:o.rtoListingPrice,d=null==o?void 0:o.handlingChargesListingPrice;return a.createElement(s.az,null,r?a.createElement(s.JU,{font:"l_medium",mb:"s2"},a.createElement(y.Ay,{price:r.finalPrice.value,strikeoff:r.finalPrice.strikeOff})):null,l?a.createElement(C,null,a.createElement(y.Ay,{price:null===(t=null==l?void 0:l.finalPrice)||void 0===t?void 0:t.value,strikeoff:null===(i=null==l?void 0:l.finalPrice)||void 0===i?void 0:i.strikeOff,textStyle:this.rtoStyles.rtoPricingTextStyle}),a.createElement(E,null," ",null===(n=null==l?void 0:l.finalPrice)||void 0===n?void 0:n.name)):null,(null==d?void 0:d.finalPrice)&&(null==d?void 0:d.mrp)?a.createElement(C,null,a.createElement(E,{mr:"s2"},"+"),a.createElement(y.Ay,{price:d.finalPrice.value,strikeoff:d.finalPrice.strikeOff,textStyle:this.rtoStyles.rtoPricingTextStyle}),d.totalDiscount&&d.mrp.value?a.createElement(s.az,{flexDirection:"row"},a.createElement(y.Ay,{price:d.mrp.value,strikeoff:d.mrp.strikeOff,hideRupee:!0,textStyle:this.rtoStyles.rtoPricingTextStyle}),a.createElement(E,{color:"v2.success.500",ml:"s1",mr:"s2"},d.totalDiscount,"% off")):null,a.createElement(E,null,d.finalPrice.name)):null)},this.renderRTOFooter=e=>a.createElement(_,null,a.createElement(s.az,{flex:3},this.renderRTOPricing(e)),a.createElement(s.az,null,this.handleActionButton(e))),this._showPopup=(e,t)=>{var i;if(!t)return;const n=this._getPlanWithCompositeListings(0,0);if(!(null===(i=this._getProduct(0))||void 0===i?void 0:i.value))return;const r=this._getPlan(0,0),a=!!(null==r?void 0:r.selected);this._isInterstitialPage&&a?this._showDefaultedOptedError():t.popupDetails&&n&&this._showAbbPopup&&(this._showAbbPopup(t.popupDetails,n),this._handleRTOActionButtonClickTracking(P.Xm.RemoveRTOClick,0,0))},this._showSnackbar=(e,t)=>{var i,n;if(!t)return;const r=null===(n=null===(i=t.snackBar)||void 0===i?void 0:i.title.value)||void 0===n?void 0:n.text;if(r&&this.props.actionDispatcher){const e={message:r,design:0,type:0},t=this._getPlanWithCompositeListings(0,0);this.props.actionDispatcher({type:A.Q3.ATTACH_ACTION,payload:new I.A(t)}),this.props.actionDispatcher(new w.n(e)),this._handleRTOActionButtonClickTracking(P.Xm.AddRTOClick)}},this.rtoStyles=o.StyleSheet.create({rtoPricingTextStyle:{fontSize:12,fontFamily:R.A$,lineHeight:18},howItWorksTextStyle:{fontFamily:R.$u,includeFontPadding:!1,fontSize:12,color:O.Cf.fkButtonDarkBlueColor,marginBottom:16}}),this.state=this.getDerivedState(e,void 0)}static getWidgetHeight(){return 220}shouldStateUpdate(e,t){return this.checkIfRelaventCartItemsChanged(e,this.state,0,0)||this._hasABBTransientDataChanged(e,0,0)}getDerivedState(e,t){var i,n,r,a,o;const s=super.getDerivedState(e,t);let l=!1;t&&(l=t.isProductPlanSelected);const d=null===(i=this._getParentProductContext())||void 0===i?void 0:i.listingId,c=d&&void 0!==s.cartData[d],u=this._getPlan(0,0),h=t&&this.checkIfRelaventCartItemsChanged(e,t,0,0),p=this._hasABBTransientDataChanged(e,0,0);if(!t||h&&!this._isInterstitialPage){const e=!!(null==u?void 0:u.selected),t=!!u&&void 0!==s.cartData[u.abbListingId];!c||this._isInterstitialPage?l=e:c&&!this._isInterstitialPage&&(l=t)}else if(p){const t=null===(o=null===(a=null===(r=null===(n=e.pageInfo)||void 0===n?void 0:n.pageTransientData)||void 0===r?void 0:r.data)||void 0===a?void 0:a[L.V.ABB])||void 0===o?void 0:o.mutualExclusion,i=!!u&&void 0!==s.cartData[u.abbListingId];!t||c&&!this._isInterstitialPage?c&&(l=i):l=!!u&&(null==u?void 0:u.abbProductId)in t}return Object.assign(Object.assign({},s),{isProductPlanSelected:l})}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i)||this._hasABBTransientDataChanged(e,0,0)}updateTransientDataFromState(e,t){var i,n,a,o;let s=this._getPlanWithCompositeListings(0,0);if(!(null==s?void 0:s.compositeListings))return;if(!this.props.actionDispatcher)return;const l=null===(o=null===(a=null===(n=null===(i=e.pageInfo)||void 0===i?void 0:i.pageTransientData)||void 0===n?void 0:n.data)||void 0===a?void 0:a[L.V.ABB])||void 0===o?void 0:o.mutualExclusion,d=!!l&&(null==s?void 0:s.productId)in l,c=t.isProductPlanSelected,u=(0,r.KJ)(this.props.widgetSlotData);if(u&&!this._isInterstitialPage){q.A.clearKey(u);const e=this._getParentProductContext();if(c&&e){const t={[e.productId]:this.getAggregatedCartData(s)};q.A.setObject(u,t)}}if(d&&!c){const e=new I.A(void 0,s);this.props.actionDispatcher({type:A.Q3.ATTACH_ACTION,payload:e})}else if(c&&!d){const e=new I.A(s);this.props.actionDispatcher({type:A.Q3.ATTACH_ACTION,payload:e})}}renderWidget(){var e;const t=(0,r.nS)(this.props.widgetSlotData),i=null==t?void 0:t.data,n=null==i?void 0:i.products,o=null===(e=null==n?void 0:n[0])||void 0===e?void 0:e.value;if(t&&i&&o)return a.createElement(b.A,{trackingConfig:(0,D.G3)(),onViewStarted:()=>{this.getVASTrackingPayload(x.A.VAS_WIDGET_IMPRESSION,0,0)}},this.renderTitle(o),a.createElement(s.az,{borderColor:"v2.neutral.300",borderWidth:1,mx:"s6",mb:"s6"},this.renderRTOSubtitle(o),this.renderRTODescription(o),this.renderRTOFooter(o)))}}var K=i(778988),Q=i(492418);class Z extends Y{constructor(e,t){super(e,t),this.renderInsuranceHeader=({desriptionText:e,hyperlink:t})=>{var i,n,r,o;const l=null===(r=null===(n=null===(i=null==e?void 0:e[0])||void 0===i?void 0:i.value)||void 0===n?void 0:n.richTitles)||void 0===r?void 0:r[0];if(!l)return null;const{title:d,subtitle:c,description:u,image:p}=l;return a.createElement(s.az,{p:"s5",flex:1,flexDirection:"row",bg:"v2.neutral.50"},p&&p.dynamicImageUrl?a.createElement(S.A,{source:p.dynamicImageUrl,width:(null==p?void 0:p.width)||40,height:(null==p?void 0:p.height)||40,style:this.rtoInsuranceStyles.headerImage}):null,a.createElement(s.az,{flex:1},a.createElement(s.JU,{font:"m_medium",color:"v2.neutral.900",mb:"s2"},null==d?void 0:d.text),a.createElement(s.JU,{font:"s",color:"v2.neutral.700",mb:"s2"},null==c?void 0:c.text),a.createElement(s.JU,{font:"s",color:"v2.neutral.900"},null===(o=null==u?void 0:u.text)||void 0===o?void 0:o.concat(" "),t?a.createElement(k.A,{onTextPress:this.howItWorks,onPressParam:null==t?void 0:t.action,style:this.rtoInsuranceStyles.seePolicyBenefits},a.createElement(h,null,null==t?void 0:t.text)):null)))},this.renderInsuredValue=e=>a.createElement(s.az,{flex:1,flexDirection:"row",mb:"s6"},a.createElement(s.JU,{font:"m",color:"v2.neutral.900",mr:"s2"},e.additionalText),a.createElement(y.Ay,{price:e.value,strikeoff:e.strikeOff,textStyle:this.rtoInsuranceStyles.rtoPricing})),this.showAddOnSnackBar=(e,t)=>{var i,n;const r=this.getAddOns(this.props,0);if(r&&r.length>0){const a=null===(n=null===(i=r[t-1])||void 0===i?void 0:i.richTitles)||void 0===n?void 0:n[0],o={message:`${(null==a?void 0:a.title.text)||"Add On"} ${e?"removed from":"added to"} your Insurance`,design:0,type:0};this.props.actionDispatcher&&this.props.actionDispatcher(new w.n(o))}},this.handleAddOnClick=(e,t)=>{var i,n,r,a;const o=t[0];if(!o)return;const s=this.state.isProductPlanSelected;let l=this.state.tickerData;if(s){const e=this._getPlanWithCompositeListings(0,0),a=!!(null===(n=null===(i=this.getAddOns(this.props,0))||void 0===i?void 0:i[o-1].pricing)||void 0===n?void 0:n.selected);if(this._isInterstitialPage&&a)this._showDefaultedOptedError();else if(e&&(null==e?void 0:e.compositeListings)&&o>0&&o<(null===(r=e.compositeListings)||void 0===r?void 0:r.length)){const i=e.compositeListings[o],n=this.state.tickerData.addOns.has(i.abbProductId);if(n)e.compositeListings=[i];else{const t=e.compositeListings[0];e.compositeListings=[i,t]}this.setTickerData(this.updateTickerData(t,n?"remove":"add",l,{[i.abbProductId]:{abbProductId:i.abbProductId,abbListingId:i.abbListingId}},e.price)),this._dispatchAttachAction(e,!n),n?this.showAddOnSnackBar(!0,o):this.showAddOnSnackBar(!1,o)}}else{const e=this._getPlanWithCompositeListings(0,0);if(e&&(null==e?void 0:e.compositeListings)&&o>=0&&o<(null===(a=e.compositeListings)||void 0===a?void 0:a.length)){const i=e.compositeListings[o];e.compositeListings=[i];const n=this.state.tickerData.addOns.has(i.abbProductId);this.setTickerData(this.updateTickerData(t,n?"remove":"add",l,{[i.abbProductId]:{abbProductId:i.abbProductId,abbListingId:i.abbListingId}},e.price))}}},this.handleTooltipClick=e=>{e.stopPropagation()},this.renderInsuranceAddOnList=e=>{const t=this.handleAddOnClick;return a.createElement(s.az,null,e.map((({richTitles:e,pricing:i,addOnListingId:n,addOnProductId:r},o)=>{var l,d;if(!e)return null;const{title:c,subtitle:u,description:h}=e[0],p=this.state.tickerData.addOns.has(r);return a.createElement(b.A,{trackingConfig:{minViewVisibleTime:1e3,minViewVisiblePercentage:50},onViewStarted:()=>this.getVASTrackingPayload(x.A.VAS_WIDGET_IMPRESSION,0,0,void 0,r,n,void 0,N.IRM.Digital)},a.createElement(s.az,{borderWidth:1,borderRadius:4,borderColor:"v2.neutral.200",p:"s4",key:o,mb:"s5",flex:1,flexDirection:"row",alignItems:"flex-start"},a.createElement(s.az,{flex:1},a.createElement(s.fI,{justifyContent:"space-between",alignItems:"center",mb:"s4"},a.createElement(s.az,null,a.createElement(s.az,{flex:1,flexDirection:"row",justifyContent:"space-between",alignContent:"center",mb:"s2"},c?a.createElement(s.JU,{font:"m",color:"v2.neutral.900",mr:"s1"},c.text):null),a.createElement(s.az,{flexDirection:"row"},i?a.createElement(y.Ay,{price:null==i?void 0:i.finalPrice.value,strikeoff:null==i?void 0:i.finalPrice.strikeOff,textStyle:[this.rtoInsuranceStyles.rtoPricing,this.rtoInsuranceStyles.rtoPricingMedium]}):null,i&&(null==i?void 0:i.mrp)&&Number(null==i?void 0:i.mrp.value)!==Number(null==i?void 0:i.finalPrice.value)?a.createElement(y.Ay,{price:null==i?void 0:i.mrp.value,strikeoff:(null==i?void 0:i.mrp.strikeOff)||!0,hideRupee:!0,textStyle:[this.rtoInsuranceStyles.rtoPricing,this.rtoInsuranceStyles.rtoPricingMedium]}):null)),a.createElement(f.S,{onPress:t,onPressParam:[o+1,Number(null===(l=null==i?void 0:i.finalPrice)||void 0===l?void 0:l.value),Number(null===(d=null==i?void 0:i.mrp)||void 0===d?void 0:d.value)],disableFeedback:!0,key:o},a.createElement(s.az,{alignItems:"center",borderRadius:4,borderWidth:1,px:"s6",py:"s3",borderColor:"v2.neutral.300"},a.createElement(s.JU,{font:"m_medium",color:"v2.primary.500"},this._getButtonText(p,M.H.rex_string_REMOVE))))),u?a.createElement(s.JU,{font:"s",color:"v2.neutral.700"},`${u.text} ${(null==h?void 0:h.text)||""}`):null)))})))},this.renderInsuranceTermsLink=e=>a.createElement(s.az,{flex:1,flexDirection:"row",flexWrap:"wrap"},e.map((({value:e,action:t},i)=>1===i?a.createElement(k.A,{onTextPress:this.howItWorks,onPressParam:t},a.createElement(s.JU,{font:"s",color:"v2.primary.500",key:i},null==e?void 0:e.title)):a.createElement(s.JU,{color:"v2.neutral.700",font:"s",key:i,mr:"s1"},null==e?void 0:e.title)))),this.renderInsuranceAddOns=({planDetails:e,tip:t,addOns:i})=>{var n;const r=null===(n=null==e?void 0:e[0])||void 0===n?void 0:n.pricing,o=null==r?void 0:r.insuredPrice;return a.createElement(s.az,{p:"s5"},o?this.renderInsuredValue(o):null,i?this.renderInsuranceAddOnList(i):null,(null==t?void 0:t.length)>0?this.renderInsuranceTermsLink(t):null)},this.renderInsurancePricing=e=>{var t;const{finalPrice:i,mrp:n,title:r}=(null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.pricing)||{},{start:o,end:l}=this.state.tickerData;return a.createElement(s.az,null,a.createElement(s.az,{flex:1,flexDirection:"row",alignItems:"center"},a.createElement(s.JU,{mr:"s2"},i?a.createElement(K.A,{start:i.value+(o||0),end:i.value+(l||0),duration:1,prefix:Q.y3o}):null),n&&i&&Number(i.value+(l||0))!==Number(n.value+(this.state.tickerData.addOnsMRP||0))?a.createElement(y.Ay,{price:n.value+(this.state.tickerData.addOnsMRP||0),hideRupee:!0,strikeoff:n.strikeOff||!0,textStyle:[this.rtoInsuranceStyles.rtoPricing,this.rtoInsuranceStyles.rtoPricingRegular]}):null),r?a.createElement(s.JU,{color:"v2.neutral.900",font:"s",mt:"s2"},r):null)},this._showInsuranceSnackbar=(e,t)=>{var i,n;if(!t)return;const r=null===(n=null===(i=t.snackBar)||void 0===i?void 0:i.title.value)||void 0===n?void 0:n.text,a=this._getPlanWithCompositeListings(0,0);if(r&&this.props.actionDispatcher&&a&&a.compositeListings){const e={message:r,design:0,type:0},t=this.state.tickerData.value.size>0;a.compositeListings=[a.compositeListings[0],...this.getExistingAddOnsArray()],this._dispatchAttachAction(a,!0),this.props.actionDispatcher(new w.n(e)),this._handleRTOActionButtonClickTracking(t?P.Xm.AddRTOInsuranceWithPAC:P.Xm.AddRTOInsuranceClick,0,0)}},this._showInsurancePopup=(e,t)=>{var i;if(!t)return;const n=this._getPlanWithCompositeListings(0,0);if(!(null===(i=this._getProduct(0))||void 0===i?void 0:i.value))return;const r=this._getPlan(0,0),a=!!(null==r?void 0:r.selected);if(this._isInterstitialPage&&a)this._showDefaultedOptedError();else if(t.popupDetails&&n&&n.compositeListings&&this._showAbbPopup){const e=this.state.tickerData.value.size>0;n.compositeListings=[...n.compositeListings],this._showAbbPopup(t.popupDetails,n),this._handleRTOActionButtonClickTracking(e?P.Xm.RemoveRTOInsuranceWithPAC:P.Xm.RemoveRTOInsuranceClick,0,0)}},this.renderInsuranceActionButton=e=>{const{actionButton:t}=null==e?void 0:e[0];if(!t)return null;const i=null==t?void 0:t.value,n=this.state.isProductPlanSelected,r=n?"raw.blue.50":"v2.neutral.0",o=n?"s5":"s9",l=n?"s2":"s0",d=n?this._showInsurancePopup:this._showInsuranceSnackbar;return a.createElement(f.S,{onPress:d,onPressParam:i,disableFeedback:!0},a.createElement(s.az,{alignItems:"center",flexDirection:"row",borderRadius:4,borderWidth:1,bg:r,borderColor:"v2.primary.500",px:o,py:"s3"},n?a.createElement(V.F5,{size:16}):null,a.createElement(s.JU,{font:"m_medium",color:"v2.primary.500",ml:l},this._getButtonText(n,M.H.rex_string_REMOVE))))},this.renderInsuranceFooter=({planDetails:e})=>a.createElement(s.az,{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",px:"s6",pb:"s6"},this.renderInsurancePricing(e),this.renderInsuranceActionButton(e)),this.getExistingAddOnsArray=()=>{const e=[];for(const[t,i]of this.state.tickerData.addOns.entries())e.push(i);return e},this.setTickerData=e=>{this.setState({tickerData:e})},this.rtoInsuranceStyles=o.StyleSheet.create({headerImage:{borderRadius:4,borderWidth:1,borderColor:O.V9.borderLiteGrey,marginRight:12},rtoPricing:{fontSize:14,fontFamily:R.jG,lineHeight:20},rtoPricingRegular:{fontFamily:R.A$},rtoPricingMedium:{fontFamily:R.$u},seePolicyBenefits:{fontFamily:R.jG,includeFontPadding:!1,fontSize:12,color:O.Cf.fkButtonDarkBlueColor},checkBox:{marginRight:8},toolTipContainer:{paddingVertical:8,paddingHorizontal:12,borderRadius:4},tooltipTriangle:{position:"absolute",right:-12,width:0,height:0,backgroundColor:"transparent",borderStyle:"solid",borderTopWidth:6,borderRightWidth:6,borderBottomWidth:0,borderLeftWidth:6,borderTopColor:"black",borderRightColor:"transparent",borderBottomColor:"transparent",borderLeftColor:"transparent"},tooltipTextStyle:{display:"flex",justifyContent:"center",alignItems:"center"},tooltipParent:{position:"absolute",bottom:24,right:-8}}),this.state=this.getDerivedState(e,void 0)}static getWidgetHeight(){return 342}shouldStateUpdate(e,t){const i=JSON.stringify(Array.from(this.state.tickerData.addOns.keys()).sort()),n=JSON.stringify(this.state.prevExistingAddOns)!==i;return this.checkIfRelaventCartItemsChanged(e,this.state,0,0)||this._hasABBTransientDataChanged(e,0,0)||n}getDerivedState(e,t){var i,n,r,a,o;const s=super.getDerivedState(e,t);let l={start:0,end:0,value:new Map,addOns:new Map,addOnsMRP:0},d=!1,c=Array.from(l.addOns.keys()).sort();t&&(l=t.tickerData,d=t.isProductPlanSelected,c=t.prevExistingAddOns);const u=null===(i=this._getParentProductContext())||void 0===i?void 0:i.listingId,h=this.getAddOns(e,0),p=u&&void 0!==s.cartData[u],g=this._getPlan(0,0),m=this._getCompositeListings(0,0),v=t&&this.checkIfRelaventCartItemsChanged(e,t,0,0),_=this._hasABBTransientDataChanged(e,0,0),C=t&&this.isProductRemovedFromCartOrTransientData(e,t,0,0,!!v,_,0);if(!t||v&&!this._isInterstitialPage){const e=!!(null==g?void 0:g.selected),t=!!g&&void 0!==s.cartData[g.abbListingId];!p||this._isInterstitialPage?d=e:p&&!this._isInterstitialPage&&(d=t),h&&h.forEach((({pricing:e,addOnListingId:i},n)=>{var r,a,o;const d=null==m?void 0:m[n+1];if(!d)return;const c=void 0!==s.cartData[i],u=!!(null==e?void 0:e.selected);!p||this._isInterstitialPage?l=this.updateTickerData([n+1,Number(null==e?void 0:e.finalPrice.value),Number(null===(r=null==e?void 0:e.mrp)||void 0===r?void 0:r.value)],u?"add":"remove",l,{[d.abbProductId]:{abbProductId:d.abbProductId,abbListingId:d.abbListingId}}):p&&t&&!this._isInterstitialPage?l=this.updateTickerData([n+1,Number(null==e?void 0:e.finalPrice.value),Number(null===(a=null==e?void 0:e.mrp)||void 0===a?void 0:a.value)],c?"add":"remove",l,{[d.abbProductId]:{abbProductId:d.abbProductId,abbListingId:d.abbListingId}}):C&&(l=this.updateTickerData([n+1,Number(null==e?void 0:e.finalPrice.value),Number(null===(o=null==e?void 0:e.mrp)||void 0===o?void 0:o.value)],"remove",l,{[d.abbProductId]:{abbProductId:d.abbProductId,abbListingId:d.abbListingId}}))}))}else if(_){const t=null===(o=null===(a=null===(r=null===(n=e.pageInfo)||void 0===n?void 0:n.pageTransientData)||void 0===r?void 0:r.data)||void 0===a?void 0:a[L.V.ABB])||void 0===o?void 0:o.mutualExclusion,i=!!g&&void 0!==s.cartData[g.abbListingId];!t||p&&!this._isInterstitialPage?p&&(d=i):d=!!g&&(null==g?void 0:g.abbProductId)in t,h&&h.forEach((({pricing:e,addOnProductId:n,addOnListingId:r},a)=>{var o,d,c,u;const h=null==m?void 0:m[a+1];if(!h)return;const g=null!==(o=null==t?void 0:t.hasOwnProperty(n))&&void 0!==o&&o,v=this.state.tickerData.addOns.has(n),_=void 0!==s.cartData[r];!t||(p||i)&&!this._isInterstitialPage||C?p&&i?l=this.updateTickerData([a+1,Number(null==e?void 0:e.finalPrice.value),Number(null===(c=null==e?void 0:e.mrp)||void 0===c?void 0:c.value)],_?"add":"remove",l,{[h.abbProductId]:{abbProductId:h.abbProductId,abbListingId:h.abbListingId}}):C&&(l=this.updateTickerData([a+1,Number(null==e?void 0:e.finalPrice.value),Number(null===(u=null==e?void 0:e.mrp)||void 0===u?void 0:u.value)],"remove",l,{[h.abbProductId]:{abbProductId:h.abbProductId,abbListingId:h.abbListingId}})):l=this.updateTickerData([a+1,Number(null==e?void 0:e.finalPrice.value),Number(null===(d=null==e?void 0:e.mrp)||void 0===d?void 0:d.value)],g||v?"add":"remove",l,{[h.abbProductId]:{abbProductId:h.abbProductId,abbListingId:h.abbListingId}})}))}else t&&JSON.stringify(t.prevExistingAddOns)!==JSON.stringify(Array.from(t.tickerData.addOns.keys()).sort())&&(c=Array.from(t.tickerData.addOns.keys()).sort());return Object.assign(Object.assign({},s),{tickerData:l,prevExistingAddOns:c,isProductPlanSelected:d})}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i)||this._hasABBTransientDataChanged(e,0,0)}updateTransientDataFromState(e,t){var i,n,a,o;let s=this._getPlanWithCompositeListings(0,0);if(!(null==s?void 0:s.compositeListings))return;let l=s.compositeListings[0];const d=null===(o=null===(a=null===(n=null===(i=e.pageInfo)||void 0===i?void 0:i.pageTransientData)||void 0===n?void 0:n.data)||void 0===a?void 0:a[L.V.ABB])||void 0===o?void 0:o.mutualExclusion,c=!!d&&(null==l?void 0:l.abbProductId)in d,u=t.isProductPlanSelected,h=[],p=[];c&&!u?p.push(l):u&&!c&&h.push(l);const g=(0,r.KJ)(this.props.widgetSlotData),m=[];u&&m.push(l);const v=this.getAddOns(e,0);v&&u&&v.forEach((({addOnProductId:e,addOnListingId:i})=>{const n=t.tickerData.addOns.has(e),r=d&&e in d;r&&!n?p.push({abbListingId:i,abbProductId:e}):n&&!r&&h.push({abbListingId:i,abbProductId:e}),n&&m.push({abbListingId:i,abbProductId:e})}));let _=s,C=s;if(_=Object.assign(Object.assign({},_),{compositeListings:h}),C=Object.assign(Object.assign({},C),{compositeListings:p}),g&&!this._isInterstitialPage){let e=s;e.compositeListings=m,q.A.clearKey(g);const t=this._getParentProductContext();if(u&&t){const i={[t.productId]:this.getAggregatedCartData(e)};q.A.setObject(g,i)}}if(!this.props.actionDispatcher)return;const E=new I.A(h.length>0&&u?_:void 0,p.length>0?C:void 0);this.props.actionDispatcher({type:A.Q3.ATTACH_ACTION,payload:E})}renderWidget(){var e;const t=(0,r.nS)(this.props.widgetSlotData),i=null==t?void 0:t.data,n=null==i?void 0:i.products,o=null===(e=null==n?void 0:n[0])||void 0===e?void 0:e.value;if(t&&i&&o)return a.createElement(b.A,{trackingConfig:{minViewVisibleTime:1e3,minViewVisiblePercentage:50},onViewStarted:()=>this.getVASTrackingPayload(x.A.VAS_WIDGET_IMPRESSION,0,0,void 0,void 0,void 0,void 0,N.IRM.Digital)},this.renderTitle(o),a.createElement(s.az,{borderColor:"v2.neutral.300",borderWidth:1,mx:"s6"},this.renderInsuranceHeader(o),this.renderInsuranceAddOns(o),this.renderInsuranceFooter(o)))}updateTickerData(e,t,i,n,r){const[a,o,s]=e;if("add"===t){if(i.value.has(a)){const e=i.value.get(a);if(e&&e!==o){const t=o-e;i.start=i.end,i.value.set(a,o),i.end+=t,i.addOnsMRP+=s}}else i.start=i.end,i.value.set(a,o),i.end+=o,i.addOnsMRP+=s;if(n)for(const[e,t]of Object.entries(n))void 0!==t&&i.addOns.set(e,t);this.getVASTrackingPayload(x.A.VAS_WIDGET_CLICK,0,0,P.Xm.AddInsurancePAC,void 0,void 0,r&&r+i.end||i.end)}else if("remove"===t&&i.value.has(a)){if(i.start=i.end,i.value.delete(a),i.end-=o,i.addOnsMRP-=s,n)for(const[e,t]of Object.entries(n))i.addOns.delete(e);this.getVASTrackingPayload(x.A.VAS_WIDGET_CLICK,0,0,P.Xm.RemoveInsurancePAC,void 0,void 0,r&&r+i.end||i.end)}return i}}var $=i(716249),ee=i(198213),te=i(398581),ie=i(331547),ne=i(787921),re=i(529980);class ae extends $.A{constructor(){super(...arguments),this.GRADIENT_START_POINT=ie._.LEFT,this.GRADIENT_END_POINT=ie._.RIGHT,this.bleeding=Q.hIQ.gradientPurple50,this.ending=Q.hIQ.gradientPurple100,this.onPresscallback=(e,t)=>{t&&(this.trackDiscoveryWidgetClickEvent(),this.dispatchAction&&this.dispatchAction(ne.A.SCROLL_TO_SLOT,new re.l(t)))}}static getWidgetHeight(){return 64}isLoanCalloutWidgetData(e){return void 0!==e&&"messages"in e&&"titles"in e}renderWidget(){var e,t;const i=(0,r.nS)(this.props.widgetSlotData),n=this.isLoanCalloutWidgetData(null==i?void 0:i.data)&&(null==i?void 0:i.data);if(!n)return;const o=null==n?void 0:n.titles,l=null==n?void 0:n.messages,d=null==n?void 0:n.button,c=null===(t=null===(e=n.button)||void 0===e?void 0:e.value)||void 0===t?void 0:t.iconRight,u=null==n?void 0:n.gradient,h=u&&[u.startBleedingColor,u.stopBleedingColor],p=null==n?void 0:n.containerStyle,g=`${Q.D5s}${Q.zlg}${Q.D5s}`;return a.createElement(s.az,null,a.createElement(s.az,{m:"s6",overflow:"hidden",style:{borderRadius:null==p?void 0:p.borderRadius}},a.createElement(te.W,{gradientColors:[h?h[0]:this.bleeding,h?h[1]:this.ending],gradientStart:this.GRADIENT_START_POINT,gradientEnd:this.GRADIENT_END_POINT,renderInWeb:!0},a.createElement(s.SB,{onPress:this.onPresscallback,onPressParam:null==d?void 0:d.action,disableFeedback:!0},a.createElement(s.az,{m:"s5"},a.createElement(s.fI,null,l&&(null==l?void 0:l.length)>0&&a.createElement(s.JU,{font:"m_medium"},l[0]),d&&c&&a.createElement(s.az,{height:null==c?void 0:c.height,width:null==c?void 0:c.width,ml:"s4"},a.createElement(ee.Dk,{source:null==c?void 0:c.dynamicImageUrl,height:null==c?void 0:c.height,width:null==c?void 0:c.width}))),o&&o.length>0&&a.createElement(s.fI,{mt:"s1",overflow:"hidden"},o.map(((e,t)=>a.createElement(s.JU,{key:t,whiteSpace:"normal",overflowWrap:"break-word",font:"m",style:{color:e.textColor}},0===t?e.text:`${g}${e.text}`)))))))))}}var oe=i(479892),se=i(813652);class le extends $.A{constructor(e,t){super(e,t),this.GRADIENT_START_POINT=ie._.TOP,this.GRADIENT_END_POINT=ie._.BOTTOM,this.bleeding=Q.hIQ.transparent,this.ending=Q.hIQ.gradientLightgrey,this.underLineString="instant approval",this.onPresscallback=(e,t)=>{t&&(this.trackDiscoveryContentClickEvent(t.tracking),this.dispatchAction&&this.dispatchAction(ne.A.MAPI_ACTION,new z.Oy(t)))},this.stepWidth=e.appContext.uiContext.getDimension("window").width}static getWidgetHeight(){return 396}isLoanOfferDetailsWidgetData(e){return void 0!==e&&"title"in e&&("subtitle"in e||void 0===e.subtitle)&&"steps"in e}renderWidget(){var e,t,i,n,o;const l=(0,r.nS)(this.props.widgetSlotData),d=this.isLoanOfferDetailsWidgetData(null==l?void 0:l.data)&&(null==l?void 0:l.data);if(!d)return;const c=d.title,u=d.subtitle,h=d.steps,p=d.faqCallout,g=null===(e=d.providers)||void 0===e?void 0:e.productImages,m=null===(t=null==u?void 0:u.text)||void 0===t?void 0:t.toLowerCase().includes(this.underLineString);let v;u&&u.text&&se.underLineIcon&&m&&(v=u.text.split(/(instant approval)/i).filter((e=>""!==e)));const _=p&&p.value&&a.createElement(s.az,{mb:"s7"},a.createElement(s.JU,{alignItems:"flex-start"},a.createElement(s.JU,{font:"m"},null===(i=p.value.richText)||void 0===i?void 0:i.text),Q.NH,a.createElement(s.SB,{onPress:this.onPresscallback,onPressParam:p.action},a.createElement(s.JU,{font:"m_medium",color:"raw.blue.500"},p.value.title))));return a.createElement(s.az,{m:"s6"},c&&a.createElement(s.JU,{font:"l"},c.text),u&&a.createElement(s.fI,{mt:"s1"},m&&v&&v.length>0?null==v?void 0:v.map(((e,t)=>{var i,n;return a.createElement(s.az,{key:t},a.createElement(s.JU,{font:"bold"===(null===(n=null===(i=u.style)||void 0===i?void 0:i.fontWeight)||void 0===n?void 0:n.toLowerCase())?"l_medium":"l"},e),e.toLowerCase()===this.underLineString&&a.createElement(ee.Dk,{height:8,width:133,source:se.underLineIcon}))})):a.createElement(s.JU,{font:"bold"===(null===(o=null===(n=u.style)||void 0===n?void 0:n.fontWeight)||void 0===o?void 0:o.toLowerCase())?"l_medium":"l"},u.text)),h&&h.length>0&&a.createElement(s.az,{mb:"s7",mt:"s5"},h.map(((e,t)=>a.createElement(s.fI,{key:t},a.createElement(s.az,{mr:"s5",alignItems:"center"},e.icon&&a.createElement(ee.Dk,{height:e.icon.height,width:e.icon.width,source:e.icon.dynamicImageUrl}),t!==h.length-1&&a.createElement(te.W,{gradientColors:[this.bleeding,this.ending],gradientStart:this.GRADIENT_START_POINT,gradientEnd:this.GRADIENT_END_POINT,style:[oe.C1.height_2,oe.C1.width_2],renderInWeb:!0}),t!==h.length-1&&a.createElement(te.W,{gradientColors:[this.ending,this.bleeding],gradientStart:this.GRADIENT_START_POINT,gradientEnd:this.GRADIENT_END_POINT,style:[oe.C1.height_2,oe.C1.width_2],renderInWeb:!0})),e.callout&&a.createElement(s.JU,{pt:"s3",font:"m",numberOfLines:2,maxWidth:this.stepWidth-76},e.callout.text))))),this.getTrackableContentView(_,null==p?void 0:p.tracking),d.providers&&g&&a.createElement(s.fI,{alignItems:"center"},g.map(((e,t)=>a.createElement(ee.Dk,{key:t,source:e.dynamicImageUrl,height:e.height,width:e.width}))),a.createElement(de,{maxWidth:this.stepWidth-32*g.length-36},d.providers.title.text)))}hideWidgetEdgeDivider(){return!0}}const de=s.JU.extendComponent({name:"ProviderText",defaultProps:{color:"text.secondary",font:"s",ml:"s2",ellipsizeMode:"tail"}});var ce=i(110941);class ue extends $.A{constructor(e,t){super(e,t),this.onPresscallback=(e,t)=>{t&&(this.trackDiscoveryContentClickEvent(t.tracking),this.dispatchAction&&this.dispatchAction(ne.A.MAPI_ACTION,new z.Oy(t)))},this.stepWidth=e.appContext.uiContext.getDimension("window").width}static getWidgetHeight(){return 396}isLoanOfferDetailsWidgetData(e){return void 0!==e&&"title"in e&&("subtitle"in e||void 0===e.subtitle)&&"steps"in e}renderWidget(){var e,t,i,n,o,l,d,c,u,h;const p=(0,r.nS)(this.props.widgetSlotData),g=this.isLoanOfferDetailsWidgetData(null==p?void 0:p.data)&&(null==p?void 0:p.data);if(!g)return;const m=g.title,v=g.subtitle,_=g.steps,C=g.faqCallout,E=null===(e=g.providers)||void 0===e?void 0:e.productImages;return a.createElement(_e,null,(null===(t=null==C?void 0:C.value)||void 0===t?void 0:t.iconRight)&&a.createElement(ee.Dk,{height:ce.A.getHeight(this.stepWidth,null===(i=C.value.iconRight)||void 0===i?void 0:i.aspectRatio),width:this.stepWidth,source:null===(n=C.value.iconRight)||void 0===n?void 0:n.dynamicImageUrl}),a.createElement(s.az,{mx:"s6",my:"s4"},(null===(l=null===(o=null==C?void 0:C.value)||void 0===o?void 0:o.richText)||void 0===l?void 0:l.text)&&a.createElement(s.xM,{my:"s6"},a.createElement(ve,{style:{backgroundColor:C.value.buttonColor,color:null===(d=C.value.richText)||void 0===d?void 0:d.textColor}},null===(c=C.value.richText)||void 0===c?void 0:c.text)),m&&a.createElement(s.JU,{font:"m"},m.text),v&&a.createElement(s.fI,{mt:"s2"},a.createElement(s.JU,{font:"bold"===(null===(h=null===(u=v.style)||void 0===u?void 0:u.fontWeight)||void 0===h?void 0:h.toLowerCase())?"xl_medium":"xl"},v.text)),_&&_.length>0&&a.createElement(s.az,{mt:"s5"},_.map(((e,t)=>a.createElement(s.xM,{key:t},a.createElement(me,null,e.icon&&a.createElement(ee.Dk,{height:e.icon.height,width:e.icon.width,source:e.icon.dynamicImageUrl}),a.createElement(s.az,null,e.callout&&a.createElement(ge,null,e.callout.text))))))),g.providers&&E&&a.createElement(he,null,E.map(((e,t)=>a.createElement(ee.Dk,{key:t,source:e.dynamicImageUrl,height:e.height,width:e.width}))),a.createElement(pe,{maxWidth:this.stepWidth-32*E.length-36},g.providers.title.text))))}hideWidgetEdgeDivider(){return!0}}const he=s.fI.extendComponent({name:"ProviderContainer",defaultProps:{alignItems:"center",my:"s4"}}),pe=s.JU.extendComponent({name:"ProviderText",defaultProps:{color:"text.secondary",font:"s",ml:"s2",ellipsizeMode:"tail"}}),ge=s.JU.extendComponent({name:"ProviderSubvention",defaultProps:{pl:"s2",font:"m",numberOfLines:1}}),me=s.fI.extendComponent({name:"NudgeContainer",defaultProps:{bg:"info.light",my:"s2",py:"s2",px:"s4",borderRadius:4,alignItems:"center"}}),ve=s.JU.extendComponent({name:"ProviderSubvention",defaultProps:{px:"s4",py:"s2",font:"l_sb",borderRadius:4}}),_e=s.az.extendComponent({name:"NudgeContainer",defaultProps:{borderTopRightRadius:24,borderTopLeftRadius:24,overflow:"hidden"}});var Ce=i(171539),Ee=i(309865),Te=i(624801),fe=i(241598),Ae=i(815946),Se=i(580555),ye=i(294188),we=i(345617),Ie=i(614941),be=i(736581);function De(e){var t,i,n,r;return null===(r=null===(n=null===(i=null===(t=e.pageInfo)||void 0===t?void 0:t.pageTransientData)||void 0===i?void 0:i.data)||void 0===n?void 0:n[L.V.ABB])||void 0===r?void 0:r.mutualExclusion}function xe(e,t){var i;if(!t)return;const n={};for(const r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;const a=t[r];(null===(i=null==a?void 0:a.widgetContext)||void 0===i?void 0:i.viewType)===e&&(n[r]=a)}return n}class Pe extends H.o{constructor(e,t){var i,n;super(e,t),this._isInsurancePlanSelected=()=>!!this.state.selectedInsurance,this._getPlanWithCompositeListings=(e,t)=>{const i=this._getPlanAsMutualExclusion(t,e),n=this._getCompositeListings(e,t);return i&&(i.compositeListings=n),i},this._dispatchAttachAction=(e,t)=>{var i;if(!this.props.actionDispatcher)return;const n=t?new I.A(e):new I.A(void 0,e),r=null===(i=this._getParentProductContext())||void 0===i?void 0:i.listingId;r&&void 0!==this.state.cartData[r]?this.props.actionDispatcher({type:A.Q3.ATTACH_ACTION,payload:n}):Ie.A.getInstance().emit(we.A.EMIT_2W_DATA,n)},this._handleRTOActionButtonClickTracking=(e,t,i)=>{this.getVASTrackingPayload(x.A.VAS_WIDGET_CLICK,t||0,i||0,e)},this.fireDCIForABBPopup=()=>{var e,t,i,n,r,a,o;const s=(null===(e=this.state.trackingParams)||void 0===e?void 0:e.getTracking())||{},l=Object.assign(Object.assign({},s),{contentType:"Legal mandatory popup",contentTitle:"RTO Insurance Popup",widgetType:"Legal mandatory popup",widgetTitle:(null===(i=null===(t=this._getProduct(0))||void 0===t?void 0:t.tracking)||void 0===i?void 0:i.widgetTitle)||"RTO Insurance Popup",position:(null===(r=null===(n=this.props.widgetSlotData)||void 0===n?void 0:n.position)||void 0===r?void 0:r.toString())||"0",productId:s.productId||"",listingId:s.listingId||""}),d=new W.Fdq(new Se.Ay(l),this.state.uniqueViewId,null===(a=this.props.pageInfo)||void 0===a?void 0:a.tabImpressionId,null===(o=this.state.trackingParams)||void 0===o?void 0:o.getImpressionInfo(),Date.now(),100,!0);this.props.actionDispatcher&&this.props.actionDispatcher(new W.ax6(d))},this.howItWorks=(e,t)=>{t&&this.dispatchAction(A.Q3.MAPI_ACTION,new z.rs(t))},this._getButtonText=(e,t,i)=>{const{locale:n}=this.props.appContext,r=e?t||M.H.rex_string_REMOVE:i||M.H.rex_string_ADD;return this._capitalize((0,j.ak)(n,{id:r}))},this._accordianClick=e=>{this.setState({isCollapsed:e})},this.getExistingAddOnsArray=()=>Array.from(this.state.selectedAddOns.values()),this.handleExpandChange=e=>{this.setState({isAddOnsExpanded:e})},this.getShowDivider=(e,t)=>{const{isAddOnsExpanded:i}=this.state;return i?e<t-1:e<1},this.isInsuranceInTransientData=e=>{if(!e)return!1;const t=De(this.props);return!!t&&e in t},this.isInsuranceAdded=(e,t)=>{var i;if(!e||!t)return!1;const n=null===(i=this._getParentProductContext())||void 0===i?void 0:i.listingId;return!!n&&void 0!==this.state.cartData[n]?void 0!==this.state.cartData[e]:this.isInsuranceInTransientData(t)},this.getTotalAddOnsMRP=(e,t)=>{if(!e||!t)return 0;let i=0;return e.forEach((e=>{var n,r,a;t.has(e.addOnProductId)&&(i+=Number(null!==(a=null===(r=null===(n=e.pricing)||void 0===n?void 0:n.mrp)||void 0===r?void 0:r.value)&&void 0!==a?a:0))})),i},this._isInterstitialPage="bottomSheet"===(null===(n=null===(i=e.widgetSlotData.slotData.widget)||void 0===i?void 0:i.tracking)||void 0===n?void 0:n.pageType),this.state=this.getDerivedState(e,void 0)}static getWidgetHeight(){return 342}componentDidMount(){var e,t;this.updateTransientDataFromState(this.props,this.state);const i=null===(t=null===(e=this.props)||void 0===e?void 0:e.pageInfo)||void 0===t?void 0:t.pageContext;i&&this._isInterstitialPage&&be.F.triggerPPBSEvent(i,this.trackDGEvent)}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.updateTransientDataFromState(this.props,this.state)}getAggregatedCartData(e){const t={},{price:i,category:n,parentProduct:r,widgetContext:a,title:o,tracking:s,freebie:l,compositeListings:d}=e;if(d&&d.length>0)for(const e of d){const{abbListingId:d,abbProductId:c}=e,u=X.A.generateTransientDataKey(c),h={listingId:d,freebieItem:l,aggregatedCartContext:X.A.createCartContext(c,i,s,o,!1,!1,a.widgetType,n,r.productId,r.listingId)};t[u]=h}return t}checkIfRelaventCartItemsChanged(e,t,i,n){var r,a;const o=null===(r=null==e?void 0:e.appContext.userManager)||void 0===r?void 0:r.getCartContents(),s=null==t?void 0:t.cartData;if(void 0===o&&void 0===s)return!1;let l=!1;const d=o?Object.keys(o).sort():[],c=s?Object.keys(s).sort():[],u=this._getCompositeListings(null!=i?i:0,null!=n?n:0),h=null===(a=this._getParentProductContext())||void 0===a?void 0:a.listingId;return l=!!h&&d.includes(h)!==c.includes(h),!!l||(u&&u.forEach((({abbListingId:e})=>{d.includes(e)!==c.includes(e)&&(l=l||!0)})),l)}_hasABBTransientDataChanged(e){const t=De(this.props),i=De(e);return(0,ye.A)(t,i)}updateTransientDataFromState(e,t){}_getParentProductContext(){const e=(0,r.xH)(this.props.widgetSlotData);return e&&e.parentContext}_getPlan(e,t){var i;const n=this._getProduct(e);return null===(i=null==n?void 0:n.value)||void 0===i?void 0:i.planDetails[t]}_getProduct(e){const t=(0,r.nS)(this.props.widgetSlotData),i=null==t?void 0:t.data,n=null==i?void 0:i.products;return null==n?void 0:n[e]}_getCompositeListings(e,t){const i=this._getPlan(e,t);return null==i?void 0:i.compositeListings}_getPlanAsMutualExclusion(e,t){var i,n,a,o,s,l;const d=this._getProduct(t);if(d){const c=(null===(i=d.value)||void 0===i?void 0:i.childProductIdentifier)||[],u=this._getPlan(t,e),h=this._getProductTracking(e,t),p=this._getParentProductContext(),g=(0,r.nS)(this.props.widgetSlotData),m=(0,r.KJ)(this.props.widgetSlotData)||"";if(u&&p){return{productId:u.abbProductId,listingId:u.abbListingId,selected:!0,childProductIdentifier:c,category:u.digitalType,tracking:d.tracking||{},title:(null===(n=d.value)||void 0===n?void 0:n.titles.title)||"",freebie:(null===(a=d.value)||void 0===a?void 0:a.freebie)||!1,price:(null===(o=u.pricing)||void 0===o?void 0:o.finalPrice.value)||0,location:{planIndex:e,cardIndex:t,index:this.props.index,slotBehavior:this.props.widgetSlotData.behaviour},parentProduct:{productId:p.productId,listingId:p.listingId||""},widgetContext:{isDefaultAddedViewType:!1,viewType:m,widgetType:g.type,pageType:(null===(l=null===(s=this.props.pageInfo)||void 0===s?void 0:s.pageContext)||void 0===l?void 0:l.type)||""},trackingParams:h}}}}_getProductTracking(e,t){var i,n,r,a,o,s;const l=this._getPlan(t,e),d=null===(i=null==l?void 0:l.subtitle)||void 0===i?void 0:i.text,c=this._getParentProductContext();let u;if(d){const e=d.split(/\s/g);"Year"===e[1]?u=12*Number(e[0]):"Months"===e[1]&&(u=Number(e[0]))}const h=this._getProduct(t),{socialMarketingId:p,parentListingId:g,pageType:m,widgetType:v,viewType:_}=(null==h?void 0:h.tracking)||{},C=this.getFetchId()||(null===(o=null===(a=null===(r=null===(n=this.props.pageInfo)||void 0===n?void 0:n.pageContext)||void 0===r?void 0:r.fdpEventTracking)||void 0===a?void 0:a.commonContext)||void 0===o?void 0:o.fid);return l?{productId:l.abbProductId,listingId:l.abbListingId,finalPrice:null===(s=l.pricing)||void 0===s?void 0:s.finalPrice.value,fid:C,isAlreadyAttached:this._isInsurancePlanSelected(),socialMarketingId:p,parentListId:g||(null==c?void 0:c.listingId),userState:P.Ic.Collapse,attachType:N.IRM.Digital,planTerm:u,modifiedNavigationContext:{pageType:m,pageName:`${m}_${g}_${v}_${_}`}}:{}}getVASTrackingPayload(e,t,i,n,r,a,o,s){var l,d;const c=this._getPlan(i,t);if(!c)return;const u=this._getProduct(i),{parentListingId:h,instanceId:p,fetchId:g,userState:m,planTerm:v,pageType:_,widgetType:C,viewType:E}=(null==u?void 0:u.tracking)||{},T={pageType:_,pageName:`${_}_${h}_${C}_${E}`};let f;switch(e){case x.A.VAS_WIDGET_CLICK:f=new W.dX2(p,g,r||c.abbProductId,a||c.abbListingId,n,o||(null===(d=null===(l=c.pricing)||void 0===l?void 0:l.finalPrice)||void 0===d?void 0:d.value),m||P.Ic.Expanded,h,s||N.IRM.VirtualCombo,Number(v),T);break;case x.A.VAS_WIDGET_IMPRESSION:f=new W.uXZ(p,g,r||c.abbProductId,a||c.abbListingId,m,h,void 0,s||N.IRM.RTO,void 0,T);break;default:f=void 0}return f&&this.props.actionDispatcher&&this.props.actionDispatcher(new W.ax6(f)),f}_showAbbPopup(e,t,i){var n;const r=(0,F.h2)(e),a=r.data.actions.find((e=>{var t;return(null===(t=e.action)||void 0===t?void 0:t.type)===G.X.CART_REMOVE}));a&&a.action&&(a.action.params={remove:t},i&&(a.action.params.add=i,a.action.params.snackBar=null===(n=a.value)||void 0===n?void 0:n.snackBar)),this.props.actionDispatcher&&(this.fireDCIForABBPopup(),U.A.handleAction(r,A.Q3.SHOW_POPUP,this.props.actionDispatcher))}_capitalize(e){return e.length>0?e[0].toUpperCase()+e.slice(1).toLowerCase():e}getAddOns(e,t){var i,n,a;const o=null===(i=(0,r.nS)(e.widgetSlotData))||void 0===i?void 0:i.data,s=null===(a=null===(n=null==o?void 0:o.products)||void 0===n?void 0:n[t])||void 0===a?void 0:a.value;return null==s?void 0:s.addOns}}var Oe=i(400090),Re=i(857850),ke=i(390437),Ve=i(146387),Le=i(393488),Me=i(53606);class Ne extends Pe{constructor(e,t){super(e,t),this.handleActivityStateEvent=e=>{var t;if(e.pageUID===(null===(t=this.props.pageInfo)||void 0===t?void 0:t.pageUID))switch(e.state){case Oe.z.ON_RESUME:case Oe.z.ON_PAUSE:}},this._handle2WDataUpdate=e=>{var t,i,n,r,a,o,s,l,d,c,u;if(this.props.actionDispatcher&&e){const h=null===(t=this._getParentProductContext())||void 0===t?void 0:t.listingId;if(h&&void 0!==this.state.cartData[h])return;const p=null!==(i=this.getProducts(this.props))&&void 0!==i?i:[],g=this._getInsuranceOnlyABBTransient(null===(o=null===(a=null===(r=null===(n=this.props.pageInfo)||void 0===n?void 0:n.pageTransientData)||void 0===r?void 0:r.data)||void 0===a?void 0:a[L.V.ABB])||void 0===o?void 0:o.mutualExclusion);let m;for(const t of p){const i=null===(d=null===(l=null===(s=t.value)||void 0===s?void 0:s.planDetails)||void 0===l?void 0:l[0])||void 0===d?void 0:d.abbProductId;if(i&&(null===(c=null==e?void 0:e.add)||void 0===c?void 0:c[i])){m=i;break}}const v=[];if(p.forEach((e=>{var t,i,n;const r=null===(n=null===(i=null===(t=e.value)||void 0===t?void 0:t.planDetails)||void 0===i?void 0:i[0])||void 0===n?void 0:n.abbProductId;r&&(null==g?void 0:g[r])&&v.push(r)})),m&&v.length>0&&!v.includes(m)){const t=v[0],i=p.findIndex((e=>{var i,n,r;return(null===(r=null===(n=null===(i=e.value)||void 0===i?void 0:i.planDetails)||void 0===n?void 0:n[0])||void 0===r?void 0:r.abbProductId)===t}));if(-1!==i){const t=this._getPlanWithCompositeListings(i,0),n=null!==(u=this.getAddOns(this.props,i))&&void 0!==u?u:[];if(null==t?void 0:t.compositeListings){const i=[t.compositeListings[0],...n.map((e=>({abbListingId:e.addOnListingId,abbProductId:e.addOnProductId})))],r=Object.assign(Object.assign({},t),{compositeListings:i}),a=new I.A(void 0,r);return this.props.actionDispatcher({type:A.Q3.ATTACH_ACTION,payload:a}),void setTimeout((()=>{this.props.actionDispatcher&&this.props.actionDispatcher({type:A.Q3.ATTACH_ACTION,payload:e})}),100)}}}this.props.actionDispatcher({type:A.Q3.ATTACH_ACTION,payload:e})}},this.renderInsuranceHeader=(e,t)=>{var i,n,r;if(!t)return null;const{planDetails:o,desriptionText:s}=t,l=null===(r=null===(n=null===(i=null==s?void 0:s[0])||void 0===i?void 0:i.value)||void 0===n?void 0:n.richTitles)||void 0===r?void 0:r[0];if(!l)return null;const{title:d,subtitle:c,description:u}=l;return a.createElement(fe.az,{pt:"s6"},a.createElement(fe.fI,{justifyContent:"space-between",alignItems:"center"},(null==d?void 0:d.text)?a.createElement(fe.JU,{mr:"s2",flex:1,numberOfLines:2,ellipsizeMode:"tail",color:"backgroundBold.neutral.group",typography:"heading"},d.text):null,this.renderInsuranceActionButton(o,e)),(null==c?void 0:c.text)?a.createElement(fe.JU,{color:"foreground.default.secondary",typography:"subtext"},c.text):null,(null==u?void 0:u.text)?a.createElement(fe.JU,{color:"foreground.default.secondary",typography:"subtext"},u.text.concat(".")):null)},this.renderInsuredValue=e=>a.createElement(fe.az,{flex:1,py:"s5",borderBottomWidth:Te.OutlineKeysBasic.o2,borderBottomColor:"outline.neutral.subtle"},(null==e?void 0:e.additionalText)?a.createElement(fe.JU,{typography:"subheading",color:"foreground.default.primary"},e.additionalText):null,(null==e?void 0:e.value)?a.createElement(fe.JU,{color:"backgroundBold.neutral.group",typography:"subheading"},`${(0,F.m3)(e.value)}`):null),this.renderInsuranceAddOnList=(e,t,i)=>{var n,r;const o=null===(n=null==i?void 0:i.titles)||void 0===n?void 0:n.subtitle,s=null===(r=null==i?void 0:i.titles)||void 0===r?void 0:r.superTitle;return a.createElement(a.Fragment,null,a.createElement(fe.JU,{pt:"s6",typography:"subheading",color:"foreground.default.primary"},"Pick insurance add-ons"),a.createElement(Ce.uC,{buttonExpandableText:o,buttonExpandableIcon:"CaretUpSmallIcon",buttonCollapsibleText:s,buttonCollapsibleIcon:"CaretDownSmallIcon",buttonIconAlignment:"right",buttonSize:"medium",buttonHierarchy:"quaternary",NativeLinearGradient:Ae.d,onExpandChange:this.handleExpandChange,initialHeight:e.length>2?230:245,showToggleInitially:e.length>2},e.map(((i,n)=>this.renderAddOnCard(i,n,t,this.getShowDivider(n,e.length))))))},this.renderAddOnCard=(e,t,i,n)=>{var r,o,s;const{richTitles:l,pricing:d,addOnListingId:c,addOnProductId:u}=e;if(!l)return null;const h=null===(r=null==l?void 0:l[0])||void 0===r?void 0:r.title,p=null===(o=null==l?void 0:l[0])||void 0===o?void 0:o.subtitle,g=this.state.selectedAddOns.has(u);return a.createElement(b.A,{trackingConfig:{minViewVisibleTime:1e3,minViewVisiblePercentage:50},onViewStarted:()=>{this.getVASTrackingPayload(x.A.VAS_WIDGET_IMPRESSION,0,this.state.selectedSwatchIndex,void 0,u,c,void 0,N.IRM.Digital),this.fireDCIEventForProductCard(e,t)},key:t},a.createElement(fe.az,{py:"s6",flexDirection:"row",alignItems:"flex-start",borderBottomWidth:n?Te.OutlineKeysBasic.o2:Te.OutlineKeysBasic.o0,borderBottomColor:"outline.neutral.subtle"},a.createElement(fe.az,{flex:1},a.createElement(fe.fI,{justifyContent:"space-between",alignItems:"center",mb:"s2"},a.createElement(fe.az,null,(null==h?void 0:h.text)?a.createElement(fe.JU,{flexDirection:"row",justifyContent:"space-between",alignContent:"center",mb:"s2",typography:"body"},h.text):null,(null===(s=null==d?void 0:d.finalPrice)||void 0===s?void 0:s.value)?a.createElement(fe.JU,{flexDirection:"row",color:"backgroundBold.neutral.group",typography:"subheading"},`${(0,F.m3)(null==d?void 0:d.finalPrice.value)}`):null),a.createElement(Ce.$n,{disabled:!i,onPress:()=>{var e,n;return this.handleAddOnClick([t+1,Number(null===(e=null==d?void 0:d.finalPrice)||void 0===e?void 0:e.value),Number(null===(n=null==d?void 0:d.mrp)||void 0===n?void 0:n.value)],i)},width:96,height:30,text:this._getButtonText(g,M.H.rex_string_REMOVE),size:"medium",hierarchy:"quaternary",iconAlignment:"right",NativeLinearGradient:Ae.d})),(null==p?void 0:p.text)?a.createElement(fe.JU,{color:"foreground.default.secondary",typography:"subtext"},p.text):null)))},this.renderInsuranceTermsLink=e=>a.createElement(fe.az,{pt:"s6",flex:1,alignItems:"center",flexDirection:"row",flexWrap:"wrap"},e.map((({value:e,action:t},i)=>{var n;const r=1===i;if(null==e?void 0:e.title)return r?a.createElement(fe.JU,{onPress:e=>{this.howItWorks(e,t)},textAlign:"center",verticalAlign:"center",typography:"subheading",color:"foreground.brandPrimary.link",key:i},null===(n=null==e?void 0:e.title)||void 0===n?void 0:n.concat(".")):a.createElement(fe.JU,{color:"foreground.default.secondary",typography:"body",textAlign:"center",verticalAlign:"center",key:i,mr:"s1"},null==e?void 0:e.title)}))),this.renderInsuranceAddOns=(e,t)=>{var i;if(!t)return a.createElement(a.Fragment,null);const{planDetails:n,addOns:r}=t,o=null===(i=null==n?void 0:n[0])||void 0===i?void 0:i.pricing,s=null==o?void 0:o.insuredPrice;return a.createElement(a.Fragment,null,s?this.renderInsuredValue(s):null,r?this.renderInsuranceAddOnList(r,e,t):null)},this.renderInsurancePricing=e=>{var t,i,n;const{finalPrice:r,title:o,mrp:s,subTitle:l}=null!==(i=null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.pricing)&&void 0!==i?i:{},d=null!==(n=this.getAddOns(this.props,this.state.selectedSwatchIndex))&&void 0!==n?n:[],c=this.getTotalAddOnsMRP(d,this.state.selectedAddOns);return a.createElement(fe.az,{pb:"s6",borderBottomWidth:Te.OutlineKeysBasic.o2,borderBottomColor:"outline.neutral.subtle"},a.createElement(fe.az,{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},o?a.createElement(fe.JU,{color:"foreground.default.primary",typography:"subheading"},o):null,(null==r?void 0:r.value)?a.createElement(fe.JU,{color:"backgroundBold.neutral.group",typography:"heading"},`${(0,F.m3)(r.value+c)}`):null),a.createElement(fe.az,{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},l?a.createElement(fe.JU,{color:"foreground.default.secondary",typography:"subtext"},l):null,(null==s?void 0:s.value)&&(null==r?void 0:r.value)&&(null==s?void 0:s.value)>(null==r?void 0:r.value)?a.createElement(fe.JU,{typography:"subtext",color:"foreground.default.secondary",textDecorationLine:"line-through"},(0,F.m3)(s.value+c)):null))},this._handleButtonPress=(e,t)=>{var i,n,r,a,o,s,l,d,c,u,h,p,g,m,v,_,C,E;const{selectedSwatchIndex:T}=this.state,f=this._getPlanWithCompositeListings(T,0),S=null===(i=null==f?void 0:f.compositeListings)||void 0===i?void 0:i[0],{actionDispatcher:y}=this.props;if(!y||!f||!S)return;const w=null!==(n=this.getProducts(this.props))&&void 0!==n?n:[],b=null===(r=this._getParentProductContext())||void 0===r?void 0:r.listingId,D=b&&void 0!==this.state.cartData[b],x=w.find((e=>{var t,i,n;return this.state.cartData[null===(n=null===(i=null===(t=e.value)||void 0===t?void 0:t.planDetails)||void 0===i?void 0:i[0])||void 0===n?void 0:n.abbListingId]})),P=x&&(null===(s=null===(o=null===(a=x.value)||void 0===a?void 0:a.planDetails)||void 0===o?void 0:o[0])||void 0===s?void 0:s.abbListingId)!==S.abbListingId,O=this._getInsuranceOnlyABBTransient(null===(u=null===(c=null===(d=null===(l=this.props.pageInfo)||void 0===l?void 0:l.pageTransientData)||void 0===d?void 0:d.data)||void 0===c?void 0:c[L.V.ABB])||void 0===u?void 0:u.mutualExclusion);let R;for(const e of w){const t=null===(g=null===(p=null===(h=e.value)||void 0===h?void 0:h.planDetails)||void 0===p?void 0:p[0])||void 0===g?void 0:g.abbProductId;if(t&&(null==O?void 0:O[t])){R=t;break}}const k=R&&R!==S.abbProductId;if(e||!P&&!k)e||P||k?e&&this._showInsurancePopup(t):this._showInsuranceSnackbar(t);else if(D&&P){const e=null===(_=null===(v=null===(m=x.value)||void 0===m?void 0:m.planDetails)||void 0===v?void 0:v[0])||void 0===_?void 0:_.abbListingId,i=w.findIndex((t=>{var i,n,r;return(null===(r=null===(n=null===(i=t.value)||void 0===i?void 0:i.planDetails)||void 0===n?void 0:n[0])||void 0===r?void 0:r.abbListingId)===e}));if(e&&-1!==i){const e=this._getPlanWithCompositeListings(i,0),n=null!==(C=this.getAddOns(this.props,i))&&void 0!==C?C:[];if(null==e?void 0:e.compositeListings){const i=[e.compositeListings[0],...n.map((e=>({abbListingId:e.addOnListingId,abbProductId:e.addOnProductId})))],r=new I.A(void 0,Object.assign(Object.assign({},e),{compositeListings:i}));y({type:A.Q3.ATTACH_ACTION,payload:r}),setTimeout((()=>{this._showInsuranceSnackbar(t)}),200)}}}else if(!D&&k){const e=R,i=w.findIndex((t=>{var i,n,r;return(null===(r=null===(n=null===(i=t.value)||void 0===i?void 0:i.planDetails)||void 0===n?void 0:n[0])||void 0===r?void 0:r.abbProductId)===e}));if(-1!==i){const e=this._getPlanWithCompositeListings(i,0),n=null!==(E=this.getAddOns(this.props,i))&&void 0!==E?E:[];if(null==e?void 0:e.compositeListings){const i=[e.compositeListings[0],...n.map((e=>({abbListingId:e.addOnListingId,abbProductId:e.addOnProductId})))],r=Object.assign(Object.assign({},e),{compositeListings:i}),a=new I.A(void 0,r);y({type:A.Q3.ATTACH_ACTION,payload:a}),setTimeout((()=>{this._showInsuranceSnackbar(t)}),100)}}}q.A.clearKey(this.getInsuranceLocalStaticStorageKey(this.props))},this.renderInsuranceActionButton=(e,t)=>{const{actionButton:i}=null==e?void 0:e[0];if(!i)return null;const n=null==i?void 0:i.value;return a.createElement(Ce.$n,{borderColor:"outline.brandPrimary.highlight",contentColor:"foreground.brandPrimary.link",bgGradientStartColor:"backgroundSubtle.neutral.base",bgGradientEndColor:"backgroundSubtle.neutral.base",text:this._getButtonText(t,M.H.rex_string_REMOVE,M.H.rex_string_ADD),size:"medium",hierarchy:"tertiary",iconAlignment:"right",NativeLinearGradient:Ae.d,onPress:()=>this._handleButtonPress(t,n),onPressParam:n})},this.renderInsuranceFooter=e=>{if(!e)return a.createElement(a.Fragment,null);const{planDetails:t,tip:i}=e;return a.createElement(fe.az,{mb:"s6"},this.renderInsurancePricing(t),(null==i?void 0:i.length)>0?this.renderInsuranceTermsLink(i):null)},this.renderInsuranceSwatches=e=>a.createElement(Ce.Hw,null,e.map(((e,t)=>{var i,n,r,o,s,l,d,c,u,h,p,g,m,v,_;const{value:C}=e,{selectedSwatchIndex:E}=this.state,T=E===t,f=null===(s=null===(o=null===(r=null===(n=null===(i=null==C?void 0:C.desriptionText)||void 0===i?void 0:i[0].value)||void 0===n?void 0:n.richTitles)||void 0===r?void 0:r[0])||void 0===o?void 0:o.image)||void 0===s?void 0:s.dynamicImageUrl,A=null===(l=null==C?void 0:C.planDetails)||void 0===l?void 0:l[0],y=null!==(u=null===(c=null===(d=null==A?void 0:A.pricing)||void 0===d?void 0:d.finalPrice)||void 0===c?void 0:c.value)&&void 0!==u?u:0,w=null!==(g=null===(p=null===(h=null==A?void 0:A.pricing)||void 0===h?void 0:h.mrp)||void 0===p?void 0:p.value)&&void 0!==g?g:0,I=null===(v=null===(m=null==A?void 0:A.pricing)||void 0===m?void 0:m.mrp)||void 0===v?void 0:v.strikeOff,b=null==A?void 0:A.abbListingId,D=null==A?void 0:A.abbProductId,x=null!==(_=this.getAddOns(this.props,t))&&void 0!==_?_:[],P=this.getSelectedAddonsForSwatch(t,x,T,b,D),O=y+this.getTotalAddOnsMRP(x,P),R=w+this.getTotalAddOnsMRP(x,P);return a.createElement(Ce.Vh,{key:null!=b?b:t,index:t,onTabClick:(t,i)=>{E!==i&&(this.fireDCEEventForInsuranceSwatch(e,i),this.setState({selectedSwatchIndex:i}))}},a.createElement(fe.az,{bg:T?"backgroundSubtle.brandPrimary.group":"backgroundSubtle.neutral.group",width:120,borderWidth:T?Te.OutlineKeysBasic.o2:Te.OutlineKeysBasic.o0,borderRadius:Te.CRKeysBasic.cr4,padding:"s4",marginRight:"s4"},a.createElement(fe.az,{flexDirection:"row"},a.createElement(fe.az,{borderRadius:Te.CRKeysBasic.cr4,overflow:"hidden",mr:"s4"},f&&a.createElement(S.A,{source:f,width:36,height:36})),a.createElement(fe.az,{alignItems:"flex-start",justifyContent:"center"},O>0&&a.createElement(fe.JU,{color:"backgroundBold.neutral.group",typography:"label"},`${(0,F.m3)(O)}`),I&&R>0&&a.createElement(fe.JU,{color:"foreground.default.secondary",typography:"subtext",textDecorationLine:"line-through"},(0,F.m3)(R))))))}))),this.renderInsuranceContent=e=>a.createElement(Ce.qd,null,null==e?void 0:e.map(((e,t)=>{var i,n,r,o,s,l;const d=null===(r=null===(n=null===(i=e.value)||void 0===i?void 0:i.planDetails)||void 0===n?void 0:n[0])||void 0===r?void 0:r.abbListingId,c=null===(l=null===(s=null===(o=e.value)||void 0===o?void 0:o.planDetails)||void 0===s?void 0:s[0])||void 0===l?void 0:l.abbProductId,u=this.isInsuranceAdded(d,c);return a.createElement(Ce.Kp,{key:null!=d?d:t,index:t},a.createElement(a.Fragment,null,this.renderInsuranceHeader(u,null==e?void 0:e.value),this.renderInsuranceAddOns(u,null==e?void 0:e.value),this.renderInsuranceFooter(null==e?void 0:e.value)))}))),this.renderMultiInsurance=e=>a.createElement(Ce.tU,{selectedIndex:this.state.selectedSwatchIndex},this.renderInsuranceSwatches(e),this.renderInsuranceContent(e)),this.renderMultiInsuranceHeader=(e,t)=>{var i,n,r,o,s,l,d;const c=null===(r=null===(n=null===(i=null==t?void 0:t[this.state.selectedSwatchIndex])||void 0===i?void 0:i.value)||void 0===n?void 0:n.titles)||void 0===r?void 0:r.title,u=null===(d=null===(l=null===(s=null===(o=null==t?void 0:t[this.state.selectedSwatchIndex])||void 0===o?void 0:o.value)||void 0===s?void 0:s.bannerContent)||void 0===l?void 0:l.value)||void 0===d?void 0:d.title;return c?a.createElement(fe.az,{margin:"s6"},a.createElement(fe.az,{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},a.createElement(fe.JU,{color:"foreground.default.primary",justifyContent:"center",typography:"heading",textAlignVertical:"center",flex:1,marginRight:"s5",numberOfLines:2},c),!this._isInterstitialPage&&a.createElement(fe.az,{bg:"backgroundSubtle.neutral.group",p:"s4",borderRadius:Te.CRKeysBasic.cr8},a.createElement(Ee.I,{name:e?"CaretUpIcon":"CaretDownIcon",size:16}))),u&&a.createElement(Ce.eX,{mt:"s2",size:"M",theme:"Event2",background:"Dark",borderRadius:"Curv",text:u,NativeLinearGradient:Ae.d})):null},this.showAddOnSnackBar=(e,t)=>{var i,n,r;const a=this.getAddOns(this.props,this.state.selectedSwatchIndex);if(a&&a.length>0){const o=null===(n=null===(i=a[t-1])||void 0===i?void 0:i.richTitles)||void 0===n?void 0:n[this.state.selectedSwatchIndex],s={message:`${null!==(r=null==o?void 0:o.title.text)&&void 0!==r?r:"Add On"} ${e?"removed from":"added to"} your Insurance`,design:0,type:0};this.props.actionDispatcher&&this.props.actionDispatcher(new w.n(s))}},this.handleAddOnClick=(e,t)=>{var i,n,r;const a=e[0],o=this._getPlanWithCompositeListings(this.state.selectedSwatchIndex,0);if(!a||!t||!(null==o?void 0:o.compositeListings)||a<=0||a>=o.compositeListings.length)return;const s={selectedAddOns:this.state.selectedAddOns},l=o.compositeListings[a],d=this.state.selectedAddOns.has(l.abbProductId);let c,u;if(d){c=[o.compositeListings[0],...Array.from(this.state.selectedAddOns.values()).filter((e=>e.abbProductId!==l.abbProductId))],u=[l]}else{c=[o.compositeListings[0],...Array.from(this.state.selectedAddOns.values()),l]}const h=this.updateAddOnData(e,d?"remove":"add",s,{[l.abbProductId]:{abbProductId:l.abbProductId,abbListingId:l.abbListingId}},o.price);if(this.setState({selectedAddOns:h.selectedAddOns}),d){const e=Object.assign(Object.assign({},o),{compositeListings:c}),t=Object.assign(Object.assign({},o),{compositeListings:u}),a=new I.A(e,t),s=null===(i=this._getParentProductContext())||void 0===i?void 0:i.listingId;s&&void 0!==this.state.cartData[s]?null===(r=(n=this.props).actionDispatcher)||void 0===r||r.call(n,{type:A.Q3.ATTACH_ACTION,payload:a}):Ie.A.getInstance().emit(we.A.EMIT_2W_DATA,a)}else{const e=Object.assign(Object.assign({},o),{compositeListings:c});this._dispatchAttachAction(e,!0)}this.showAddOnSnackBar(d,a)},this._showInsuranceSnackbar=e=>{var t,i,n;if(!e)return;const{selectedSwatchIndex:r}=this.state,{actionDispatcher:a}=this.props,o=null===(i=null===(t=e.snackBar)||void 0===t?void 0:t.title.value)||void 0===i?void 0:i.text,s=this._getPlanWithCompositeListings(r,0);if(!o||!a||!(null==s?void 0:s.compositeListings))return;const l={message:o,design:0,type:0},d=this.state.selectedAddOns.size>0,c=[s.compositeListings[0],...this.getExistingAddOnsArray()],u=Object.assign(Object.assign({},s),{compositeListings:c}),h=null===(n=c[0])||void 0===n?void 0:n.abbListingId;h&&(this.setState({selectedInsurance:h}),this._dispatchAttachAction(u,!0),a(new w.n(l)),this._handleRTOActionButtonClickTracking(d?P.Xm.AddRTOInsuranceWithPAC:P.Xm.AddRTOInsuranceClick,0,r))},this._showInsurancePopup=e=>{var t;if(!e)return;const{selectedSwatchIndex:i}=this.state,n=this._getPlanWithCompositeListings(i,0);if((null===(t=this._getProduct(i))||void 0===t?void 0:t.value)&&e.popupDetails&&n&&n.compositeListings&&this._showAbbPopup){const t=this.state.selectedAddOns.size>0,r=[...n.compositeListings,n.compositeListings[0],...Array.from(this.state.selectedAddOns.values())],a=Object.assign(Object.assign({},n),{compositeListings:r});this._showAbbPopup(e.popupDetails,a),this._handleRTOActionButtonClickTracking(t?P.Xm.RemoveRTOInsuranceWithPAC:P.Xm.RemoveRTOInsuranceClick,0,i)}},this.createTrackingData=e=>{var t;const i=(null===(t=this.state.trackingParams)||void 0===t?void 0:t.getTracking())||{};return Object.assign(Object.assign({},i),e)},this.dispatchTrackingEvent=e=>{var t,i;null===(i=(t=this.props).actionDispatcher)||void 0===i||i.call(t,{type:A.Q3.DG_TRACKING,payload:e})},this.fireDCIEventForProductCard=(e,t)=>{var i,n,r,a,o,s;const{addOnProductId:l,addOnListingId:d,richTitles:c,pricing:u}=e;if(!l||!this.props.actionDispatcher)return;const h=this.createTrackingData({productId:l,listingId:d||"",position:(t+1).toString(),contentType:"insurance_addon_card",contentTitle:(null===(n=null===(i=null==c?void 0:c[0])||void 0===i?void 0:i.title)||void 0===n?void 0:n.text)||"Insurance Add-on",price:(null===(a=null===(r=null==u?void 0:u.finalPrice)||void 0===r?void 0:r.value)||void 0===a?void 0:a.toString())||"0"}),p=new W.Fdq(new Se.Ay(h),this.state.uniqueViewId,null===(o=this.props.pageInfo)||void 0===o?void 0:o.tabImpressionId,null===(s=this.state.trackingParams)||void 0===s?void 0:s.getImpressionInfo(),Date.now(),100,!0);this.dispatchTrackingEvent(p)},this.getInsuranceTitle=e=>{var t,i,n,r,a,o;const s=null===(a=null===(r=null===(n=null===(i=null===(t=null==e?void 0:e.desriptionText)||void 0===t?void 0:t[0])||void 0===i?void 0:i.value)||void 0===n?void 0:n.richTitles)||void 0===r?void 0:r[0])||void 0===a?void 0:a.title,l=null===(o=null==e?void 0:e.titles)||void 0===o?void 0:o.title;return"string"==typeof s?s:"string"==typeof l?l:"Insurance"},this.createDCEPayload=e=>{var t,i;return new W.bTP(ke.O.CLICK,this.state.uniqueViewId,new Se.Ay(e),void 0,null===(t=this.state.trackingParams)||void 0===t?void 0:t.getImpressionInfo(),null===(i=this.props.pageInfo)||void 0===i?void 0:i.tabImpressionId,!0)},this.fireDCIEventForMainWidget=e=>{var t,i,n,r,a,o,s,l,d,c,u,h,p,g,m,v;const _=null==e?void 0:e[0],C=null==_?void 0:_.value,E=null===(t=null==C?void 0:C.planDetails)||void 0===t?void 0:t[0],T=null===(i=null==E?void 0:E.compositeListings)||void 0===i?void 0:i[0];if(!_||!(null===(n=null==C?void 0:C.planDetails)||void 0===n?void 0:n.length)||!this.props.actionDispatcher)return;const f=(null==_?void 0:_.tracking)||(null===(r=this.state.trackingParams)||void 0===r?void 0:r.getTracking())||{},A=this.createTrackingData({productId:(null==T?void 0:T.abbProductId)||f.productId||"",listingId:(null==T?void 0:T.abbListingId)||f.parentListingId||"",position:f.position||"0",contentType:"insurance_swatch",contentTitle:(null===(c=null===(d=null===(l=null===(s=null===(o=null===(a=null==C?void 0:C.desriptionText)||void 0===a?void 0:a[0])||void 0===o?void 0:o.value)||void 0===s?void 0:s.richTitles)||void 0===l?void 0:l[0])||void 0===d?void 0:d.title)||void 0===c?void 0:c.text)||f.widgetTitle||(null===(u=C.titles)||void 0===u?void 0:u.title)||"Multi Insurance Widget",price:(null===(g=null===(p=null===(h=null==E?void 0:E.pricing)||void 0===h?void 0:h.finalPrice)||void 0===p?void 0:p.value)||void 0===g?void 0:g.toString())||"0"}),S=new W.Fdq(new Se.Ay(A),this.state.uniqueViewId,null===(m=this.props.pageInfo)||void 0===m?void 0:m.tabImpressionId,null===(v=this.state.trackingParams)||void 0===v?void 0:v.getImpressionInfo(),Date.now(),100,!0);this.dispatchTrackingEvent(S)},this.fireDCEEventForInsuranceSwatch=(e,t)=>{var i,n,r;const a=null===(n=null===(i=null==e?void 0:e.value)||void 0===i?void 0:i.planDetails)||void 0===n?void 0:n[0],o=null==a?void 0:a.abbProductId;if(!o||!this.props.actionDispatcher)return;const s=(null===(r=this.state.trackingParams)||void 0===r?void 0:r.getTracking())||{},l=e.value?this.getInsuranceTitle(e.value):"Insurance",d=this.createTrackingData({productId:s.productId||o,listingId:s.listingId||(null==a?void 0:a.abbListingId)||"",position:s.position||(t+1).toString(),contentType:s.contentType||"insurance_swatch",contentTitle:l||s.contentTitle,widgetTitle:s.widgetTitle||"Comprehensive Vehicle Insurance",timestamp:Date.now().toString()});this.dispatchTrackingEvent(this.createDCEPayload(d))},this.fireDCEEventForShowMoreAddOns=()=>{var e,t,i,n;const{selectedSwatchIndex:r}=this.state,a=null===(e=this.getProducts(this.props))||void 0===e?void 0:e[r],o=null===(i=null===(t=null==a?void 0:a.value)||void 0===t?void 0:t.planDetails)||void 0===i?void 0:i[0],s=null==o?void 0:o.abbProductId;if(!s||!this.props.actionDispatcher)return;const l=(null===(n=this.state.trackingParams)||void 0===n?void 0:n.getTracking())||{},d=this.createTrackingData({productId:l.productId||s,listingId:l.listingId||(null==o?void 0:o.abbListingId)||"",position:l.position||(r+1).toString(),contentType:l.contentType||"show_more_addons",contentTitle:l.contentTitle||"show more add-ons",widgetTitle:l.widgetTitle||"Vehicle Insurance & RTO",timestamp:Date.now().toString()});this.dispatchTrackingEvent(this.createDCEPayload(d))},this.handleExpandChange=e=>{e&&this.fireDCEEventForShowMoreAddOns(),this.setState({isAddOnsExpanded:e})},this.state=this.getDerivedState(e,void 0),q.A.setBoolean(this.getInsuranceLocalStaticStorageKey(e),!this.checkIsInsuranceInTransient(e))}checkIsInsuranceInTransient(e){var t,i,n,r,a;const o=this._getPlanWithCompositeListings(this.state.selectedSwatchIndex,0),s=null===(t=null==o?void 0:o.compositeListings)||void 0===t?void 0:t[0],l=this._getInsuranceOnlyABBTransient(null===(a=null===(r=null===(n=null===(i=e.pageInfo)||void 0===i?void 0:i.pageTransientData)||void 0===n?void 0:n.data)||void 0===r?void 0:r[L.V.ABB])||void 0===a?void 0:a.mutualExclusion),d=null==s?void 0:s.abbProductId;return!!(!!l&&d&&d in l)}getInsuranceLocalStaticStorageKey(e){var t,i;return`${null!==(i=null===(t=e.pageInfo)||void 0===t?void 0:t.pageURI)&&void 0!==i?i:""}_hasUserRemovedAllInsurance`}static getWidgetHeight(){return 342}shouldStateUpdate(e,t){return this.checkIfRelaventCartItemsChanged(e,this.state,this.state.selectedSwatchIndex,0)||this._hasABBTransientDataChanged(e)}getDerivedState(e,t){var i,n,r,a,o,s,l,d,c,u,h,p,g,m,v;const _=super.getDerivedState(e,t),C=null!==(i=null==t?void 0:t.isCollapsed)&&void 0!==i&&i;let E=null!==(n=null==t?void 0:t.selectedSwatchIndex)&&void 0!==n?n:0,T=null==t?void 0:t.selectedInsurance;const f=new Map,A=null!==(r=null==t?void 0:t.isAddOnsExpanded)&&void 0!==r&&r,S=null!==(a=this.getProducts(this.props))&&void 0!==a?a:[],y=null===(o=this._getParentProductContext())||void 0===o?void 0:o.listingId,w=y&&void 0!==_.cartData[y],I=this._getInsuranceOnlyABBTransient(null===(c=null===(d=null===(l=null===(s=e.pageInfo)||void 0===s?void 0:s.pageTransientData)||void 0===l?void 0:l.data)||void 0===d?void 0:d[L.V.ABB])||void 0===c?void 0:c.mutualExclusion),b=this.checkIfRelaventCartItemsChanged(e,t,E,0);if(w&&b){const e=S.findIndex((e=>{var t,i,n;const r=null===(n=null===(i=null===(t=e.value)||void 0===t?void 0:t.planDetails)||void 0===i?void 0:i[0])||void 0===n?void 0:n.abbListingId;return!!r&&void 0!==_.cartData[r]}));if(-1!==e){E=e;const t=null===(p=null===(h=null===(u=S[e])||void 0===u?void 0:u.value)||void 0===h?void 0:h.planDetails)||void 0===p?void 0:p[0];T=null==t?void 0:t.abbListingId}else T=void 0}else if(w)T=void 0;else{const t=[];if(S.forEach((e=>{var i,n,r;const a=null===(r=null===(n=null===(i=e.value)||void 0===i?void 0:i.planDetails)||void 0===n?void 0:n[0])||void 0===r?void 0:r.abbProductId;a&&(null==I?void 0:I[a])&&t.push(a)})),t.length>0){const e=t[0],i=S.findIndex((t=>{var i,n,r;return(null===(r=null===(n=null===(i=t.value)||void 0===i?void 0:i.planDetails)||void 0===n?void 0:n[0])||void 0===r?void 0:r.abbProductId)===e}));if(-1!==i){E=i;const e=null===(v=null===(m=null===(g=S[i])||void 0===g?void 0:g.value)||void 0===m?void 0:m.planDetails)||void 0===v?void 0:v[0];T=null==e?void 0:e.abbListingId}}else{const t=q.A.getBoolean(this.getInsuranceLocalStaticStorageKey(e)),i=this._getPlan(E,0),n=!!(null==i?void 0:i.selected);(void 0===I||t)&&n?(T=null==i?void 0:i.abbListingId,E=0):T=void 0}}const D=this.getAddOns(e,E),x=this._getCompositeListings(E,0);return D&&x&&D.forEach((({addOnListingId:e,addOnProductId:t,pricing:i},n)=>{const r=x[n+1];if(!r)return;const a=void 0!==_.cartData[e],o=void 0!==(null==I?void 0:I[t]),s=!!(null==i?void 0:i.selected);let l=!1;l=w?a:void 0!==I?o:s,l&&f.set(t,r)})),Object.assign(Object.assign({},_),{isCollapsed:C,selectedSwatchIndex:E,selectedInsurance:T,selectedAddOns:f,isAddOnsExpanded:A})}componentDidMount(){super.componentDidMount(),Ie.A.getInstance().on(we.A.EMIT_2W_DATA,this._handle2WDataUpdate),"ios"===o.Platform.OS&&Oe.N.addListener(Re.tp.HANDLE_ACTIVITY_STATE_CHANGE,this.handleActivityStateEvent),this._isInterstitialPage&&this.props.actionDispatcher&&Me.Ay.enableTwoWheelerLocalStaticStorage()&&Le.O.restoreAndUpdate(this.props.actionDispatcher,"TWO_WHEELER_RTO_AND_INSURANCE")}_getInsuranceOnlyABBTransient(e){return xe("MULTI_INSURANCE",e)}componentWillUnmount(){var e,t,i,n,r;super.componentWillUnmount(),Ie.A.getInstance().off(we.A.EMIT_2W_DATA,this._handle2WDataUpdate);const a=null===(n=null===(i=null===(t=null===(e=this.props.pageInfo)||void 0===e?void 0:e.pageTransientData)||void 0===t?void 0:t.data)||void 0===i?void 0:i[L.V.ABB])||void 0===n?void 0:n.mutualExclusion,o=null===(r=this._getParentProductContext())||void 0===r?void 0:r.listingId;!(o&&void 0!==this.state.cartData[o])&&this.props.actionDispatcher&&a&&this.props.actionDispatcher(new Ve.zF(new Ve.pN(L.V.ABB,void 0))),q.A.setBoolean(this.getInsuranceLocalStaticStorageKey(this.props),!this.checkIsInsuranceInTransient(this.props))}shouldComponentUpdate(e,t,i){return this.state.isCollapsed!==t.isCollapsed||this.state.selectedSwatchIndex!==t.selectedSwatchIndex||this.state.selectedInsurance!==t.selectedInsurance||this.state.selectedAddOns!==t.selectedAddOns||this.state.isAddOnsExpanded!==t.isAddOnsExpanded||super.shouldComponentUpdate(e,t,i)||this._hasABBTransientDataChanged(e)}componentDidUpdate(e,t,i){var n,r,a,o,s,l,d,c;t.selectedSwatchIndex===this.state.selectedSwatchIndex&&this._getInsuranceOnlyABBTransient(null===(o=null===(a=null===(r=null===(n=this.props.pageInfo)||void 0===n?void 0:n.pageTransientData)||void 0===r?void 0:r.data)||void 0===a?void 0:a[L.V.ABB])||void 0===o?void 0:o.mutualExclusion)!==this._getInsuranceOnlyABBTransient(null===(c=null===(d=null===(l=null===(s=e.pageInfo)||void 0===s?void 0:s.pageTransientData)||void 0===l?void 0:l.data)||void 0===d?void 0:d[L.V.ABB])||void 0===c?void 0:c.mutualExclusion)&&this.updateTransientDataFromState(this.props,this.state)}updateTransientDataFromState(e,t){var i,n,r,a,o,s,l,d,c,u,h,p;const g=null===(i=this._getParentProductContext())||void 0===i?void 0:i.listingId;if(g&&void 0!==t.cartData[g])return;const m=this._getPlanWithCompositeListings(this.state.selectedSwatchIndex,0),v=null===(n=null==m?void 0:m.compositeListings)||void 0===n?void 0:n[0];if(!v)return;const _=null!==(r=this.getProducts(e))&&void 0!==r?r:[],C=_.reduce(((e,t)=>{var i,n;const r=null!==(n=null===(i=t.value)||void 0===i?void 0:i.addOns)&&void 0!==n?n:[];return e.concat(r)}),[]),E=this._getInsuranceOnlyABBTransient(null===(l=null===(s=null===(o=null===(a=e.pageInfo)||void 0===a?void 0:a.pageTransientData)||void 0===o?void 0:o.data)||void 0===s?void 0:s[L.V.ABB])||void 0===l?void 0:l.mutualExclusion),T=v.abbProductId,f=!!E&&T in E,S=!!t.selectedInsurance,y=[],w=[],b=Object.keys(null!=E?E:{}).filter((e=>_.some((t=>{var i,n,r;return(null===(r=null===(n=null===(i=t.value)||void 0===i?void 0:i.planDetails)||void 0===n?void 0:n[0])||void 0===r?void 0:r.abbProductId)===e}))));if(b.length>1){const e=this.getSelectedInsuranceProductId(_,t.selectedInsurance);b.forEach((t=>{t!==e&&this.addToListingForRemoval(t,_,w)}))}S&&!f?(b.forEach((e=>{this.addToListingForRemoval(e,_,w)})),y.push(v)):!S&&f&&w.push({abbListingId:v.abbListingId,abbProductId:v.abbProductId});const D=null===(h=null===(u=null===(c=null===(d=e.pageInfo)||void 0===d?void 0:d.pageTransientData)||void 0===c?void 0:c.data)||void 0===u?void 0:u[L.V.AGGREGATED_CTA])||void 0===h?void 0:h.productData;if(D){const i=S?v.abbProductId:void 0,n=S&&null!==(p=this.getAddOns(e,this.state.selectedSwatchIndex))&&void 0!==p?p:[],r=new Set(n.map((e=>e.addOnProductId))),a=new Set(Array.from(t.selectedAddOns.keys())),o=new Set(_.map((e=>{var t,i,n;return null===(n=null===(i=null===(t=e.value)||void 0===t?void 0:t.planDetails)||void 0===i?void 0:i[0])||void 0===n?void 0:n.abbProductId})).filter(Boolean));Object.keys(D).forEach((e=>{var t,n,s;if(w.some((t=>t.abbProductId===e)))return;if(o.has(e)){if(e!==i){const i=_.find((t=>{var i,n,r;return(null===(r=null===(n=null===(i=t.value)||void 0===i?void 0:i.planDetails)||void 0===n?void 0:n[0])||void 0===r?void 0:r.abbProductId)===e}));if(i){const r=null===(s=null===(n=null===(t=i.value)||void 0===t?void 0:t.planDetails)||void 0===n?void 0:n[0])||void 0===s?void 0:s.abbListingId;r&&w.push({abbListingId:r,abbProductId:e})}}}else{const t=C.find((t=>t.addOnProductId===e));if(t){const i=S&&r.has(e),n=a.has(e);i&&n||w.push({abbListingId:t.addOnListingId,abbProductId:t.addOnProductId})}}}))}const x=w.some((e=>_.some((t=>{var i,n,r;return(null===(r=null===(n=null===(i=t.value)||void 0===i?void 0:i.planDetails)||void 0===n?void 0:n[0])||void 0===r?void 0:r.abbProductId)===e.abbProductId}))));if(x&&Object.keys(null!=E?E:{}).forEach((e=>{if(!_.some((t=>{var i,n,r;return(null===(r=null===(n=null===(i=t.value)||void 0===i?void 0:i.planDetails)||void 0===n?void 0:n[0])||void 0===r?void 0:r.abbProductId)===e}))){const t=C.find((t=>t.addOnProductId===e));if(t){w.some((t=>t.abbProductId===e))||w.push({abbListingId:t.addOnListingId,abbProductId:t.addOnProductId})}}})),0===y.length&&0===w.length)return;const P=y.length>0?Object.assign(Object.assign({},m),{compositeListings:y}):void 0,O=w.length>0?Object.assign(Object.assign({},m),{compositeListings:w}):void 0;if(this.props.actionDispatcher){const e=new I.A(P,O);this.props.actionDispatcher({type:A.Q3.ATTACH_ACTION,payload:e})}}getSelectedInsuranceProductId(e,t){var i,n,r,a;if(!t)return;const o=e.find((e=>{var i,n,r;return(null===(r=null===(n=null===(i=e.value)||void 0===i?void 0:i.planDetails)||void 0===n?void 0:n[0])||void 0===r?void 0:r.abbListingId)===t}));return null!==(a=null===(r=null===(n=null===(i=null==o?void 0:o.value)||void 0===i?void 0:i.planDetails)||void 0===n?void 0:n[0])||void 0===r?void 0:r.abbProductId)&&void 0!==a?a:null}addToListingForRemoval(e,t,i){var n,r;const a=t.find((t=>{var i,n,r;return(null===(r=null===(n=null===(i=t.value)||void 0===i?void 0:i.planDetails)||void 0===n?void 0:n[0])||void 0===r?void 0:r.abbProductId)===e}));if(a){const e=null===(r=null===(n=a.value)||void 0===n?void 0:n.planDetails)||void 0===r?void 0:r[0];e&&i.push({abbListingId:e.abbListingId,abbProductId:e.abbProductId})}}getProducts(e){const t=(0,r.nS)(e.widgetSlotData),i=null==t?void 0:t.data;return null==i?void 0:i.products}_getCompositeListingForAddon(e,t){const i=this._getPlanWithCompositeListings(e,0);if(null==i?void 0:i.compositeListings)return i.compositeListings.find((e=>e.abbProductId===t))}getSelectedAddonsForSwatch(e,t,i,n,r){var a,o,s,l,d,c;if(i)return this.state.selectedAddOns;if(this.isInsuranceAdded(n,r)){const i=new Map,n=this._getInsuranceOnlyABBTransient(null===(l=null===(s=null===(o=null===(a=this.props.pageInfo)||void 0===a?void 0:a.pageTransientData)||void 0===o?void 0:o.data)||void 0===s?void 0:s[L.V.ABB])||void 0===l?void 0:l.mutualExclusion),r=(null===(d=this._getParentProductContext())||void 0===d?void 0:d.listingId)&&void 0!==this.state.cartData[null===(c=this._getParentProductContext())||void 0===c?void 0:c.listingId];return t.forEach((t=>{const a=void 0!==this.state.cartData[t.addOnListingId],o=void 0!==(null==n?void 0:n[t.addOnProductId]);if(r&&a||o){const n=this._getCompositeListingForAddon(e,t.addOnProductId);n&&i.set(t.addOnProductId,n)}})),i}return new Map}renderWidget(){var e;const t=null!==(e=this.getProducts(this.props))&&void 0!==e?e:[],{isCollapsed:i}=this.state;if(!t)return;const n={header:this.renderMultiInsuranceHeader(!1,t),expandedHeader:this.renderMultiInsuranceHeader(!0,t)};return a.createElement(b.A,{trackingConfig:{minViewVisibleTime:1e3,minViewVisiblePercentage:50},onViewStarted:()=>{this.getVASTrackingPayload(x.A.VAS_WIDGET_IMPRESSION,0,this.state.selectedSwatchIndex,void 0,void 0,void 0,void 0,N.IRM.Digital),this.fireDCIEventForMainWidget(t)}},this._isInterstitialPage?a.createElement(a.Fragment,null,this.renderMultiInsuranceHeader(!0,t),a.createElement(fe.az,{mx:"s6"},this.renderMultiInsurance(t))):a.createElement(Ce.En,{initialCollapsedState:i,onChange:this._accordianClick,renderables:n,duration:300},a.createElement(fe.az,{mx:"s6"},this.renderMultiInsurance(t))))}updateAddOnData(e,t,i,n,r){var a,o;const[s]=e,l=new Map(i.selectedAddOns),d=null!==(a=this.getAddOns(this.props,this.state.selectedSwatchIndex))&&void 0!==a?a:[],c=null===(o=d[s-1])||void 0===o?void 0:o.addOnProductId;if(!c)return{selectedAddOns:l};let u;return"add"===t?(!l.has(c)&&n&&n[c]&&l.set(c,n[c]),u=P.Xm.AddInsurancePAC):"remove"===t&&(l.has(c)&&l.delete(c),u=P.Xm.RemoveInsurancePAC),u&&this.getVASTrackingPayload(x.A.VAS_WIDGET_CLICK,0,this.state.selectedSwatchIndex,u,void 0,void 0,(null!=r?r:0)+this.getTotalAddOnsMRP(d,l)),{selectedAddOns:l}}}class He extends Pe{constructor(e,t){super(e,t),this._handle2WRTODataUpdate=e=>{var t,i,n;if(this.props.actionDispatcher&&e){const r=null===(t=this._getParentProductContext())||void 0===t?void 0:t.listingId;if(r&&void 0!==this.state.cartData[r])return;null===(n=(i=this.props).actionDispatcher)||void 0===n||n.call(i,{type:A.Q3.ATTACH_ACTION,payload:e})}},this.handleActionButton=e=>{const{actionButton:t}=null==e?void 0:e.planDetails[0],i=null==t?void 0:t.value,{isRTOPlanSelected:n}=this.state;return a.createElement(Ce.$n,{borderColor:"outline.brandPrimary.highlight",contentColor:"foreground.brandPrimary.link",bgGradientStartColor:"backgroundSubtle.neutral.base",bgGradientEndColor:"backgroundSubtle.neutral.base",text:this._getButtonText(n),size:"medium",hierarchy:"tertiary",iconAlignment:"right",NativeLinearGradient:Ae.d,onPress:e=>n?this._showPopup(e,i):this._showSnackbar(e,i),onPressParam:i})},this.renderRTOSubtitle=e=>{const t=e.titles.coSubtitle,i=e.hyperlink;return a.createElement(fe.JU,{typography:"body",mx:"s6",mb:"s6",flex:1,alignItems:"center"},null==t?void 0:t.concat(" "),i?a.createElement(fe.JU,{onPress:e=>{this.howItWorks(e,null==i?void 0:i.action)},color:"foreground.brandPrimary.link",typography:"subheading"},null==i?void 0:i.text):null)},this.renderRTODescription=e=>{const t=e.desriptionText;return t?a.createElement(fe.az,{bg:"overlay.other.imageOverlay",flex:1,flexDirection:"row",alignItems:"flex-start"},null==t?void 0:t.map(((e,t)=>{const i=null==e?void 0:e.value;return a.createElement(fe.az,{flex:1,mx:"s5",my:"s6",flexDirection:"column",justifyContent:"center",alignItems:"center",key:t},(null==i?void 0:i.icon)?a.createElement(Ee.I,{name:null==i?void 0:i.icon,size:32}):null,a.createElement(fe.JU,{mt:"s3",px:"s1",numberOfLines:3,ellipsizeMode:"tail",typography:"subtext",color:"foreground.default.primary",textAlign:"center"},null==i?void 0:i.subTitle))}))):null},this.renderRTOPricing=e=>{var t,i;const{pricing:n,cumulativePricing:r}=null==e?void 0:e.planDetails[0],o=null==r?void 0:r.rtoListingPrice,s=null==r?void 0:r.handlingChargesListingPrice;return a.createElement(fe.az,null,n?a.createElement(fe.JU,{mb:"s1",color:"foreground.default.primary",typography:"heading"},`${(0,F.m3)(n.finalPrice.value)}`):null,o?a.createElement(fe.az,{alignItems:"center",flex:1,flexDirection:"row"},a.createElement(fe.JU,{mr:"s2",color:"foreground.default.primary",typography:"subtext"},`${(0,F.m3)(null===(t=null==o?void 0:o.finalPrice)||void 0===t?void 0:t.value)}`),a.createElement(fe.JU,{color:"foreground.default.primary",typography:"subtext"},null===(i=null==o?void 0:o.finalPrice)||void 0===i?void 0:i.name)):null,(null==s?void 0:s.finalPrice)?a.createElement(fe.az,{alignItems:"center",flex:1,flexDirection:"row"},a.createElement(fe.JU,{verticalAlign:"center",color:"foreground.default.primary",mr:"s2"},"+"),a.createElement(fe.JU,{mr:"s2",verticalAlign:"center",typography:"subtext",color:"foreground.default.primary"},`${(0,F.m3)(s.finalPrice.value)}`),a.createElement(fe.JU,{color:"foreground.default.primary",typography:"subtext"},s.finalPrice.name)):null)},this.renderRTOFooter=e=>a.createElement(fe.az,{mx:"s5",my:"s6",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},a.createElement(fe.az,{flex:3},this.renderRTOPricing(e)),a.createElement(fe.az,{alignSelf:"flex-start"},this.handleActionButton(e))),this._showPopup=(e,t)=>{var i;if(!t)return;const n=this._getPlanWithCompositeListings(0,0);(null===(i=this._getProduct(0))||void 0===i?void 0:i.value)&&t.popupDetails&&n&&this._showAbbPopup&&(this._showAbbPopup(t.popupDetails,n),this._handleRTOActionButtonClickTracking(P.Xm.RemoveRTOClick,0,0))},this._showSnackbar=(e,t)=>{var i,n;if(!t)return;const r=null===(n=null===(i=t.snackBar)||void 0===i?void 0:i.title.value)||void 0===n?void 0:n.text;if(r&&this.props.actionDispatcher){const e={message:r,design:0,type:0},t=this._getPlanWithCompositeListings(0,0);this.props.actionDispatcher({type:A.Q3.ATTACH_ACTION,payload:new I.A(t)}),Ie.A.getInstance().emit(we.A.EMIT_2W_RTO_DATA,new I.A(t)),this.props.actionDispatcher(new w.n(e)),this._handleRTOActionButtonClickTracking(P.Xm.AddRTOClick)}},this.renderTitle=(e,t)=>{var i,n;const r=e.titles.title,o=null===(n=null===(i=e.bannerContent)||void 0===i?void 0:i.value)||void 0===n?void 0:n.title,s=e.titles.subtitle;if(r)return a.createElement(fe.az,{flex:1},a.createElement(fe.az,{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},a.createElement(fe.JU,{color:"foreground.default.primary",justifyContent:"center",typography:"heading",textAlignVertical:"center",flex:1,marginRight:"s5",numberOfLines:2},r),a.createElement(fe.az,{bg:"backgroundSubtle.neutral.group",p:"s4",borderRadius:Te.CRKeysBasic.cr8},a.createElement(Ee.I,{name:t?"CaretUpIcon":"CaretDownIcon",size:16}))),o&&o.length>0&&a.createElement(Ce.eX,{mt:"s2",size:"M",theme:"Event2",background:"Dark",borderRadius:"Curv",text:o,NativeLinearGradient:Ae.d}),s&&a.createElement(fe.JU,{mt:"s2"},a.createElement(fe.JU,{typography:"bodyParagraph",color:"foreground.default.primary"},s)))},q.A.setBoolean(this.getInsuranceLocalStaticStorageKey(e),!this.checkIsRtoInTransient(e)),this.state=this.getDerivedState(e,void 0)}checkIsRtoInTransient(e){var t;const i=this._getPlan(0,0),n=null==i?void 0:i.abbProductId;return!!(n&&void 0!==(null===(t=De(e))||void 0===t?void 0:t[n]))}static getWidgetHeight(){return 220}getInsuranceLocalStaticStorageKey(e){var t,i;return`${null!==(i=null===(t=e.pageInfo)||void 0===t?void 0:t.pageURI)&&void 0!==i?i:""}_HAS_USER_REMOVED_ALL_RTO`}shouldStateUpdate(e,t){return this.checkIfRelaventCartItemsChanged(e,this.state,0,0)||this._hasABBTransientDataChanged(e)}getDerivedState(e,t){var i;const n=super.getDerivedState(e,t);let r=!1;const a=null===(i=this._getParentProductContext())||void 0===i?void 0:i.listingId,o=a&&void 0!==n.cartData[a],s=this._getPlan(0,0),l=xe("TWO_WHEELER_RTO",De(e)),d=null==s?void 0:s.abbListingId,c=null==s?void 0:s.abbProductId,u=d&&void 0!==n.cartData[d],h=c&&void 0!==(null==l?void 0:l[c]);if(o)r=!!u;else{const t=q.A.getBoolean(this.getInsuranceLocalStaticStorageKey(e));r=this._isInterstitialPage&&Me.Ay.enableTwoWheelerLocalStaticStorage()?!!h:!!h||void 0===l||t}return Object.assign(Object.assign({},n),{isRTOPlanSelected:r,isCollapsed:!1})}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i)||this._hasABBTransientDataChanged(e)}componentDidMount(){super.componentDidMount(),Ie.A.getInstance().on(we.A.EMIT_2W_RTO_DATA,this._handle2WRTODataUpdate),this._isInterstitialPage&&this.props.actionDispatcher&&Me.Ay.enableTwoWheelerLocalStaticStorage()&&Le.O.restoreAndUpdate(this.props.actionDispatcher,"TWO_WHEELER_RTO_AND_INSURANCE")}componentWillUnmount(){var e;super.componentWillUnmount();const t=null===(e=this._getParentProductContext())||void 0===e?void 0:e.listingId;!(t&&void 0!==this.state.cartData[t])&&this.props.actionDispatcher&&this.props.actionDispatcher(new Ve.zF(new Ve.pN(L.V.ABB,void 0))),q.A.setBoolean(this.getInsuranceLocalStaticStorageKey(this.props),!this.checkIsRtoInTransient(this.props)),Ie.A.getInstance().off(we.A.EMIT_2W_RTO_DATA,this._handle2WRTODataUpdate)}updateTransientDataFromState(e,t){var i;const n=this._getPlanWithCompositeListings(0,0);if(!(null==n?void 0:n.compositeListings)||!this.props.actionDispatcher)return;const r=xe("TWO_WHEELER_RTO",De(e)),a=!!r&&(null==n?void 0:n.productId)in r,o=t.isRTOPlanSelected,s=null===(i=this._getParentProductContext())||void 0===i?void 0:i.listingId;let l;s&&void 0!==t.cartData[s]||(a&&!o?l=new I.A(void 0,n):o&&!a&&(l=new I.A(n),q.A.clearKey(this.getInsuranceLocalStaticStorageKey(this.props)))),this.props.actionDispatcher({type:A.Q3.ATTACH_ACTION,payload:l})}renderWidget(){var e;const t=(0,r.nS)(this.props.widgetSlotData),i=null==t?void 0:t.data,n=null==i?void 0:i.products,o=null===(e=null==n?void 0:n[0])||void 0===e?void 0:e.value,{isCollapsed:s}=this.state;if(!t||!i||!o)return;const l={header:a.createElement(fe.az,{m:"s6",flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center"},this.renderTitle(o)),expandedHeader:a.createElement(fe.az,{m:"s6",flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center"},this.renderTitle(o,!0))};return a.createElement(b.A,{trackingConfig:(0,D.G3)(),onViewStarted:()=>{this.getVASTrackingPayload(x.A.VAS_WIDGET_IMPRESSION,0,0)}},a.createElement(Ce.En,{initialCollapsedState:s,onChange:this._accordianClick,renderables:l,duration:300},a.createElement(fe.az,null,a.createElement(fe.az,{borderWidth:Te.OutlineKeysBasic.o2,borderRadius:Te.CRKeysBasic.cr4,borderColor:"outline.neutral.subtle",mx:"s6",mb:"s6"},this.renderRTOFooter(o),this.renderRTODescription(o)),this.renderRTOSubtitle(o))))}renderHeader(){}}class We extends n.A{getWidgetClass(e){switch((0,r.KJ)(e.widgetSlotData)){case"RTO_2W":default:return J;case"TWO_WHEELER_RTO":return He;case"MULTI_INSURANCE":return Ne;case"TWO_WHEELER_INSURANCE":return Z;case"TWO_WHEELER_LOAN_CALLOUT":return ae;case"TWO_WHEELER_LOAN_OFFER_DETAILS":return le;case"TWO_WHEELER_LOAN_NUDGE":return ue}}getWidgetHeight(e){switch((0,r.KJ)(e.widgetSlotData)){case"RTO_2W":default:return J.getWidgetHeight();case"TWO_WHEELER_RTO":return He.getWidgetHeight();case"MULTI_INSURANCE":return Ne.getWidgetHeight();case"TWO_WHEELER_INSURANCE":return Z.getWidgetHeight();case"TWO_WHEELER_LOAN_CALLOUT":return ae.getWidgetHeight();case"TWO_WHEELER_LOAN_OFFER_DETAILS":return le.getWidgetHeight();case"TWO_WHEELER_LOAN_NUDGE":return ue.getWidgetHeight()}}}},610958:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>E});var n=i(465420),r=i(296540),a=i(785364),o=i(406644),s=i(302019),l=i(52754),d=i(45426),c=i(257246),u=i(727e3),h=i(656671),p=i(580555),g=i(395567),m=i(97529),v=i(415283),_=i(914944);class C extends a.A{constructor(){super(...arguments),this._brandStoreMarkerClicked=(e,t)=>{t&&(this.trackOmnitureEvent(new g.wKV(m.A.BRAND_STORE_CLICK,C.getTrackingParams(this.props,t.tracking))),this.trackDiscoveryContentClickEvent(t.tracking),this.trackDiscoveryWidgetClickEvent(),this.dispatchAction(v.Q3.MAPI_ACTION,new _.Oy(t)))},this.renderWidget=()=>{var e;const t=(0,l.xH)(this.props.widgetSlotData),i=null==t?void 0:t.renderableComponents,n=null==t?void 0:t.brandStore,a=null===(e=null==n?void 0:n.value)||void 0===e?void 0:e.text,p="BRAND_ANNOUNCEMENT_V2_HORIZONTAL_VIEW"===(0,l.KJ)(this.props.widgetSlotData);if(!i)return;const g=p?o.km:r.Fragment;return r.createElement(u.w.Consumer,null,(e=>{const t=e?Object.assign(Object.assign({},h.qf.brandStoreTextStyle),{color:(0,c.o0)(e)}):h.qf.brandStoreTextStyle;return r.createElement(s.DD,null,r.createElement(g,null,i.length>0?i.map(((e,t)=>p?this.renderHorizontalListView(e,t,i):this.renderVerticalListView(e,t,i))):null,a?r.createElement(d.S,{onPress:this._brandStoreMarkerClicked,onPressParam:null==n?void 0:n.action},r.createElement(o._R,null,r.createElement(s.JU,Object.assign({},t),a))):null))}))}}static getWidgetHeight(e){return a.A.getWidgetHeight(e)+54}}C.getTrackingParams=(e,t)=>{var i;return new p.Ay(t,(null===(i=null==e?void 0:e.pageInfo)||void 0===i?void 0:i.baseImpressionId)||"")};class E extends n.A{getWidgetClass(e){return C}getWidgetHeight(e){return C.getWidgetHeight(e)}}},611878:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ViewTypes:()=>nt,default:()=>ot});var n=i(296540),r=i(800303),a=i(50745),o=i(45426),s=i(560203),l=i(479892),d=i(876505),c=i(287727);class u extends n.PureComponent{constructor(){super(...arguments),this._onClick=(e,t)=>{t&&this.props.actionDispatcher&&t.action&&this.props.actionDispatcher(t)}}static getHeight(e){return 52}render(){const e=!(!this.props.layoutKey||this.props.layoutKey!==c.I.SUMMARY_KEY_CALLOUTS);return n.createElement(r.DlsView,{style:a.Ys.pricingAidHolder},this.props.pricingAidRC.map(((t,i)=>{let r,a;return t.action&&this.props.getTrackingParams&&this.props.getContentViewTrackingData&&(r=this.props.getTrackingParams(t.action.tracking),a=this.props.getContentViewTrackingData(r)),a?n.createElement(d.A,{key:i,trackingInfo:a},this._renderPricingAidCallouts(i,t,e)):this._renderPricingAidCallouts(i,t,e)})))}_renderPricingAidCallouts(e,t,i){const d=i?[l.jE.padding8H,l.jE.padding8V,{color:r.Color.typographyDefault,font:r.Font.smallSize}]:[l.jE.margin_right_12,l.jE.margin_left_12,{color:r.Color.typographyLight,font:r.Font.smallSizeMediumWeight}],c=i?[l.jE.padding8H,l.jE.padding8V,{color:r.Color.typographyDefault,font:r.Font.smallSize}]:[l.jE.margin_right_12,{color:r.Color.typographyLight,font:r.Font.smallSizeMediumWeight}];return t&&t.value&&t.value.text&&n.createElement(r.DlsView,{style:i?e===this.props.pricingAidRC.length-1?a.Ys.pricingAidContainerView:[a.Ys.pricingAidContainerView,l.jE.margin_right_10]:[l.jE.rowCenter,l.jE.margin_top_8,l.jE.alignItemStretch],key:e},n.createElement(o.S,{onPress:this._onClick,onPressParam:{action:t.action,index:e}},n.createElement(r.DlsView,{style:a.Ys.pricePadding},n.createElement(r.Label,{style:e>=1?[a.Ys.pricingAidText,d]:[a.Ys.firstPricingAidText,c],numberOfLines:4,ellipsizeMode:"tail"},t.value.text))),e!==this.props.pricingAidRC.length-1&&!i&&n.createElement(s.A,{heightVal:32,widthVal:1}))}}var h=i(950617),p=i(877293),g=i(395567),m=i(231679),v=i(1319),_=i(415283),C=i(427891),E=i(311676),T=i(914944),f=i(561310),A=i(152021),S=i(813652),y=i(927443),w=i(52754),I=i(163256),b=i(395901),D=i(57522),x=i(146387),P=i(985234),O=i(352254),R=i(547134),k=i(285669),V=i(150278),L=i(227230),M=i(33629),N=i(103041),H=i(410752),W=i(420721),B=i(672301),U=i(578038),F=i(476519),G=i(908546),z=i(492448),j=i(99394),X=i(53606),Y=i(938777),q=i(347953),J=i(135789),K=i(867953),Q=i(294188),Z=i(544578),$=i(614006),ee=i(911294),te=i(349054),ie=i(300952),ne=i(74175),re=i(122459),ae=i(341038),oe=i(432160),se=i(301600),le=i(365149),de=i(166025),ce=i(166057),ue=i(97529),he=i(580555),pe=i(868882),ge=i(670563),me=i(887261),ve=i(492418);const _e=p.StyleSheet.create({oosPriceStyle:{fontFamily:me.$u,paddingTop:8,includeFontPadding:!1,color:ge.Jy.dimGray,opacity:.66,fontSize:20},oosMainCalloutStyle:{fontFamily:me.$u,paddingTop:4,includeFontPadding:!1,color:ge.Jy.darkMagenta,fontSize:20},oosSubCalloutStyle:{paddingTop:2,color:ge.Jy.dimGray,fontSize:14}});class Ce extends n.Component{render(){const e=this.props.oosCallout;return n.createElement(p.View,null,e.price&&n.createElement(p.Text,{style:_e.oosPriceStyle},`${ve.y3o}${(0,y.m3)(e.price)}`),e.mainCallout&&n.createElement(p.Text,{style:_e.oosMainCalloutStyle},e.mainCallout),e.subCallout&&n.createElement(p.Text,{style:_e.oosSubCalloutStyle},e.subCallout))}}var Ee=i(299520),Te=i(387393),fe=i(627333),Ae=i(879052);const Se=(0,Te.A)(Ce,Ee.A);var ye;"android"===p.Platform.OS&&p.UIManager.setLayoutAnimationEnabledExperimental&&p.UIManager.setLayoutAnimationEnabledExperimental(!0),function(e){e[e.DASHED_UNDERLINE=0]="DASHED_UNDERLINE",e[e.BLUE_TEXT=1]="BLUE_TEXT",e[e.BLUE_TEXT_WITH_CHEVRON=2]="BLUE_TEXT_WITH_CHEVRON"}(ye||(ye={}));class we{constructor(e,t){var i,n,r,a,o,s,d,c,u,h,p,g,m,v,_,E,T,f,A,I,b,D,x,P,O,R;this.faEnabled=!1,this.defaultFAEnable=!1,this.widget=(0,w.nS)(e.widgetSlotData),this.summaryData=this.widget?this.widget.data:void 0,this.oosCallout=null===(i=this.summaryData)||void 0===i?void 0:i.oosCallout,this.titleComponent=this.summaryData&&this.summaryData.titleComponent,this.ratingsAndReviews=this.summaryData&&this.summaryData.ratingsAndReviews,this.priceViewBackgroundColour=this.summaryData&&this.summaryData.priceViewBackgroundColour,this.couponCta=this.summaryData&&this.summaryData.couponCta,this.couponApplied=this.summaryData&&this.summaryData.couponApplied,this.offerExpiryInfo=this.summaryData&&this.summaryData.offerExpiryInfo,this.offerInfo=this.summaryData&&this.summaryData.offerInfo,this.offerSummary=this.summaryData&&this.summaryData.offerSummary,this.offerSummaryGroup=this.summaryData&&this.summaryData.offerSummaryGroups,this.productCardTagDetails=this.summaryData&&this.summaryData.productCardTagDetails,this.offerValue=this.offerInfo&&this.offerInfo.value&&this.offerInfo.value.offerGroups&&this.offerInfo.value.offerGroups.length>0?this.offerInfo.value.offerGroups[0].offers:void 0,this.ratingsValue=this.ratingsAndReviews&&this.ratingsAndReviews.value&&this.ratingsAndReviews.value.rating,this.productSupertitle=this.titleComponent&&this.titleComponent.value&&this.titleComponent.value.superTitle,this.productTitle=this.titleComponent&&this.titleComponent.value&&(this.productSupertitle&&this.titleComponent.value.newTitle?this.titleComponent.value.newTitle:this.titleComponent.value.title),this.productSubtitle=this.titleComponent&&this.titleComponent.value&&this.titleComponent.value.subtitle,this.offertitle=this.titleComponent&&this.titleComponent.value&&this.titleComponent.value.offerTitle,this.productCombinedText=this.productTitle&&this.productSubtitle?`${this.productTitle} (${this.productSubtitle})`:this.productTitle&&this.productTitle,this.groceryOffertitle=this.productTitle&&this.offertitle?`${this.productTitle} (${this.offertitle})`:void 0,this.groceryProductTitle=this.productTitle&&this.productSubtitle&&this.offertitle?`${this.productTitle} (${this.offertitle}) (${this.productSubtitle})`:this.groceryOffertitle?this.groceryOffertitle:this.productCombinedText&&this.productCombinedText,this.preorderAnnouncement=this.summaryData&&this.summaryData.preorderAnnouncement,this.priceVariants=null===(n=this.summaryData)||void 0===n?void 0:n.priceVariants,this.pricing=this.summaryData&&this.summaryData.pricing,this.callouts=null===(r=this.summaryData)||void 0===r?void 0:r.callouts,this.quantityMetaData=null===(a=this.summaryData)||void 0===a?void 0:a.quantityMetaData,this.nepCallouts=null===(o=this.summaryData)||void 0===o?void 0:o.nepCallouts,this.deliveryCallouts=null===(s=this.summaryData)||void 0===s?void 0:s.deliveryCallouts,this.otherCallouts=null===(d=this.summaryData)||void 0===d?void 0:d.otherCallouts,this.showDiscountAsAmmount=this.pricing&&this.pricing.value&&this.pricing.value.showDiscountAsAmount,this.pricePerUnit=this.pricing&&this.pricing.value&&this.pricing.value.pricePerUnit,this.summaryMeta=this.summaryData?this.summaryData.summaryMeta:void 0,this.urgency=this.summaryMeta&&this.summaryMeta.urgency,this.urgencyMessage=this.urgency&&this.urgency.urgencyMessage,this.defaultFAEnable=!!(this.summaryMeta&&this.summaryMeta.flags&&this.summaryMeta.flags.flipkartAdvantage)&&this.summaryMeta.flags.flipkartAdvantage,this.faEnabled=!(!this.summaryMeta||!this.summaryMeta.flags)&&(!this.summaryMeta.flags.disableFassuredImage&&this.defaultFAEnable),this.listingPreservation=this.summaryData&&this.summaryData.listingPreservationAnnouncement,this.pricingAid=this.summaryData&&this.summaryData.pricingAid,this.exclusiveTag=this.summaryMeta&&this.summaryMeta.exclusiveTag,this.productExpiry=this.summaryMeta&&this.summaryMeta.productExpiry,this.productManufacture=this.summaryMeta&&this.summaryMeta.productManufacture,this.asmMessage=this.summaryMeta&&this.summaryMeta.asmMessage,this.newVersionComponent=this.summaryData&&this.summaryData.newVersionComponent,this.productDetailsAnnouncement=this.summaryData&&this.summaryData.productDetailsAnnouncement,this.deliveryMessage=this.summaryMeta&&this.summaryMeta.deliveryMessage,this.urgencyText=this.urgency&&this.urgency.expiry&&this.urgency.offerExpiryMessage?` ${this.urgency.offerExpiryMessage}`:void 0,this.extraDiscountInfo=this.urgency&&this.urgency.extraDiscountInfo?` ${this.urgency.extraDiscountInfo}`:void 0,this.offerInfoText=(this.offerInfo&&this.offerInfo.value&&this.offerInfo.value.primaryTitle?this.offerInfo.value.primaryTitle:"")+(this.urgencyText?this.urgencyText:"")+(this.extraDiscountInfo?this.extraDiscountInfo:""),this.offerInfoDefaultText=(this.offerInfo&&this.offerInfo.value&&this.offerInfo.value.primaryTag?this.offerInfo.value.primaryTag:"")+(this.urgencyText?this.urgencyText:"")+(this.extraDiscountInfo?this.extraDiscountInfo:""),this.reviewCount=this.ratingsAndReviews&&this.ratingsAndReviews.value&&this.ratingsAndReviews.value.reviewCount?this.ratingsAndReviews.value.reviewCount:void 0,this.numberOfCustomerPhotos=null===(u=null===(c=this.ratingsAndReviews)||void 0===c?void 0:c.value)||void 0===u?void 0:u.reviewImageCount,this.reviewString=this.reviewCount&&this.ratingsValue&&this.ratingsValue.average&&this.ratingsValue.average>0?`& ${(0,y.m3)(this.reviewCount)} ${t({id:H.H.rex_string_REVIEWS})}`:this.reviewCount?`${(0,y.m3)(this.reviewCount)} ${t({id:H.H.rex_string_REVIEWS})}`:void 0,this.textStyle=[l._6.fontRegular_14,l.jE.padding_bottom_4,l._6.fkBlackPrimaryText],this.containerHighlightedStyle=[l._6.fontRegular_16,l._6.lightGreyText],this.productDetailsSideActionViewModel={iconUri:S.productDetailsIcon,text:t({id:H.H.rex_string_PRODUCT_DETAILS})},this.userReviews=null===(g=null===(p=null===(h=this.ratingsAndReviews)||void 0===h?void 0:h.value)||void 0===p?void 0:p.userReviews)||void 0===g?void 0:g.data,this.brandStore=null===(m=this.summaryData)||void 0===m?void 0:m.brandStore,C.A.loadStyleConfig(N.P.PRE_BOOK.toString()),this.enableTDOfferAb=U.k.getTargetedDiscountAbValue(),this.moqComponent=this.summaryData&&this.summaryData.moqComponent,this.enableUrgencyViewAnimation=!1,this.dealTags=null===(_=null===(v=this.summaryData)||void 0===v?void 0:v.dealTags)||void 0===_?void 0:_.tagItems,this.enableAspectRatingsViewAnimation=!1,this.scaleAspectComponents=null===(E=this.summaryData)||void 0===E?void 0:E.scaleAspectComponents,this.variantsButton=this.summaryData&&this.summaryData.variantsButton,this.swatchVariantButton=null===(T=this.summaryData)||void 0===T?void 0:T.swatchVariantButton,this.couponSummaries=null===(f=this.summaryData)||void 0===f?void 0:f.couponSummaries,this.couponSummaryEnabled=!!(this.couponSummaries&&this.couponSummaries.length>0),this.sellerRaings=null===(A=this.summaryData)||void 0===A?void 0:A.sellerRating,this.fAssuredIcon=null===(I=this.summaryData)||void 0===I?void 0:I.fAssuredIcon,this.featureTags=null===(D=null===(b=this.summaryData)||void 0===b?void 0:b.featureTags)||void 0===D?void 0:D.tagItems,this.addToCartComponent=null===(x=this.summaryData)||void 0===x?void 0:x.addToCart;const k=e.appContext.userManager.getCartContents(),V=null===(P=e.pageInfo&&e.pageInfo.pageContext)||void 0===P?void 0:P.listingId;this.quantity=V&&null!==(R=null===(O=k[V])||void 0===O?void 0:O.quantity)&&void 0!==R?R:0}}class Ie extends I.o{constructor(e,t){super(e,t),this.highlightedStyle=[l.C1.padding_vertical_neg_6,l.C1.margin_bottom_neg_2],this.MAX_ASPECT_RATINS_TO_DISPLAY=5,this.shouldRepositionEmiCalloutAB=!!q.A.getExperimentValue(Y.ZLM.SHOULD_REPOSITION_EMI_CALLOUT),this._brandStoreClicked=(e,t)=>{t&&(this.trackOmnitureEvent(new g.wKV(ue.A.BRAND_STORE_CLICK,Ie.getTrackingParams(this.props,t.tracking))),this.dispatchAction(_.Q3.MAPI_ACTION,new T.Oy(t)))},this.renderProductDetailsAction=e=>{if(!e)return;const t=this.state.viewModel;return n.createElement(r.DlsView,{style:[l.jE.rowWithoutFlex,l.jE.contentAlignCenter]},n.createElement(s.A,{heightVal:56,widthVal:1}),n.createElement(o.S,{onPress:this._productDetailsClick,onPressParam:e.action,disableFeedback:!0},n.createElement(r.DlsView,{style:l.jE.justifyContentFlexEnd},n.createElement(r.DlsView,{style:m.dE.productDetailsContainer},t&&t.productDetailsSideActionViewModel?n.createElement(O.A,{height:24,width:24,style:m.M1.productDetails,source:t.productDetailsSideActionViewModel.iconUri}):void 0,t&&t.productDetailsSideActionViewModel?n.createElement(r.Label,{style:m.dE.detailsText,numberOfLines:2},t.productDetailsSideActionViewModel.text):void 0))))},this._getIsGroupBuyFlow=(e,t=Y.fOd.MARKETPLACE_FLIPKART)=>{const i=!!e.priceVariants&&t===Y.fOd.MARKETPLACE_GROCERY,n=ie.A.getIsGBFlowFlipkart(e.priceVariants)&&t===Y.fOd.MARKETPLACE_FLIPKART;return i||n},this._quantitySelectorStateChanged=(e,t)=>{if(this.props.actionDispatcher){let i;const n=(0,w.Qd)(this.props,D.j.CART_PAGE_PRODUCT_CARD);i=null==n?{quantityChangingLids:{},type:D.j.CART_PAGE_PRODUCT_CARD}:Object.assign({},n),i.quantityChangingLids[e]=0,this.props.actionDispatcher(new x.zF(new x.pN(P.V.PP_QTY_SELECTOR_DATA,{selectedQty:t}))),this.props.actionDispatcher(new x.YI(new x.qF(D.j.CART_PAGE_PRODUCT_CARD,i)))}},this._onBasketValueChanged=(e,t,i)=>{var n,r;const a=this.getProductPageContext();if(i&&this.dispatchAction)if(i.type===ce.a.CART_ADD||i.type===ce.a.CART_ADD_AND_SCROLL){const o={previousQuantity:e,quantity:t,price:null===(n=null==a?void 0:a.pricing)||void 0===n?void 0:n.fsp,category:null===(r=null==a?void 0:a.analyticsData)||void 0===r?void 0:r.category,action:i};if(this.dispatchAction(_.Q3.BASKET_ADD,new le.G(o)),e<=t){const e=this.getListingId();if(e&&a){const t=new E.jto(e,de.N.PAGE,void 0,void 0,void 0,a.productId,null==a?void 0:a.brand,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0);this.trackDGEvent(t)}const t=null==a?void 0:a.fetchId,i=null==a?void 0:a.productId,n=null==a?void 0:a.marketplace;if(t&&i){const r=new E.ytk(t,i,n,e);this.trackDGEvent(r)}}}else this.dispatchAction(_.Q3.MAPI_ACTION,new T.rs(i))},this.isrenderOtherCallouts=()=>{const e=this.state.viewModel;return!!e.otherCallouts&&e.otherCallouts.length>0},this.renderOtherCallouts=(e,t)=>{const i=this.state.viewModel;return i.otherCallouts&&i.otherCallouts.length>0?this.renderCalloutInWrapper(i.otherCallouts,e,t):void 0},this._isHavingLongertext=e=>{let t=!1;return e&&(t=null==e?void 0:e.some((e=>{var t;return(null==e?void 0:e.name)&&(null===(t=null==e?void 0:e.name)||void 0===t?void 0:t.length)>8}))),t},this._startUrgencyAnimationView=(e,t)=>{let{viewModel:i}=this.state;i=Object.assign(Object.assign({},i),{enableUrgencyViewAnimation:!0}),this.setState({viewModel:i})},this._startReviewsAnimationView=(e,t)=>{let{viewModel:i}=this.state;i=Object.assign(Object.assign({},i),{enableAspectRatingsViewAnimation:!0}),this.setState({viewModel:i})},this._getMultiCondition=()=>(this.isAspectRatingsPresent()&&!this.aspectRatingsViewCondition&&(this.aspectRatingsViewCondition=[],this.aspectRatingsViewCondition.push(new K.D_("_prefetchVideo",800,5,this._startReviewsAnimationView))),this.urgencyViewCondition||this.aspectRatingsViewCondition||[]),this.renderOOSCallout=e=>n.createElement(Se,{oosCallout:e}),this._renderMOQAnnouncment=()=>{const e=this.state.viewModel.moqComponent;if(e)return n.createElement(G.A,{announcements:[e],showAnimation:!0,animationContainerStyle:[l.C1.margin_top_2,l.C1.padding_right_4,l.C1.padding_left_2,l.C1.margin_bottom_8,l.C1.contentSelfAlignStart],containerStyle:l.C1.padding2V,textContainerStyle:l.C1.padding_right_6,actionDispatcher:this.dispatchAction,avoidDefaultContainerStyleOnMoq:!0})},this.renderDealsAndPriceViewsComponent=e=>{var t,i,o,s,l,d;const c=this.shouldRepositionEmiCalloutAB&&this.isrenderOtherCallouts()?a.Ys.specialPriceHighlightStyleAB:a.Ys.specialPriceHighlightStyle;return(null===(o=null===(i=null===(t=this.props)||void 0===t?void 0:t.pageInfo)||void 0===i?void 0:i.pageContext)||void 0===o?void 0:o.isNewUser)||this.state.viewModel.offerInfoText||!this.state.viewModel.dealTags?n.createElement(r.DlsView,null,this.state.viewModel.offerInfoText?n.createElement(r.DlsView,{style:e},this.renderUrgencyView(this.state.viewModel.offerInfoText)):void 0,this.state.viewModel.dealTags&&this.renderTagComponents(this.state.viewModel.dealTags),this.state.viewModel.offerInfoDefaultText&&!(null===(d=null===(l=null===(s=this.props)||void 0===s?void 0:s.pageInfo)||void 0===l?void 0:l.pageContext)||void 0===d?void 0:d.isNewUser)?this.renderPricingViewForTag(!1,a.Ys.strikeOutTextHighlighted,a.Ys.discountTextHighlighted,void 0,c,void 0,void 0,void 0,!0):this.renderPricingViewForTag(!1)):n.createElement(r.DlsView,null,this.state.viewModel.offerInfoText?n.createElement(r.DlsView,{style:e},this.renderUrgencyView(this.state.viewModel.offerInfoText)):void 0,n.createElement(r.DlsView,{style:a.Ys.priceViewHighlightedStyle},this.state.viewModel.dealTags&&this.renderTagComponents(this.state.viewModel.dealTags)),this.renderPricingViewForTag(!1,a.Ys.strikeOutTextHighlighted,a.Ys.discountTextHighlighted,void 0,c,void 0,void 0,void 0,!0,!0))},this.renderTagComponents=e=>{var t,i,r;return n.createElement(Z.A,{tagItem:e,isHighlighted:!(null===(r=null===(i=null===(t=this.props)||void 0===t?void 0:t.pageInfo)||void 0===i?void 0:i.pageContext)||void 0===r?void 0:r.isNewUser),parentContainerStyle:a.hK.tagParentStyle,numberOfLines:0,ellipsizeMode:void 0})},this._getImageUrl=()=>{const e=this.getProductPageContext();return e&&e.imageUrl?e.imageUrl:void 0},this._handleRnRClick=(e,t)=>{const i=!!X.Ay.getReactNativeConfigGlobalValue("reviewUnderlined")||!!X.Ay.getReactNativeConfigGlobalValue("reviewBlueChevron")||!!X.Ay.getReactNativeConfigGlobalValue("reviewBlue");this._ratingsAndReviewsDG(this.getFetchId()),t&&this.dispatchAction(_.Q3.MAPI_ACTION,new T.Oy(t)),i&&this.trackOmnitureEvent(new g.Wn3)},this._handleNewVersionClick=(e,t)=>{this._newVersionComponentDG(this.getFetchId()),t&&this.dispatchAction(_.Q3.MAPI_ACTION,new T.Oy(t))},this._handlePricingClick=(e,t)=>{const i=t&&t.pricing&&t.pricing.value&&t.pricing.value.plusPriceInfo&&t.pricing.value.plusPriceInfo.data&&t.pricing.value.plusPriceInfo.data.length>0;this.trackOmnitureEvent(new g.tCj(i));const n={summaryData:t};if(this.props.actionDispatcher){const e={modalType:"BOTTOM_SHEET",widgetType:R.A.PRODUCT_PRICING_MODAL,widgetData:n,scrollable:!1,disableSwipeToClose:!0},t=new f.iM(f.xH.OPEN_MODAL,e);this.props.actionDispatcher(t)}},this._ratingsAndReviewsDG=e=>{const t=new E.zxP(e);this.trackDGEvent(t)},this._newVersionComponentDG=e=>{const t=new E.PYS(e,this.getProductId());this.trackDGEvent(t)},this._flipkartAdvantageDG=(e,t)=>{const i=new E.rNN(e,t);this.trackDGEvent(i)},this._handleFAClick=()=>{this._flipkartAdvantageDG(this.getFetchId(),this.getListingId())},this.updateRecentlyView=e=>{const t=this.getProductId();if(!this.props.actionDispatcher||!t)return;const i={productSummaryValue:{id:t,listingId:this.getListingId(),pricing:e.pricing?e.pricing.value:void 0,media:this._getMedia(this._getImageUrl()),titles:this._getTitles(e.titleComponent),conditionCallout:!1,type:"ProductSummaryValue"}};this.dispatchAction(_.Q3.UPDATE_RECENTLY_VIEW,new A.e(i)),this.setState({recentlyViewFired:!0})},this.toggleTitleExpanded=()=>{const e={type:v.J.ExpandProductPageTitle,data:{isExpanded:!this.state.titleExpanded}};this.dispatchAction(_.Q3.EXPAND_ACTION,new v.Z(e)),this.setState({titleExpanded:!this.state.titleExpanded})},this._nonChevronOffersClick=e=>{this._handlePricingClick(e,this.state.viewModel.summaryData)},this._onPriceSummaryClicked=e=>{const t=this.state.viewModel;this._handlePricingClick(e,t.summaryData)},this._productDetailsClick=(e,t)=>{t&&(this.trackOmnitureEvent(new g.I0F),this.dispatchAction(_.Q3.MAPI_ACTION,new T.Oy(t)))},this._renderLegacyCalloutsItems=e=>n.createElement(j.A,{messages:e.data,data:e,parentContainerStyle:(0,r.getViewStyle)(this.calloutLegacyContainerStyle),textContainerStyle:l.C1.row_wrap,textDefaultStyle:l.XT.fontRegular_14,imageContainerStyle:l.C1.margin_right_8,appContext:this.props.appContext,dispatchAction:this._onValueClick}),this._renderCallouts=(e,t,i)=>{let a;e.data.map((e=>{e.tracking&&(a=e.tracking)}));const o=n.createElement(j.A,{messages:e.data,data:e,parentContainerStyle:(0,r.getViewStyle)(this.calloutContainerStyle),textContainerStyle:t?{}:l.C1.row_wrap,textDefaultStyle:l.XT.fontRegular_14,imageContainerStyle:l.C1.margin_right_8,appContext:this.props.appContext,dispatchAction:this._onValueClick,isStyleEnabled:i});return this.getTrackableContentView(o,a)},this._onValueClick=e=>{const t=e.action;if(t){const e=new T.Oy(t);this.dispatchAction(_.Q3.MAPI_ACTION,e),t.tracking&&this.trackDiscoveryContentClickEvent(t.tracking)}},this._viewAllOffer=(e,t)=>{t&&this.dispatchAction(_.Q3.MAPI_ACTION,new T.Oy(t))},this._handleEDClaimAction=(e,t)=>{this.dispatchAction&&t&&(this.trackDiscoveryContentClickEvent(t.tracking),this.dispatchAction(_.Q3.MAPI_ACTION,new T.Oy(t)))},this.getContainerStyle=e=>{const t=[l.jE.padding16H];return this.state.viewModel.titleComponent?t.push(l.jE.padding12V):t.push(e?l.jE.padding_bottom_24:l.jE.padding8V),this.parentHorizontalPadding=p.StyleSheet.flatten(t).paddingHorizontal,t},this._quantitySelector=()=>{var e,t,i,a,o;const s=this.state.viewModel,d=I.o.getCartQuantityForLid(this.getListingId(),this.state.cartData),c=(0,w._t)(this.props,P.V.PP_QTY_SELECTOR_DATA),u=d>0?d:c?c.selectedQty:null!==(t=null===(e=s.quantityMetaData)||void 0===e?void 0:e.minQuantity)&&void 0!==t?t:1;return n.createElement(r.DlsView,{style:l.C1.margin_right_8},n.createElement(b.A,{fsn:this.getProductId(),pid:this.getProductId(),lid:this.getListingId(),disabled:!1,selected:u,actionDispatcher:this.props.actionDispatcher,appContext:this.props.appContext,isLoading:!1,isCheckoutPage:!1,stateChange:this._quantitySelectorStateChanged,minQuantity:null===(i=s.quantityMetaData)||void 0===i?void 0:i.minQuantity,maxQuantity:null===(a=s.quantityMetaData)||void 0===a?void 0:a.maxQuantity,disableCartItemUpdate:!(d>0),action:null===(o=s.quantityMetaData)||void 0===o?void 0:o.action,containerStyle:(0,r.getViewStyle)(this.qtySelectorStyle),ignorePageInsert:!0}))},this.renderOffferViewWithQuantitySelector=()=>{var e,t;const i=this.state.viewModel,a=null===(e=null==i?void 0:i.quantityMetaData)||void 0===e?void 0:e.quantitySelectorCallout;return(null==i?void 0:i.quantityMetaData)&&!(null===(t=i.quantityMetaData)||void 0===t?void 0:t.restrictQuantityUpdate)?n.createElement(r.DlsView,{style:this.quantitySelectorContainer},this._quantitySelector(),!!a&&n.createElement(r.Label,{style:[l._6.fontRegular_14,l.C1.margin_top_8]},a)):null};const i=this.getScreenWidth();this.calloutContainerStyle=[l.C1.margin_bottom_2,l.C1.alignItemCenter],this.calloutLegacyContainerStyle=[l.C1.margin_bottom_12,l.C1.alignItemCenter],this.ratingsOuterContainerStyle=[l.C1.rowSpaceBetween,l.C1.margin_top_4,l.C1.margin_bottom_0,l.C1.contentSelfAlignStretch,{width:i-32}],this.ratingReviewBoxStyle=[l.C1.alignItemCenter,l.C1.margin_right_16],this.ratingReviewTextStyle=[l.XT.lineHeight_20,l._6.fontMedium_14],this.ratingStarStyle=[l._6.fontMedium_10,l.C1.margin_left_1],this.reviewTextBoxStyle=[l.C1.alignItemCenter,l.C1.width_53],this.reviewTextStyle=[l.XT.lineHeight_16,l._6.fontMedium_12,l._6.fkDimGrey,l.XT.alignTextCenter],this.qtySelectorStyle=[l.C1.absolute_top_0,l.C1.max_width_80,l.C1.width_auto],this.quantitySelectorContainer=[l.C1.row,l.C1.alignItemCenter,l.C1.padding_bottom_16,l.C1.wrap]}static getPricingViewWidgetHeight(e,t){if((0,F.F)(N.P.PRE_BOOK,e))return M.A.getHeight();return ie.A.getIsGBFlowFlipkart(t)?104:41}static getOfferSummaryHeight(e){return z.A.getComponentHeight(e)}getDerivedState(e,t){let i=new we(e,this.localize);(null==t?void 0:t.viewModel.enableUrgencyViewAnimation)&&(i=Object.assign(Object.assign({},i),{enableUrgencyViewAnimation:!0})),(null==t?void 0:t.viewModel.enableAspectRatingsViewAnimation)&&(i=Object.assign(Object.assign({},i),{enableAspectRatingsViewAnimation:!0}));const n=e.widgetSlotData.transientData&&e.widgetSlotData.transientData.isExpanded,r=!(!t||this.isWidgetDataChanged(e))&&t.recentlyViewFired;return Object.assign(Object.assign({},super.getDerivedState(e,t)),{viewModel:Object.assign({},i),recentlyViewFired:r,titleExpanded:n})}shouldComponentUpdate(e,t,i){let n=!1,r=!1;n=(0,w.Qd)(this.props,D.j.CART_PAGE_PRODUCT_CARD)!==(0,w.Qd)(e,D.j.CART_PAGE_PRODUCT_CARD);return r=(0,w._t)(this.props,P.V.PP_QTY_SELECTOR_DATA)!==(0,w._t)(e,P.V.PP_QTY_SELECTOR_DATA),n||r||super.shouldComponentUpdate(e,t,i)||this.state.titleExpanded!==t.titleExpanded||(0,Q.A)(this.state.viewModel,t.viewModel)||this.state.recentlyViewFired!==t.recentlyViewFired}componentDidMount(){this.state.recentlyViewFired||this.updateRecentlyView(this.state.viewModel)}componentDidUpdate(){this.state.recentlyViewFired||this.updateRecentlyView(this.state.viewModel)}renderDivider(){}static getTrackingParams(e,t){return new he.Ay(t,e.pageInfo?e.pageInfo.baseImpressionId:"")}renderBrandStore(){var e,t;const i=this.state.viewModel;return(null===(t=null===(e=i.brandStore)||void 0===e?void 0:e.value)||void 0===t?void 0:t.text)?n.createElement(o.S,{onPress:this._brandStoreClicked,onPressParam:i.brandStore.action},n.createElement(r.Label,{style:a.Ys.brandStoreTextStyle},i.brandStore.value.text)):null}renderProductSupertitle(e){const t=this.state.viewModel;return t.productSupertitle&&n.createElement(r.Label,{style:[a.Ys.titleText,a.Ys.superTitleText,e],numberOfLines:2,ellipsizeMode:"tail"},t.productSupertitle)}renderProductTitle(e,t,i){const a=this.state.viewModel;if(a.productTitle&&a.productCombinedText)return i?n.createElement(r.DlsView,Object.assign({},(0,Ae.Z)("Product_Summary_Title")),this.renderProductTitleTruncatable(a,t,i,e)):n.createElement(r.DlsView,Object.assign({},(0,Ae.Z)("Product_Summary_Title")),this.renderProductTitleTruncatable(a,t),this.renderExclusiveTag(e,a.exclusiveTag))}renderProductTitleTruncatable(e,t,i,o){if(e.productCombinedText)return n.createElement(r.TruncableLabel,{isExpanded:this.state.titleExpanded,text:e.productCombinedText,onPress:this.toggleTitleExpanded,containerStyle:[t&&e.productSupertitle?e.containerHighlightedStyle:a.Ys.titleText],truncateAfterCharLimit:80,suffixText:i&&e.exclusiveTag?" "+e.exclusiveTag:void 0,suffixStyle:i&&e.exclusiveTag?o:void 0})}renderExclusiveTag(e,t){if(t)return n.createElement(r.Label,{style:[a.Ys.productDetailsTextWrapper,a.Ys.productDetailsExclusiveTag]},t&&n.createElement(r.Label,{style:e},t," "))}renderProductTitleDefaultView(){const e=this.state.viewModel;if(!e.productTitle||!e.productCombinedText)return;const t=e.exclusiveTag?`${e.productCombinedText} ${e.exclusiveTag}`:e.productCombinedText;return n.createElement(r.TruncableLabel,{isExpanded:this.state.titleExpanded,text:t,onPress:this.toggleTitleExpanded,containerStyle:[a.Ys.titleText],truncateAfterCharLimit:80})}renderExpiryView(e){const t="   "+this.localize({id:H.H.rex_string_EXPIRY})+": ";return n.createElement(r.DlsView,{style:a.Ys.expiryViewContainer},n.createElement(s.A,{heightVal:1,widthVal:this.props.appContext.uiContext.windowFrame.width-32}),n.createElement(r.DlsView,{style:a.Ys.expiryTextContainer},n.createElement(O.A,{source:S.expiryClock,height:18,width:18}),n.createElement(r.Label,{style:a.Ys.expiryText},t),n.createElement(r.Label,{style:a.Ys.expiryTextValue},e)))}renderUnavailableView(){var e;return(null===(e=this.state.viewModel.widget)||void 0===e?void 0:e.type)===$.n.PRODUCT_TITLE?void 0:n.createElement(r.Label,{style:a.Ys.currentlyUnavailableText},"Currently Unavailable")}renderPricingViewForTag(e,t,i,n,r,a,o,s,l,d,c){const u=this.state.viewModel,h=e||!1;return u.pricing&&u.pricing.value?u.pricing.value.partPriceInfo?this.renderPreOrderSummary(u.pricing):this.renderPricingView(h,t,i,n,r,a,o,s,l,d,c):this.renderPricingView(h)}renderPricePerUnitText(e,t){const i=e?a.Ys.ppuTextWithBGHighlighted:a.Ys.ppuText,o=e?a.Ys.perUnitContainerStyle:{};return n.createElement(r.DlsView,null,t&&n.createElement(r.DlsView,{style:o},n.createElement(r.Label,{style:i},t)))}renderPricingView(e,t,i,s,d,c,u,h,p,g,m){var v,_;const C=this.state.viewModel,E=Ie.getPricePerUnitText(C.pricePerUnit),T=X.Ay.getIsEnabledFontSize(X.Td.PRODUCT_PAGE),f=this.getProductPageContext(),A=X.Ay.getFontSizeForMrp(),S=!((null==f?void 0:f.marketplace)!==Y.fOd.MARKETPLACE_FLIPKART||!A||!X.Ay.getIsMrpHighlightedOnPP()),y=[a.Ys.priceView],w=[this.shouldRepositionEmiCalloutAB&&!p&&this.isrenderOtherCallouts()?a.Ys.priceContainerAB:a.Ys.priceContainer],I=p?[a.Ys.priceContainerView,this.shouldRepositionEmiCalloutAB&&this.isrenderOtherCallouts()?void 0:l.jE.padding_bottom_8]:a.Ys.priceContainerView,b=C.couponSummaryEnabled;if(d&&y.push(d),!C.pricing||!C.pricing.value)return e?void 0:n.createElement(r.DlsView,null,this.renderUnavailableView());g&&w.push(l.C1.padding_top_0),(C.couponSummaryEnabled||E)&&w.push(a.Ys.flex);const D=null==f?void 0:f.marketplace,x=n.createElement(r.DlsView,{style:y},n.createElement(k.A,{pricing:C.pricing.value,rowParentStyle:(0,r.getViewStyle)(h),parentStyle:(0,r.getViewStyle)(u||w),priceStyle:(0,r.getTextStyle)(c||a.Ys.productPriceText),sellingPriceStyle:(0,r.getTextStyle)(t||a.Ys.strikeOutText),discountStyle:(0,r.getTextStyle)(i||a.Ys.discountText),discountBackgroundStyle:(0,r.getViewStyle)(s),showDiscountAsAmount:this.showDiscountAsAmount(),showDiscountAsSaveAmount:!1,showDiscountAsSaveAmountWithIcon:!1,plusPriceDefaultTextStyle:l.XT.fontRegular_14,fontIncreasePageTypes:T?X.Td.PRODUCT_PAGE:void 0,mrpStringFontSize:S?{fontSize:A}:void 0,showMrpSwapTagExperience:m,hideDiscount:b,couponSummariesEnabled:C.couponSummaryEnabled,couponSummaries:C.couponSummaries,enablePriceVariationsAB:this.enablePriceVariationsAB(),enableDiscountIconAB:this.isDiscountIconABEnabled(),overrideMarginRight:this.isDiscountIconABEnabled()?8:void 0,renderPricePerUnitText:C.addToCartComponent?void 0:this.renderPricePerUnitText,pricePerUnitText:E,isSpecialPriceHighlightEnabled:p,parentHorizontalPadding:this.parentHorizontalPadding}),e&&this.state.viewModel.faEnabled&&n.createElement(r.DlsView,{style:a.Ys.faContainer},this.renderFAEnabledView())),P=this._getIsGroupBuyFlow(C,D),O=C.priceVariants&&P&&(X.Ay.enableRadioPricingForGBGrocery()?n.createElement(fe.A,{pricing:C.pricing.value,rowParentStyle:(0,r.getViewStyle)(h),parentStyle:(0,r.getViewStyle)(w),priceStyle:(0,r.getTextStyle)(c||a.Ys.productPriceText),sellingPriceStyle:(0,r.getTextStyle)(t||a.Ys.strikeOutText),discountStyle:(0,r.getTextStyle)(i||a.Ys.discountText),discountBackgroundStyle:(0,r.getViewStyle)(s),showDiscountAsAmount:this.showDiscountAsAmount(),showDiscountAsSaveAmount:!1,showDiscountAsSaveAmountWithIcon:!1,plusPriceDefaultTextStyle:l.XT.fontRegular_14,fontIncreasePageTypes:T?X.Td.PRODUCT_PAGE:void 0,mrpStringFontSize:S?{fontSize:A}:void 0,hideCNCInfo:!0,priceVariants:C.priceVariants,actionDispatcher:this.props.actionDispatcher,width:this.getScreenWidth()}):n.createElement(ae.A,{pricing:C.pricing.value,rowParentStyle:(0,r.getViewStyle)(h),parentStyle:(0,r.getViewStyle)(w),priceStyle:(0,r.getTextStyle)(c||a.Ys.productPriceText),sellingPriceStyle:(0,r.getTextStyle)(t||a.Ys.strikeOutText),discountStyle:(0,r.getTextStyle)(i||a.Ys.discountText),discountBackgroundStyle:(0,r.getViewStyle)(s),showDiscountAsAmount:this.showDiscountAsAmount(),showDiscountAsSaveAmount:!1,showDiscountAsSaveAmountWithIcon:!1,plusPriceDefaultTextStyle:l.XT.fontRegular_14,fontIncreasePageTypes:T?X.Td.PRODUCT_PAGE:void 0,mrpStringFontSize:S?{fontSize:A}:void 0,hideCNCInfo:!0,priceVariants:C.priceVariants,widgetType:null===(v=C.widget)||void 0===v?void 0:v.type,onPress:this._handlePricingClick,disableFeedback:!0,onPressParam:C.summaryData,marketplace:D,actionDispatcher:this.props.actionDispatcher,width:this.getScreenWidth()}));return n.createElement(r.DlsView,null,n.createElement(r.DlsView,{style:a.Ys.summaryPriceContainerStyle},P?O:n.createElement(o.S,{disableFeedback:!0,onPress:C.couponCta||C.couponApplied?void 0:this._handlePricingClick,onPressParam:C.summaryData,tappableStyle:l.C1.flex},n.createElement(r.DlsView,{style:I},C.couponCta||C.couponApplied?n.createElement(pe.A,{pricing:C.pricing.value,rowParentStyle:(0,r.getViewStyle)(h),parentStyle:(0,r.getViewStyle)(u||w),priceStyle:(0,r.getTextStyle)(c||a.Ys.productPriceText),sellingPriceStyle:[(0,r.getTextStyle)(t||a.Ys.strikeOutText),l.XT.lineHeight_32],discountStyle:(0,r.getTextStyle)(i||a.Ys.discountText),discountBackgroundStyle:(0,r.getViewStyle)(s),showDiscountAsAmount:this.showDiscountAsAmount(),showDiscountAsSaveAmount:!1,showDiscountAsSaveAmountWithIcon:!1,plusPriceDefaultTextStyle:l.XT.fontRegular_14,fontIncreasePageTypes:T?X.Td.PRODUCT_PAGE:void 0,mrpStringFontSize:S?{fontSize:A}:void 0,showMrpSwapTagExperience:m,hideDiscount:b,couponSummariesEnabled:C.couponSummaryEnabled,couponSummaries:C.couponSummaries,enablePriceVariationsAB:this.enablePriceVariationsAB(),enableDiscountIconAB:this.isDiscountIconABEnabled(),overrideMarginRight:this.isDiscountIconABEnabled()?8:void 0,renderPricePerUnitText:C.addToCartComponent?void 0:this.renderPricePerUnitText,pricePerUnitText:E,isSpecialPriceHighlightEnabled:p,couponCta:C.couponCta,couponApplied:C.couponApplied,offerExpiryInfo:C.offerExpiryInfo,offerExpiryTime:null===(_=C.summaryData)||void 0===_?void 0:_.offerExpiryTime,actionDispatcher:this.props.actionDispatcher,parentHorizontalPadding:this.parentHorizontalPadding,isDealsTagPresent:g}):x)),C.addToCartComponent&&n.createElement(r.DlsView,{style:l.jE.margin_vertical_8},n.createElement(re.A,{quantityTextParentStyle:se.H.quantityContainer,quantityTextStyle:se.H.quantityText,quantityViewStyle:se.H.button,quantityToggleViewStyle:se.H.container,onValueChangeParams:C.addToCartComponent.action,text:(0,W.ak)(this.context.locale,{id:H.H.rex_string_ADD_NEW}),onValueChanged:this._onBasketValueChanged,quantity:C.quantity,hideDefaultButton:!0,btnTextStyle:[l.XT.blueText,l.XT.fontMedium_14],isBasketButton:!0}))),this.shouldRepositionEmiCalloutAB&&this.shouldSplitCallout()&&this.renderOtherCallouts(this.shouldRepositionEmiCalloutAB,!0),this.shouldSplitCallout()?this.renderNEPAndDeliveryCallouts():this.renderLegacyCallouts())}enablePriceVariationsAB(){return!1}isDiscountIconABEnabled(){return!1}renderCalloutInWrapper(e,t,i){return n.createElement(p.View,{style:this.shouldRepositionEmiCalloutAB&&t?[l.C1.margin_top_12,l.C1.margin_bottom_12]:l.C1.margin_bottom_10},e.map((e=>this._renderCallouts(e,t,i))))}renderNEPAndDeliveryCallouts(){const e=this.state.viewModel;return n.createElement(n.Fragment,null,e.nepCallouts&&e.nepCallouts.length>0?this.renderCalloutInWrapper(e.nepCallouts):void 0,e.deliveryCallouts&&e.deliveryCallouts.length>0?this.renderCalloutInWrapper(e.deliveryCallouts):void 0)}renderLegacyCallouts(){const e=this.state.viewModel.callouts;return e&&e.length>0&&e.map(this._renderLegacyCalloutsItems)}renderFAEnabledView(){return n.createElement(o.S,{onPress:this._handleFAClick},this.renderFassuredTag(!0))}_handleFassuredTagClick(e,t){this.dispatchMAPIIndexedAction(t)}renderFassuredTag(e){var t;if(e)return n.createElement(oe.A,{height:20});const i=this.state.viewModel.fAssuredIcon;return i?n.createElement(o.S,{disableFeedback:!i.action,onPress:i.action?this._handleFassuredTagClick:void 0,onPressParam:i.action},n.createElement(O.A,{source:null===(t=i.value)||void 0===t?void 0:t.dynamicImageUrl,height:16,width:61})):null}showDiscountAsAmount(){return!1}renderProductRatingView(e,t,i,o,s,d,c){var u,h,p,g,m,v;const _=this.state.viewModel;if(!_.ratingsValue&&!_.sellerRaings)return;const C=this.getProductPageContext(),E=null==C?void 0:C.marketplace;let T,f,A,y,w=!0;const I=[l.jE.rowWithoutFlex,l.jE.alignItemCenter,l.jE.margin_right_8],b=[{color:r.Color.typographyLight}];if(X.Ay.getReactNativeConfigGlobalValue("reviewUnderlined")?T=0:X.Ay.getReactNativeConfigGlobalValue("reviewBlueChevron")?T=2:X.Ay.getReactNativeConfigGlobalValue("reviewBlue")?T=1:w=!1,w){switch(T){case 1:b.push({color:r.Color.primary});break;case 2:b.push({color:r.Color.primary}),i=[l.C1.margin_left_6,l.C1.margin_top_1,{resizeMode:"contain"}],f=14,A=7}t?b.push({font:r.Font.smallSizeMediumWeight},l.C1.margin_top_1):b.push({font:r.Font.default},l.XT.noTopPadding,l.C1.margin_top_1),y=[l.C1.overflowHidden,l.C1.margin_left_8]}const D=(0,r.getTextStyle)(w?b:t||a.Ys.ratingCount),x=s?"":o?"reviews":"ratings";return n.createElement(V.i2,{rating:_.ratingsValue?_.ratingsValue:_.sellerRaings&&(null===(h=null===(u=_.sellerRaings)||void 0===u?void 0:u.value)||void 0===h?void 0:h.rating),countType:x,parentStyle:w?(0,r.getViewStyle)(I):(0,r.getViewStyle)(a.Ys.ratingsView),ratingCountStyle:D,ratingCountImageStyle:i,type:c?void 0:0,pillBorderStyle:e||w?te.C.smallRoundedPillBorder:void 0,imageSource:i?S.chevronBlue:void 0,ratingCountContainerStyle:(0,r.getViewStyle)(y),iconHeight:f,iconWidth:A,decorationType:w&&0===T?0:void 0,userReviews:_.userReviews,showRatingAdjective:this.showRatingAdjective(),marketplace:E,ratingColor:null===(p=_.ratingsValue)||void 0===p?void 0:p.ratingColor,reviewString:_.reviewString,isSeller:!(_.ratingsValue||!_.sellerRaings),sellerRatingText:null===(v=null===(m=null===(g=_.sellerRaings)||void 0===g?void 0:g.value)||void 0===m?void 0:m.rating)||void 0===v?void 0:v.ratingAdjective,showRatingInStars:d,numberOfCustomerPhotos:_.numberOfCustomerPhotos,showNumericalRatingNumer:!0})}isAspectRatingsPresent(){const e=this.state.viewModel.scaleAspectComponents;return!!(e&&(null==e?void 0:e.length)>0)}renderAspectRatingsView(){const e=this.state.viewModel,t=e.scaleAspectComponents;if(!t)return;const i=t&&(null==t?void 0:t.length)>this.MAX_ASPECT_RATINS_TO_DISPLAY?this.MAX_ASPECT_RATINS_TO_DISPLAY:null==t?void 0:t.length,a=t&&t.slice(0,i),o=n.createElement(r.DlsView,{style:this.ratingsOuterContainerStyle},null==a?void 0:a.map(((e,t)=>{const i=(0,y.t0)(null==e?void 0:e.average),a=null==e?void 0:e.name;return n.createElement(r.DlsView,{style:this.ratingReviewBoxStyle,key:`aspect_rating_${t}`},n.createElement(r.DlsView,{style:{alignSelf:"center",flexDirection:"row",alignItems:"center"}},n.createElement(r.Label,{style:[this.ratingReviewTextStyle,{color:r.Color.rawColor(i)}]},null==e?void 0:e.average),n.createElement(r.Label,{style:[this.ratingStarStyle,{color:r.Color.rawColor(i)}]},ee.bh)),n.createElement(r.DlsView,{style:this.reviewTextBoxStyle},n.createElement(r.Label,{numberOfLines:2,ellipsizeMode:"tail",style:this.reviewTextStyle},a)))})));if(t&&e.enableAspectRatingsViewAnimation&&"web"!==p.Platform.OS){const t=this._isHavingLongertext(null==e?void 0:e.scaleAspectComponents),i={type:J.J6.JSON,triggerType:J.Zr.ON_LOAD,triggerDelay:1e3,animationConfig:{transforms:[{key:"height",from:0,to:t?56:40},{key:"opacity",from:0,to:1}],duration:500,interpolation:{easing:"ease-out"}}};return p.LayoutAnimation.configureNext(p.LayoutAnimation.Presets.linear),n.createElement(J.tY,{animationConfig:i},n.createElement(r.DlsView,{style:l.C1.contentSelfAlignStretch},o))}}renderProductExpiryView(){const e=this.state.viewModel;if(e.productExpiry)return n.createElement(r.Label,{style:a.Ys.productExpiryText,numberOfLines:1,ellipsizeMode:"tail"},e.productExpiry)}renderNewVersionView(){const e=this.state.viewModel;if(e.newVersionComponent&&e.newVersionComponent.value&&e.newVersionComponent.value.text)return n.createElement(o.S,{onPress:this._handleNewVersionClick,onPressParam:e.newVersionComponent.action},n.createElement(r.DlsView,{style:a.Ys.listingPreservationContainer},n.createElement(r.Label,{style:a.Ys.newVersionText},e.newVersionComponent.value.text),n.createElement(p.Image,{source:{uri:S.chevronBlue},style:a.hK.chevronImage})))}renderDeliveryMessageView(){const e=this.state.viewModel;if(!e.deliveryMessage||!e.deliveryMessage.text)return;const t=e.deliveryMessage.freeDelivery?`${this.localize({id:H.H.rex_string_FREE})} ${e.deliveryMessage.text}`:e.deliveryMessage.text;return n.createElement(r.Label,{style:a.Ys.deliveryText},t)}renderUrgencyView(e){var t,i,o;const{viewModel:s}=this.state;if(!e||s.pricing&&s.pricing.value&&s.pricing.value.partPriceInfo)return;const l=null===(o=null===(i=null===(t=this.props)||void 0===t?void 0:t.pageInfo)||void 0===i?void 0:i.pageContext)||void 0===o?void 0:o.isNewUser,d=n.createElement(L.A,{offerInfoText:e,urgency:s.urgency,conjunctionText:this.localize({id:H.H.rex_string_ENDS_IN_LESS_THAN}),viewStyle:l?null:(0,r.getViewStyle)(this.highlightedStyle)});return n.createElement(r.DlsView,{style:a.Ys.urgencyViewWrapper},d)}renderASMDisplayMessage(){const e=this.state.viewModel;if(e.asmMessage)return n.createElement(r.Label,{style:a.Ys.asmMessage,numberOfLines:1,ellipsizeMode:"tail"},e.asmMessage)}renderUrgencyMessage(){const e=this.state.viewModel,t=ne.L.getProductPageSwatchSelectionDataFromProps(this.props);if((null==t?void 0:t.pid)&&e.urgencyMessage&&!(e.pricing&&e.pricing.value&&e.pricing.value.partPriceInfo))return n.createElement(r.ClampedLabel,{style:a.Ys.asmMessage,numberOfLines:2,ellipsizeMode:"tail"},e.urgencyMessage)}renderPreOrderAnnouncement(){const e=this.state.viewModel;if(e.preorderAnnouncement&&e.preorderAnnouncement.value)return n.createElement(r.DlsView,{style:a.Ys.listingPreservationContainer},e.preorderAnnouncement.value.imageValue&&n.createElement(O.A,{style:a.hK.noteImage,source:e.preorderAnnouncement.value.imageValue.dynamicImageUrl?e.preorderAnnouncement.value.imageValue.dynamicImageUrl:"",height:16,width:16}),e.preorderAnnouncement.value&&n.createElement(r.Label,{style:a.Ys.listingTitleText},e.preorderAnnouncement.value.key," : ",e.preorderAnnouncement.value.value))}renderListingPreservationView(){const e=this.state.viewModel;if(e.listingPreservation&&e.listingPreservation.value)return n.createElement(r.DlsView,{style:a.Ys.listingPreservationContainer},e.listingPreservation.value.imageValue&&n.createElement(O.A,{style:a.hK.noteImage,source:e.listingPreservation.value.imageValue.dynamicImageUrl,height:16,width:16}),e.listingPreservation.value.title&&n.createElement(r.Label,{style:a.Ys.listingTitleText},e.listingPreservation.value.title))}renderOfferView(e){if(this.state.viewModel.summaryData)return this.state.viewModel.summaryData.offerSummaryGroupsV2Enabled?this.renderOfferSummaryGroupV2View(e):this.renderOfferSummaryGroupView(e)}renderOfferSummaryGroupView(e){if(this.state.viewModel.offerSummaryGroup)return n.createElement(o.S,Object.assign({},e),n.createElement(r.DlsView,null,n.createElement(B.A,{offerSummaryGroup:this.state.viewModel.offerSummaryGroup,dispatchAction:this.dispatchAction,onChevronClick:this.offersChevronClick,pageInfo:this.props.pageInfo,screenWidth:this.getScreenWidth()})))}renderOfferSummaryGroupV2View(e){if(this.state.viewModel.offerSummaryGroup)return n.createElement(o.S,Object.assign({},e),n.createElement(r.DlsView,null,n.createElement(z.A,{offerSummaryGroup:this.state.viewModel.offerSummaryGroup,dispatchAction:this.dispatchAction,onChevronClick:this.offersChevronClick,isRenderDivider:!0,onViewOfferClick:this._viewAllOffer,onAvailableOfferClick:this._onValueClick,pageInfo:this.props.pageInfo,titleContainerStyle:a.Ys.productOfferV2Style,screenWidth:this.getScreenWidth(),uniqueViewId:this.state.uniqueViewId,handleEDClaimAction:this._handleEDClaimAction})))}showRatingAdjective(){return!1}shouldSplitCallout(){var e,t;return 0===(null!==(t=null===(e=this.state.viewModel.callouts)||void 0===e?void 0:e.length)&&void 0!==t?t:0)}renderPreOrderSummary(e){const t=this.state.viewModel;return n.createElement(r.DlsView,null,n.createElement(M.A,{pricing:e,urgency:t.urgency,onPriceClicked:this._onPriceSummaryClicked,descMargin:this.shouldRepositionEmiCalloutAB&&this.isrenderOtherCallouts()}),this.shouldRepositionEmiCalloutAB&&this.shouldSplitCallout()&&this.renderOtherCallouts(this.shouldRepositionEmiCalloutAB,!0),this.shouldSplitCallout()?this.renderNEPAndDeliveryCallouts():this.renderLegacyCallouts())}static getPricePerUnitText(e){return ie.A.getPricePerUnitText(e)}shouldRepositionRating(){return!0}_getTitles(e){if(!e||!e.value)return;return{title:e.value.title,subtitle:e.value.subtitle,superTitle:e.value.superTitle,newTitle:e.value.newTitle}}_getMedia(e){if(!e)return;const t=[],i={url:e};t.push(i);return{images:t}}}Ie.contextType=W.V8,Ie.getMOQAnnouncmentHeight=e=>e?G.A.getListingHeight([e]):0,Ie.getCouponViewHeight=e=>{var t;return e&&0!==e.length?72+((null===(t=e[0])||void 0===t?void 0:t.newTitle)?18:0)+32:0};var be=i(716249),De=i(743764);class xe extends Ie{constructor(){super(...arguments),this.shouldRepositionEmiCallout=!!q.A.getExperimentValue(Y.ZLM.SHOULD_REPOSITION_EMI_CALLOUT),this.getTrackingParams=e=>be.A.getTrackingParams(this.props,e),this.getContentViewTracking=e=>this.getContentViewTrackingData(e),this._pricingAidClicked=e=>{this.dispatchAction(_.Q3.MAPI_ACTION,new T.rs(e.action));const t=e.action&&e.action.tracking,i=t?t[xe.WIDGET_PAGE_NAME_KEY]:void 0;this.trackOmnitureEvent(new g.NYm(i)),this.trackDiscoveryContentClickEvent(e.action.tracking,!1,e.index)}}static getWidgetHeight(e){let t=0;const i=(0,w.nS)(e.widgetSlotData),n=i&&i.data;if(!n)return t;const r=n.summaryMeta,a=r&&r.urgency,o=r&&r.asmMessage,s=n.titleComponent&&n.titleComponent.value?n.titleComponent.value.title:void 0,l=n.titleComponent&&n.titleComponent.value?n.titleComponent.value.superTitle:void 0,d=n.titleComponent&&n.titleComponent.value?n.titleComponent.value.subtitle:void 0,c=n.pricing,p=n.ratingsAndReviews,g=p&&p.value&&p.value.rating,m=r&&r.deliveryMessage,v=r&&r.productExpiry,_=n.offerSummary,C=n.pricingAid,E=n&&n.listingPreservationAnnouncement,T=r&&r.exclusiveTag,f=n.offerInfo,A=f&&f.value&&f.value.primaryTitle?f.value.primaryTitle:"",S=n.offerSummaryGroups,y=n.moqComponent,I=n.couponSummaries,b=null==n?void 0:n.brandStore,D=null==n?void 0:n.priceVariants;if(s){t+=s.length+(d?d.length+3:0)>45?49:30}return b&&(t+=24),l&&(t+=24),A&&(t+=13),T&&(t+=23),g&&(t+=32),m&&(t+=25.5),v&&(t+=25.5),c&&c.value&&(t+=Ie.getPricingViewWidgetHeight(c.value.priceTags,D)),o&&(t+=25.5),a&&a.urgencyMessage&&(t+=25.5),_&&(t+=h.A.getHeight({offerSummaryRC:_})),C&&(t+=u.getHeight({pricingAidRC:C})),E&&(t+=33),S&&(t+=100),y&&(t+=Ie.getMOQAnnouncmentHeight(y)),I&&(t+=Ie.getCouponViewHeight(I)),t+be.A.getAdditionalHeight(e)+20}_renderView(){var e,t,i,s,d,c,h,p;const g=(0,w.UN)(this.props.widgetSlotData),m=[l.jE.margin_top_4];(null===(i=null===(t=null===(e=this.props)||void 0===e?void 0:e.pageInfo)||void 0===t?void 0:t.pageContext)||void 0===i?void 0:i.isNewUser)||(m.push(a.Ys.specialPriceTimerStyle),ie.A.getIsGBFlowFlipkart(null===(s=this.state.viewModel)||void 0===s?void 0:s.priceVariants)&&m.push(a.Ys.specialPriceViewBottomStyle));const v=this.getContainerStyle(),_=this.isAspectRatingsPresent(),C=!!q.A.getExperimentValue("isBrandNameHighlighted"),E=[this.state.viewModel.textStyle,C?l._6.fontMedium_16:null];return n.createElement(r.DlsView,{style:v},this.renderBrandStore(),this.renderProductSupertitle(E),this.renderProductTitle(a.Ys.exclusiveTag),this.state.viewModel.ratingsValue||this.state.viewModel.faEnabled||_||(null===(d=this.state.viewModel)||void 0===d?void 0:d.sellerRaings)?n.createElement(o.S,{onPress:this._handleRnRClick,onPressParam:this.state.viewModel.ratingsAndReviews?this.state.viewModel.ratingsAndReviews.action:(null===(c=this.state.viewModel)||void 0===c?void 0:c.sellerRaings)&&(null===(p=null===(h=this.state.viewModel)||void 0===h?void 0:h.sellerRaings)||void 0===p?void 0:p.action),disableFeedback:!0},n.createElement(r.DlsView,null,n.createElement(r.DlsView,{style:a.Ys.ratingContainerWithTag},n.createElement(r.DlsView,null,this.renderProductRatingView(!0)),this.state.viewModel.faEnabled&&this.renderFAEnabledView()),_?this.renderAspectRatingsView():void 0)):void 0,this.renderFassuredTag(),this.state.viewModel.oosCallout?this.renderOOSCallout(this.state.viewModel.oosCallout):this.renderDealsAndPriceViewsComponent(m),!!this.state.viewModel.quantityMetaData&&this.renderOffferViewWithQuantitySelector(),this._renderMOQAnnouncment(),this.renderUrgencyMessage(),!this.shouldRepositionEmiCallout&&this.shouldSplitCallout()?this.renderOtherCallouts(!1,!0):void 0,this.renderOfferView({onPress:this._handlePricingClick,disableFeedback:!0,onPressParam:this.state.viewModel.summaryData}),this.renderProductExpiryView(),this.renderASMDisplayMessage(),!this.state.viewModel.oosCallout&&this.state.viewModel.pricingAid&&n.createElement(u,{pricingAidRC:this.state.viewModel.pricingAid,actionDispatcher:this._pricingAidClicked,getTrackingParams:this.getTrackingParams,getContentViewTrackingData:this.getContentViewTracking,layoutKey:g}),this.renderPreOrderAnnouncement(),this.renderListingPreservationView())}enablePriceVariationsAB(){return De.Ay.PriceVariationPPEnabled}isDiscountIconABEnabled(){return De.Ay.DiscountIconEnabled}renderWidget(){return this.isAspectRatingsPresent()?n.createElement(K.Ay,{conditions:this._getMultiCondition()},this._renderView()):this._renderView()}}xe.WIDGET_PAGE_NAME_KEY="widgetPageName";class Pe extends xe{constructor(){super(...arguments),this._renderProductDetailsAction=()=>n.createElement(o.S,{onPress:this._productDetailsClickFurniture},n.createElement(r.DlsView,{style:a.Ys.productDetailsTextWrapper},n.createElement(r.Label,{style:a.Ys.productDetailsText},this.localize({id:H.H.rex_string_PRODUCT_DETAILS})),n.createElement(O.A,{style:a.Ys.productDetailsChevron,source:S.chevronBlue,width:Pe.IMAGE_WIDTH,height:Pe.IMAGE_HEIGHT}))),this._productDetailsClickFurniture=e=>{const t=this.state.viewModel,i=t.productDetailsAnnouncement&&t.productDetailsAnnouncement.action;i&&(this.trackOmnitureEvent(new g.I0F),this.dispatchAction(_.Q3.MAPI_ACTION,new T.Oy(i)))}}renderProductTitle(e){const t=this.state.viewModel,i=!!t.productDetailsAnnouncement&&!!t.productDetailsAnnouncement.action,o=t.exclusiveTag&&t.exclusiveTag+ve.NH,s=[e,l.jE.margin_vertical_8];if(t.productTitle&&t.productCombinedText)return n.createElement(r.DlsView,null,n.createElement(r.TruncableLabel,{isExpanded:this.state.titleExpanded,text:t.productCombinedText,onPress:this.toggleTitleExpanded,textAfterTruncateStyle:a.Ys.titleSuffixText,containerStyle:[a.Ys.titleText],truncateAfterCharLimit:80}),o?n.createElement(r.DlsView,{style:a.Ys.productDetailsTagWrapper},n.createElement(r.Label,{style:s},o),this._renderProductDetailsAction()):i&&this._renderProductDetailsAction())}enablePriceVariationsAB(){return De.Ay.PriceVariationPPEnabled}isDiscountIconABEnabled(){return De.Ay.DiscountIconEnabled}}Pe.IMAGE_WIDTH=12,Pe.IMAGE_HEIGHT=12;class Oe extends Ie{constructor(e,t){super(e,t),this.shouldRepositionEmiCallout=!!q.A.getExperimentValue(Y.ZLM.SHOULD_REPOSITION_EMI_CALLOUT),this.titleContainerWidth=e.appContext.uiContext.windowFrame.width-64-8-32-16,this.ratingContainerWithTagStyle=[a.Ys.beautyRatingContainerWithTag]}static getWidgetHeight(e){var t,i;let n=0;const r=(0,w.nS)(e.widgetSlotData),a=r&&r.data;if(!a)return n;const o=a.summaryMeta,s=o&&o.urgency,l=o&&o.asmMessage,d=a.titleComponent&&a.titleComponent.value?a.titleComponent.value.title:void 0,c=a.titleComponent&&a.titleComponent.value?a.titleComponent.value.subtitle:void 0,p=a.pricing,g=a.ratingsAndReviews,m=g&&g.value&&g.value.rating,v=o&&o.deliveryMessage,_=o&&o.productExpiry,C=a.offerSummary,E=a.pricingAid,T=a&&a.listingPreservationAnnouncement,f=o&&o.exclusiveTag,A=a.offerInfo,S=A&&A.value&&A.value.primaryTitle?A.value.primaryTitle:"",y=a.offerSummaryGroups,I=a.moqComponent,b=a.couponSummaries,D=null===(i=null===(t=null==a?void 0:a.titleComponent)||void 0===t?void 0:t.value)||void 0===i?void 0:i.superTitle,x=null==a?void 0:a.brandStore;if(d){n+=d.length+(c?c.length+3:0)>45?49:30}return x&&(n+=24),D&&(n+=24),S&&(n+=13),f&&(n+=23),m&&(n+=32),v&&(n+=25.5),_&&(n+=25.5),p&&p.value&&(n+=41),l&&(n+=25.5),s&&s.urgencyMessage&&(n+=25.5),C&&(n+=h.A.getHeight({offerSummaryRC:C})),E&&(n+=u.getHeight({pricingAidRC:E})),T&&(n+=33),y&&(n+=100),I&&(n+=Ie.getMOQAnnouncmentHeight(I)),b&&(n+=Ie.getCouponViewHeight(b)),n+be.A.getAdditionalHeight(e)+20}_renderView(){var e,t,i;const o=[{width:this.titleContainerWidth},l.jE.margin_right_12],s=[l.jE.margin_top_16],d=[l.jE.margin_top_8];(null===(i=null===(t=null===(e=this.props)||void 0===e?void 0:e.pageInfo)||void 0===t?void 0:t.pageContext)||void 0===i?void 0:i.isNewUser)||s.push(a.Ys.specialPriceTimerStyle);const c=!!q.A.getExperimentValue("isBrandNameHighlighted"),u=[a.Ys.exclusiveSuperTitleTagBeauty,c?l._6.fontMedium_16:null],h=this.getContainerStyle(!0);return n.createElement(r.DlsView,{style:h},this.state.viewModel.fAssuredIcon?n.createElement(r.DlsView,{style:d},this.renderFassuredTag()):null,this.state.viewModel.oosCallout?this.renderOOSCallout(this.state.viewModel.oosCallout):this.renderDealsAndPriceViewsComponent(s),this._renderMOQAnnouncment(),n.createElement(r.DlsView,{style:a.Ys.titleViewContainer},n.createElement(r.DlsView,{style:o},this.renderBrandStore(),this.renderProductSupertitle(u),this.renderBeautyProductTitle(a.Ys.titleBeauty)),this.renderProductDetailsAction(this.state.viewModel.productDetailsAnnouncement)),this.shouldRepositionRating()?this._renderRatingWithFa():void 0,this.renderUrgencyMessage(),this.shouldRepositionRating()?void 0:this._renderRatingWithFa(),!this.shouldRepositionEmiCallout&&this.shouldSplitCallout()?this.renderOtherCallouts(!1,!0):void 0,this.renderOfferView({onPress:this._handlePricingClick,disableFeedback:!0,onPressParam:this.state.viewModel.summaryData}),this.renderASMDisplayMessage(),this.renderPreOrderAnnouncement(),this.renderListingPreservationView(),this.state.viewModel.summaryMeta&&this.state.viewModel.summaryMeta.productExpiry?this.renderExpiryView(this.state.viewModel.summaryMeta.productExpiry):void 0)}renderWidget(){return this.isAspectRatingsPresent()?n.createElement(K.Ay,{conditions:this._getMultiCondition()},this._renderView()):this._renderView()}renderBeautyProductTitle(e){const t=this.state.viewModel;if(t.productCombinedText)return n.createElement(r.TruncableLabel,{isExpanded:this.state.titleExpanded,text:t.productCombinedText,onPress:this.toggleTitleExpanded,containerStyle:e,truncateAfterCharLimit:60})}_renderRatingWithFa(){var e,t;const i=this.isAspectRatingsPresent();return this.state.viewModel.ratingsValue||this.state.viewModel.faEnabled||i||(null===(e=this.state.viewModel)||void 0===e?void 0:e.sellerRaings)?n.createElement(o.S,{onPress:this._handleRnRClick,onPressParam:this.state.viewModel.ratingsAndReviews?this.state.viewModel.ratingsAndReviews.action:this.state.viewModel.sellerRaings&&(null===(t=this.state.viewModel.sellerRaings)||void 0===t?void 0:t.action),disableFeedback:!0},n.createElement(r.DlsView,null,n.createElement(r.DlsView,{style:this.ratingContainerWithTagStyle},n.createElement(r.DlsView,null,this.renderProductRatingView(!0,a.Ys.ratingCountHighlighted)),this.state.viewModel.faEnabled&&this.renderFAEnabledView()),i?this.renderAspectRatingsView():void 0)):void 0}enablePriceVariationsAB(){return De.Ay.PriceVariationPPEnabled}isDiscountIconABEnabled(){return De.Ay.DiscountIconEnabled}}class Re extends Ie{constructor(){super(...arguments),this.shouldRepositionEmiCallout=!!q.A.getExperimentValue(Y.ZLM.SHOULD_REPOSITION_EMI_CALLOUT)}static getWidgetHeight(e){let t=0;const i=(0,w.nS)(e.widgetSlotData),n=i&&i.data;if(!n)return t;const r=n.summaryMeta,a=r&&r.urgency,o=r&&r.asmMessage,s=n.titleComponent&&n.titleComponent.value?n.titleComponent.value.title:void 0,l=n.titleComponent&&n.titleComponent.value?n.titleComponent.value.subtitle:void 0,d=n.pricing,c=n.ratingsAndReviews,u=c&&c.value&&c.value.rating,h=r&&r.deliveryMessage,p=r&&r.productExpiry,g=n&&n.listingPreservationAnnouncement,m=n.offerInfo,v=m&&m.value&&m.value.primaryTag?m.value.primaryTag:"",_=n.moqComponent,C=n.couponSummaries,E=n.priceVariants;if(s){t+=s.length+(l?l.length+3:0)>45?49:30}return v&&(t+=13),u&&(t+=25.5),h&&(t+=25.5),p&&(t+=25.5),d&&d.value&&(t+=Ie.getPricingViewWidgetHeight(d.value.priceTags,E)),o&&(t+=25.5),a&&a.urgencyMessage&&(t+=25.5),g&&(t+=33),_&&(t+=Ie.getMOQAnnouncmentHeight(_)),C&&(t+=Ie.getCouponViewHeight(C)),t+be.A.getAdditionalHeight(e)+20}renderWidget(){var e;const t=[l.jE.margin_top_6];t.push(a.Ys.specialPriceTimerStyle),ie.A.getIsGBFlowFlipkart(null===(e=this.state.viewModel)||void 0===e?void 0:e.priceVariants)&&t.push(a.Ys.specialPriceViewBottomStyle);const i=this.getContainerStyle();return n.createElement(K.Ay,{conditions:this._getMultiCondition()},n.createElement(r.DlsView,{style:i},n.createElement(r.DlsView,{style:l.jE.padding_bottom_4},this.renderProductTitleDefaultView()),this.shouldRepositionRating()?this._renderRating():void 0,this.renderFassuredTag(),this.state.viewModel.oosCallout?this.renderOOSCallout(this.state.viewModel.oosCallout):this.renderDealsAndPriceViewsComponent(t),this._renderMOQAnnouncment(),this.renderDeliveryMessageView(),this.shouldRepositionRating()?void 0:this._renderRating(),this.renderProductExpiryView(),this.renderUrgencyMessage(),!this.shouldRepositionEmiCallout&&this.shouldSplitCallout()?this.renderOtherCallouts(!1,!0):void 0,this.renderASMDisplayMessage(),this.renderPreOrderAnnouncement(),this.renderListingPreservationView(),this.renderNewVersionView()))}_renderRating(){return this.state.viewModel.ratingsValue&&n.createElement(o.S,{onPress:this._handleRnRClick,onPressParam:this.state.viewModel.ratingsAndReviews&&this.state.viewModel.ratingsAndReviews.action,disableFeedback:!0},n.createElement(r.DlsView,{style:a.Ys.ratingContainerDefault},this.renderProductRatingView(),this.state.viewModel.reviewString&&n.createElement(r.Label,{style:a.Ys.reviewCount},this.state.viewModel.reviewString)))}enablePriceVariationsAB(){return De.Ay.PriceVariationPPEnabled}isDiscountIconABEnabled(){return De.Ay.DiscountIconEnabled}}var ke=i(808584);class Ve extends Ie{constructor(e,t){super(e,t),this.superHeaderStyle=[l.jE.displayFlex,l.jE.rowSpaceBetween,l.jE.alignItemCenter],this.shouldRepositionEmiCallout=!!q.A.getExperimentValue(Y.ZLM.SHOULD_REPOSITION_EMI_CALLOUT),this.renderDealsAndPriceViews=()=>{var e,t,i,o,s,l,d;const c=this.shouldRepositionEmiCallout&&this.isrenderOtherCallouts()?a.Ys.specialPriceHighlightStyleAB:a.Ys.specialPriceHighlightStyle,u=[a.Ys.priceViewHighlightedStyle];return ie.A.getIsGBFlowFlipkart(null===(e=this.state.viewModel)||void 0===e?void 0:e.priceVariants)&&u.push(a.Ys.specialPriceViewBottomStyle),(null===(o=null===(i=null===(t=this.props)||void 0===t?void 0:t.pageInfo)||void 0===i?void 0:i.pageContext)||void 0===o?void 0:o.isNewUser)||this.state.viewModel.offerInfoDefaultText||!this.state.viewModel.dealTags?n.createElement(r.DlsView,null,this.state.viewModel.dealTags&&this.renderTagComponents(this.state.viewModel.dealTags),this.state.viewModel.offerInfoDefaultText?this.renderViewForSpecialPriceTimerAB():void 0,this.state.viewModel.offerInfoDefaultText&&!(null===(d=null===(l=null===(s=this.props)||void 0===s?void 0:s.pageInfo)||void 0===l?void 0:l.pageContext)||void 0===d?void 0:d.isNewUser)?this.renderPricingViewForTag(!1,a.Ys.strikeOutTextHighlighted,a.Ys.discountTextHighlighted,void 0,c,void 0,void 0,void 0,!0):this.renderPricingViewForTag(!1,a.Ys.strikeOutTextHighlighted,a.Ys.discountTextHighlighted)):n.createElement(r.DlsView,null,n.createElement(r.DlsView,{style:u},this.state.viewModel.dealTags&&this.renderTagComponents(this.state.viewModel.dealTags)),this.state.viewModel.offerInfoDefaultText?this.renderViewForSpecialPriceTimerAB():void 0,this.renderPricingViewForTag(!1,a.Ys.strikeOutTextHighlighted,a.Ys.discountTextHighlighted,void 0,c,void 0,void 0,void 0,!0,!0))},this.renderFeatureTags=()=>{if(this.state.viewModel.featureTags)return n.createElement(Z.A,{tagItem:this.state.viewModel.featureTags,parentContainerStyle:a.hK.tagParentStyle})},this.renderTrendMarkerTag=()=>{var e;const t=(0,w.nS)(this.props.widgetSlotData),i=t&&t.data,r=null===(e=null==i?void 0:i.trendMarkerTag)||void 0===e?void 0:e.value;if(!r)return;const a=r.width?r.width:Ve.TREND_MARKER_TAG_DEFAULT_WIDTH;return n.createElement(ke.A,{width:a,imageValue:r})},this.ratingContainerWithTagStyle=[a.Ys.wrappedRatingContainerWithTag,this.shouldRepositionRating()&&l.jE.margin_top_8]}static getWidgetHeight(e){let t=211;const i=(0,w.nS)(e.widgetSlotData),n=i&&i.data;if(!n)return t;const r=n.pricing,a=n.priceVariants,o=n.moqComponent,s=n.couponSummaries,l=null==n?void 0:n.brandStore;return r&&r.value?t+=Ie.getPricingViewWidgetHeight(r.value.priceTags,a):t=252,o&&(t+=Ie.getMOQAnnouncmentHeight(o)),n.offerSummaryGroups&&(t+=Ie.getOfferSummaryHeight(n.offerSummaryGroups)),s&&(t+=Ie.getCouponViewHeight(s)),l&&(t+=24),t}renderSuperHeader(e){return n.createElement(r.DlsView,{style:this.superHeaderStyle},this.renderProductSupertitle(e),this.renderTrendMarkerTag())}_renderView(){const e=!!q.A.getExperimentValue("isBrandNameHighlighted"),t=[this.state.viewModel.textStyle,e?l._6.fontMedium_16:null],i=this.getContainerStyle();return n.createElement(r.DlsView,{style:i},this.renderBrandStore(),this.renderSuperHeader(t),this.renderProductTitle(a.Ys.exclusiveTag,!0,!0),this.renderFeatureTags(),this.shouldRepositionRating()?this._renderRatingWithFa():void 0,this.renderFassuredTag(),this.state.viewModel.oosCallout?this.renderOOSCallout(this.state.viewModel.oosCallout):this.renderDealsAndPriceViews(),this._renderMOQAnnouncment(),this.shouldRepositionRating()?void 0:this._renderRatingWithFa(),this.renderUrgencyMessage(),!this.shouldRepositionEmiCallout&&this.shouldSplitCallout()?this.renderOtherCallouts(!1,!0):void 0,this.renderOfferView({onPress:this._handlePricingClick,onPressParam:this.state.viewModel.summaryData}),this.renderProductExpiryView(),this.renderASMDisplayMessage(),this.renderPreOrderAnnouncement(),this.renderListingPreservationView(),this.renderNewVersionView())}renderWidget(){const e=!!q.A.getExperimentValue("enableDealsTagAnimation"),t=this.isAspectRatingsPresent();return e||t?n.createElement(K.Ay,{conditions:this._getMultiCondition()},this._renderView()):this._renderView()}showRatingAdjective(){return!0}renderSpecialPriceTimer(e){if(e)return n.createElement(r.DlsView,null,this.renderUrgencyView(e))}renderViewForSpecialPriceTimerAB(){var e,t,i,o;const s=[l.jE.margin_top_8];return(null===(i=null===(t=null===(e=this.props)||void 0===e?void 0:e.pageInfo)||void 0===t?void 0:t.pageContext)||void 0===i?void 0:i.isNewUser)||(s.push(a.Ys.specialPriceTimerStyle),ie.A.getIsGBFlowFlipkart(null===(o=this.state.viewModel)||void 0===o?void 0:o.priceVariants)&&s.push(a.Ys.specialPriceViewBottomStyle)),n.createElement(r.DlsView,{style:s},this.renderSpecialPriceTimer(this.state.viewModel.offerInfoDefaultText))}_renderRatingWithFa(){var e;const t=this.state.viewModel,i=this.isAspectRatingsPresent();if(t.ratingsAndReviews||this.state.viewModel.faEnabled||i||t.sellerRaings)return n.createElement(o.S,{onPress:this._handleRnRClick,onPressParam:t.ratingsAndReviews?t.ratingsAndReviews.action:t.sellerRaings&&(null===(e=t.sellerRaings)||void 0===e?void 0:e.action)},n.createElement(r.DlsView,null,n.createElement(r.DlsView,{style:this.ratingContainerWithTagStyle},n.createElement(r.DlsView,null,this.renderProductRatingView(!0,a.Ys.ratingCountHighlighted)),this.state.viewModel.faEnabled&&this.renderFAEnabledView()),i?this.renderAspectRatingsView():void 0))}enablePriceVariationsAB(){return De.Ay.PriceVariationPPEnabled}isDiscountIconABEnabled(){return De.Ay.DiscountIconEnabled}}Ve.TREND_MARKER_TAG_DEFAULT_WIDTH=66;var Le=i(950337),Me=i(723820),Ne=i(645770),He=i(723372),We=i(159874);class Be extends Ie{constructor(){super(...arguments),this._summaryStyle=[l._6.fontMedium_14,l._6.noTopPadding],this.renderMOQAnnouncement=()=>{const e=this.state.viewModel.moqComponent;if(e)return n.createElement(Me.A,{announcement:e,containerStyle:[l.jE.padding8H,l.jE.padding4V,l.jE.contentSelfAlignStart,l.jE.margin_bottom_4]})}}static getWidgetHeight(e){let t=0;const i=(0,w.nS)(e.widgetSlotData),n=i&&i.data;if(!n)return t;const r=n.summaryMeta,a=r&&r.urgency,o=n.titleComponent&&n.titleComponent.value?n.titleComponent.value.title:void 0,s=n.pricing,l=r&&r.deliveryMessage,d=r&&r.productExpiry,c=n&&n.listingPreservationAnnouncement,u=null==n?void 0:n.moqComponent;return o&&(o.length>48?t+=45:t+=27),l&&(t+=31),d&&(t+=36.3),s&&s.value&&(t+=40),a&&a.urgencyMessage&&(t+=31),c&&(t+=33),u&&(t+=26),t+be.A.getAdditionalHeight(e)+16}renderWidget(){var e;const t=a.tz.discountText,i=a.tz.discountBackground,s=a.tz.productPriceText,d=a.tz.priceParentStyle,c=a.tz.rowParentStyle,u=(0,w.nS)(this.props.widgetSlotData),h="GROCERY_UNIFIED"!==(null==u?void 0:u.viewType),p=(0,We.BX)(null===(e=this.props.pageInfo)||void 0===e?void 0:e.marketPlace);return n.createElement(K.Ay,{conditions:this._getMultiCondition()},n.createElement(r.DlsView,{style:a.tz.groceryContainer},n.createElement(r.DlsView,{style:a.tz.grocerySubContainer},n.createElement(r.DlsView,{style:l.jE.padding_bottom_4},this.renderProductTitleDefaultView()),this.renderMOQAnnouncement(),this.state.viewModel.dealTags&&this.renderTagComponents(this.state.viewModel.dealTags),this.renderUrgencyView(this.state.viewModel.offerInfoDefaultText),p?this.renderKilosPricingView():this.renderPricingViewForTag(!0,void 0,t,i,void 0,s,d,c,void 0,void 0,h),this.state.viewModel.ratingsValue?n.createElement(r.DlsView,{style:a.Ys.groceryRatingContainerWithTag},n.createElement(o.S,{onPress:this._handleRnRClick,onPressParam:this.state.viewModel.ratingsAndReviews&&this.state.viewModel.ratingsAndReviews.action,disableFeedback:!0},n.createElement(r.DlsView,null,this.renderProductRatingView(void 0,void 0,void 0,void 0,void 0,!0,!0)))):void 0,this.renderDeliveryMessageView()),this.renderProductExpiryView(),n.createElement(r.DlsView,{style:a.tz.grocerySubContainer},this.renderUrgencyMessage(),this.renderPreOrderAnnouncement(),this.renderListingPreservationView(),this.renderNewVersionView())))}renderKilosPricingView(){var e,t,i,a,o,s,d,c,u,h,p,g,m,v,_,C,E;const T=[l.jE.rowSpaceBetween,l.jE.alignItemCenter];return n.createElement(r.DlsView,{style:[l.jE.col]},(null===(t=null===(e=this.state.viewModel.pricing)||void 0===e?void 0:e.value)||void 0===t?void 0:t.totalDiscount)&&n.createElement(r.DlsView,{style:[l.jE.margin_right_16,l.jE.margin_vertical_4]},n.createElement(r.Label,{style:{color:r.Color.successDark,font:r.Font.regularSizeMediumWeight}},null===(a=null===(i=this.state.viewModel.pricing)||void 0===i?void 0:i.value)||void 0===a?void 0:a.totalDiscount,"% off")),n.createElement(r.DlsView,{style:[l.jE.row,l.jE.alignItemCenter,l.jE.margin_top_6,l.jE.justifyContentSpaceBetween,{width:"100%"}]},n.createElement(r.DlsView,{style:l.jE.flex},n.createElement(Ne.M,{kilosPrice:(null===(d=null===(s=null===(o=this.state.viewModel.pricing)||void 0===o?void 0:o.value)||void 0===s?void 0:s.prices.find((e=>"SPECIAL_PRICE"===e.priceType)))||void 0===d?void 0:d.value)||(null===(h=null===(u=null===(c=this.state.viewModel.pricing)||void 0===c?void 0:c.value)||void 0===u?void 0:u.prices.find((e=>"FSP"===e.priceType)))||void 0===h?void 0:h.value)||"",mrp:(null===(m=null===(g=null===(p=this.state.viewModel.pricing)||void 0===p?void 0:p.value)||void 0===g?void 0:g.prices.find((e=>"MRP"===e.priceType)))||void 0===m?void 0:m.value)||""})),this.state.viewModel.addToCartComponent&&n.createElement(r.DlsView,{style:[l.jE.alignItemCenter]},n.createElement(re.A,{quantityTextParentStyle:se.H.quantityContainer,quantityViewStyle:se.H.button,quantityToggleViewStyle:se.H.container,onValueChangeParams:this.state.viewModel.addToCartComponent.action,text:(0,W.ak)(this.context.locale,{id:H.H.rex_string_ADD_NEW}),onValueChanged:this._onBasketValueChanged,quantity:this.state.viewModel.quantity,hideDefaultButton:!0,isBasketButton:!0,isKilos:!0,hideExtraAddButton:!0}))),(null===(_=null===(v=this.state.viewModel.pricing)||void 0===v?void 0:v.value)||void 0===_?void 0:_.plusPriceInfo)&&n.createElement(r.DlsView,{style:T},n.createElement(He.A,{style:[l.jE.margin_top_8],messages:null===(E=null===(C=this.state.viewModel.pricing)||void 0===C?void 0:C.value)||void 0===E?void 0:E.plusPriceInfo,textDefaultStyle:l.XT.fontRegular_14})))}renderProductTitleDefaultView(){if(this.state.viewModel.groceryProductTitle)return n.createElement(r.DlsView,{style:l.jE.rowWithoutFlex},n.createElement(r.Label,Object.assign({},(0,Ae.Z)("Product_Summary_Title"),{style:a.tz.groceryTitleText,numberOfLines:2,ellipsizeMode:"tail"}),this.state.viewModel.groceryProductTitle,this.state.viewModel.exclusiveTag&&n.createElement(r.Label,{style:a.Ys.titleText},this.state.viewModel.exclusiveTag)),this.renderFoodPreferencesLabel(this.state.viewModel.productCardTagDetails))}showDiscountAsAmount(){return void 0===this.state.viewModel.showDiscountAsAmmount||this.state.viewModel.showDiscountAsAmmount}renderProductExpiryView(){if(!this.state.viewModel.productExpiry&&!this.state.viewModel.productManufacture)return;const e=this.state.viewModel.productExpiry,t=this.state.viewModel.productManufacture;return n.createElement(r.DlsView,Object.assign({},(0,Ae.Z)("Product_Expiry_Container"),{style:a.tz.groceryExpiryContainer}),n.createElement(r.DlsView,{style:a.Ys.expirySeparator}),n.createElement(r.DlsView,{style:a.Ys.expiryTimerView},n.createElement(O.A,Object.assign({},(0,Ae.Z)("Product_Expiry_Image"),{source:S.groceryExpiry,style:a.Ys.expiryImage,height:25,width:25})),n.createElement(r.DlsView,Object.assign({},(0,Ae.Z)("Product_Expiry_Text"),{style:a.tz.groceryExpiryText}),n.createElement(r.Label,Object.assign({},(0,Ae.Z)("Product_Expiry_Date"),{style:this._summaryStyle,numberOfLines:1,ellipsizeMode:"tail"}),e),n.createElement(r.Label,Object.assign({},(0,Ae.Z)("Product_Manufacture_Date"),{style:[l._6.fontRegular_12,l._6.lightGreyText],numberOfLines:1,ellipsizeMode:"tail"}),t))))}renderFoodPreferencesLabel(e){if(!(e&&e.length>0))return null;const t=e[0],i=t.image&&t.image.dynamicImageUrl;return Le.a.FOOD_PREFERENCE===t.type&&i?n.createElement(O.A,{style:a.Ys.foodPreferenceImage,source:i,height:20,width:20}):null}}var Ue=i(465420),Fe=i(857850),Ge=i(229022),ze=i(70828),je=i(539517);class Xe extends Ie{constructor(){super(...arguments),this._onPress=(e,t)=>{if(!t)return;let i=t.action;i&&this.dispatchAction&&this.dispatchAction(Fe.Q3.MAPI_ACTION,new T.Oy(i))},this._getIsSummaryExpandedFromAction=()=>{var e;const t=this.state.viewModel;return!t.variantsButton||((null===(e=t.variantsButton.action)||void 0===e?void 0:e.params.isExpanded)||!1)}}static getWidgetHeight(e){return be.A.getAdditionalHeight(e)+20}_renderView(){const e=this._getIsSummaryExpandedFromAction(),t=[!e&&a.Ys.cameraSummaryContainer],i=[a.Ys.cameraExpandedSummaryContainer];return n.createElement(r.DlsView,{style:a.Ys.cameraContainer},n.createElement(s.A,{heightVal:4,widthVal:56,backgroundColor:Fe.Jy.disabled,borderRadius:4,marginRightVal:"auto",marginLeftVal:"auto",marginBottomVal:8}),n.createElement(r.DlsView,{style:t},this.renderProductTitle(),n.createElement(r.DlsView,{style:i},this.renderPricingView(e),e&&this.renderExpandedView())),!e&&this.renderVariantsButton())}renderProductTitle(){var e,t;const i=this.state.viewModel;if(!i.productTitle||!i.productCombinedText)return;let o=(null===(t=null===(e=null==i?void 0:i.variantsButton)||void 0===e?void 0:e.action)||void 0===t?void 0:t.params.isExpanded)||!1;(null==i?void 0:i.variantsButton)||(o=!0);const s=o?150:35;return n.createElement(r.DlsView,null,n.createElement(r.TruncableLabel,{isExpanded:this.state.titleExpanded,text:i.productTitle,textAfterTruncate:" ",containerStyle:a.Ys.titleText,truncateAfterCharLimit:s}))}renderPricingView(e){const t=[a.Ys.ratingContainerWithTag,l.jE.colFlexStart];if(this.state.viewModel.ratingsValue)return n.createElement(r.DlsView,{style:t},n.createElement(o.S,{onPress:this._handleRnRClick,onPressParam:this.state.viewModel.ratingsAndReviews&&this.state.viewModel.ratingsAndReviews.action,disableFeedback:!0},n.createElement(r.DlsView,{style:ze.kZ.listRatingView},n.createElement(je.i2,{rating:this.state.viewModel.ratingsValue,countType:e?"ratings":"",parentStyle:(0,r.getViewStyle)(a.Ys.ratingsView),ratingCountStyle:ze.ZY.ratingCountText}))))}renderExpandedView(){return n.createElement(r.DlsView,{style:l.jE.padding_bottom_4},this.renderNEPAndDeliveryCallouts())}renderVariantsButton(){const e=this.state.viewModel;if(e.variantsButton)return n.createElement(Ge.A,{btnData:e.variantsButton,btnViewStyle:a.Ys.variantsButtonStyle,btnTextStyle:l.XT.fontMedium_14,borderRadius:20,onPress:this._onPress,onPressParam:e.variantsButton})}renderWidget(){return this._renderView()}}var Ye=i(101301),qe=i(879087),Je=i(249989);class Ke{constructor(e){this.type=Je.z.THREED_PRODUCT_SUMMARY_DIMENSIONS,this.productSummaryWidgetDimensions=e}}var Qe=i(454334),Ze=i(215807),$e=i(422018),et=i(495176),tt=function(e,t,i,n){return new(i||(i=Promise))((function(r,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};class it extends Ie{constructor(){super(...arguments),this.truncatedTextStyle=[l.XT.fontBold_16,l.jE.padding_bottom_4],this.updateHeightInPageInstance=e=>{const t=new Ke(e);if(this.props.actionDispatcher){const e=new x.i1(Fe.zt.THREED_PRODUCT_SUMMARY_DIMENSIONS,t);this.props.actionDispatcher(new x.ev(e))}},this._onPressSwatchVariant=(e,t)=>{var i;if(this.props.actionDispatcher){const e=[{swatchSelectionRequired:!1,text:this.localize({id:H.H.rex_string_swatch_action_string_CANCEL}),actionType:Fe.aw.SWATCH_SELECTION_CANCEL,buttonMode:1,shouldDisableActionButtonOnError:!1},{swatchSelectionRequired:!0,text:this.localize({id:H.H.rex_string_swatch_action_string_APPLY}),actionType:Fe.aw.SWATCH_SELECTION_APPLY,buttonMode:0,shouldDisableActionButtonOnError:!1}],n=w.wU(this.props.widgetSlotData),r=w.KJ(this.props.widgetSlotData),a=null===(i=this.props.pageInfo)||void 0===i?void 0:i.pageContext;this.props.actionDispatcher(new $e.lX(new $e.w1(e,t,Ze.m.BOTTOM_SHEET,a.productId,n,r,void 0,void 0,void 0,void 0)))}},this._onPress=(e,t)=>tt(this,void 0,void 0,(function*(){var e;if(!t)return;const i=Ye.zr.CLICKED_ON_COMPARE_BUTTON;null===qe.V||void 0===qe.V||(0,qe.V)(null,i,Ye.pb["3D"],this.trackDGEvent,this.props);const n=t.action,r=null===(e=null==n?void 0:n.params)||void 0===e?void 0:e.customCompare,a=yield Qe.A.getValue(Y.J1O.COMPARE_3D_INITIAL_MODE),o=yield Qe.A.getValue(Y.J1O.threedCompareModeLocalStorageKey);r||!a||"true"!==a||"card"!==o&&"phone"!==o?n&&this.dispatchAction&&(yield Qe.A.setValue(Y.J1O.COMPARE_3D_INITIAL_MODE,"false"),this.dispatchAction(Fe.Q3.MAPI_ACTION,new T.Oy(n))):this.directlyOpenCompareMode(n)})),this.directlyOpenCompareMode=e=>tt(this,void 0,void 0,(function*(){var t,i;const n=yield Qe.A.getValue(Y.J1O.threedCompareModeLocalStorageKey),r=yield Qe.A.getValue(Y.J1O.PHONE_COMPARE_FSN);let a="";if(a=n||"none",null==e?void 0:e.url){const n=null===(t=null==e?void 0:e.url)||void 0===t?void 0:t.split("?");n[0]="/threed-main-compare-view?";let o=n.join("")+"&mode="+a+Y.J1O.ACTIVE_FEATURE_COMPARE;"phone"===a&&r&&(o+="&fsn="+r);const s={loginType:"LOGIN_NOT_REQUIRED",params:{productId:null===(i=null==e?void 0:e.params)||void 0===i?void 0:i.productId,valid:!0,doNotFlush:!0,pageLoadState:"none"},screenType:"multiWidgetPage",tracking:{},type:"CHANGE_URI",url:o};yield Qe.A.setValue(Y.J1O.COMPARE_3D_INITIAL_MODE,"false"),this.dispatchAction(Fe.Q3.MAPI_ACTION,new T.Oy(s))}})),this._getIsSummaryExpandedFromAction=()=>{var e;const t=this.state.viewModel;return(null==t?void 0:t.variantsButton)&&(null===(e=t.variantsButton.action)||void 0===e?void 0:e.params.isExpanded)||!1}}static getWidgetHeight(e){return be.A.getAdditionalHeight(e)+20}componentDidUpdate(){super.componentDidUpdate()}getDerivedState(e,t){var i,n,r,a;const o=new we(e,this.localize),s=(0,w.nS)(e.widgetSlotData),l=s?s.data:void 0;return(null===(n=null===(i=null==o?void 0:o.variantsButton)||void 0===i?void 0:i.value)||void 0===n?void 0:n.title)&&("card"===(null==l?void 0:l.mode)||"phone"===(null==l?void 0:l.mode)?o.variantsButton.value.title=(0,W.ak)(this.props.appContext.locale,{id:H.H.rex_string_THREED_COMPARE_CHANGE}):(null===(a=null===(r=null==l?void 0:l.variantsButton)||void 0===r?void 0:r.value)||void 0===a?void 0:a.title)===Y.J1O.EXIT_COMPARE?o.variantsButton.value.title=Y.J1O.EXIT_COMPARE:o.variantsButton.value.title=(0,W.ak)(this.props.appContext.locale,{id:H.H.rex_string_THREED_COMPARE_INITIATE})),Object.assign(Object.assign({},super.getDerivedState(e,t)),{viewModel:Object.assign({},o)})}_renderView(){const e=this._getIsSummaryExpandedFromAction(),t=[!e&&a.Ys.cameraSummaryContainer],i=[a.Ys.cameraExpandedSummaryContainer];return n.createElement(r.DlsView,{style:a.Ys.cameraContainer,onLayout:e=>{const{height:t}=e.nativeEvent.layout;this.updateHeightInPageInstance(t)}},n.createElement(s.A,{heightVal:4,widthVal:56,backgroundColor:Fe.Jy.disabled,borderRadius:4,marginRightVal:"auto",marginLeftVal:"auto",marginBottomVal:8}),n.createElement(r.DlsView,{style:t},this.renderProductTitle(),n.createElement(r.DlsView,{style:i},this.renderPricingView(e),e&&this.renderExpandedView())),n.createElement(r.DlsView,{style:[l.jE.row]},this.renderSwatchVariantButton(),!e&&this.renderVariantsButton()))}renderProductTitle(){const e=this.state.viewModel;if(!e.productTitle||!e.productCombinedText)return;const t=e.productTitle.substring(0,25)+"...";return n.createElement(r.DlsView,null,n.createElement(et.A,{style:this.truncatedTextStyle,text:t,noSpaceAppend:!0}))}renderPricingView(e){const t=[a.Ys.ratingContainerWithTag,l.jE.colFlexStart];if(this.state.viewModel.ratingsValue)return n.createElement(r.DlsView,{style:t},n.createElement(o.S,{onPress:this._handleRnRClick,onPressParam:this.state.viewModel.ratingsAndReviews&&this.state.viewModel.ratingsAndReviews.action,disableFeedback:!0},n.createElement(r.DlsView,{style:ze.kZ.listRatingViewCentered},n.createElement(je.i2,{rating:this.state.viewModel.ratingsValue,countType:e?"ratings":"",parentStyle:(0,r.getViewStyle)(a.Ys.ratingsView),ratingCountStyle:ze.ZY.ratingCountText}))))}renderExpandedView(){return n.createElement(r.DlsView,{style:l.jE.padding_bottom_4},this.renderNEPAndDeliveryCallouts())}renderVariantsButton(){const e=this.state.viewModel;if(e.variantsButton)return n.createElement(Ge.A,{btnData:e.variantsButton,btnViewStyle:a.Ys.variantsButtonExpandedStyle,btnTextStyle:[l.XT.fontMedium_14,l.jE.margin_left_12],borderRadius:6,onPress:this._onPress,onPressParam:e.variantsButton})}renderSwatchVariantButton(){var e;const t=this.state.viewModel;if(!(null===(e=null==t?void 0:t.swatchVariantButton)||void 0===e?void 0:e.moreVariantsButton))return;let i=a.Ys.swatchVariantButtonContainerStyle;return t.variantsButton||(i=a.Ys.swatchVariantButtonFullWidthContainerStyle),n.createElement(r.DlsView,{style:i},n.createElement(Ge.A,{btnData:t.swatchVariantButton.moreVariantsButton,btnViewStyle:[a.Ys.variantsButtonExpandedStyle],btnTextStyle:[l.XT.fontMedium_14,l.jE.margin_left_4],borderRadius:6,onPress:this._onPressSwatchVariant,onPressParam:t.swatchVariantButton}))}renderWidget(){return this._renderView()}}var nt,rt=function(e,t,i,n){return new(i||(i=Promise))((function(r,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};class at extends it{constructor(){super(...arguments),this._onPress=(e,t)=>rt(this,void 0,void 0,(function*(){if(!t)return;const e=Ye.zr.CLICKED_ON_COMPARE_BUTTON;null===qe.V||void 0===qe.V||(0,qe.V)(null,e,Ye.pb["3D"],this.trackDGEvent,this.props);const i=t.action;i&&this.dispatchAction&&this.dispatchAction(Fe.Q3.MAPI_ACTION,new T.Oy(i))}))}renderVariantsButton(){const e=this.state.viewModel;if(e.variantsButton)return n.createElement(p.View,{style:l.C1.flex},n.createElement(Ge.A,{btnData:e.variantsButton,btnViewStyle:at.summaryButtonViewStyle,btnTextStyle:at.summaryButtonTextStyle,borderRadius:at.BORDER_RADIUS,onPress:this._onPress,onPressParam:e.variantsButton}))}}at.BORDER_RADIUS=6,at.summaryButtonViewStyle=[a.Ys.variantsButtonExpandedStyle,l.C1.backgroundBlue100],at.summaryButtonTextStyle=[l.XT.fontMedium_14,l.C1.margin_left_12],function(e){e.LOADING_STATE_LARGE="LoadingStateLargeMobile",e.LOADING_STATE_FURNITURE="LoadingStateFurniture",e.LOADING_STATE_DEFAULT="LoadingStateDefaultNew",e.LARGE="LARGE",e.MOBILE="MOBILE",e.GROCERY="GROCERY",e.GROCERY_UNIFIED="GROCERY_UNIFIED",e.DEFAULT="DEFAULT",e.FURNITURE="FURNITURE",e.LIFESTYLE="LIFESTYLE",e.BEAUTY="BEAUTY",e.LOADING_STATE_LIFESTYLE="LoadingStateLifestyle",e.CAMERA="CAMERA",e.CAMERA_THREED_VIEWER="CAMERA_THREED_VIEWER"}(nt||(nt={}));class ot extends Ue.A{getWidgetClass(e){const t=w.nS(e.widgetSlotData);switch(t?t.viewType:void 0){case"LoadingStateLargeMobile":case"MOBILE":case"LARGE":return xe;case"LIFESTYLE":case"LoadingStateLifestyle":return Ve;case"LoadingStateFurniture":case"FURNITURE":return Pe;case"BEAUTY":return Oe;case"GROCERY":case"GROCERY_UNIFIED":return Be;case"CAMERA":return Xe;case"CAMERA_THREED_VIEWER":return at;default:return Re}}getWidgetHeight(e){const t=w.nS(e.widgetSlotData);switch(t?t.viewType:void 0){case"LoadingStateLargeMobile":case"MOBILE":case"LARGE":return xe.getWidgetHeight(e);case"LoadingStateFurniture":case"FURNITURE":return Pe.getWidgetHeight(e);case"GROCERY":case"GROCERY_UNIFIED":return Be.getWidgetHeight(e);case"LIFESTYLE":case"LoadingStateLifestyle":return Ve.getWidgetHeight(e);case"CAMERA":return Xe.getWidgetHeight(e);case"CAMERA_THREED_VIEWER":return at.getWidgetHeight(e);default:return Re.getWidgetHeight(e)}}getWidgetType(e){let t=w.KJ(e.widgetSlotData);w.AA(e.widgetSlotData)||(t="preview");return super.getWidgetType(e)+"_"+t}}},612990:(e,t,i)=>{"use strict";i.d(t,{A:()=>Ke});var n=i(296540),r=i(560203),a=i(877293),o=i(997282),s=i(829270),l=i(602715),d=i(948017),c=i(492418),u=i(521722),h=i(424803),p=i(876505),g=i(532655),m=i(938777),v=i(790260),_=i(678067),C=i(302019),E=i(778358),T=i(738221),f=i.n(T);class A extends n.PureComponent{constructor(e,t){super(e,t),this._viewStyle={},this.triggerDWE=()=>{var e,t;null===(t=(e=this.props).trackDiscoveryWidgetEngament)||void 0===t||t.call(e)},this.eventTrigger=f()(this.triggerDWE,300),this.productImageContainerStyle=(0,C.nm)({marginRight:"s4",justifyContent:"center",overflow:"hidden"}),this._getView=e=>n.createElement(_.E,{data:e,renderItem:this._renderReviewImages,calculateDimensions:this._calculateDimensions,viewStyle:this.productImageContainerStyle,containerStyle:this._viewStyle,disableRecycling:!0,forceNonDeterministicRendering:!1,scrollViewProps:this.props.scrollViewProps,renderAheadOffset:this.props.renderAheadOffset,estimatedContentHeight:this.props.estimatedContentHeight,onScroll:this.eventTrigger}),this._calculateDimensions=()=>{const e=this._getImageSize(this.props);return{width:e.width+u.H7,height:e.height}},this._getReviewImageThumbnail=(e,t,i,r)=>n.createElement(E.A,{disableAdditionalImageCount:this.props.disableAdditionalImageCount,productImageContainerStyle:this.props.productImageContainerStyle?(0,C.nm)(this.props.productImageContainerStyle||{}):void 0,didClickImage:this._didClickImage,action:e,index:t,data:i,imageSize:r,rukminiImageSize:this.props.rukminiImageSize,overrideImageStyle:this.props.overrideImageStyle,overrideDimenFromStyle:this.props.overrideDimenFromStyle}),this._renderReviewImages=(e,t,i)=>{const r=this._getImageSize(this.props),a=t.action&&t.action.params,o=Object.assign(Object.assign({},t.action),{params:Object.assign(Object.assign({},a),{index:i})}),s=t.value&&t.value.imageId,l=this._getViewTrackingInfo(i,s);return l?n.createElement(p.A,{trackingInfo:l},this._getReviewImageThumbnail(o,i,t,r)):this._getReviewImageThumbnail(o,i,t,r)},this._getImageSize=e=>{var t,i,n;const r=null===(t=e.images[0])||void 0===t?void 0:t.value;if(r){const e=null===(i=r.imageStyle)||void 0===i?void 0:i.width,t=null===(n=r.imageStyle)||void 0===n?void 0:n.height;if(t&&e)return{width:e,height:t}}const a=e.screenWidth-32,o=e.imageSize?e.imageSize:(a-u.H7*(e.maxImageCount-1))/e.maxImageCount;return{width:o,height:o}},this._getViewTrackingInfo=(e,t)=>{if(!t||!this.props.trackingParams.fetchId)return;return new h.A(this.props.trackingParams.fetchId,e,t,this.props.trackingParams.productId,this.props.trackingParams.reviewId)},this._getCollectionViewTrackingData=()=>{const e=this.props.trackingParams.fetchId,t=this.props.images.length>this.props.maxImageCount?this.props.maxImageCount:this.props.images.length,i=this.props.images.length,n=this.props.trackingParams.productId,r=this.props.trackingParams.reviewId;if(!e||!t||!i)return;return new v.A(e,t,i,n,r)},this._didClickImage=(e,t)=>{if(t){const e=this.props.trackingParams.sProduct,i=Object.assign(Object.assign({},t),{params:Object.assign(Object.assign({},t.params),{SELECTED_PAGE_ID:t.url}),tracking:Object.assign(Object.assign({},t.tracking),{source:t.params.screenName===m.BcD?this.props.trackingParams.source:g.A.Product})});e&&(i.tracking.sProduct=e);const n=i.params.imageId;this.props.didClickImage(i,n)}},this._setImageSize(e)}_setImageSize(e){const t=this._getImageSize(e),i=e.imageMarginBottom?e.imageMarginBottom:u.TO;this._viewStyle={flex:1,height:t.height+i}}render(){const e=this.props.images?this.props.images.slice(0,this.props.maxImageCount):void 0;if(!e)return null;const t=this._getCollectionViewTrackingData();return this._setImageSize(this.props),t?n.createElement(p.A,{trackingInfo:t},e&&this._getView(e)):e&&this._getView(e)}}var S=i(235232),y=i(253547),w=i(287656),I=i(140527),b=i(580555),D=i(244034),x=i(988287),P=i(347953),O=i(257246),R=i(352254),k=i(398581),V=i(45426),L=i(1319),M=i(857850),N=i(754841),H=i(107302),W=i(479892),B=i(993694),U=i(146387),F=i(897846),G=i(577555);const{width:z,height:j}=a.Dimensions.get("window");class X extends n.Component{constructor(){super(...arguments),this.VOTE_ICONS_SIZE=16,this.DESCRIPTION_MAX_CHAR_LIMIT=100,this.flagAsAbusiveString="Flag as abusive",this.getMenuItemViews=e=>()=>[new w.A({value:this.flagAsAbusiveString,onPress:this.props.reviewData.reportAbuse,pressParam:e})],this.render=()=>{const{reviewVal:e,didShowMenuHandler:t,showReportAbuse:i,didHideReportAbuse:r}=this.props.reviewData,{rating:s,author:l,text:d,title:u,created:h}=e;if(!(s&&u&&d&&l&&h))return null;const p=s+c.NH+c.bhs;return n.createElement(C.az,{bg:"v2.neutral.900",opacity:.9,m:"s6",p:"s6",borderRadius:4,maxHeight:j/2},n.createElement(C.az,{flexDirection:"row",mb:"s2",justifyContent:"space-between"},n.createElement(C.az,{flexDirection:"row"},n.createElement(G.A,{text:p,backgroundColor:"success.primary",rating:5,separateStarContent:!0}),n.createElement(C.JU,{color:"v2.neutral.0",pl:"s4",font:"s_medium"},u)),n.createElement(V.S,{onPress:t,disableFeedback:!0},n.createElement(R.A,{source:c._pw,height:16,width:4}))),n.createElement(a.ScrollView,{showsVerticalScrollIndicator:!1},n.createElement(F.A,{truncateAfterCharLimit:this.DESCRIPTION_MAX_CHAR_LIMIT,text:d,isExpanded:this.props.descriptionExpanded,onPress:this.props.toggleTitleExpanded,containerStyle:{color:M.Jy.white},textAfterTruncateStyle:{color:M.Jy.white}})),i?n.createElement(y.A,{getItemViews:this.getMenuItemViews(e),menuViewContainerStyle:o.a.reportAbuseMenuContainer,hideMenuHandler:r}):null,n.createElement(C.az,{flexDirection:"row",mt:"s2",alignItems:"center",justifyContent:"space-between"},n.createElement(C.az,{flexDirection:"row",flex:4},n.createElement(C.JU,{color:"v2.neutral.0",pr:"s4",numberOfLines:1,ellipsizeMode:"tail",maxWidth:.35*z},l),n.createElement(C.JU,{color:"v2.neutral.0"},h)),n.createElement(C.az,{flexDirection:"row",justifyContent:"flex-end",flex:2},this.renderUpvoteView(),this.renderDownvoteView())))}}renderUpvoteView(){const{didUpvoteHandler:e,isUpvoteEnabled:t,upVoteCount:i}=this.props.reviewData;return n.createElement(V.S,{onPress:e,disabled:t,disableFeedback:!0},n.createElement(C.az,{flexDirection:"row",pr:"s2"},n.createElement(C.az,{pr:"s3",flexDirection:"row",alignItems:"center"},n.createElement(R.A,{source:t?c.x5q:c.U3N,height:this.VOTE_ICONS_SIZE,width:this.VOTE_ICONS_SIZE})),n.createElement(C.JU,{color:"v2.neutral.0",alignSelf:"center",font:"s_medium"},i)))}renderDownvoteView(){const{didDownvoteHandler:e,isDownvoteEnabled:t,downVoteCount:i}=this.props.reviewData;return n.createElement(V.S,{onPress:e,disableFeedback:!0,disabled:t},n.createElement(C.az,{flexDirection:"row"},n.createElement(C.az,{padding:"s3",flexDirection:"row",alignItems:"center"},n.createElement(R.A,{source:t?c.uN7:c.$1S,height:this.VOTE_ICONS_SIZE,width:this.VOTE_ICONS_SIZE})),n.createElement(C.JU,{color:"v2.neutral.0",alignSelf:"center",font:"s_medium"},i)))}}var Y=i(502346),q=i(311676),J=i(390437);const{width:K,height:Q}=a.Dimensions.get("window");class Z extends n.Component{constructor(e){var t,i,r;super(e),this._videoRef=null,this.safeAreaTop="ios"===a.Platform.OS&&this.props.appContext?this.props.appContext.uiContext.getWindowSafeAreaInset().top+15:a.StatusBar.currentHeight?a.StatusBar.currentHeight+15:24,this.BACK_BUTTON_SIZE=24,this.storyBgGradientColor=["#7E6353","#728B9982","#FFFFFF"],this.render=()=>{if(0===this.props.stories.length)return null;const{currentImageId:e}=this.state,{mediaType:t,mediaUrl:i}=this.props.stories[e],r={uri:R.A.generateImageUrl(i,Math.floor(K),Math.floor(Q))};return n.createElement(Y.A,{animationInTiming:1,onBackButtonPress:this.closeModalAnimation,swipeDirection:["down"],onSwipeComplete:this.closeModalAnimation,isVisible:!0,style:W.C1.margin_0,statusBarTranslucent:!0},n.createElement(a.Animated.View,{style:[this.backgroundStoryStyle,{transform:[{scale:this.zoomAnimatedValue}]}]},n.createElement(k.W,{gradientColors:this.storyBgGradientColor,style:{width:K,height:Q}},n.createElement(a.ImageBackground,{source:r,style:{height:Q,width:K},blurRadius:20},"ReviewImage"===t?this.renderImage():this.renderVideo(),n.createElement(C.az,{flex:1,flexDirection:"column"},this.headerProgress(),this.prevAndNextGesture()),n.createElement(C.az,{flex:1,position:"absolute",bottom:0,left:0,right:0,width:K},n.createElement(X,{reviewData:this.props.reviewData,toggleTitleExpanded:this.toggleTitleExpanded,descriptionExpanded:this.state.descriptionExpanded}))))))},this.start=()=>{this.progress.setValue(0),this.startAnimation()},this.startAnimation=()=>{a.Animated.timing(this.progress,{toValue:1,duration:this.state.durationRemaining,useNativeDriver:!1}).start((({finished:e})=>{e&&(this.next(),this.reviewImageInteractionTracking(J.O.STORY_AUTO_NEXT,this.props.stories[this.state.currentImageId].reviewTrackingData))}))},this.next=()=>{const{currentImageId:e}=this.state;this.state.descriptionExpanded&&this.toggleTitleExpanded(),e!==this.props.stories.length-1?(this.setAnimationDuration(this.props.stories[this.state.currentImageId+1].duration),this.setState({currentImageId:e+1,isVideoLoaded:!1,isImageLoaded:!1}),this.progress.setValue(0)):this.closeModalAnimation()},this.previous=()=>{const{currentImageId:e}=this.state;this.state.descriptionExpanded&&this.toggleTitleExpanded(),e-1>=0?(this.setAnimationDuration(this.props.stories[this.state.currentImageId-1].duration),this.setState({currentImageId:e-1,isVideoLoaded:!1,isImageLoaded:!1}),this.progress.setValue(0)):this.closeModalAnimation()},this.setAnimationDuration=e=>{this.setState({durationRemaining:e})},this.onTouchStart=()=>{var e;const t=(1-parseFloat(JSON.stringify(this.progress)))*this.props.stories[this.state.currentImageId].duration;this.setAnimationDuration(t),this.progress.stopAnimation(),null===(e=this._videoRef)||void 0===e||e.pause()},this.onTouchEnd=()=>{var e;this.startAnimation(),null===(e=this._videoRef)||void 0===e||e.play(),this.setState({pressed:!1,longPress:!1})},this.onTouchMove=()=>{this.state.longPress&&this.setState({pressed:!0})},this.onLongPress=()=>{this.setState({longPress:!0})},this.prevAndNextGesture=()=>n.createElement(C.az,{top:this.safeAreaTop,flex:1,flexDirection:"row",onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd},n.createElement(a.TouchableWithoutFeedback,{onLongPress:this.onLongPress,onPress:()=>{this.state.pressed||(this.previous(),this.reviewImageInteractionTracking(J.O.STORY_TAP_PREV,this.props.stories[this.state.currentImageId].reviewTrackingData))}},n.createElement(C.az,{flex:1})),n.createElement(a.TouchableWithoutFeedback,{onLongPress:this.onLongPress,onPress:()=>{this.state.pressed||(this.next(),this.reviewImageInteractionTracking(J.O.STORY_TAP_NEXT,this.props.stories[this.state.currentImageId].reviewTrackingData))}},n.createElement(C.az,{flex:1}))),this.renderImage=()=>{const{currentImageId:e}=this.state;return n.createElement(C.az,{width:K,height:Q,position:"absolute"},n.createElement(R.A,{enableLoadEvents:!0,onImageLoad:()=>{this.setState({isImageLoaded:!0}),this.reviewImageViewTracking(this.props.stories[e].reviewTrackingData),this.progress.setValue(0),this.start()},disableDefaultPlaceholderImage:!0,source:this.props.stories[e].mediaUrl,width:K,height:Q}))},this.renderVideo=()=>{const{currentImageId:e}=this.state,t={src:this.props.stories[e].mediaUrl,width:K,height:Q,hideTimer:!0,disableVolumeControl:!0,showReplayButton:!1,disableDefaultPlaceholderImage:!0,showPlayButton:!1,hideBufferIndicator:!1,playInLoop:!1,loopCount:-1,thumbnail:this.props.stories[e].thumbnailUrl,resizeMode:H.ResizeModes.RESIZE_MODE_FILL};return n.createElement(C.az,{width:K,height:Q,position:"absolute"},n.createElement(N.Jc,{ref:this._saveVideoRef,onPlayerStateChanged:this._onPlayerStateChanged,style:this.storyVideoStyle,data:t,mute:!0,prefetch:!0}))},this._onPlayerStateChanged=e=>{var t;e.nativeEvent.playbackState!==B.h.STATE_READY||this.state.isVideoLoaded||(this.start(),null===(t=this._videoRef)||void 0===t||t.play(),this.setState({isVideoLoaded:!0}))},this._saveVideoRef=e=>{this._videoRef=e},this.headerProgress=()=>{const{currentImageId:e}=this.state;return n.createElement(C.az,{top:this.safeAreaTop},n.createElement(C.az,{flexDirection:"row",px:"s6"},this.props.stories.map(((t,i)=>n.createElement(C.az,{key:i,height:2,flex:1,flexDirection:"row",bg:"v2.neutral.900",mx:"s2"},e===i?n.createElement(a.Animated.View,{style:[W.C1.height_2,W.C1.border_radius_2,{flex:this.progress,backgroundColor:M.Jy.white}]}):n.createElement(C.az,{borderRadius:2,flex:e>i?1:0,height:2,bg:"v2.neutral.0"}))))),n.createElement(V.S,{onPress:this.closeModalAnimation,disableFeedback:!0},n.createElement(R.A,{source:c.wAQ,height:this.BACK_BUTTON_SIZE,width:this.BACK_BUTTON_SIZE,style:this.backArrowButtonStyle})))},this.toggleTitleExpanded=()=>{if(!this.props.reviewData.showReportAbuse){const e={type:L.J.ExpandProductPageTitle,data:{isExpanded:!this.state.descriptionExpanded}};this.props.dispatchAction&&this.props.dispatchAction(M.Q3.EXPAND_ACTION,new L.Z(e)),this.setState({descriptionExpanded:!this.state.descriptionExpanded}),this.state.descriptionExpanded?this.onTouchEnd():this.onTouchStart()}},this._prefetchImages=()=>{const e=this.props.stories;e&&e.map((e=>{this.props.dispatchAction&&this.props.appContext&&this.props.dispatchAction(M.Q3.DOWNLOAD_IMAGE_AND_SAVE_TO_CAHCE,new U.l_({imageDynamicUrl:e.mediaUrl,imageWidth:K,imageHeight:Q,devicePixelRatio:this.props.appContext.uiContext.devicePixelRatio}))}))},this.closeModalAnimation=()=>{a.Animated.timing(this.zoomAnimatedValue,{toValue:0,duration:200,useNativeDriver:!0,easing:a.Easing.linear}).start((()=>{this.props.onModalClose&&this.props.onModalClose(),this.reviewImageInteractionTracking(J.O.CLOSE_STORY,this.props.stories[this.state.currentImageId].reviewTrackingData)}))},this.state={pressed:!1,currentImageId:this.props.selectedIndex,descriptionExpanded:!1,durationRemaining:null!==(r=null===(i=null===(t=this.props.stories)||void 0===t?void 0:t[this.props.selectedIndex])||void 0===i?void 0:i.duration)&&void 0!==r?r:0,isVideoLoaded:!1,isImageLoaded:!1,longPress:!1},this.progress=new a.Animated.Value(0),this._prefetchImages(),this.zoomAnimatedValue=new a.Animated.Value(1),this.backgroundStoryStyle=[W.C1.positionAbsolute,{width:"100%",height:"100%",backgroundColor:M.Jy.black}],this.backArrowButtonStyle=[W.C1.margin_left_16,W.C1.margin_top_12],this.storyVideoStyle=[W.C1.flex,W.C1.absoluteCenter]}reviewImageViewTracking(e){var t,i;if(!e||!e.fetchId||!e.imageId)return;const n=new q.r_U(e.fetchId,e.imageId,Number(e.position),e.productId,e.reviewId);null===(i=(t=this.props).trackDGEvent)||void 0===i||i.call(t,n)}reviewImageInteractionTracking(e,t){var i,n;t&&t.impressionId&&t.position&&(null===(n=(i=this.props).trackDiscoveryContentEngagementEvent)||void 0===n||n.call(i,t,e))}}var $,ee,te,ie,ne=i(121990);!function(e){e.REVIEW_VIDEO="ReviewVideo",e.REVIEW_IMAGE="ReviewImage"}(ie||(ie={}));class re{}te=re,re.storyFormatMaxImageDuration=null!==($=P.A.getExperimentValue("storyFormatMaxImageDuration"))&&void 0!==$?$:5e3,re.storyFormatMaxVideoDuration=null!==(ee=P.A.getExperimentValue("storyFormatMaxVideoDuration"))&&void 0!==ee?ee:9e4,re.getPreferredVideoURL=(e,t)=>{var i;const n=[{type:"source",resolution:1,sourceType:null!==(i="DASH")?i:void 0,url:null!=t?t:""},{type:"source",resolution:1,sourceType:null!=="HLS"?"HLS":void 0,url:null!=e?e:""}];return(0,ne.QI)(n).url},re.createStoriesData=(e,t)=>{const i=[];let n={stories:[]},r={};return null==e||e.map(((e,n)=>{var a,o,s;const l=e.value.type;if(r=Object.assign(Object.assign({},t),{imageId:e.value.imageId,contentType:null==t?void 0:t.contentType}),"ReviewImage"===l)e.value.imageURL&&i.push({mediaUrl:e.value.imageURL,duration:re.storyFormatMaxImageDuration,mediaType:l,reviewTrackingData:r});else if("ReviewVideo"===l){const t=te.getPreferredVideoURL(e.value.hlsUrl,e.value.dashUrl);i.push({mediaUrl:t,duration:Math.min(1e3*(null!==(a=e.value.durationInSeconds)&&void 0!==a?a:0),re.storyFormatMaxVideoDuration),mediaType:l,thumbnailUrl:null===(s=null===(o=e.value.primaryImage)||void 0===o?void 0:o.imageMap)||void 0===s?void 0:s.thumbnailUrl})}})),i.length>0&&(n={stories:i}),n};var ae,oe=i(879052);const se=null===(ae=null===a.NativeModules||void 0===a.NativeModules?void 0:a.NativeModules.DesktopClientInfo)||void 0===ae?void 0:ae.isDesktopClient,le={color:"text.primary",font:se?"s":"m",pr:"s4",py:"s6"},de={color:"text.primary",font:se?"s":"m",pr:"s4",pb:"s6",pt:"s4"};class ce extends n.PureComponent{constructor(e){var t,i,n,r,a,o,l,d;super(e),this.storyFormatReviewsEnabled=!!P.A.getExperimentValue("storyFormatReviewsEnabled"),this.openStoryModal=e=>{this.setState({isModalOpen:!0,selectedIndex:null==e?void 0:e.params.index})},this.closeStoryModal=()=>{this.setState({isModalOpen:!1})},this.openStoriesModal=e=>{var t,i,n,r;e&&(null===(i=null===(t=this.props.productReviewRC)||void 0===t?void 0:t.value)||void 0===i?void 0:i.id)&&(null===(r=(n=this.props).openStoriesModal)||void 0===r||r.call(n,e,this.props.productReviewRC.value.id))},this.getImageMediaClick=e=>{this.props.isStoriesFormatReviewsEnabled?this.openStoriesModal(e):this.storyFormatReviewsEnabled?this.openStoryModal(e):this.didClickImage(e)},this.getVideoMediaClick=e=>{this.props.isStoriesFormatReviewsEnabled?this.openStoriesModal(e):this.storyFormatReviewsEnabled?this.openStoryModal(e):this.didClickVideo(e)},this.didSelectReportAbuse=()=>{!!this.props.transientData&&this.props.transientData.showReportAbuse?this._toggleReportAbuseMenu():this._clickOverflow()},this.didSelectUpVote=()=>{var e,t;const i=null===(e=this.props.productReviewRC)||void 0===e?void 0:e.value;if(i&&i){const e=null===(t=null==i?void 0:i.upvote)||void 0===t?void 0:t.action;e&&this.props.didUpvoteHandler(this.props.index,e)}},this.didSelectDownVote=()=>{var e,t;const i=null===(e=this.props.productReviewRC)||void 0===e?void 0:e.value;if(i&&i){const e=null===(t=null==i?void 0:i.downvote)||void 0===t?void 0:t.action;e&&this.props.didDownvoteHandler(this.props.index,e)}},this.didBadgeClick=()=>{var e,t;const i=null===(e=this.props.productReviewRC)||void 0===e?void 0:e.value;if(i){const e=null===(t=null==i?void 0:i.userBadge)||void 0===t?void 0:t.action;e&&this.props.didBadgeClickHandler(e)}},this.getMenuItemViews=e=>()=>[new w.A({value:"Flag as abusive",onPress:this._reportAbuse,pressParam:e})],this.didClickImage=e=>{e&&this.props.didClickImage(e)},this.didClickVideo=e=>{e&&this.props.didClickVideo&&this.props.didClickVideo(e)},this.isUpvoteSelected=e=>(this.props.transientData?this.props.transientData.feedback:void 0)===s.D.Up||!(!e.upvote||!e.upvote.value)&&e.upvote.value.isSelected,this.isDownvoteSelected=e=>(this.props.transientData?this.props.transientData.feedback:void 0)===s.D.Down||!(!e.downvote||!e.downvote.value)&&e.downvote.value.isSelected,this.expandReview=()=>{this.props.isAlwaysExpanded||this.props.didExpandHandler(this.props.index,this.props.trackingParams)},this.didHideReportAbuse=()=>{this.props.didHideAbuseHandler(this.props.index)},this._toggleReportAbuseMenu=()=>{this.props.didShowAbuseHandler(this.props.index)},this._clickOverflow=()=>{this._toggleReportAbuseMenu(),this._timeoutHandle&&clearTimeout(this._timeoutHandle),this._timeoutHandle=setTimeout((()=>{this.didHideReportAbuse()}),2e3)},this._reportAbuse=e=>{var t;this.didHideReportAbuse();const i=(null===(t=e.reportAbuse)||void 0===t?void 0:t.action)||null;i&&this.props.didReportAbuseHandler(this.props.index,i)},this.state={isModalOpen:!1,selectedIndex:0};const c={impressionId:null===(i=null===(t=this.props.productReviewRC)||void 0===t?void 0:t.tracking)||void 0===i?void 0:i.impressionId,position:null===(r=null===(n=this.props.productReviewRC)||void 0===n?void 0:n.tracking)||void 0===r?void 0:r.position,fetchId:this.props.trackingParams.fetchId,productId:this.props.trackingParams.productId,reviewId:this.props.trackingParams.reviewId,contentType:null===(o=null===(a=this.props.productReviewRC)||void 0===a?void 0:a.tracking)||void 0===o?void 0:o.contentType};this.storyData=this.storyFormatReviewsEnabled?re.createStoriesData(null===(d=null===(l=this.props.productReviewRC)||void 0===l?void 0:l.value)||void 0===d?void 0:d.media,c):{stories:[]}}render(){var e;const t=null===(e=this.props.productReviewRC)||void 0===e?void 0:e.value;if(!t)return null;const i=this.getViewTrackingInfo(t);return i?n.createElement(p.A,{trackingInfo:i},this.renderReviewView(t)):this.renderReviewView(t)}renderReviewView(e){var t,i;const r=e.location,a=e.reviewPropertyMap?e.reviewPropertyMap:{},s=this.isDownvoteSelected(e),u=this.isUpvoteSelected(e),h=e.rating?e.rating:0,p=e.downvote&&e.downvote.value?S.A.getRelativeNumber(e.downvote.value.count):"0",g=e.upvote&&e.upvote.value?S.A.getRelativeNumber(e.upvote.value.count):"0",m=!!this.props.isAlwaysExpanded||!!this.props.transientData&&this.props.transientData.isExpanded,v=!!this.props.transientData&&this.props.transientData.showReportAbuse,_=e.rating+c.NH+c.bhs,E=e.created,T=(null==e?void 0:e.reviewTypeDisplayText)!==c.u1i?e.reviewTypeDisplayText:void 0,f=e.media&&e.media.length&&this.props.enableReviewVideos,w={reviewVal:e,ratingText:_,isDownvoteEnabled:s,downVoteCount:p,isUpvoteEnabled:u,upVoteCount:g,didBadgeClickHandler:this.didBadgeClick,didDownvoteHandler:this.didSelectDownVote,didUpvoteHandler:this.didSelectUpVote,didShowMenuHandler:this.didSelectReportAbuse,didHideReportAbuse:this.didHideReportAbuse,reportAbuse:this._reportAbuse,showReportAbuse:v};return n.createElement(ue,null,n.createElement(he,null,n.createElement(x.A,{rating:h,themeContext:this.props.themeContext}),this.getNumericalRatingTextValue(e),n.createElement(C.JU,Object.assign({},(0,oe.Z)("Swatch_Review_Title"),{color:null!==(t=(0,O.L7)(this.props.themeContext))&&void 0!==t?t:"text.primary",ml:"s4",mr:"s6",mt:"s0",flex:1,font:se?"s":"m"}),e.title),T&&n.createElement(C.JU,{font:"s",color:null!==(i=(0,O.n6)(this.props.themeContext))&&void 0!==i?i:"text.secondary"},T)),this.props.swatchReviewString?n.createElement(pe,Object.assign({},(0,oe.Z)("Swatch_Review_For"),{labelColor:(0,O.n6)(this.props.themeContext)}),this.props.swatchReviewString):null,e.text&&!this.props.isAlwaysExpanded?n.createElement(d.A,Object.assign({},(0,oe.Z)("Swatch_Review_Description"),{text:e.text,isExpanded:m,onPress:this.expandReview,containerStyle:this.props.swatchReviewString?de:le,textStyle:this.props.themeContext?{color:(0,O.n6)(this.props.themeContext)}:void 0})):n.createElement(d.A,Object.assign({},(0,oe.Z)("Swatch_Review_Description"),{text:e.text?e.text:c.u1i,isExpanded:m,onPress:this.expandReview,containerStyle:e.text?le:void 0,textStyle:this.props.themeContext?{color:(0,O.n6)(this.props.themeContext)}:void 0})),!f&&e.images&&e.images.length>0&&this.props.enableReviewImages?n.createElement(A,{images:e.images,didClickImage:this.getImageMediaClick,screenWidth:this.props.screenWidth,maxImageCount:c.FIp,trackingParams:{fetchId:this.props.trackingParams.fetchId,productId:this.props.trackingParams.productId,reviewId:e.id,sProduct:this.props.trackingParams.sProduct,source:this.props.trackingParams.source}}):null,f&&e.media&&e.media.length?n.createElement(D.A,{media:e.media,didClickImage:this.getImageMediaClick,didClickVideo:this.getVideoMediaClick,screenWidth:this.props.screenWidth,maxMediaCount:c.FIp,trackingParams:{fetchId:this.props.trackingParams.fetchId,productId:this.props.trackingParams.productId,reviewId:e.id,sProduct:this.props.trackingParams.sProduct,source:this.props.trackingParams.source}}):null,v?n.createElement(y.A,{getItemViews:this.getMenuItemViews(e),menuViewContainerStyle:o.a.reportAbuseMenuContainer,hideMenuHandler:this.didHideReportAbuse}):null,n.createElement(l.h,{authorName:e.author,location:r,created:E,isDownvoteEnabled:s,downVoteCount:p,userBadge:e.userBadge,didBadgeClickHandler:this.didBadgeClick,isUpvoteEnabled:u,upVoteCount:g,reviewPropertyMap:a,didDownvoteHandler:this.didSelectDownVote,didUpvoteHandler:this.didSelectUpVote,didShowMenuHandler:this.didSelectReportAbuse,reportAbuseVisible:this.props.reportAbuseVisible,themeContext:this.props.themeContext}),this.storyFormatReviewsEnabled&&this.state.isModalOpen&&n.createElement(Z,{onModalClose:this.closeStoryModal,stories:this.storyData.stories,reviewData:w,appContext:this.props.appContext,selectedIndex:this.state.selectedIndex,dispatchAction:this.props.dispatchAction,trackDGEvent:this.props.trackDGEvent,trackDiscoveryContentEngagementEvent:this.props.trackDiscoveryContentEngagementEvent}))}getNumericalRatingTextValue(e){var t,i;const r=se?"s_medium":"m_medium";return n.createElement(C.az,{flexDirection:"row"},n.createElement(C.JU,{color:null!==(t=(0,O.L7)(this.props.themeContext))&&void 0!==t?t:"v2.success.600",font:r,ml:"s3",mt:"s0"},e.rating.toFixed(1)),n.createElement(C.JU,{color:null!==(i=(0,O.L7)(this.props.themeContext))&&void 0!==i?i:"text.primary",font:r,ml:"s3",mt:"s0"},""))}getViewTrackingInfo(e){const t=this.props.tracking?this.props.tracking:void 0;if(!(t&&this.props.trackingParams.fetchId&&e.id&&this.props.trackingParams.type&&this.props.trackingParams.aspectId&&this.props.trackingParams.appLanguage))return;return new I.A(this.props.trackingParams.fetchId,this.props.trackingParams.type,e.id,this.props.trackingParams.aspectId,new b.Ay(Object.assign(Object.assign({},t),{appLanguage:this.props.trackingParams.appLanguage})))}}const ue=C.az.extendComponent({name:"ReviewViewContainer",defaultProps:{pl:"s6",py:"s6"}}),he=C.fI.extendComponent({name:"ReviewHeadingContainer",defaultProps:{pr:"s6",alignItems:"center"}}),pe=C.JU.extendComponent({name:"SwatchReviewString",defaultProps:({labelColor:e})=>({font:"s",pr:"s4",pt:"s3",color:e||"text.secondary"})});var ge,me,ve,_e,Ce=i(887261),Ee=i(52754),Te=i(144502),fe=i(415283),Ae=i(914944),Se=i(410752),ye=i(438993),we=i(561310),Ie=i(420721),be=i(547134);!function(e){e.REVIEW_VIDEO="ReviewVideo",e.REVIEW_IMAGE="ReviewImage"}(ve||(ve={})),function(e){e.NEXT="NEXT",e.PREV="PREV"}(_e||(_e={}));class De{}De.storiesFormatMaxImageDuration=null!==(ge=P.A.getExperimentValue("storiesFormatMaxImageDuration"))&&void 0!==ge?ge:5e3,De.storiesFormatMaxVideoDuration=null!==(me=P.A.getExperimentValue("storiesFormatMaxVideoDuration"))&&void 0!==me?me:9e4,De.getPreferredVideoURL=(e,t)=>{var i;const n=[{type:"source",resolution:1,sourceType:null!==(i="DASH")?i:void 0,url:null!=t?t:""},{type:"source",resolution:1,sourceType:null!=="HLS"?"HLS":void 0,url:null!=e?e:""}];return(0,ne.QI)(n).url},De.createStoriesData=e=>{var t,i;const n=[];let r={stories:[]};return null===(i=null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.media)||void 0===i||i.forEach(((e,t)=>{var i,r,a;const o=e.value.type;if("ReviewImage"===o)e.value.imageURL&&n.push({mediaUrl:e.value.imageURL,duration:De.storiesFormatMaxImageDuration,mediaType:o});else if("ReviewVideo"===o){const t=De.getPreferredVideoURL(e.value.hlsUrl,e.value.dashUrl);n.push({mediaUrl:t,duration:Math.min(1e3*(null!==(i=e.value.durationInSeconds)&&void 0!==i?i:0),De.storiesFormatMaxVideoDuration),mediaType:o,thumbnailUrl:null===(a=null===(r=e.value.primaryImage)||void 0===r?void 0:r.imageMap)||void 0===a?void 0:a.thumbnailUrl})}})),n.length>0&&(r={stories:n}),r},De.getReviewData=e=>{const t=null==e?void 0:e.value;if(!t)return;return{reviewVal:t}},De.getAllStoryData=e=>{const t=[];return null==e||e.forEach(((e,i)=>{var n,r;const a=De.createStoriesData(e);if(a.stories.length>0&&(null===(n=e.value)||void 0===n?void 0:n.id)){const n=De.getReviewData(e);t.push({index:i,reviewId:null===(r=e.value)||void 0===r?void 0:r.id,stories:a.stories,reviewData:n})}})),t};const{width:xe,height:Pe}=a.Dimensions.get("window");class Oe extends n.PureComponent{constructor(){super(...arguments),this.VOTE_ICONS_SIZE=16,this.DESCRIPTION_MAX_CHAR_LIMIT=100,this.flagAsAbusiveString="Flag as abusive",this.isUpvoteSelected=e=>{var t;return!!(null===(t=null==e?void 0:e.upvote)||void 0===t?void 0:t.value)&&e.upvote.value.isSelected},this.componentWillUnmount=()=>{this._timeoutHandle&&clearTimeout(this._timeoutHandle)},this.isDownvoteSelected=e=>{var t;return!!(null===(t=null==e?void 0:e.downvote)||void 0===t?void 0:t.value)&&e.downvote.value.isSelected},this.didSelectUpVote=()=>{var e,t,i;const{reviewVal:n}=this.props.reviewData;if(n){const r=null===(e=null==n?void 0:n.upvote)||void 0===e?void 0:e.action;r&&(null===(i=null===(t=this.props.reviewContainerClickHandlers)||void 0===t?void 0:t.didUpvoteHandler)||void 0===i||i.call(t,this.props.index,r))}},this.didSelectDownVote=()=>{var e,t,i;const{reviewVal:n}=this.props.reviewData;if(n){const r=null===(e=null==n?void 0:n.downvote)||void 0===e?void 0:e.action;r&&(null===(i=null===(t=this.props.reviewContainerClickHandlers)||void 0===t?void 0:t.didDownvoteHandler)||void 0===i||i.call(t,this.props.index,r))}},this.getMenuItemViews=e=>()=>[new w.A({value:this.flagAsAbusiveString,onPress:this.reportAbuse,pressParam:e})],this.showMenuHandler=()=>{this.didShowAbuseHandler(),this._timeoutHandle&&clearTimeout(this._timeoutHandle),this._timeoutHandle=setTimeout((()=>{this.didHideReportAbuse()}),2e3)},this.reportAbuse=e=>{var t,i,n;this.didHideReportAbuse();const r=(null===(t=e.reportAbuse)||void 0===t?void 0:t.action)||null;r&&(null===(n=null===(i=this.props.reviewContainerClickHandlers)||void 0===i?void 0:i.didReportAbuseHandler)||void 0===n||n.call(i,this.props.index,r))},this.didHideReportAbuse=()=>{var e,t;null===(t=null===(e=this.props.reviewContainerClickHandlers)||void 0===e?void 0:e.didHideAbuseHandler)||void 0===t||t.call(e,this.props.index)},this.didShowAbuseHandler=()=>{var e,t;null===(t=null===(e=this.props.reviewContainerClickHandlers)||void 0===e?void 0:e.didShowAbuseHandler)||void 0===t||t.call(e,this.props.index)},this.render=()=>{var e,t;const{reviewVal:i}=this.props.reviewData;if(!i)return null;const{rating:r,author:s,text:l,title:d,created:u}=i;if(!r||!d||!l)return null;const h=r+c.NH+c.bhs,p=!!(null===(t=null===(e=this.props.reviewContainerClickHandlers)||void 0===e?void 0:e.transientData)||void 0===t?void 0:t.items)&&this.props.reviewContainerClickHandlers.transientData.items[this.props.index].showReportAbuse;return n.createElement(C.az,{bg:"v2.neutral.900",opacity:.9,m:"s6",p:"s6",borderRadius:4,maxHeight:Pe/2},n.createElement(C.az,{flexDirection:"row",mb:"s2",justifyContent:"space-between"},n.createElement(C.az,{flexDirection:"row"},n.createElement(G.A,{text:h,backgroundColor:"success.primary",rating:5,separateStarContent:!0}),n.createElement(C.JU,{color:"v2.neutral.0",pl:"s4",font:"s_medium"},d)),n.createElement(V.S,{onPress:this.showMenuHandler,disableFeedback:!0},n.createElement(R.A,{source:c._pw,height:16,width:12}))),n.createElement(a.ScrollView,{showsVerticalScrollIndicator:!1},n.createElement(F.A,{truncateAfterCharLimit:this.DESCRIPTION_MAX_CHAR_LIMIT,text:l,isExpanded:this.props.descriptionExpanded,onPress:this.props.toggleTitleExpanded,containerStyle:{color:M.Jy.white},textAfterTruncateStyle:{color:M.Jy.white}})),p?n.createElement(y.A,{getItemViews:this.getMenuItemViews(i),menuViewContainerStyle:o.a.reportAbuseMenuContainer,hideMenuHandler:this.didHideReportAbuse}):null,n.createElement(C.az,{flexDirection:"row",mt:"s2",alignItems:"center",justifyContent:"space-between"},n.createElement(C.az,{flexDirection:"row",flex:4},s?n.createElement(C.JU,{color:"v2.neutral.0",pr:"s4",numberOfLines:1,ellipsizeMode:"tail",maxWidth:.35*xe},s):void 0,u?n.createElement(C.JU,{color:"v2.neutral.0"},u):void 0),n.createElement(C.az,{flexDirection:"row",justifyContent:"flex-end",flex:2},this.renderUpvoteView(),this.renderDownvoteView())))}}renderUpvoteView(){var e;const{reviewVal:t}=this.props.reviewData,i=this.isUpvoteSelected(t),r=(null===(e=null==t?void 0:t.upvote)||void 0===e?void 0:e.value)?S.A.getRelativeNumber(t.upvote.value.count):"0";return n.createElement(V.S,{onPress:this.didSelectUpVote,disabled:i,disableFeedback:!0},n.createElement(C.az,{flexDirection:"row",pr:"s2"},n.createElement(C.az,{pr:"s3",flexDirection:"row",alignItems:"center"},n.createElement(R.A,{source:i?c.x5q:c.U3N,height:this.VOTE_ICONS_SIZE,width:this.VOTE_ICONS_SIZE})),n.createElement(C.JU,{color:"v2.neutral.0",alignSelf:"center",font:"s_medium"},r)))}renderDownvoteView(){var e;const{reviewVal:t}=this.props.reviewData,i=this.isDownvoteSelected(t),r=(null===(e=null==t?void 0:t.downvote)||void 0===e?void 0:e.value)?S.A.getRelativeNumber(t.downvote.value.count):"0";return n.createElement(V.S,{onPress:this.didSelectDownVote,disableFeedback:!0,disabled:i},n.createElement(C.az,{flexDirection:"row"},n.createElement(C.az,{padding:"s3",flexDirection:"row",alignItems:"center"},n.createElement(R.A,{source:i?c.uN7:c.$1S,height:this.VOTE_ICONS_SIZE,width:this.VOTE_ICONS_SIZE})),n.createElement(C.JU,{color:"v2.neutral.0",alignSelf:"center",font:"s_medium"},r)))}}const{width:Re,height:ke}=a.Dimensions.get("window");class Ve extends n.Component{constructor(e){var t,i,r;super(e),this._videoRef=null,this.safeAreaTop="ios"===a.Platform.OS&&this.props.appContext?this.props.appContext.uiContext.getWindowSafeAreaInset().top+15:a.StatusBar.currentHeight?a.StatusBar.currentHeight+15:24,this.BACK_BUTTON_SIZE=24,this.storyBgGradientColor=["#7E6353","#728B9982","#FFFFFF"],this.componentDidMount=()=>{this.startOrStopHeaderAnimation()},this.shouldComponentUpdate=(e,t,i)=>this.state.animationInProgress!==t.animationInProgress||this.state.currentResourceIndex!==t.currentResourceIndex||this.state.descriptionExpanded!==t.descriptionExpanded||this.state.isMediaResourceLoaded!==t.isMediaResourceLoaded||this.props.currentAnimation!==e.currentAnimation||this.props.reviewData!==e.reviewData,this.componentDidUpdate=(e,t,i)=>{this.props.currentAnimation===e.currentAnimation&&this.state.isMediaResourceLoaded===t.isMediaResourceLoaded&&this.state.descriptionExpanded===t.descriptionExpanded||this.startOrStopHeaderAnimation()},this.render=()=>{if(0===this.props.stories.length)return null;const{currentResourceIndex:e}=this.state,{mediaType:t,mediaUrl:i}=this.props.stories[e],r={uri:R.A.generateImageUrl(i,Math.floor(Re),Math.floor(ke))};return n.createElement(a.Animated.View,{style:[this.backgroundStoryStyle,{transform:[{scale:this.zoomAnimatedValue}]}]},n.createElement(k.W,{gradientColors:this.storyBgGradientColor,style:{width:Re,height:ke}},n.createElement(a.ImageBackground,{source:r,style:{height:ke,width:Re},blurRadius:20},"ReviewImage"===t?this.renderImage():this.renderVideo(),n.createElement(C.az,{flex:1,flexDirection:"column"},this.headerProgress(),this.prevAndNextGesture()),n.createElement(C.az,{flex:1,position:"absolute",bottom:0,left:0,right:0,width:Re},n.createElement(Oe,{reviewData:this.props.reviewData,toggleTitleExpanded:this.toggleTitleExpanded,descriptionExpanded:this.state.descriptionExpanded,reviewContainerClickHandlers:this.props.reviewContainerClickHandlers,index:this.props.index})))))},this.startHeaderAnimation=()=>{this.progress.setValue(0),this.progressDurationRemaining=this.props.stories[this.state.currentResourceIndex].duration,this.startAnimation(),this.setState({animationInProgress:!0})},this.resumeHeaderAnimation=()=>{var e;this.progress.setValue(this.currentProgress),this.startAnimation(),this.setState({animationInProgress:!0}),this.props.currentAnimation&&(null===(e=this._videoRef)||void 0===e||e.play())},this.stopHeaderAnimation=()=>{var e,t;this.currentProgress=parseFloat(JSON.stringify(this.progress));const i=(1-this.currentProgress)*this.props.stories[this.state.currentResourceIndex].duration;this.progressDurationRemaining=i,this.progress.stopAnimation(),this.setState({animationInProgress:!1}),this.props.currentAnimation?null===(e=this._videoRef)||void 0===e||e.pause():null===(t=this._videoRef)||void 0===t||t.play()},this.startOrStopHeaderAnimation=()=>{var e,t;this.props.currentAnimation?null===(e=this._videoRef)||void 0===e||e.play():null===(t=this._videoRef)||void 0===t||t.pause(),!this.state.animationInProgress||this.state.isMediaResourceLoaded&&this.props.currentAnimation&&!this.state.descriptionExpanded?!this.state.animationInProgress&&this.state.isMediaResourceLoaded&&this.props.currentAnimation&&(this.state.descriptionExpanded?this.startHeaderAnimation():this.resumeHeaderAnimation()):this.stopHeaderAnimation()},this.startAnimation=()=>{a.Animated.timing(this.progress,{toValue:1,duration:this.progressDurationRemaining,useNativeDriver:!1}).start((({finished:e})=>{e&&(this.next(),this.resetAnimationValues(this.state.currentResourceIndex))}))},this.resetAnimationValues=e=>{this.currentProgress=0,this.progressDurationRemaining=this.props.stories[e].duration,this.setState({currentResourceIndex:e,isMediaResourceLoaded:!1})},this.next=()=>{var e,t;this.state.descriptionExpanded&&this.toggleTitleExpanded(),this.state.currentResourceIndex!==this.props.stories.length-1?(this.resetAnimationValues(this.state.currentResourceIndex+1),this.progress.setValue(0)):null===(t=(e=this.props).onFinish)||void 0===t||t.call(e,"NEXT",this.props.index)},this.previous=()=>{var e,t;this.state.descriptionExpanded&&this.toggleTitleExpanded(),this.state.currentResourceIndex-1>=0?this.resetAnimationValues(this.state.currentResourceIndex-1):null===(t=(e=this.props).onFinish)||void 0===t||t.call(e,"PREV",this.props.index)},this.onTouchEnd=()=>{this.setState({isPressed:!1,longPress:!1}),this.resumeHeaderAnimation()},this.onLongPress=()=>{this.setState({longPress:!0})},this.onTouchMove=()=>{this.state.longPress&&this.setState({isPressed:!0})},this.prevAndNextGesture=()=>n.createElement(C.az,{top:this.safeAreaTop,flex:1,flexDirection:"row",onTouchStart:this.stopHeaderAnimation,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd},n.createElement(a.TouchableWithoutFeedback,{onLongPress:this.onLongPress,onPress:()=>{this.state.isPressed||this.previous()}},n.createElement(C.az,{flex:1})),n.createElement(a.TouchableWithoutFeedback,{onLongPress:this.onLongPress,onPress:()=>{this.state.isPressed||this.next()}},n.createElement(C.az,{flex:1}))),this.renderImage=()=>{const{currentResourceIndex:e}=this.state;return n.createElement(C.az,{width:Re,height:ke,position:"absolute"},n.createElement(R.A,{enableLoadEvents:!0,onImageLoad:()=>{this.setState({isMediaResourceLoaded:!0})},disableDefaultPlaceholderImage:!0,source:this.props.stories[e].mediaUrl,width:Re,height:ke}))},this.renderVideo=()=>{const{currentResourceIndex:e}=this.state,t={src:this.props.stories[e].mediaUrl,width:Re,height:ke,hideTimer:!0,disableVolumeControl:!0,showReplayButton:!1,disableDefaultPlaceholderImage:!0,showPlayButton:!1,hideBufferIndicator:!1,playInLoop:!1,loopCount:-1,thumbnail:this.props.stories[e].thumbnailUrl,resizeMode:H.ResizeModes.RESIZE_MODE_FILL};return this.props.currentAnimation?n.createElement(C.az,{width:Re,height:ke,position:"absolute"},n.createElement(N.Jc,{ref:this._saveVideoRef,style:this.storyVideoStyle,onPlayerStateChanged:this.onPlayerStateChanged,data:t,mute:!0,prefetch:!0})):n.createElement(R.A,{style:W.C1.positionAbsolute,disableDefaultPlaceholderImage:!0,source:this.props.stories[e].thumbnailUrl,width:Re,height:ke})},this.onPlayerStateChanged=e=>{e.nativeEvent.playbackState!==B.h.STATE_READY||this.state.isMediaResourceLoaded||this.setState({isMediaResourceLoaded:!0})},this._saveVideoRef=e=>{this._videoRef=e},this.headerProgress=()=>n.createElement(C.az,{top:this.safeAreaTop},n.createElement(C.az,{flexDirection:"row",px:"s6"},this.props.stories.map(((e,t)=>n.createElement(C.az,{key:t,height:2,flex:1,flexDirection:"row",bg:"v2.neutral.900",mx:"s2"},this.state.currentResourceIndex===t?n.createElement(a.Animated.View,{style:[W.C1.height_2,W.C1.border_radius_2,{flex:this.progress,backgroundColor:M.Jy.white}]}):n.createElement(C.az,{borderRadius:2,flex:this.state.currentResourceIndex>t?1:0,height:2,bg:"v2.neutral.0"}))))),n.createElement(V.S,{onPress:this.props.onModalClose,disableFeedback:!0},n.createElement(R.A,{source:c.wAQ,height:this.BACK_BUTTON_SIZE,width:this.BACK_BUTTON_SIZE,style:this.backArrowButtonStyle}))),this.toggleTitleExpanded=()=>{var e;const t=null===(e=this.props.reviewContainerClickHandlers)||void 0===e?void 0:e.transientData;if(!(!!(null==t?void 0:t.items)&&t.items[this.props.index].showReportAbuse)){const e={type:L.J.ExpandProductPageTitle,data:{isExpanded:!this.state.descriptionExpanded}};this.props.dispatchAction&&this.props.dispatchAction(M.Q3.EXPAND_ACTION,new L.Z(e)),this.setState({descriptionExpanded:!this.state.descriptionExpanded})}},this.resetTitleExpanded=()=>{this.state.descriptionExpanded&&this.setState({descriptionExpanded:!1})},this._prefetchImages=()=>{const e=this.props.stories;e&&e.map((e=>{this.props.dispatchAction&&this.props.appContext&&this.props.dispatchAction(M.Q3.DOWNLOAD_IMAGE_AND_SAVE_TO_CAHCE,new U.l_({imageDynamicUrl:e.mediaUrl,imageWidth:Re,imageHeight:ke,devicePixelRatio:this.props.appContext.uiContext.devicePixelRatio}))}))},this.state={currentResourceIndex:this.props.selectedResourceIndex,descriptionExpanded:!1,isMediaResourceLoaded:!1,animationInProgress:!1,isPressed:!1,longPress:!1},this.progress=new a.Animated.Value(0),this.currentProgress=0,this.progressDurationRemaining=null!==(r=null===(i=null===(t=this.props.stories)||void 0===t?void 0:t[this.props.selectedResourceIndex])||void 0===i?void 0:i.duration)&&void 0!==r?r:0,this._prefetchImages(),this.zoomAnimatedValue=new a.Animated.Value(1),this.backgroundStoryStyle=[W.C1.positionAbsolute,{width:Re,height:ke,backgroundColor:M.Jy.black}],this.backArrowButtonStyle=[W.C1.margin_left_16,W.C1.margin_top_12],this.storyVideoStyle=[W.C1.flex,W.C1.absoluteCenter]}}var Le=i(456874),Me=i(347924),Ne=i(217083);const He=a.Dimensions.get("window").width,We="ios"===a.Platform.OS?2:1.5,Be=Math.sin(Math.PI/180*65),Ue=(He-320)/31.3+7,Fe=(He-320)/23.5+13,Ge=(He-320)/47+5,ze=(e,t)=>{const i=[1,0,-1];return{inputRange:(0,Ne.cI)(i,e,t),outputRange:i}},je=(e,t,i)=>({transform:[{perspective:2*He},{translateX:t.interpolate({inputRange:[-1,0,1],outputRange:[He/We,0,-He/We]})},{rotateY:t.interpolate({inputRange:[-1,0,1],outputRange:["-90deg","0deg","90deg"]})},{scale:t.interpolate({inputRange:[-1,-.5,0,.5,1],outputRange:[1,Be,1,Be,1]})},{translateX:t.interpolate({inputRange:[-1,-.75,-.5,0,.5,.75,1],outputRange:[-He/We+Ge,-He*Be*.75/We+Ue,-He*Be*.5/We+Fe,0,He*Be*.5/We-Fe,He*Be*.75/We-Ue,He/We-Ge]})}],opacity:t.interpolate({inputRange:[-1,-.5,.5,1],outputRange:[.4,1,1,.4]})});class Xe extends n.PureComponent{constructor(){super(...arguments),this.width=a.Dimensions.get("window").width,this.height=a.Dimensions.get("window").height,this.minYThresholdToSwipeDown=20,this.maxXThresholdToSwipeDown=30,this.maxYThresholdToSwipeDown=60,this.initialPageY=0,this.initialPageX=0,this.carouselRef=n.createRef(),this.totalStories=this.props.allReviewStories.length,this.storyRef={},this.snapToItem=(e,t)=>{var i,n,r,a,o,s,l,d;const c=this.props.allReviewStories.findIndex((e=>e.index===t));"NEXT"===e?c<this.totalStories-1?null===(n=null===(i=this.carouselRef)||void 0===i?void 0:i.current)||void 0===n||n.snapToItem(c+1):null===(a=(r=this.props).onModalClose)||void 0===a||a.call(r):"PREV"===e&&(c>0?null===(s=null===(o=this.carouselRef)||void 0===o?void 0:o.current)||void 0===s||s.snapToItem(c-1):null===(d=(l=this.props).onModalClose)||void 0===d||d.call(l))},this.storiesRef=(e,t)=>{this.storyRef[t.reviewId]=e},this.onTouchStart=e=>{this.initialPageY=e.nativeEvent.pageY,this.initialPageX=e.nativeEvent.pageX},this.onTouchEnd=e=>{var t,i;const{pageY:n,pageX:r}=e.nativeEvent,a=n-this.initialPageY,o=Math.abs(r-this.initialPageX);let s=!1;if(a>this.minYThresholdToSwipeDown&&o<this.maxXThresholdToSwipeDown)if(a>this.maxYThresholdToSwipeDown)s=!0;else{s=a/4<o}s&&(null===(i=(t=this.props).onModalClose)||void 0===i||i.call(t))},this.renderItem=({item:e})=>e&&e.stories&&e.reviewData&&e.reviewId?n.createElement(Me.az,{key:e.index,height:this.height,borderRadius:10},n.createElement(Ve,{ref:t=>{this.storiesRef(t,e)},onFinish:this.snapToItem,onModalClose:this.props.onModalClose,dispatchAction:this.props.dispatchAction,appContext:this.props.appContext,index:e.index,stories:e.stories,reviewData:e.reviewData,reviewContainerClickHandlers:this.props.reviewContainerClickHandlers,currentAnimation:this.props.currentReviewId===e.reviewId,selectedResourceIndex:this.props.currentReviewId===e.reviewId?this.props.selectedResourceIndex:0})):null,this.onSnapToItem=e=>{var t;this.props.updateCurrentReviewId(this.props.allReviewStories[e].reviewId,(e=>{var t;null===(t=this.storyRef[e])||void 0===t||t.startHeaderAnimation()})),null===(t=this.storyRef[this.props.currentReviewId])||void 0===t||t.resetTitleExpanded()},this.onScrollBeginDrag=()=>{var e;null===(e=this.storyRef[this.props.currentReviewId])||void 0===e||e.stopHeaderAnimation()},this.onScrollEndDrag=()=>{var e;null===(e=this.storyRef[this.props.currentReviewId])||void 0===e||e.resumeHeaderAnimation()},this.render=()=>n.createElement(Y.A,{animationInTiming:1,animationOut:"slideOutDown",animationOutTiming:500,isVisible:this.props.isModalOpen,style:W.C1.margin_0,onBackButtonPress:this.props.onModalClose,statusBarTranslucent:!0},n.createElement(Me.az,{flex:1,alignItems:"center",justifyContent:"center",width:"100%",height:"100%",bg:"v2.neutral.1000",onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd,onTouchCancel:this.onTouchEnd},n.createElement(Le.A,{ref:this.carouselRef,firstItem:this.firstReviewData(),data:this.props.allReviewStories,renderItem:this.renderItem,sliderWidth:this.width,itemWidth:this.width,swipeThreshold:this.width/5,scrollInterpolator:ze,slideInterpolatedStyle:je,windowSize:3,onSnapToItem:this.onSnapToItem,onScrollBeginDrag:this.onScrollBeginDrag,onScrollEndDrag:this.onScrollEndDrag}))),this.firstReviewData=()=>{var e;return null!==(e=this.props.allReviewStories.findIndex((e=>e.reviewId===this.props.currentReviewId)))&&void 0!==e?e:0}}}var Ye,qe=i(160251),Je=i(155805);!function(e){e.FETCH_ID="FETCH_ID",e.PRODUCT_ID="PRODUCT_ID",e.S_PRODUCT="S_PRODUCT"}(Ye||(Ye={}));class Ke extends ye.A{constructor(e,t,i){var r,a;if(super(e,t),this.isProductPage=(null===(a=null===(r=this.props.pageInfo)||void 0===r?void 0:r.pageContext)||void 0===a?void 0:a.type)===c.KbP,this._isModal=!1,this.storyFormatReviewsEnabled=!!P.A.getExperimentValue("storyFormatReviewsEnabled"),this.openStoriesModal=(e,t)=>{this.setState({isModalOpen:!0,selectedResourceIndex:null==e?void 0:e.params.index,currentReviewId:t})},this.updateCurrentReviewId=(e,t)=>{this.setState({currentReviewId:e},(()=>{t(this.state.currentReviewId)}))},this.closeStoryModal=()=>{this.setState({isModalOpen:!1})},this.getAllUserStoriesData=e=>De.getAllStoryData(null==e?void 0:e.renderableComponents),this.didExpandHandler=(e,t,i,n)=>{if(i&&n){const t={productReviewRc:n,widgetIndex:this.props.index,itemIndex:e};this.dispatchAction(fe.Q3.REVIEWS_EXPANDED_BOTTOMSHEET,t)}else{const t={itemIndex:e,type:m.wdn.ContentExpanded};this.dispatchAction(fe.Q3.REVIEWS_UI_ACTION,new Te.g(t))}this._sendReviewClickDg(t.reviewId)},this.didBadgeClickHandler=e=>{const t={modalType:"BOTTOM_SHEET",widgetType:be.A.BADGE_BOTTOM_SHEET,widgetData:null==e?void 0:e.params,scrollable:!1};this.props.actionDispatcher&&this.props.actionDispatcher(new we.iM(we.xH.OPEN_MODAL,t)),this.trackDiscoveryContentClickEvent(null==e?void 0:e.tracking)},this.didUpvoteHandler=(e,t)=>{const i={itemIndex:e,type:m.wdn.ContentUpvoted,isModal:this.isModal(),isDynamicContentModal:this.isDynamicContentModal()},n=new Te.X(t,i);this.dispatchAction(fe.Q3.MAPI_ACTION,n)},this.didDownvoteHandler=(e,t)=>{const i={itemIndex:e,type:m.wdn.ContentDownvoted,isModal:this.isModal(),isDynamicContentModal:this.isDynamicContentModal()},n=new Te.X(t,i);this.dispatchAction(fe.Q3.MAPI_ACTION,n)},this.didShowAbuseHandler=e=>{const t={itemIndex:e,type:m.wdn.ContentShowAbuse,isModal:this.isModal()};this.dispatchAction(fe.Q3.REVIEWS_UI_ACTION,new Te.g(t))},this.didHideAbuseHandler=e=>{const t={itemIndex:e,type:m.wdn.ContentHideAbuse};this.dispatchAction(fe.Q3.REVIEWS_UI_ACTION,new Te.g(t))},this.didReportAbuseHandler=(e,t)=>{const i={itemIndex:e,type:m.wdn.ContentReportAbuse},n=new Te.X(t,i);this.dispatchAction(fe.Q3.MAPI_ACTION,n)},this.renderReviewsView=(e,t,i,r,a,o,s)=>n.createElement(ce,{productReviewRC:e,tracking:e.tracking,transientData:a&&a.items?a.items[t]:void 0,index:t,didExpandHandler:this.didExpandHandler,didUpvoteHandler:this.didUpvoteHandler,didDownvoteHandler:this.didDownvoteHandler,didBadgeClickHandler:this.didBadgeClickHandler,didShowAbuseHandler:this.didShowAbuseHandler,didReportAbuseHandler:this.didReportAbuseHandler,didHideAbuseHandler:this.didHideAbuseHandler,didClickImage:this.didClickImage,didClickVideo:this.didClickVideo,screenWidth:i,enableReviewImages:r,enableReviewVideos:o,isRatingRounded:this.isRatingRounded(),isAlwaysExpanded:this.isModal(),reportAbuseVisible:!this.isModal(),trackingParams:{fetchId:this.getTrackingParam("FETCH_ID"),productId:this.getTrackingParam("PRODUCT_ID"),sProduct:this.getTrackingParam("S_PRODUCT"),source:m.nbx,type:Ke.PRODUCT,aspectId:Ke.ASPECT_ID,appLanguage:this.props.appContext.locale,reviewId:e.value&&e.value.id},swatchReviewString:s,themeContext:this.props.themeContext,isStoriesFormatReviewsEnabled:this.isStoriesFormatReviewsEnabled,openStoriesModal:this.openStoriesModal,dispatchAction:this.dispatchAction,appContext:this.props.appContext,trackDGEvent:this.trackDGEvent,trackDiscoveryContentEngagementEvent:this.trackDiscoveryContentEngagementEvent}),this.didClickImage=e=>{if(e){const t=Object.assign(Object.assign({},e),{params:Object.assign(Object.assign({},e.params),{pageKey:e.params.imageId})});this._isModal?(this.dispatchActionObject(new we.iM(we.xH.CLOSE_MODAL)),setTimeout((()=>this.dispatchAction(fe.Q3.MAPI_ACTION,new Ae.rs(t))),300)):this.dispatchAction(fe.Q3.MAPI_ACTION,new Ae.rs(t))}},this.didClickVideo=e=>{e&&(this._isModal?(this.dispatchActionObject(new we.iM(we.xH.CLOSE_MODAL)),setTimeout((()=>this.dispatchAction(fe.Q3.MAPI_ACTION,new Ae.rs(e))),300)):this.dispatchAction(fe.Q3.MAPI_ACTION,new Ae.rs(e)))},this.getTrackingParam=e=>{var t;const i=null===(t=this.props.pageInfo)||void 0===t?void 0:t.pageContext;if(i&&e)switch(e){case"FETCH_ID":return i.fetchId;case"PRODUCT_ID":return i.productId;case"S_PRODUCT":return i.sproduct}},this._sendReviewClickDg=e=>{var t;const i=null===(t=this.props.pageInfo)||void 0===t?void 0:t.pageContext;if(i){const t=new q.XWK(e,i.impressionId,i.aspectId,i.sourcePage);this.trackDGEvent(t)}},this._isModal=i||!1,this.isStoriesFormatReviewsEnabled=!!P.A.getExperimentValue("storiesFormatReviewsEnabled")&&!!this.isProductPage,this.isStoriesFormatReviewsEnabled){const t=(0,Ee.Nt)(this.props.widgetSlotData);this.state=this.getDerivedState(e,void 0),this.reviewContainerClickHandlers={transientData:t,didDownvoteHandler:this.didDownvoteHandler,didUpvoteHandler:this.didUpvoteHandler,didShowAbuseHandler:this.didShowAbuseHandler,didHideAbuseHandler:this.didHideAbuseHandler,didReportAbuseHandler:this.didReportAbuseHandler}}}getDerivedState(e,t){var i,n,r;return Object.assign(Object.assign({},super.getDerivedState(e,t)),{isModalOpen:null!==(i=null==t?void 0:t.isModalOpen)&&void 0!==i&&i,selectedResourceIndex:null!==(n=null==t?void 0:t.selectedResourceIndex)&&void 0!==n?n:0,currentReviewId:null!==(r=null==t?void 0:t.currentReviewId)&&void 0!==r?r:""})}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i)||t.isModalOpen!==this.state.isModalOpen||t.selectedResourceIndex!==this.state.selectedResourceIndex||t.currentReviewId!==this.state.currentReviewId}static getWidgetHeight(e){const t=(0,Ee.nS)(e.widgetSlotData),i=t?t.data:void 0;return i&&i.renderableComponents?Ke.getReviewsHeight(i):this.NO_REVIEW_HEIGHT}static getReviewsHeight(e){return e&&e.renderableComponents?e.renderableComponents.reduce(((e,t)=>t.value?t.value.images&&t.value.images.length>0?e+Ke.REVIEW_WITH_IMAGE_HEIGHT:e+Ke.REVIEW_WITHOUT_IMAGE_HEIGHT:e),0):0}getSwatchReviewString(e){if(!e)return;let t=`${(0,Ie.ak)(this.props.appContext.locale,{id:Se.H.rex_string_REVIEW_FOR})}:`;return e.map(((i,n)=>{n===e.length-1?t+=` ${i.name} ${i.value}`:t+=` ${i.name} ${i.value} `})),t}getWidgetData(e){const t=(0,Ee.nS)(e);return t&&t.data}renderWidget(){var e,t,i;const a=(0,Ee.Nt)(this.props.widgetSlotData),o=this.getWidgetData(this.props.widgetSlotData);let s=this.props.appContext.uiContext.windowFrame.width;(0,Je.Mi)(null===(e=this.props.pageInfo)||void 0===e?void 0:e.pageURI)?s=Math.min(s,c.RW0):(0,Je.wb)(null===(t=this.props.pageInfo)||void 0===t?void 0:t.pageURI,null===(i=this.props.pageInfo)||void 0===i?void 0:i.marketPlace)&&(s=Math.min(s,qe.M$)),(0,Je.he)()&&(s=Math.min(s,qe.wc));const l=this.props.appContext.userManager.isFeatureAvailable(m.xA$),d=this.storyFormatReviewsEnabled||this.isStoriesFormatReviewsEnabled||this.props.appContext.userManager.isFeatureAvailable(m.Ytc);return this.reviewContainerClickHandlers=Object.assign(Object.assign({},this.reviewContainerClickHandlers),{transientData:a}),o&&o.renderableComponents?n.createElement(C.az,{width:s,bg:(0,O.qU)(this.props.themeContext)},o.renderableComponents.map(((e,t)=>{var i,o,u;const h=(null===(i=e.value)||void 0===i?void 0:i.productAttributeList)?this.getSwatchReviewString(null===(o=e.value)||void 0===o?void 0:o.productAttributeList):void 0;return n.createElement(C.az,Object.assign({},(0,oe.Z)("Reviews_Container"),{key:null===(u=e.value)||void 0===u?void 0:u.id}),this.renderReviewsView(e,t,s,l,a,d,h),n.createElement(r.A,{marginBottomVal:0,marginTopVal:0,heightVal:c.Nsv,backgroundColor:(0,O.gj)(this.props.themeContext)}))})),this.isStoriesFormatReviewsEnabled&&n.createElement(Xe,{onModalClose:this.closeStoryModal,allReviewStories:this.getAllUserStoriesData(o),appContext:this.props.appContext,dispatchAction:this.dispatchAction,currentReviewId:this.state.currentReviewId,selectedResourceIndex:this.state.selectedResourceIndex,isModalOpen:this.state.isModalOpen,updateCurrentReviewId:this.updateCurrentReviewId,reviewContainerClickHandlers:this.reviewContainerClickHandlers})):n.createElement(C.JU,Object.assign({},(0,oe.Z)("Reviews_Container"),{color:(0,O.L7)(this.props.themeContext)}),this.localize({id:Se.H.rex_string_reviews_constants_NO_REVIEWS}))}isHeaderBottomBorderEnabled(){return!1}isRatingRounded(){return!1}isModal(){return!1}isDynamicContentModal(){return!1}getHeaderStyle(e){var t,i,n,r;const a=super.getHeaderStyle(),o=null===(r=null===(n=null===(i=null===(t=null==e?void 0:e.color)||void 0===t?void 0:t.default)||void 0===i?void 0:i.text)||void 0===n?void 0:n.primary)||void 0===r?void 0:r.hex;return Object.assign(Object.assign({},a),{headerContainer:{paddingVertical:0,paddingHorizontal:16},headerText:{fontFamily:Ce.Mq,fontSize:14,color:o},headerSubContainer:Object.assign(Object.assign(Object.assign({},W.C1.flex),W.C1.row),{paddingTop:6}),headerActionContainer:{borderWidth:0,paddingTop:0},headerActionButtonText:{color:e?o:c.Jyk.royalBlue,fontFamily:Ce.Mq},headerSubtitleText:{color:c.Jyk.blackSecondary,fontSize:14}})}getLayoutDetailsForWidget(e){return this.applyLayoutDetailsToWidget(e)}trackFooterClick(e){this.trackDiscoveryWidgetClickEvent()}}Ke.PRODUCT="product",Ke.ASPECT_ID="overall",Ke.REVIEW_WITHOUT_IMAGE_HEIGHT=200,Ke.REVIEW_WITH_IMAGE_HEIGHT=262,Ke.NO_REVIEW_HEIGHT=21},616139:(e,t,i)=>{"use strict";i.d(t,{A:()=>A});var n=i(296540),r=i(865167),a=i(988013),o=i(231679),s=i(877293),l=i(787921),d=i(914944),c=i(479892),u=i(387393),h=i(492418),p=i(720920),g=i(805969),m=i(352254),v=i(45426),_=i(879052);const C=function(e){const{rc:t,containerStyle:i,imageSource:r,imageStyle:a,onClick:o}=e,s=(null==e?void 0:e.testID)||(null==e?void 0:e["aria-description"]);return n.createElement(v.S,Object.assign({},(0,_.Z)(s),{onPress:o,onPressParam:t.action,disableFeedback:!0}),n.createElement(p.y,{style:[i,g.a.shadow],elevation:h.z62},n.createElement(m.A,{style:a,source:r,height:h.MTw,width:h.MTw})))};var E=i(201159),T=i(302019);const f=(0,u.A)((function(e){const{rc:t,onClick:i,variant:r}=e,s=h.nyP;let l=a.p.shareIconContainer;return"animated"===r&&(l=a.p.shareIconContainerAnimated),n.createElement(C,Object.assign({},(0,_.Z)("Share_Icon"),{rc:t,containerStyle:l,imageStyle:o.M1.shareIcon,imageSource:s,onClick:i}))}),(function(e){const{rc:t,onClick:i}=e;return n.createElement(v.S,Object.assign({},(0,_.Z)("Share_Icon"),{onPress:i,onPressParam:t.action,disableFeedback:!0}),n.createElement(T.az,{p:"s4"},n.createElement(E.li,{size:24})))}));class A extends n.PureComponent{constructor(){super(...arguments),this._handleShareClick=(e,t)=>{var i,n;t&&(null===(n=(i=this.props).actionDispatcher)||void 0===n||n.call(i,{type:l.A.MAPI_ACTION,payload:new d.Oy(t)}),this.dispatchChallengesAction(t))}}render(){var e,t;return n.createElement(s.View,{style:[o.M1.rightOverlay,c.C1.absolute_top_position]},!this.props.isInImmersiveMode&&(null===(e=this.props.floatingActionValues)||void 0===e?void 0:e.collectionAction)&&!this.props.isReviewImageBucket&&this.renderWishlist(this.props.floatingActionValues.collectionAction),!this.props.isInImmersiveMode&&(null===(t=this.props.floatingActionValues)||void 0===t?void 0:t.shareAction)&&!this.props.isReviewImageBucket&&this.renderShareAction(this.props.floatingActionValues.shareAction))}renderWishlist(e){var t,i;return n.createElement(r.n,{animatedWrap:1,overlayActionValue:this.props.overlayAnimValueWithNativeDriver,viewStyle:a.p.wishlistOverlay,disableElevation:!0},null===(i=(t=this.props).renderWishlistIcon)||void 0===i?void 0:i.call(t,e,o.M1.wishlistIconContainerAnimated,this.props.isInWishlist,!0))}renderShareAction(e){return n.createElement(r.n,{component:e,animatedWrap:1,overlayActionValue:this.props.overlayAnimValueWithNativeDriver,containerStyle:a.p.shareIconContainerAnimated,viewStyle:a.p.shareActionOverlay,imageStyle:o.M1.shareIcon,disableElevation:!0},n.createElement(f,{rc:e,onClick:this._handleShareClick}))}dispatchChallengesAction(e){var t,i;const n={type:l.A.REGISTER_CHALLENGE_ACTIONS,payload:e};null===(i=(t=this.props).actionDispatcher)||void 0===i||i.call(t,n)}}},617313:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GroceryInterstitialOmnitureActionTypes:()=>n,default:()=>c});var n,r=i(918210),a=i(90513),o=i(229833),s=i(159874),l=i(580555),d=i(972308);!function(e){e.RBO_UNLOCKED_A2B="RBO_UNLOCKED_A2B",e.CROSS_SELL_A2B="CROSS_SELL_A2B",e.UPSELL_A2B="UPSELL_A2B"}(n||(n={}));class c{constructor(){this._generateSproductString=(e,t,i,n,r)=>{if(!t)return;let s=t;r&&(s=o.A.getSProductWithSuffix(r,s)),i&&(s=o.A.getSProductAdding(a.Ay.EVAR18,i,s)),n&&(s=o.A.getSProductWithSuffix(n,s)),e[a.Ay.PRODUCTS]=s}}handleAction(e,t,i){var r,o,c;if(e.payload&&t){const i=t.pageMeta.pageType,u=null===(r=e.payload)||void 0===r?void 0:r.trackingParams;if(!u)return!1;const h=null===(o=e.payload)||void 0===o?void 0:o.isIncrement;let p={};const g=null==u?void 0:u.getSProduct(),m=null==u?void 0:u.getSProductSuffix(),v=null==u?void 0:u.getEvar18(),_=null==u?void 0:u.getOTracker1(),C=null==u?void 0:u.getFindingMethod(),E=null===(c=t.pageDataResponse)||void 0===c?void 0:c.trackingContext,T=(null==E?void 0:E.tracking)&&new l.Ay(E.tracking),f=(null==T?void 0:T.getValueForKey(d.KEY_PAGE_NAME))||(null==T?void 0:T.getValueForKey(d.KEY_EVAR50))||e.payload.pageName,A=(0,s.Gq)(e.payload.marketplaceTrackingDataMap,f);switch(e.payload.omnitureType){case n.CROSS_SELL_A2B:g&&this._generateSproductString(p,g,v,C),p=Object.assign(p,A),this._trackA2BEvent(p,h,i);break;case n.RBO_UNLOCKED_A2B:g&&this._generateSproductString(p,g,v,void 0,m),_&&(p[a.Ay.EVAR30]=_),p=Object.assign(p,A),this._trackA2BEvent(p,h,i);break;case n.UPSELL_A2B:const e={};g&&(this._generateSproductString(e,g,v,C),p=Object.assign(e,A)),this._trackA2BEvent(p,!0,i);const t={},r=null==u?void 0:u.getSProductPrev();r&&(this._generateSproductString(t,r,v,C),p=Object.assign(t,A)),this._trackA2BEvent(p,!1,i)}return!0}return!1}_trackA2BEvent(e,t,i){t&&o.A.addEvent(e,a.fM.EVENT157),o.A.addEvent(e,t?a.fM.EVENT_SC_ADD:a.fM.EVENT_SC_REMOVE);const n=this._getTrackingEventName(t,i);r.A.addAndtrackEventUnderName(n,e)}_getTrackingEventName(e,t){return e?"AddToBasket":`${t}:Decrease Units`}}},622754:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>u});var n=i(592260),r=i(918210),a=i(90513),o=i(229833),s=i(52754),l=i(985234),d=i(647861),c=i(857850);class u{handleAction(e,t,i){var u,h,p,g;const m=e.payload,v=null==m?void 0:m.pageContext,_=(null==v?void 0:v.trackingDataV2)?v.trackingDataV2:void 0,C={},E=null===(u=null==m?void 0:m.mapiActionTracking)||void 0===u?void 0:u.prop64;E&&(C[a.Ay.PROP64]=E);const T=_&&_.sproduct;let f=t.pageMeta.pageName;if(t.pageMeta.pageName===c.L3.PRODUCT_INFO_PAGE){f="VIYR:"+((null===(h=t.pageMeta.pageUriQueryParams.mode)||void 0===h?void 0:h.includes("AR"))?"AR":"3D")+":Experience"}T&&(C[a.Ay.PRODUCTS]=o.A.getSProductAdding(a.Ay.EVAR18,f,T));const A=!(!_||!_.preferredSellerWSR)&&_.preferredSellerWSR,S=_&&_.sellerCount?_.sellerCount:1;C[a.Ay.EVAR28]=S>1?A?"WSR Multiple":"NWSR Multiple":A?"WSR Single":"NWSR Single",_&&_.offerIds&&_.offerIds.length>0&&(C[a.Ay.LIST2]=_.offerIds.join(";"));const y=t.pageDataResponse&&t.pageDataResponse.pageContext?t.pageDataResponse.pageContext:void 0,w=y&&y.trackingDataV2?y.trackingDataV2:void 0;_&&_.listingId&&w&&(_.listingId===w.listingId?C[a.Ay.PROP9]="true":C[a.Ay.PROP9]="false");const I=null===(p=t.pageDataResponse)||void 0===p?void 0:p.trackingContext,b=C[a.Ay.PRODUCTS];if(b){const{eVar106:e,eVar151:i,eVar167:n,eVar168:r}=(null==I?void 0:I.tracking)||{};if(e&&(C[a.Ay.PRODUCTS]=o.A.getSProductAdding(a.Ay.EVAR106,e,b)),i)C[a.Ay.PRODUCTS]=o.A.getSProductAdding(a.Ay.EVAR151,i,b);else{const e=(0,s.p_)(t,l.V.EXCHANGE_TRACKING);(null===(g=null==e?void 0:e.tracking)||void 0===g?void 0:g.eVar151)&&(C[a.Ay.PRODUCTS]=o.A.getSProductAdding(a.Ay.EVAR151,e.tracking.eVar151,b))}n&&(C[a.Ay.PRODUCTS]=o.A.getSProductAdding(a.Ay.EVAR167,n,C[a.Ay.PRODUCTS])),r&&(C[a.Ay.PRODUCTS]=o.A.getSProductAdding(a.Ay.EVAR168,r,C[a.Ay.PRODUCTS]))}if(t.pageMeta.screenType===n.te.virtualTryOnPage&&("true"===t.pageMeta.pageUriQueryParams.multiTryOn&&o.A.addEvent(C,a.fM.EVENT787),o.A.addEvent(C,a.fM.EVENT658),t.pageMeta.pageUriQueryParams&&t.pageMeta.pageUriQueryParams.tryOnMode)){const e=t.pageMeta.pageUriQueryParams.tryOnMode;e===d.E.live?o.A.addEvent(C,a.fM.EVENT655):e===d.E.upload?o.A.addEvent(C,a.fM.EVENT656):e===d.E.pick&&o.A.addEvent(C,a.fM.EVENT657)}return o.A.addEvent(C,a.fM.EVENT_SC_ADD),r.A.addEventData(C),r.A.trackEventUnderName("AddToCart"),!0}}},627333:(e,t,i)=>{"use strict";i.d(t,{A:()=>E});var n=i(296540),r=i(877293),a=i(479892),o=i(285669),s=i(927443),l=i(492418),d=i(53606),c=i(685847),u=i(495176);class h extends o.A{constructor(){super(...arguments),this._renderSavingsCallout=e=>{const t=[a.XT.fontMedium_14,a.XT.lineHeight_18,a.XT.fkGreenText];return n.createElement(u.A,{text:e,style:t})}}render(){var e,t;if(!this.props.freebieCallout&&!this.state.mrp&&!this.state.finalPrice)return null;const i=[a.C1.row_wrap,a.C1.padding_vertical_10,a.C1.alignItemCenter],o=null===(e=this.props.pricing)||void 0===e?void 0:e.finalSavingsText,s=d.Ay.getIsGBSavingsCalloutOldExp(),l=(null===(t=this.props.pricing)||void 0===t?void 0:t.listingPriceType)===c.o.GROUP_BUY&&!s;return n.createElement(r.View,{style:i},this._renderFinalPrice(),l&&o?this._renderSavingsCallout(o):this._renderStrikedAndDiscount())}_renderFinalPrice(){const e=[a.XT.fontMedium_16,{color:l.Jyk.darkGrey_1},a.C1.margin_right_4];return n.createElement(u.A,{text:this.state.productPrice,style:e})}_renderStrikedOffMrp(){if(!this.state.hasDiscount)return;const e=[a.XT.fontMedium_14,a.XT.lightGreyText,a.XT.simpleLineThrough,a.C1.margin_right_4];return n.createElement(u.A,{text:(0,s.m3)(this.state.mrp),style:e})}_renderDiscountView(e){const t=[a.XT.fontMedium_14,a.XT.emeraldGreen];return n.createElement(u.A,{text:e,style:t})}_renderStrikedAndDiscount(){const e=[a.C1.row_wrap,a.C1.alignItemCenter];return n.createElement(r.View,{style:e},this._renderStrikedOffMrp(),this.state.discountText&&!this.state.showDiscountAsAmount?this._renderDiscountView(this.state.discountText):this.state.discountAmountText?this._renderDiscountView(this.state.discountAmountText):null)}}var p=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};class g{constructor(e,t){this.allRadioPricingViewProps=e,this.selected=t}renderItem(e,t){var i;const o=null===(i=e.value)||void 0===i?void 0:i.title,s=[a.XT.lineHeight_18,a.XT.fontMedium_14,a.C1.padding_top_2,this.selected===t?a.XT.fkRoyalBlueText:a.XT.fkGrayFortyText];return n.createElement(r.Text,{style:s},o)}renderSubView(e){const t=this.allRadioPricingViewProps,{actionDispatcher:i}=t,r=p(t,["actionDispatcher"]);return n.createElement(h,Object.assign({},r,{pricing:e.value}))}onItemChecked(e,t,i){this.selected!==i&&(this.selected=i,e(t,i))}}var m=i(726244),v=i(415283),_=i(914944),C=i(311676);class E extends n.PureComponent{constructor(){super(...arguments),this._toggleFDPTracking=e=>{var t,i;const n=null===(t=e.tracking)||void 0===t?void 0:t.impressionId,r="1"===(null===(i=e.tracking)||void 0===i?void 0:i.status);n&&this.trackDGEvent(new C.s8n(n,r))},this.trackDGEvent=e=>{if(this.props.actionDispatcher){const t=new C.ax6(e);this.props.actionDispatcher(t)}}}_getInitialSelectedIndex(e){return(null==e?void 0:e.data)?null==e?void 0:e.data.findIndex((e=>{var t;return!0===(null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.selected)})):0}isRadioBtnDisabled(){return!1}render(){const e=this.props,t=this.props.width-32,i=(t-8)/2,r={parentStyle:[a.C1.margin_top_10,a.C1.margin_bottom_10,a.C1.rowSpaceBetween,a.C1.flexGrow,{width:t}],radioButtonContainerStyle:a.C1.rowAlignFlexStart,radioBtnStyle:{height:20,width:20}},o=[a.C1.border_width_1,a.C1.border_style_solid,a.C1.color_border_lightest_grey,a.C1.border_radius_4,a.C1.padding6H,a.C1.padding_top_10,a.C1.padding_bottom_6,a.C1.flex,{width:i},{maxWidth:i}];return n.createElement(m.A,{direction:1,dispatchAction:(e,t)=>{const i=null==e?void 0:e.action;i&&this.props.actionDispatcher&&(this.props.actionDispatcher({type:v.Q3.MAPI_ACTION,payload:new _.rs(i)}),this._toggleFDPTracking(i))},item:new g(this.props,this._getInitialSelectedIndex(e.priceVariants)),values:e.priceVariants.data||[],radioItemParentStyles:o,checkedRadioItemParentStyles:a.C1.color_border_royal_blue,style:r,disableTouchFeedback:!0,defaultSelectedIndex:this._getInitialSelectedIndex(e.priceVariants),subViewStyles:a.C1.margin_top_6,isRadioBtnDisabled:this.isRadioBtnDisabled,overrideImageDimenFromStyle:!0})}}},628942:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>f});var n=i(465420),r=i(296540),a=i(877293),o=i(716249),s=i(45426),l=i(347924),d=i(808584),c=i(479892),u=i(52754),h=i(857850),p=i(537415);class g{constructor(e){this.payload=e}}var m=i(57522),v=i(146387);class _{constructor(e){this.type=m.j.IS_STICKY_NEP_ANIMATION_ON,this.isAnimationInProgress=e}}const C=44;class E extends o.A{constructor(e){super(e);const t=this.getIsWidgetHidden(e);this.state=Object.assign(Object.assign({},this.state),{heightValue:new a.Animated.Value(t?0:C)})}static getWidgetHeight(e){var t,i;const n=(0,u.Qd)(e,m.j.STICKY_NEP_IS_HIDDEN),r=(0,u.Qd)(e,m.j.IS_STICKY_NEP_ANIMATION_ON),a=null!==(t=null==n?void 0:n.isHidden)&&void 0!==t&&t;return null!==(i=null==r?void 0:r.isAnimationInProgress)&&void 0!==i&&i?C:a?0:C}getIsWidgetHidden(e){var t;const i=(0,u.Qd)(e,m.j.STICKY_NEP_IS_HIDDEN);return null!==(t=null==i?void 0:i.isHidden)&&void 0!==t&&t}componentDidUpdate(e){const t=this.getIsWidgetHidden(e),i=this.getIsWidgetHidden(this.props);t!==i&&this.animateVisibility(i)}animateVisibility(e){var t,i;const n=e?0:C;this.props.actionDispatcher&&(null===(i=(t=this.props).actionDispatcher)||void 0===i||i.call(t,new v.YI(new v.qF(m.j.IS_STICKY_NEP_ANIMATION_ON,new _(!0))))),a.Animated.timing(this.state.heightValue,{toValue:n,duration:500,useNativeDriver:!1}).start((()=>{var e,t;this.props.actionDispatcher&&(null===(t=(e=this.props).actionDispatcher)||void 0===t||t.call(e,new v.YI(new v.qF(m.j.IS_STICKY_NEP_ANIMATION_ON,new _(!1)))))}))}shouldComponentUpdate(e,t,i){return this.getIsWidgetHidden(this.props)!==this.getIsWidgetHidden(e)||super.shouldComponentUpdate(e,t,i)}renderWidget(){const e=(0,u.nS)(this.props.widgetSlotData),t=null==e?void 0:e.data,i=(null==t?void 0:t.renderableComponents)||[];return r.createElement(a.Animated.View,{style:{overflow:"hidden",position:"relative",transform:[{translateY:this.state.heightValue.interpolate({inputRange:[0,C],outputRange:[C,0]})}],height:C}},i.length>0&&this.renderStrip(i))}renderStrip(e){var t,i,n;const a=null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.value,o=null===(i=null==e?void 0:e[1])||void 0===i?void 0:i.value,u=null===(n=null==e?void 0:e[2])||void 0===n?void 0:n.action;return r.createElement(s.S,{onPress:()=>this.onPress(u)},r.createElement(T,null,!!(null==a?void 0:a.imageValue)&&r.createElement(d.A,{style:c.C1.margin_right_8,imageValue:a.imageValue,width:48,height:20}),r.createElement(l.JU,{flex:1,numberOfLines:1,ellipsizeMode:"tail"},!!(null==a?void 0:a.title)&&r.createElement(l.JU,{font:"m_medium"},(null==a?void 0:a.title)+" "),!!(null==a?void 0:a.subtitle)&&r.createElement(l.JU,{font:"m"},null==a?void 0:a.subtitle)),!!(null==o?void 0:o.imageValue)&&r.createElement(d.A,{imageValue:o.imageValue,width:16,height:16})))}onPress(e){var t;this.dispatchAction(h.Q3.SCROLL_TO_SLOT_BY_IDENTIFIER,new g({loginType:p.G.LOGIN_NOT_REQUIRED,params:{SLOT_IDENTIFIER:null===(t=null==e?void 0:e.params)||void 0===t?void 0:t.SLOT_IDENTIFIER},tracking:{},type:h.Q3.SCROLL_TO_SLOT_BY_IDENTIFIER}))}renderDivider(){}applyLayoutDetailsToWidget(e){return[super.applyLayoutDetailsToWidget(e),{backgroundColor:"transparent"}]}}const T=l.az.extendComponent({name:"NepOfferCalloutContainer",defaultProps:()=>({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",bg:"v2.secondary.100",py:"s5",px:"s6"})});class f extends n.A{getWidgetClass(){return E}getWidgetHeight(e){return E.getWidgetHeight(e)}}},630302:(e,t,i)=>{"use strict";i.d(t,{Fc:()=>a,dI:()=>o,qc:()=>r});var n=i(985234);class r{constructor(e,t){this.type=n.V.SWATCH_DATA_LOCATION,this.rowId=e,this.widgetIndex=t}}class a{constructor(e,t,i){this.type=n.V.SWATCH_VIEW_MODEL,this.viewModel=e,this.errorMessage=t,this.swatchWidgetPosition=i}}class o{constructor(e,t){this.type=n.V.SWATCH_EXPAND_VIEW,this.isExpanded=e,this.swatchId=t}}},630753:(e,t,i)=>{"use strict";i.d(t,{N:()=>s});var n=i(296540),r=i(398581),a=i(479892),o=i(670563);const s=e=>{const t=[a.C1.absoluteOverlay,a.C1.flex,a.C1.alignItemFlexStart,{zIndex:10,backgroundColor:o.Jy.blackWithOpacity05}],i=e.overlayStyle?e.overlayStyle:t,s=!!e.renderInWeb;return n.createElement(r.W,{gradientColors:e.gradientColors,style:i,gradientStart:e.gradientStart,gradientEnd:e.gradientEnd,renderInWeb:s},e.content)}},635989:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var n=i(465420),r=i(296540),a=i(877293),o=i(716249),s=i(52754),l=i(723372),d=i(479892),c=i(492418);class u extends o.A{constructor(){super(...arguments),this.widgetContainerViewStyle=[d.C1.margin_horizontal_16,d.C1.padding_bottom_16],this.summariesTitleTextStyle=[d.XT.fontFamilyInterSemiBold,d.XT.blackText,d.XT.fontSize14],this.summariesTextStyle=[d.XT.fontSize_12,d.XT.fontFamilyInter],this.summaryHeaderSubtitleStyle=[d.XT.fontFamilyInter,d.XT.fontSize_12,d.XT.fkGrayFortyText],this.borderStyle=[d.C1.padding_vertical_4,d.C1.border_bottom_width_1,d.C1.borderColorLightestGrey],this.bulletString=c.zlg+c.NH}static getWidgetHeight(e){return 61+this.getAdditionalHeight(e)}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i)}renderWidget(){const e=(0,s.nS)(this.props.widgetSlotData),t=null==e?void 0:e.data;if(t)return r.createElement(a.View,{style:this.widgetContainerViewStyle},t.header&&this.renderWidgetHeader(t.header),t.pros&&this.renderProsSummaries(t.pros),t.pros&&t.cons&&r.createElement(a.View,{style:this.borderStyle}),t.cons&&this.renderConsSummaries(t.cons))}renderWidgetHeader(e){const t=e.title,i=e.subtitle;return r.createElement(a.View,null,t&&r.createElement(l.A,{messages:t,textDefaultStyle:this.summariesTitleTextStyle}),i&&r.createElement(l.A,{messages:i,textDefaultStyle:this.summariesTextStyle,imageDefaultStyle:d.C1.margin_horizontal_4}))}renderProsSummaries(e){const t=e.title,i=e.summaries;return r.createElement(a.View,{style:d.C1.padding_top_12},t&&r.createElement(l.A,{messages:t,style:d.C1.padding_bottom_10,textDefaultStyle:this.summariesTitleTextStyle,imageDefaultStyle:d.C1.margin_right_4}),i&&i.map((e=>r.createElement(l.A,{messages:e,style:d.C1.padding_bottom_8,textDefaultStyle:this.summariesTextStyle,bulletString:this.bulletString}))))}renderConsSummaries(e){const t=e.title,i=e.summaries;return r.createElement(a.View,{style:d.C1.padding_top_12},t&&r.createElement(l.A,{messages:t,style:d.C1.padding_bottom_10,textDefaultStyle:this.summariesTitleTextStyle,imageDefaultStyle:d.C1.margin_right_4}),i&&i.map((e=>r.createElement(l.A,{messages:e,style:d.C1.padding_bottom_8,textDefaultStyle:this.summariesTextStyle,bulletString:this.bulletString}))))}}class h extends n.A{getWidgetClass(e){return u}getWidgetHeight(e){return u.getWidgetHeight(e)}}},643992:(e,t,i)=>{"use strict";i.d(t,{A:()=>p});var n=i(296540),r=i(568622),a=i(302019),o=i(352254),s=i(468248),l=i(22072);const d=a.az.extendComponent({name:"ProductPriceContainer",defaultProps:{flexDirection:"row",alignItems:"center"}}),c=a.JU.extendComponent({name:"RegularPriceText",defaultProps:{font:"s_medium",color:"text.secondary",textDecorationLine:"line-through",mr:"s3"}}),u=a.JU.extendComponent({name:"FinalPriceText",defaultProps:{color:"text.primary",font:"l_medium",mr:"s4"}}),h=a.JU.extendComponent({name:"FinalSavingsText",defaultProps:{font:"s_medium",lineHeight:16,color:"raw.green.600",pt:"s2"}});class p extends r.A{constructor(){super(...arguments),this._renderRegularPrice=()=>this.state.regularPrice?n.createElement(c,null,this.state.regularPriceFormatted):null,this._renderFinalPrice=()=>this.state.finalPrice?n.createElement(u,null,this.state.productPriceFormatted):null,this._renderFinalSavingsText=()=>{var e,t;return(null===(e=this.props.pricing)||void 0===e?void 0:e.finalSavingsText)?n.createElement(h,null,null===(t=this.props.pricing)||void 0===t?void 0:t.finalSavingsText):null},this._renderTag=()=>{const e=s.j.getGroupBuySrc().uri;return n.createElement(o.A,{source:e,height:l.Lb,width:l.o2})}}render(){return this.state.finalPrice||this.state.regularPrice?n.createElement(a.az,null,n.createElement(d,null,this._renderRegularPrice(),this._renderFinalPrice(),this._renderTag()),this._renderFinalSavingsText()):null}}},644051:e=>{var t=e.exports={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return n[this.type]||n.element}},i={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},n={element:1,text:3,cdata:4,comment:8};Object.keys(i).forEach((function(e){var n=i[e];Object.defineProperty(t,e,{get:function(){return this[n]||null},set:function(e){return this[n]=e,e}})}))},647861:(e,t)=>{"use strict";!function(e){e.live="live",e.upload="upload",e.pick="pick"}(t.E||(t.E={}))},647910:(e,t,i)=>{var n=e.exports;[i(471559),i(284488),i(666513),i(536340),i(468379),i(317483)].forEach((function(e){Object.keys(e).forEach((function(t){n[t]=e[t].bind(n)}))}))},655408:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var n=i(614006),r=i(918210),a=i(90513),o=i(580555),s=i(229833),l=i(52754),d=i(985234),c=i(99673),u=i(678239);class h{handleAction(e,t,i){var c,p,g;const m=e.payload,v=m.newPageContext,_=v&&v.trackingDataV2?v.trackingDataV2:void 0,C=v&&v.pricing&&v.pricing.finalPrice,E=C&&C.value&&C.value>0?C.value.toString():void 0,T=v&&v.analyticsData&&v.analyticsData.category,f={},A=m.ctaTransientData,S=m.valueStoreTransientData,y=m.upsertRequest,w=m.upsertResponse&&m.upsertResponse.upsertResponse?m.upsertResponse.upsertResponse:void 0;if(A||S){f[a.fM.EVENT_SC_ADD]=String(Object.keys(y.cartContext).length);let e="",i=0,r=0,m=!1,C=!1;if(y&&w&&v&&_){y.cartContext&&_.listingId&&void 0!==y.cartContext[_.listingId]?f[a.Ay.PROP9]="true":f[a.Ay.PROP9]="false",Object.keys(y.cartContext).forEach((l=>{const d=w.cartResponse[l];if(d.presentInCart)if(l===v.listingId)T&&E&&v.productId&&(0,u.hR)(l,d.productId,E,T,d.marketplace,d.quantity),e+=s.A.getSProductAdding(a.Ay.EVAR18,t.pageMeta.pageName,_.sproduct)+",";else{const c=h._getAggregatedCartContextFromTransientData(l,A,S);if(c&&c.trackingParams){let h=new o.Ay(c.trackingParams).getSProduct();const p=c.category||T,g=c.price?c.price.toString():void 0;switch(p&&g&&d.productId&&(0,u.hR)(l,d.productId,g,p,d.marketplace,d.quantity),h&&(h=s.A.getSProductAdding(a.Ay.EVAR18,t.pageMeta.pageName,h),_.listingId&&(h=s.A.getSProductAdding(a.Ay.EVAR75,_.listingId,h))),e+=h+",",c.source){case n.n.ABB:m=!0;break;case n.n.PHYSICAL_ATTACH:i+=1,"true"===o.Ay.getHasBundleOffer(c.trackingParams)&&(C=!0);break;case n.n.DIGITAL_ATTACH:case n.n.VALUE_STORE:r+=1}}}})),A&&Object.keys(A.productData).forEach((l=>{var d;const c=A.productData[l],h=null==c?void 0:c.aggregatedCartContext,p=null==c?void 0:c.priceCallout;if(h&&p){const l=h.trackingParams;if(l){const c=new o.Ay(l);let p=c.getSProduct();const g=c.getContentId(),v=h.price?h.price.toString():void 0,_=null!==(d=c.getMarketPlace())&&void 0!==d?d:c.getMarketPlaceId();switch(h.category&&v&&g&&h.parentListingId&&(0,u.hR)(h.parentListingId,g,v,h.category,_,h.cartContext.quantity),p&&(p=s.A.getSProductAdding(a.Ay.EVAR18,t.pageMeta.pageName,p)),e+=p+",",h.source){case n.n.ABB:m=!0;break;case n.n.PHYSICAL_ATTACH:i+=1,"true"===o.Ay.getHasBundleOffer(h.trackingParams)&&(C=!0);break;case n.n.DIGITAL_ATTACH:case n.n.VALUE_STORE:case n.n.FREEBIE:r+=1}}}})),w.partialFailure&&(f[a.Ay.PROP37]="PP_ACTA_AddtoCartError_ParentOOS_ChildOOS_Partial");const l=!!_.preferredSellerWSR&&_.preferredSellerWSR,d=_.sellerCount?_.sellerCount:1;f[a.Ay.EVAR28]=d>1?l?"WSR Multiple":"NWSR Multiple":l?"WSR Single":"NWSR Single",_.offerIds&&_.offerIds.length>0&&(f[a.Ay.LIST2]=_.offerIds.join(";"))}f[a.Ay.PRODUCTS]=e.length>0&&","===e.charAt(e.length-1)?e.substr(0,e.length-1):e,f[a.fM.EVENT22]=i.toString(),f[a.fM.EVENT196]=r.toString();const I=null===(c=t.pageDataResponse)||void 0===c?void 0:c.trackingContext,b=f[a.Ay.PRODUCTS];if((null===(p=null==I?void 0:I.tracking)||void 0===p?void 0:p.eVar151)&&b)f[a.Ay.PRODUCTS]=s.A.getSProductAdding(a.Ay.EVAR151,I.tracking.eVar151,b);else{const e=(0,l.p_)(t,d.V.EXCHANGE_TRACKING);(null===(g=null==e?void 0:e.tracking)||void 0===g?void 0:g.eVar151)&&b&&(f[a.Ay.PRODUCTS]=s.A.getSProductAdding(a.Ay.EVAR151,e.tracking.eVar151,b))}(null==I?void 0:I.tracking)&&(I.tracking.isFreebiePresent&&s.A.addEvent(f,a.fM.EVENT684),I.tracking.atcProp62&&(f[a.Ay.PROP62]=I.tracking.atcProp62)),m&&(f[a.Ay.EVAR91]="ABB_CartAdd"),C&&s.A.addEvent(f,a.fM.EVENT90)}return r.A.addEventData(f),r.A.trackEventUnderName("BundleAddToCart"),!0}static _getAggregatedCartContextFromTransientData(e,t,i){let n;return t&&Object.keys(t.productData).some((i=>{const r=t.productData[i];return!(!r||r.listingId!==e)&&(n=r.aggregatedCartContext,!0)})),(null==i?void 0:i.bundleContext)&&(n=c.A.aggregatedCartContextForBundle(i.bundleContext,e)),(null==i?void 0:i.fsupContext)&&(n=c.A.aggregatedCartContextForFSUP(i.fsupContext,e)),n}}},656671:(e,t,i)=>{"use strict";i.d(t,{ZY:()=>s,qf:()=>o,tn:()=>a});var n=i(877293);const r="android"===n.Platform.OS?{borderRadius:4,height:20,maxWidth:39,paddingVertical:"s1",paddingHorizontal:"s2"}:"ios"===n.Platform.OS?{borderRadius:4,height:20,maxWidth:39,paddingTop:"s1",paddingBottom:"s1",paddingLeft:"s3",paddingRight:"s3"}:void 0,a={specialPriceTimerStyle:{bg:"raw.green.50",paddingHorizontal:"s5",borderTopLeftRadius:4,borderTopRightRadius:4,paddingTop:"s4"},specialPriceViewBottomStyle:{borderBottomLeftRadius:4,borderBottomRightRadius:4,paddingBottom:"s4"},priceViewHighlightedStyle:{bg:"raw.green.50",paddingLeft:"s4",marginTop:"s4",borderTopLeftRadius:4,borderTopRightRadius:4,marginBottom:"s0",paddingTop:"s0",paddingBottom:"s2"},specialPriceHighlightStyle:{paddingHorizontal:"s5",bg:"raw.green.50",paddingBottom:"s0",borderBottomLeftRadius:4,borderBottomRightRadius:4},productPriceText:{color:"common.black",font:"xxl_medium"},strikeOutTextHighlighted:{color:"raw.grey.400",font:"xl",marginLeft:"s4",alignItems:"center",textDecorationLine:"line-through"},discountTextHighlighted:{color:"success.primary",font:"xl",marginLeft:"s3"},priceContainerStyle:{paddingTop:"s4",paddingBottom:"s4"},strikeOutText:{color:"raw.grey.400",font:"m_medium",marginLeft:"s4",alignItems:"center",textDecorationLine:"line-through"},discountText:{color:"success.primary",font:"xl",marginLeft:"s3"},ppuTextWithBGHighlighted:{flexWrap:"wrap",justifyContent:"flex-end",color:"common.black",font:"m"},perUnitContainerStyle:{flex:1,alignItems:"center",justifyContent:"center",paddingRight:"s5"},priceView:{flex:1,flexWrap:"wrap",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},priceContainerView:{flexDirection:"row",alignItems:"center",flex:1},strikeOutTextHero:{color:"raw.grey.400",font:"l",marginLeft:"s2",alignItems:"center",textDecorationLine:"line-through"},discountTextHero:{color:"success.primary",font:"l",marginLeft:"s2"},finalPriceHero:{color:"raw.grey.900",font:"l_medium"},strikeOutTextUPIHero:{color:"raw.grey.400",font:"m",marginLeft:"s2",alignItems:"center",textDecorationLine:"line-through"},discountTextUPIHero:{color:"success.primary",font:"m",marginLeft:"s2"},finalPriceUPIHero:{color:"raw.grey.900",font:"m_medium"},specialUpiPriceCalloutStyle:{bg:"raw.green.50",pl:"s5"}},o={brandStoreTextStyle:{color:"primary.500",font:"m_medium"},superTitleText:{color:"raw.grey.900",font:"s",marginTop:"s2"},productDetailsTextWrapper:{marginVertical:"s4",flexWrap:"wrap",flexDirection:"row",alignItems:"flex-start"},productDetailsExclusiveTag:{marginTop:"s1"},exclusiveTag:{color:"raw.grey.500",font:"m_medium"},listingTitleText:{flex:1,flexWrap:"wrap",alignItems:"flex-start",color:"common.black",paddingLeft:"s4"},newVersionText:{flexWrap:"wrap",alignItems:"flex-start",color:"info.primary",font:"s_medium"},titleText14:{font:"m",lineHeight:20},titleText16:{font:"l_medium",lineHeight:20},suffixText:{font:"m",color:"info.primary"}},s={ratingContainerWithTag:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},ratingView:{flexDirection:"row",alignItems:"center",marginRight:"s4"},ratingCountContainerStyle:{overflow:"hidden",marginLeft:"s4"},ratingCountStyle:{color:"primary.500",font:"s"},ratingAdjectiveStyle:{font:"s_medium",color:"primary.500",marginLeft:"s2"},pillBorderStyle:r,ratingReviewStarBoxStyle:{alignSelf:"center",flexDirection:"row",alignItems:"center"}}},656757:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>c,Ln:()=>o,Sg:()=>s,bv:()=>d,yk:()=>l});var n=i(877293),r=i(887261),a=i(492418);const o=56,s=32,l=1,d=n.StyleSheet.create({left15:{left:15},outerContainerX:{height:80,backgroundColor:a.Jyk.white},cartCountView:{backgroundColor:a.Jyk.deepRed,justifyContent:"center",alignItems:"center",position:"absolute",left:10,borderWidth:1,borderColor:a.Jyk.white,top:-9,height:17,width:17,borderRadius:8},cartCountViewLargeDimension:{borderWidth:0,paddingHorizontal:4,height:16,width:24},cartCountViewLargeDlsDimension:{left:10,paddingHorizontal:4,height:16,width:24},cartCountViewBgColor:{backgroundColor:a.Jyk.magenta},cartCountText:{fontSize:10,fontFamily:r.A$,color:a.Jyk.white},d2rIcon:{height:40,width:40,marginTop:11,marginBottom:8,marginLeft:4},basketIcon:{height:12,width:18,resizeMode:"contain"},basketIconWhite:{height:12,width:18,marginRight:8},d2rView:{height:56,width:n.Dimensions.get("window").width,flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:a.Jyk.white},offerContainer:{flex:1,marginLeft:8,marginRight:8,justifyContent:"center"},basketTopImage:{position:"absolute",left:3.8,top:5.5,height:3,width:16},continueShoppingText:{fontSize:14,lineHeight:20,fontFamily:r.$u,includeFontPadding:!1,marginEnd:4,color:a.Cf1.fkBlueColor},offerText:{fontSize:14,lineHeight:20,flexWrap:"wrap",marginBottom:2,fontFamily:r.A$,color:a.Jyk.blackPrimary},basketButton:{height:40,minWidth:136,alignItems:"center",justifyContent:"center",marginRight:8,flexDirection:"row",borderRadius:2,paddingHorizontal:8},basketButtonText:{color:a.Jyk.white,fontSize:14,fontFamily:r.$u,includeFontPadding:!1,marginLeft:8,marginTop:1,lineHeight:20},shadowBar:{height:2,width:n.Dimensions.get("window").width,position:"absolute",left:0,bottom:56},continueShopping:{fontSize:14,fontFamily:r.$u,includeFontPadding:!1,color:a.Cf1.fkBlueColor},basketImageContainer:{marginRight:10},d2rStripContainer:{flexDirection:"row",height:32,justifyContent:"space-between",alignItems:"center"},d2rTextContainerStyle:{paddingStart:16,paddingEnd:10,maxWidth:"90%"},d2rTextStyle:{fontSize:12,marginEnd:16,color:a.Jyk.blackPrimary},d2rMediumTextStyle:{fontSize:12,marginEnd:16,color:a.Jyk.blackPrimary,fontFamily:r.$u},d2rImageContainer:{alignItems:"center",justifyContent:"center",marginEnd:10,width:16,height:32},progressBarStyle:{height:33,position:"absolute"},progressBarStyleDls:{height:32,position:"absolute"},progressBarStyleDlsDesktop:{height:48,position:"absolute"},d2rTierContainer:{marginTop:2,paddingHorizontal:16,flexDirection:"column",justifyContent:"space-between",backgroundColor:a.Jyk.white},bottomSheetChevronContainer:{alignContent:"center",paddingVertical:24,paddingHorizontal:12},bottomSheetHeaderContainer:{backgroundColor:a.Jyk.white,justifyContent:"space-between",flexDirection:"row"},d2rNavigationSubtitle:{flexDirection:"row",alignItems:"center"},bottomSheetHeaderText:{alignContent:"center",fontFamily:r.$u,fontSize:16,paddingVertical:24,paddingStart:16},bottomSheetContainer:{height:56,marginTop:2,width:n.Dimensions.get("window").width,flexDirection:"row",alignItems:"center",borderTopColor:a.Jyk.separator,borderTopWidth:1,justifyContent:"space-between",backgroundColor:a.Jyk.white},chevronImage:{resizeMode:"contain",width:8,height:8},storeTitle:{fontSize:12,lineHeight:16,flexWrap:"wrap",fontFamily:r.A$,color:a.Jyk.blackPrimary},cartCountViewDls:{backgroundColor:a.Jyk.deepRed,justifyContent:"center",alignItems:"center",position:"absolute",left:15,borderWidth:1,borderColor:a.Jyk.white,top:-3,height:16,width:16,borderRadius:8}}),c=d},659301:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var n=i(918210),r=i(90513),a=i(532655),o=i(722573),s=i(884844),l=i(417716),d=i(229833),c=i(685299),u=i(311676);class h{handleAction(e,t,i){const h=e.payload.trackingParams,p=t.pageMeta.pageType,g=t.pageDataResponse&&t.pageDataResponse.tracking;if(h){const e=h.getOTracker(),m=h.getOTracker1(),v=h.getContentId(),_=h.getContentType(),C=h.getPosition(),E=h.getModuleId(),T=h.getProp47(),f=h.getEvar140(),A=h.getEvar57(),S=h.getEVar157(),y=h.getProductId(),w={};if(C&&(w[r.Ay.EVAR9]="m_"+C),e&&(w[r.Ay.EVAR29]=e),m&&(w[r.Ay.EVAR30]=m),d.A.addEvar68(w,m),v&&(w[r.Ay.EVAR77]=v),T&&(w[r.Ay.PROP47]=T),f&&(w[r.Ay.EVAR140]=f),S&&(w[r.Ay.EVAR157]=S),A&&(w[r.Ay.EVAR57]=A),p===a.A.SearchPage){const e=t.pageMeta.fromBackPress,n=t.pageMeta.pageTrackingData;let a=!1;if(n&&!n.searchSuccessful&&!e){w[r.fM.EVENT14]="1",a=!0,i(new s.eo);new c.R(t.pageMeta.pageUID).savePageContext({isSearchSuccessfulAcrossFunnel:!0})}i(new u.ax6(new u.$LM(a,y,C)))}if("mobile_feedback"===E){const e=t.pageMeta,i=e.marketPlace;g&&(w[r.Ay.PROP3]=`${i}:${e.pageType}`,w[r.Ay.EVAR1]=g[o.R.CATEGORY],w[r.Ay.EVAR6]=g[o.R.SEARCH_QUERY],w[r.Ay.PRODUCTS]=`;${t.pageMeta.pageType};;;;eVar19=${g[o.R.VERTICAL]}|eVar22=${g[o.R.CATEGORY]}|eVar93=${i}`,w[r.Ay.PROP62]="Search_feedback_Widget_clicked")}if(n.A.addPageData(w),_&&m&&m.startsWith(l.Qv)){const e={};e[r.Ay.EVAR76]=m,n.A.addPageData(e)}}return!0}}},660332:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>S});var n=i(465420),r=i(296540),a=i(877293),o=i(201159),s=i(302019),l=i(988287),d=i(996534),c=i(352254),u=i(744221),h=i(950512),p=i(873009),g=i(670563),m=i(479892),v=i(948017),_=i(984445),C=i.n(_),E=i(879052),T=i(547134),f=i(957775);class A extends u.A{constructor(){super(...arguments),this.CHEVRON_IMAGE_DIMEN=14,this._renderSellerDetails=e=>{var t;return r.createElement(s.fv,{alignItems:"center"},r.createElement(d.oV,Object.assign({},(0,E.Z)("SellerBottomsheetSellerDescriptionTitle")),e.title.text),r.createElement(d.Tq,Object.assign({},(0,E.Z)("SellerBottomsheetSellerDescription")),null===(t=e.subtitle)||void 0===t?void 0:t.text))},this._renderAccordianHeaderAboutSeller=e=>{const t=new u.i(this.props,this.localize),{aboutSeller:i}=t;return(null==i?void 0:i.title)&&(null==i?void 0:i.subtitle)?r.createElement(s.az,null,r.createElement(d.n6,null,r.createElement(d.HX,Object.assign({},(0,E.Z)("SellerBottomsheetAboutSellerTitle")),i.title.text),r.createElement(d.W5,Object.assign({},(0,E.Z)("SellerBottomsheetChevronAboutSeller")),this._renderChevron(e))),"ios"===a.Platform.OS&&e&&this._renderAccordianContentAboutSeller(e)):r.createElement(s.az,null)},this._renderAccordianHeaderRatings=e=>{const t=new u.i(this.props,this.localize);if(!t.sellerRatingTitle)return r.createElement(s.az,null);const{sellerRatingTitle:i}=t;return r.createElement(s.az,null,r.createElement(d.n6,null,r.createElement(d.HX,Object.assign({},(0,E.Z)("SellerBottomsheetSellerOverallRatingTitle")),i.text),r.createElement(d.W5,Object.assign({},(0,E.Z)("SellerBottomsheetChevronOverallRating")),this._renderChevron(e))))},this._renderAccordianContentAboutSeller=e=>{var t;const i=new u.i(this.props,this.localize),{aboutSeller:n}=i;return(null===(t=null==n?void 0:n.subtitle)||void 0===t?void 0:t.text)?r.createElement(s.az,null,r.createElement(v.A,{isExpanded:this.state.descriptionExpanded,text:C()(n.subtitle.text),onPress:this._onExpand,textAfterTruncate:"See More",containerStyle:{font:"s",paddingBottom:"s5"}}),r.createElement(p.cG,{bgColor:"#c9cdd5",height:1,noHorizontalMargin:!0})):r.createElement(s.az,null)},this._renderAccordianContentRatings=e=>{const t=new u.i(this.props,this.localize),{parameterizedScoreComponent:i}=t;return i?r.createElement(s.az,null,i.map((e=>this._renderSellerScore(e)))):r.createElement(s.az,null)},this._accordianClick=()=>{},this._renderSellerScore=e=>{var t,i;if((null===(t=e.value)||void 0===t?void 0:t.score)&&(null===(i=e.value)||void 0===i?void 0:i.name))return r.createElement(d.HW,null,r.createElement(d.yT,Object.assign({},(0,E.Z)("SellerOverallRatingsSubtitles")),e.value.name),r.createElement(s.fI,{alignItems:"center",justifyContent:"flex-start",width:110},r.createElement(l.A,{starScaleFactor:1.1,rating:e.value.score,smallStar:!0,fillColor:g.Jy.royalBlue,starContainerStyle:[{marginHorizontal:2}]}),r.createElement(d.CF,Object.assign({},(0,E.Z)("SellerBottomsheetOverallRatingInText")),"(",e.value.score,")")))},this._onExpand=()=>{this.setState({descriptionExpanded:!this.state.descriptionExpanded})},this.shouldCloseFooter=()=>!0}static getWidgetHeight(e){return 120}componentDidMount(){super.componentDidMount(),this.props.actionDispatcher&&(0,f.dispatchDgAction)(T.A.ENHANCED_SELLER_WIDGET_POPUP,this.props.actionDispatcher)}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i)||this.state.descriptionExpanded!==t.descriptionExpanded}renderWidget(){var e,t,i,n,o,p,v;const _=new u.i(this.props,this.localize);if(!_.sellerMetaValue)return;const{sellerMetaValue:C,name:T,ratingData:f,sellerDuration:A,sellerAspectMetrics:S,fssaiDetails:y,pharmaDetails:w}=_,I=new h.E;I.header=this._renderAccordianHeaderAboutSeller,I.content="ios"===a.Platform.OS?void 0:this._renderAccordianContentAboutSeller;const b=[];b.push(I);const D=new h.E;D.header=this._renderAccordianHeaderRatings,D.content=this._renderAccordianContentRatings;const x=[];x.push(D);const P=!!y||!!w;return r.createElement(s.az,null,r.createElement(d.cM,null,r.createElement(d.Q6,Object.assign({},(0,E.Z)("SellerBottomsheetstartConatinerOutside")),r.createElement(d.VN,null,r.createElement(c.A,Object.assign({},(0,E.Z)("SellerBottomsheetImage"),{source:null===(t=null===(e=null==C?void 0:C.value)||void 0===e?void 0:e.sellerIcon)||void 0===t?void 0:t.dynamicImageUrl,height:44,width:44})),r.createElement(s.fv,{marginLeft:"s4"},r.createElement(s.fI,{alignItems:"center"},r.createElement(d.e_,Object.assign({},(0,E.Z)("SellerBottomsheetTitle")),T)),r.createElement(s.fI,{alignItems:"center"},!!(null===(i=null==f?void 0:f.value)||void 0===i?void 0:i.average)&&r.createElement(s.fI,Object.assign({},(0,E.Z)("SellerBottomsheetRating"),{alignItems:"center"}),r.createElement(l.A,{starScaleFactor:1.1,rating:f.value.average,smallStar:!0,fillColor:g.Jy.royalBlue,starContainerStyle:m.C1.margin_horizontal_2}),r.createElement(d.CF,Object.assign({},(0,E.Z)("SellerBottomsheetRatingNumberText")),null===(n=null==f?void 0:f.value)||void 0===n?void 0:n.average)),!!(null===(o=null==f?void 0:f.value)||void 0===o?void 0:o.average)&&A&&r.createElement(d.MS,null,""),!!A&&r.createElement(s.fI,{alignItems:"center"},r.createElement(d.Nc,Object.assign({},(0,E.Z)("SellerBottomsheetSellerDurationText")),A.text)))))),S&&r.createElement(d.jD,null,null==S?void 0:S.map((e=>this._renderSellerDetails(e)))),r.createElement(h.A,{content:b,onChange:this._accordianClick,activeSections:[0]}),r.createElement(h.A,{content:x,onChange:this._accordianClick,activeSections:[0]}),P&&r.createElement(d.dL,null,!!y&&r.createElement(d.OX,null,y.title.text,": ",null===(p=y.subtitle)||void 0===p?void 0:p.text),!!w&&r.createElement(d.Dz,null,w.title.text,": ",null===(v=w.subtitle)||void 0===v?void 0:v.text))))}_renderChevron(e){const t=e?d.Uo:d.ac;return r.createElement(t,null,r.createElement(o.vK,{size:this.CHEVRON_IMAGE_DIMEN}))}}class S extends n.A{getWidgetClass(){return A}getWidgetHeight(e){return A.getWidgetHeight(e)}}},661677:(e,t,i)=>{"use strict";i.d(t,{Gf:()=>o,Rt:()=>l,rs:()=>d,rz:()=>s});var n=i(877293),r=i(492418),a=i(887261);const o=n.StyleSheet.create({productPrizeRupee:{fontSize:16,fontFamily:a.$u,includeFontPadding:!1,color:r.J38.black,marginRight:1},productPrize:{fontSize:16,color:r.J38.black,fontFamily:a.$u,includeFontPadding:!1},liveStreamDealPrize:{color:r.Jyk.lightBlack,fontSize:14,fontFamily:a.Mq},sellingPrice:{marginLeft:6,fontSize:12,fontFamily:a.$u,includeFontPadding:!1,color:r.J38.lightGrey,textDecorationLine:"line-through"},liveStreamSellingPrice:{fontSize:14,color:"#707070",textDecorationLine:"line-through"},totalDiscount:{fontFamily:a.$u,includeFontPadding:!1,marginLeft:4,fontSize:12,color:r.J38.fkGreen},liveStreamtotalDiscount:{fontSize:14,color:"#008B37",fontFamily:a.Mq},furniturePriceContainer:{flex:1,marginTop:6,flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},carouselProductPrice:{fontSize:12,color:r.J38.black,fontFamily:a.$u,includeFontPadding:!1},carouselSellingPrice:{marginLeft:4,fontSize:10,fontFamily:a.$u,includeFontPadding:!1,color:r.J38.lightGrey,textDecorationLine:"line-through"},carouselTotalDiscount:{fontFamily:a.$u,includeFontPadding:!1,marginLeft:0,fontSize:10,color:r.J38.fkGreen},liveStreamPricingContainer:{flexDirection:"row",gap:4}}),s=n.StyleSheet.create({productPriceRupee:{fontSize:12,includeFontPadding:!1,fontFamily:a.$u,color:r.J38.black,marginRight:4,opacity:.6,lineHeight:20},gbProductPriceRupee:{fontSize:16,includeFontPadding:!1,fontFamily:a.$u,color:r.J38.black,marginRight:1,lineHeight:20,marginBottom:1},gbProductPrice1Grid:{fontSize:16,includeFontPadding:!1,fontFamily:a.$u,color:r.J38.black,marginRight:2,lineHeight:20},gbDiscountPrice:{fontSize:14,includeFontPadding:!1,fontFamily:a.$u,lineHeight:20,color:"#26A541"}}),l=n.StyleSheet.create({productPrice:{fontSize:12,color:r.J38.black,fontFamily:a.A$,includeFontPadding:!1},sellingPrice:{marginLeft:4,fontSize:10,fontFamily:a.$u,includeFontPadding:!1,color:r.J38.lightGrey,textDecorationLine:"line-through"},totalDiscount:{fontFamily:a.A$,includeFontPadding:!1,marginLeft:4,fontSize:10,color:r.J38.fkGreen},parentStyle:{flexDirection:"row",alignItems:"center"},bigCardProductPrice:{fontSize:16,color:r.J38.white,fontFamily:a.$u,includeFontPadding:!1},bigCardSellingPrice:{fontSize:14,fontFamily:a.$u,includeFontPadding:!1,color:r.V9u.borderLightGrey,textDecorationLine:"line-through"},bigCardTotalDiscount:{fontFamily:a.$u,includeFontPadding:!1,fontSize:14,marginLeft:4,color:r.ZSP},bigCardParentStyle:{flexDirection:"column",paddingRight:12,alignItems:"flex-end"}}),d=n.StyleSheet.create({PriceContainerStyle:{flexDirection:"row",paddingTop:4,marginLeft:10,alignItems:"flex-start"},SellingPriceStyle:{textDecorationLine:"line-through",color:r.Jyk.fkGrayForty,fontSize:14,marginTop:2},finalPriceStyle:{fontFamily:a.A$,fontSize:17,marginLeft:4}})},664825:(e,t,i)=>{"use strict";i.d(t,{A:()=>f});var n=i(296540),r=i(716249),a=i(52754),o=i(877293),s=i(479892),l=i(198213),d=i(495176),c=i(813652),u=i(670563),h=i(912830),p=i(915742),g=i(395567),m=i(97529),v=i(982561),_=i(80733),C=i(887903),E=i(738174),T=i(697005);class f extends r.A{static getWidgetHeight(e){return f.WIDGET_HEIGHT}constructor(e){var t,i,n,r;super(e),this.containerStyle=[s.C1.row,s.C1.backgroundWhite,s.C1.padding14V,s.C1.padding24H],this.rightContainerStyle=[s.C1.col,s.C1.margin_left_14],this.titleTextStyle=[s.XT.fontMedium_16,s.XT.alignTextLeft,s.XT.lineHeight_19,s.XT.fkBlackPrimaryText],this.ANIMATION_CONFIG={Duration:250,StartDelay:1e3,InitialValue:0,FinalValue:1},this.IMAGE_HEIGHT=36,this.subTitleTextStyle=[s.C1.margin_top_4,s.XT.fontMedium_12,s.XT.alignTextLeft,s.XT.lineHeight_16,{color:u.Jy.blackWithMediumAlpha}],this._animationValue=new o.Animated.Value(this.ANIMATION_CONFIG.InitialValue),this.isCABNInterstitialsStandardisationV2Enabled=null===(r=null===(n=null===(i=null===(t=e.widgetSlotData)||void 0===t?void 0:t.slotData)||void 0===i?void 0:i.widget)||void 0===n?void 0:n.params)||void 0===r?void 0:r.isCABNInterstitialsStandardisationV2Enabled,this.greenTickUrl=this.isCABNInterstitialsStandardisationV2Enabled?c.whiteTickWithDarkGreenBackground:c.whiteTickWithGreenBackground}componentDidMount(){var e;super.componentDidMount(),this.animationStart();const t=(0,a.nS)(this.props.widgetSlotData),i=t?t.data:void 0,n=null===(e=null==i?void 0:i.data)||void 0===e?void 0:e.value;(null==n?void 0:n.timerValue)&&(E.I.addListener(C.t.ON_ATC_BOTTOM_SHEET_TOUCHED,this.onBottomSheetTouched,this),this.props.scrollProps&&this.props.scrollProps.scrollComponentEventEmitter.addListener(_.th.ON_SCROLL,this.onBottomSheetScrolled,this))}componentWillUnmount(){var e;const t=(0,a.nS)(this.props.widgetSlotData),i=t?t.data:void 0,n=null===(e=null==i?void 0:i.data)||void 0===e?void 0:e.value;(null==n?void 0:n.timerValue)&&(E.I.removeListener(C.t.ON_ATC_BOTTOM_SHEET_TOUCHED,this.onBottomSheetTouched),this.props.scrollProps&&this.props.scrollProps.scrollComponentEventEmitter.removeListenerForEvent(_.th.ON_SCROLL,this.onBottomSheetScrolled))}getDerivedState(e,t){var i,n,r,a;const o=null===(a=null===(r=null===(n=null===(i=null==e?void 0:e.pageInfo)||void 0===i?void 0:i.pageTransientData)||void 0===n?void 0:n.data)||void 0===r?void 0:r.AGGREGATED_CTA)||void 0===a?void 0:a.productData;return o&&0!==Object.keys(o).length?Object.assign(Object.assign({},super.getDerivedState(e,t)),{isDisabledTimer:!0}):super.getDerivedState(e,t)}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i)||this.state.isDisabledTimer!==t.isDisabledTimer}animationStart(){setTimeout((()=>{o.Animated.timing(this._animationValue,{toValue:this.ANIMATION_CONFIG.FinalValue,duration:this.ANIMATION_CONFIG.Duration,useNativeDriver:!0,easing:o.Easing.ease}).start()}),this.ANIMATION_CONFIG.StartDelay)}onBottomSheetTouched(e){e.actionUrl!==T.$.INTERSTITIAL_BOTTOM_SHEET_PP_ATC||this.state.isDisabledTimer||this.setState({isDisabledTimer:!0})}onBottomSheetScrolled(){this.state.isDisabledTimer||this.setState({isDisabledTimer:!0})}renderWidget(){var e;const t=(0,a.nS)(this.props.widgetSlotData),i=t?t.data:void 0,r=null===(e=null==i?void 0:i.data)||void 0===e?void 0:e.value;if(r)return n.createElement(o.View,{style:this.containerStyle},this.renderImage(r.image),n.createElement(o.View,{style:this.rightContainerStyle},this.renderTitle(r.title),r.timerValue&&!this.state.isDisabledTimer?this.renderCounterView(r):this.renderSubTitle(r.subTitle)))}renderTitle(e){return e&&e.value&&n.createElement(d.A,{richTextData:e.value,style:this.titleTextStyle,numberOfLines:1,ellipsizeMode:"tail"})}renderSubTitle(e){return e&&e.value&&n.createElement(d.A,{richTextData:e.value,style:this.subTitleTextStyle,numberOfLines:1,ellipsizeMode:"tail"})}_renderItemAtIndex(e,t){return 0===e?this.renderSubTitle(t.subTitle):this.renderCounter(t.timerValue)}renderCounterView(e){return n.createElement(v.A,{itemDelay:1200,renderItem:t=>this._renderItemAtIndex(t,e),itemCount:2,animateOnlyOnce:!0})}renderCounter(e){var t,i;return(null==e?void 0:e.timeRemaining)?n.createElement(p.Ay,{timestampInMillis:e.timeRemaining,key:e.timeRemaining,style:this.subTitleTextStyle,timerType:h.De.ONLY_SECONDS,onCountDownFinish:()=>{this.onCountDownFinish()},prependingText:null===(t=null==e?void 0:e.prefix)||void 0===t?void 0:t.text,appendingText:null===(i=null==e?void 0:e.suffix)||void 0===i?void 0:i.text,showTimeString:!1}):null}onCountDownFinish(){var e;const t=(0,a.nS)(this.props.widgetSlotData),i=t?t.data:void 0;(null===(e=null==i?void 0:i.data)||void 0===e?void 0:e.action)&&(this.dispatchAndTrackContentClick(void 0,i.data),i.data.action.tracking&&this.trackOmnitureEvent(new g.wKV(m.A.DIGITAL_KYC,r.A.getTrackingParams(this.props,i.data.action.tracking))))}renderImage(e){const t=null==e?void 0:e.dynamicImageUrl;if(!t)return;const i=this._animationValue.interpolate({inputRange:[0,.5,1],outputRange:[1,.5,.01]}),r=this._animationValue.interpolate({inputRange:[0,.5,1],outputRange:[.01,.5,1]});return n.createElement(o.View,null,n.createElement(o.Animated.View,{style:[s.C1.positionAbsolute,{transform:[{scale:i}]}]},n.createElement(l.Dk,{source:t,width:this.IMAGE_HEIGHT,height:this.IMAGE_HEIGHT,resizeMode:"contain",roundedCorner:this.IMAGE_HEIGHT/2})),n.createElement(o.Animated.View,{style:{transform:[{scale:r}]}},n.createElement(l.Dk,{source:this.greenTickUrl,width:this.IMAGE_HEIGHT,height:this.IMAGE_HEIGHT,resizeMode:"contain",roundedCorner:this.IMAGE_HEIGHT/2})))}}f.WIDGET_HEIGHT=70},666513:(e,t)=>{t.removeElement=function(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}},t.replaceElement=function(e,t){var i=t.prev=e.prev;i&&(i.next=t);var n=t.next=e.next;n&&(n.prev=t);var r=t.parent=e.parent;if(r){var a=r.children;a[a.lastIndexOf(e)]=t}},t.appendChild=function(e,t){if(t.parent=e,1!==e.children.push(t)){var i=e.children[e.children.length-2];i.next=t,t.prev=i,t.next=null}},t.append=function(e,t){var i=e.parent,n=e.next;if(t.next=n,t.prev=e,e.next=t,t.parent=i,n){if(n.prev=t,i){var r=i.children;r.splice(r.lastIndexOf(n),0,t)}}else i&&i.children.push(t)},t.prepend=function(e,t){var i=e.parent;if(i){var n=i.children;n.splice(n.lastIndexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=i,t.prev=e.prev,t.next=e,e.prev=t}},672301:(e,t,i)=>{"use strict";i.d(t,{A:()=>E});var n=i(296540),r=i(800303),a=i(50745),o=i(352254),s=i(45426),l=i(468248),d=i(479892),c=i(410752),u=i(420721),h=i(415283),p=i(1319),g=i(632518),m=i(876505),v=i(435638);class _ extends n.Component{constructor(e){super(e),this._handleChevronClick=(e,t)=>{t&&this.props.onChevronClick&&this.props.onChevronClick(t.position,t.action)},this._getPageContext=()=>this.props.pageInfo&&this.props.pageInfo.pageContext,this._handleClick=()=>{const e={type:p.J.ExpandProductTDOffers};this.props.dispatchAction&&this.props.dispatchAction(h.Q3.EXPAND_ACTION,new p.Z(e)),this.setState({isExpanded:!0})},this.state={isExpanded:!1}}static getHeight(e){if(!e.offerSummaries)return 0;return 35*Math.min(e.offerSummaries.length,e.expansionOffset)+8+(e.offerSummaries.length>e.expansionOffset?20:0)}shouldComponentUpdate(e,t,i){return e!==this.props||this.state.isExpanded!==t.isExpanded}render(){if(!this.props.offerSummaries)return null;if(this.state.isExpanded)return this.props.offerSummaries.map(((e,t)=>{const i=void 0!==e.chevronAction;return i?this.renderOfferTextWithChevron(e,t,i):n.createElement(r.DlsView,{style:a.Ys.holder,key:t},e.iconUrl&&n.createElement(o.A,{style:a.Ys.offerSummaryImage,source:e.iconUrl,height:16,width:16}),e.title&&n.createElement(g.g,{style:[a.Ys.headerTitleStyle,d.C1.margin_bottom_2],ellipsizeMode:"tail",numberOfLines:2,text:e.title}))}));{const e="+"+(this.props.offerSummaries.length>this.props.expansionOffset?this.props.offerSummaries.length-this.props.expansionOffset:"");return this.props.offerSummaries.map(((t,i)=>{var s;const l=void 0!==t.chevronAction;return i<this.props.expansionOffset?l?this.renderOfferTextWithChevron(t,i,l):n.createElement(r.DlsView,{style:a.Ys.holder,key:i},t.iconUrl&&n.createElement(o.A,{style:a.Ys.offerSummaryImage,source:t.iconUrl,height:16,width:16}),t.title&&n.createElement(g.g,{style:a.Ys.headerTitleStyle,ellipsizeMode:"tail",numberOfLines:2,text:t.title})):i===this.props.expansionOffset&&((null===(s=this.props.offerSummaries)||void 0===s?void 0:s.length)||0)>this.props.expansionOffset&&n.createElement(r.TappableLabel,{onTextPress:this._handleClick,style:a.Ys.moreOffersText,key:i},`${e} ${(0,u.ak)(this.context.locale,{id:c.H.rex_string_MORE_TEXT})}`)}))}}renderOfferTextWithChevron(e,t,i){const d=this._getViewTrackingInfo(e);return n.createElement(m.A,{trackingInfo:d},n.createElement(s.S,{onPress:this._handleChevronClick,onPressParam:{action:e.chevronAction,position:t},disableFeedback:!0,key:t},n.createElement(r.DlsView,{style:a.Ys.holder},e.iconUrl&&n.createElement(o.A,{style:a.Ys.offerSummaryImage,source:e.iconUrl,height:16,width:16}),e.title&&n.createElement(g.g,{style:a.Ys.headerTitleStyle,ellipsizeMode:"tail",numberOfLines:2,text:e.title}),i&&n.createElement(r.DlsView,{style:a.Ys.chevronImageContainer},n.createElement(o.A,{source:l.j.getChevronSrc().uri,style:a.Ys.chevronImageOffer,height:12,width:12})))))}_getViewTrackingInfo(e){var t,i;const n=this._getPageContext();if(n&&n.fetchId&&(null===(i=null===(t=null==e?void 0:e.chevronAction)||void 0===t?void 0:t.params)||void 0===i?void 0:i.offerIds))return new v.A(n.fetchId,e.chevronAction.params.offerIds)}}_.contextType=u.V8;var C=i(802438);class E extends n.PureComponent{constructor(e){super(e),this.totalOffers=0,this.totalOffers=this.calculateTotalOffers(e)}static getHeight(e){return 100}UNSAFE_componentWillReceiveProps(e,t){this.totalOffers=this.calculateTotalOffers(e)}render(){return n.createElement(r.DlsView,null,this.props.offerSummaryGroup&&this.props.offerSummaryGroup.map((e=>this.renderOfferSection(e))))}renderOfferSection(e){const t=!!e.title||!!e.subTitle;return n.createElement(r.DlsView,null,e&&!0!==this.props.hideDivider&&this.renderDivider(),t&&n.createElement(r.DlsView,{style:d.C1.margin_bottom_8},e.title?this.renderTitle(e.title):void 0,e.subTitle?this.renderSubtitle(e.subTitle):void 0),e.offerSummaries&&this.renderOfferList(e.offerSummaries,e.offerGroupType))}renderDivider(){return n.createElement(r.DlsView,{style:a.Ys.offerGroupDividerView})}renderTitle(e){return n.createElement(r.Label,{style:a.Ys.offerTitle},e)}renderSubtitle(e){return n.createElement(r.Label,{style:a.Ys.offerGroupSubtitle},e)}renderOfferList(e,t){const i=this.getExpansionOffsetForOfferGroupType(e,t),{onChevronClick:r,dispatchAction:a}=this.props;return n.createElement(_,{expansionOffset:i,offerSummaries:e,onChevronClick:r,dispatchAction:a,pageInfo:this.props.pageInfo,screenWidth:this.props.screenWidth})}getExpansionOffsetForOfferGroupType(e,t){switch(t){case C.C.NORMAL:return this.totalOffers>e.length?2:3;case C.C.TARGETED:return 1;default:return 3}}calculateTotalOffers(e){return e.offerSummaryGroup?e.offerSummaryGroup.reduce(((e,t)=>e+(t.offerSummaries?t.offerSummaries.length:0)),0):0}}},673241:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>w});var n=i(465420),r=i(296540),a=i(877293),o=i(716249),s=i(505671),l=i(492418),d=i(887261);const c=a.StyleSheet.create({container:{flexDirection:"row",paddingHorizontal:4,paddingVertical:8},column:{flexDirection:"row",flex:1,alignItems:"center"},swatchCtn:{paddingHorizontal:4},swatchCtnWithScarcity:{paddingLeft:16,paddingRight:12},swatchTextCtn:{flex:1,flexDirection:"column",marginTop:4},swatchText:{flex:1,fontSize:12},swatchTextSelected:{color:l.Cf1.fkBlueColor,fontFamily:d.$u},swatchTextPrice:{fontFamily:d.$u,includeFontPadding:!1}}),u=a.StyleSheet.create({circleContainer:{width:48,height:48,flex:1,justifyContent:"center",alignItems:"center"},circleOuterView:{width:52,height:52,alignItems:"center",justifyContent:"center",borderRadius:26},circleShapeView:{width:48,height:48,alignItems:"center",justifyContent:"center",marginBottom:.5,borderRadius:24},selectedOutOfStockContainer:{borderWidth:1,borderColor:l.Cf1.fkCoralDark},notSelectedOutOfStockContainer:{borderWidth:0},notSelectedContainer:{borderWidth:0},selectedAvailableContainer:{borderWidth:1,borderColor:l.Cf1.fkBlueColor},outOfStockCtn:{width:28,height:28},outOfStockCross:{height:26.2}});var h=i(52754),p=i(479892),g=i(575585),m=i(805220);var v=i(88502);class _ extends r.Component{constructor(){super(...arguments),this._onClick=()=>{this.props.onSwatchColorSelected(this.props.action)}}render(){var e,t,i,n,o;const{value:s,option:d,availabilityMessage:h}=this.props;let _={};const C=null===(t=null===(e=this.props.option.data)||void 0===e?void 0:e.productSwatchInfo)||void 0===t?void 0:t.scarcityCallout,E=C?c.swatchCtnWithScarcity:c.swatchCtn;return d.selected&&(_=c.swatchTextSelected),r.createElement(g.S,{onPress:this._onClick,disableFeedback:!0},r.createElement(a.View,{style:c.column},r.createElement(a.View,{style:E},((e,t,i)=>r.createElement(m.A,{stylesheet:e,option:t,clickHandler:i}))(u,d,this._onClick)),r.createElement(a.View,{style:[c.swatchTextCtn,p.C1.margin_top_8]},h?r.createElement(a.Text,{style:[p.XT.fontRegular_12,{color:l.J38.lightGrey}],numberOfLines:1},null===(i=null==s?void 0:s.swatchValue)||void 0===i?void 0:i.value):r.createElement(a.Text,{style:[p.XT.fontRegular_12,_],numberOfLines:1},null===(n=null==s?void 0:s.swatchValue)||void 0===n?void 0:n.value),h?r.createElement(a.Text,{style:[c.swatchText,c.swatchTextPrice,{color:l.Jyk.asmRed},p.C1.margin_top_4],numberOfLines:1},h):r.createElement(a.Text,{style:[c.swatchText,c.swatchTextPrice,p.C1.margin_top_4],numberOfLines:1},`${l.y3o}${null===(o=null==s?void 0:s.pricing)||void 0===o?void 0:o.finalPrice.value}`),!C||this.props.option.data.disabled||this.props.option.data.outOfStock?null:r.createElement(a.View,{style:v.$l.onlyScarcityBottomSheetCircularColorContainer},r.createElement(a.View,{style:v.$l.scarcityContainerStyle},r.createElement(a.Text,{style:v.$l.onlyScarcityTextTextStyle,numberOfLines:1},`${C}`))))))}}var C=i(415283),E=i(914944),T=i(229833),f=i(918210),A=i(90513),S=i(90035);class y extends o.A{constructor(){super(...arguments),this._createSwatchOption=(e,t,i,n)=>{const r=!!n;return{selected:t===e.id,onPress:()=>{},swatchType:s.B.CIRCLE_COLOR,optionIndex:i,data:Object.assign(Object.assign({},e.swatchValue),{outOfStock:r,disabled:!1,optionIndex:i}),showOOSCross:r,showLargeSwatch:!0}},this._onSwatchColorSelected=e=>{if(e){const t={};T.A.addEvent(t,A.fM.EVENT231),f.A.addPageData(t),e.url&&(0,S.nh)(this.props.isStoreFirst).invalidateCacheForPage(e.url).then((()=>{this.dispatchAction(C.Q3.MAPI_ACTION,new E.rs(e))}))}},this._getSwatchComponent=(e,t,i,n)=>{if(e){const a=e.availability&&e.availability.showMessage?e.availability.message:void 0,o=this._createSwatchOption(e,t,i,a);return r.createElement(_,{availabilityMessage:a,option:o,value:e,key:e.id,action:n,onSwatchColorSelected:this._onSwatchColorSelected})}return null}}renderDivider(){return null}renderWidget(){const e=(0,h.nS)(this.props.widgetSlotData),t=this.props&&this.props.pageInfo&&this.props.pageInfo.pageContext,i=t&&t.productId,n=e&&e.data,o=n&&n.renderableComponents;if(o)return r.createElement(a.View,{style:c.container},o.map(((e,t)=>this._getSwatchComponent(e.value,i,t,e.action))))}}y.getWidgetHeight=()=>64;class w extends n.A{getWidgetClass(e){return y}getWidgetHeight(){return y.getWidgetHeight()}}},677184:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>x});var n=i(296540),r=i(877293),a=i(352254),o=i(770068),s=i(52754),l=i(914944),d=i(787921),c=i(45426),u=i(716249),h=i(492418),p=i(813652),g=i(938777),m=i(915742),v=i(479892),_=i(146387),C=i(268662),E=i(985234),T=i(395567),f=i(97529),A=i(912618);class S{constructor(e,t){this.shouldShowTimerInTitle=!1,this.shouldShowTimerInSubTitle=!1,this.isTitleAvailable=!1,this.isSubTitleAvailable=!1,this.isButtonEnabled=!1,this.titleTextStyle=[v.XT.fontRegular_14],this.subTitleTextStyle=[v.XT.fontMedium_14],this.showCheckMark=!1,this.checkMarkImage=h.asmCheckmark,this.titleTimeLeftMillis=0,this.subtitleTimeLeftMillis=0;const i=e.value;let n=!1,r=!1,a=!1;if(i&&i.enabled&&(this.isButtonEnabled=i.enabled),i&&i.callout&&i.callout.text&&(this.isTitleAvailable=!0,this.titleText=i.callout.text.value,this.shouldShowTimerInTitle=i.callout.text.style===g.Wfc,i.callout.text.saleTime&&(this.titleTimeLeftMillis=A.A.getTTL(i.callout.text.saleTime,t,(new Date).getTime()))),i&&i.callout&&i.callout.subText&&(this.isSubTitleAvailable=!0,this.subtitleText=i.callout.subText.value,this.shouldShowTimerInSubTitle=i.callout.subText.style===g.Wfc,i.callout.subText.saleTime&&(this.subtitleTimeLeftMillis=A.A.getTTL(i.callout.subText.saleTime,t,(new Date).getTime()))),i&&i.callout&&i.callout.displayState){const e=i.callout.displayState;r=-1!==y.indexOf(e),a=e===o.L.OOS;const t=r?v.XT.fkCoralDarkText:v.XT.fkLabelColorText;this.subTitleTextStyle=[v.XT.fontMedium_14,t],this.showCheckMark=-1!==w.indexOf(e),n=-1!==I.indexOf(e)}i&&i.text&&(this.buttonText=i.text);const s=this.isSubTitleAvailable?v.XT.fontRegular_14:v.XT.fontMedium_16,l=n?v.XT.fkOfferGreenText:a?v.XT.fkCoralDarkText:v.XT.fkLabelColorText;this.titleTextStyle=[s,l],this.checkMarkImage=n?h.kf:h.asmCheckmark}}const y=[o.L.RESERVABLE,o.L.WAITLIST_AVAILABLE,o.L.WAITLIST_FULL,o.L.IN_WAITLIST,o.L.OOS,o.L.MAX_AVAILED],w=[o.L.IN_WAITLIST,o.L.REGISTERED],I=[o.L.REGISTERED];class b extends u.A{constructor(){super(...arguments),this._getTitleView=(e,t,i,o,s,l,d)=>n.createElement(r.View,{style:l},e?n.createElement(a.A,{source:i,style:v.C1.margin_right_8,height:15,width:15}):null,t?n.createElement(r.View,{style:l},n.createElement(a.A,{source:p.asmTimer,style:v.C1.margin_right_4,height:15,width:15}),n.createElement(m.Ay,{timestampInMillis:o,style:d,onCountDownFinish:this._switchUIAfterTimerFinished,stringDelimiter:":",showTimeString:!1})):n.createElement(r.View,{style:l},n.createElement(r.Text,{style:d},s))),this._handleClick=()=>{this.props.actionDispatcher&&this.state.asmComponentCurrent&&this.state.asmComponentCurrent.action&&this.dispatchAction(d.A.MAPI_ACTION,new l.rs(this.state.asmComponentCurrent.action))},this._switchUIAfterTimerFinished=()=>{if(this.props.actionDispatcher&&this.state.asmComponentNext&&this.state.asmComponentCurrent){const e=this.props.widgetSlotData.slotData.widget,t=e?e.data:void 0,i=this.props.pageInfo&&this.props.pageInfo.pageTransientData?this.props.pageInfo.pageTransientData.data.ASM:void 0,n=i?i.renderableComponents:t?t.renderableComponents:void 0;if(n&&n.length>1){const e={type:E.V.ASM,renderableComponents:[n[1]]};this.dispatchAction(d.A.UPDATE_PAGE_TRANSIENT_DATA,new _.pN(E.V.ASM,e))}this.state.asmComponentNext.action&&this.state.asmComponentCurrent.value&&"TIMER_RUNNING"===this.state.asmComponentCurrent.value.callout.displayState&&this.dispatchAction(d.A.OMNITURE_TRACKING,new T.NFE(f.A.ASM_TIMER_END,this.state.asmComponentNext.action.params.saleId,this.state.asmComponentNext.action.tracking.asmDisplayState))}}}static getWidgetHeight(e){return 56+u.A.getAdditionalHeight(e)}getDerivedState(e,t){const i=(0,s.nS)(e.widgetSlotData),n=i?i.data:void 0,r=e.pageInfo&&e.pageInfo.pageTransientData?e.pageInfo.pageTransientData.data.ASM:void 0,a=r?r.renderableComponents:n?n.renderableComponents:void 0;if(a&&a.length>0){const i=a[0],n=a.length>1?a[1]:void 0,r=e.appContext.userManager.getDeviceTimeDeltaMilliSeconds(),o=new S(i,r||0);return Object.assign(Object.assign({},super.getDerivedState(e,t)),{asmComponentCurrent:i,asmComponentNext:n,asmViewModel:o,timeDeltaMilliSeconds:r})}return super.getDerivedState(e,t)}shouldComponentUpdate(e,t,i){const n=e.appContext.userManager.getDeviceTimeDeltaMilliSeconds();return super.shouldComponentUpdate(e,t,i)||t.asmComponentCurrent!==this.state.asmComponentCurrent||t.asmComponentNext!==this.state.asmComponentNext||t.asmViewModel!==this.state.asmViewModel||n!==this.state.timeDeltaMilliSeconds}shouldStateUpdate(e,t){const i=e.pageInfo&&e.pageInfo.pageTransientData?e.pageInfo.pageTransientData.data.ASM:void 0,n=i?i.renderableComponents:void 0,r=!!n&&n.length>0;return super.shouldStateUpdate(e,t)||r}renderWidget(){if(!this.state.asmComponentCurrent||!this.state.asmViewModel)return;const e=this.state.asmViewModel;return n.createElement(r.View,{style:[C.i.minHeight_56,v.C1.row,v.C1.alignItemCenter,v.C1.padding16H,e.buttonText?v.C1.equalSpaceBetweenContents:v.C1.centerContents]},n.createElement(r.View,{style:[e.buttonText?v.C1.alignItemFlexStart:v.C1.alignItemCenter]},e.isTitleAvailable&&this._getTitleView(e.showCheckMark,e.shouldShowTimerInTitle,e.checkMarkImage,e.titleTimeLeftMillis,e.titleText,[v.C1.alignItemCenter,v.C1.rowWithoutFlex],e.titleTextStyle),e.isSubTitleAvailable&&this._getTitleView(!1,e.shouldShowTimerInSubTitle,e.checkMarkImage,e.subtitleTimeLeftMillis,e.subtitleText,[v.C1.alignItemCenter,v.C1.rowWithoutFlex,v.C1.margin_top_3],e.subTitleTextStyle)),e.buttonText&&n.createElement(c.S,{onPress:this._handleClick},n.createElement(r.View,{style:[v.PH.border_radius_2,v.C1.margin_top_8,v.C1.margin_bottom_8,C.i.icon_168x40,v.C1.contentAlignCenter,e.isButtonEnabled?v.PH.buttonEnabledSignatureOrange:v.PH.buttonDisabled]},n.createElement(r.Text,{style:[v.XT.whiteText,v.XT.fontMedium_14]},e.buttonText))))}}var D=i(465420);class x extends D.A{getWidgetClass(e){return b}getWidgetHeight(e){return b.getWidgetHeight(e)}}},678955:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ViewTypes:()=>ye,default:()=>we});var n=i(465420),r=i(296540),a=i(877293),o=i(716249),s=i(52754),l=i(568137),d=i(479892),c=i(492418),u=i(198213),h=i(45426),p=i(352254),g=i(285669),m=i(415283),v=i(914944),_=i(813652),C=i(919234);class E extends r.Component{render(){const{advertisementTextContainerStyles:e,advertisementTextStyles:t,advertisementText:i}=this.props;return r.createElement(a.View,{style:e},r.createElement(a.Text,{style:t},i))}}var T=i(110941),f=i(876505),A=i(988287),S=i(184452),y=i(347953),w=i(432160),I=i(675359),b=i(529548),D=i(420721),x=i(410752),P=i(456874),O=i(727e3),R=i(257246),k=i(398581),V=i(331547),L=i(743764),M=i(347924),N=i(896167),H=i(37114);const W=!!y.A.getExperimentValue("showRatingAndReviewOnPLA"),B=!!y.A.getExperimentValue("animateSlidePLA"),U=!!y.A.getExperimentValue("animateFlashPLA");class F extends o.A{constructor(e){super(e),this._adsViewRef=null,this.rowParentStyle=[S.cR,S.aA,S.mV],this.defaultTagType=(0,I.z6)(),this.startPosition=new a.Animated.Value(a.Dimensions.get("window").width),this.isViewButtonEnabled=!!y.A.getExperimentValue("showViewButtonOnPLAAds"),this._productTapped=(e,t)=>{const i=null==t?void 0:t.action;this.dispatchAction(m.Q3.MAPI_ACTION,new v.rs(null==i?void 0:i.action)),(null==i?void 0:i.tracking)&&this.trackDiscoveryContentClickEvent(i.tracking,this.willCreateNewDwell(null==i?void 0:i.action)),this._adsViewRef&&this._adsViewRef.adsClicked()},this._renderItem=e=>{const t=e.item;if(!t)return null;const i=t.aspectRatio,n=t.imageUrl,a=T.A.getWidth(44,i,44);return r.createElement(p.A,{source:n,width:a,height:44,style:d.C1.border_radius_4})},this.state=Object.assign(Object.assign({},this.state),{showPLA:!(B||U)})}componentDidMount(){this.state.showPLA||setTimeout((()=>{this.setState({showPLA:!0})}),1e3)}renderHeader(e){}static getWidgetHeight(e){const t=(0,s.nS)(e.widgetSlotData),i=(null==t?void 0:t.viewType)===F.smallWidgetViewType,n=(null==t?void 0:t.viewType)===F.removeTitleViewType;return i?70:n?76:104}applyLayoutDetailsToWidget(e){var t,i;const n=(0,s.nS)(this.props.widgetSlotData);if(!((null==n?void 0:n.viewType)===F.smallWidgetViewType)||!B&&!U)return super.applyLayoutDetailsToWidget(e);let r=(0,s.lf)(this.props.widgetSlotData);return r=Object.assign(Object.assign({},r),{backgroundColor:null!==(t=(0,R.zm)(this.props.themeContext))&&void 0!==t?t:c.JO0}),b.A.apply(r,e,null===(i=this.props.pageInfo)||void 0===i?void 0:i.isiOSLayoutHackForHPEnabled,this.props.appContext.isDlsScreen)}renderWidget(){var e,t,i,n;const c=(0,s.nS)(this.props.widgetSlotData),u=c&&c.data,h=null===(e=null==u?void 0:u.advertisementValue)||void 0===e?void 0:e.value,p=null===(t=null==u?void 0:u.advertisementValue)||void 0===t?void 0:t.tracking,g=F.getWidgetHeight(this.props),m=[l.e.placeholderContainer,{height:g}],v=null===(i=null==c?void 0:c.widgetAttributes)||void 0===i?void 0:i.widgetBleedingColor,_=null===(n=null==c?void 0:c.widgetAttributes)||void 0===n?void 0:n.widgetStopBleedingColor,C=v&&_;if(!c||!u||!h)return;const E=c.viewType===F.smallWidgetViewType||(null==c?void 0:c.viewType)===F.removeTitleViewType;this.state.showPLA&&B&&E&&this.startTranslateAnimation();let T=this.getAdvertisementContent(c,E);if(B&&E){const e=this.props.themeContext?(0,R.No)(this.props.themeContext):d.C1.backgroundWhite;T=r.createElement(a.Animated.View,{style:[{transform:[{translateX:this.startPosition}]},e]},T)}else U&&E&&(T=this.state.showPLA?r.createElement(a.View,{style:d.C1.backgroundWhite},T):r.createElement(a.View,{style:m}));if(C&&(T=r.createElement(k.W,{gradientColors:[v,_],gradientStart:V._.TOP,gradientEnd:V._.BOTTOM,renderInWeb:!0},T)),p){const e=o.A.getTrackingParams(this.props,p),t=this.getContentViewTrackingData(e);return r.createElement(f.A,{trackingInfo:t},T)}return T}startTranslateAnimation(){a.Animated.timing(this.startPosition,{toValue:0,duration:600,easing:a.Easing.out(a.Easing.ease),useNativeDriver:!1}).start()}_renderFAssuredTag(){var e;return r.createElement(w.A,{theme:null===(e=this.props.themeContext)||void 0===e?void 0:e.systemTheme,imageStyles:l.e.faAdvantageImage})}getDerivedState(e,t){const i=super.getDerivedState(e,t),n=this.defaultTagType;return Object.assign(Object.assign({},i),{benefitTag:n})}shouldStateUpdate(e,t){return this.defaultTagType=(0,I.ZS)(),super.shouldStateUpdate(e,t)||this.state.benefitTag!==this.defaultTagType}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i)||t.benefitTag!==this.state.benefitTag||t.showPLA!==this.state.showPLA}getRevampedAdvertisementContent(e,t){return r.createElement(a.View,null,r.createElement(a.View,{style:[l.e.p1Container,d.C1.elevatedBoxShadow]},r.createElement(a.View,{style:l.e.dataContainer},this.renderProductData(e,t))),r.createElement(a.View,{style:[d.C1.backgroundWhite,d.C1.alignItemFlexEnd,d.C1.padding_right_10]},r.createElement(a.Text,{style:[d.XT.fkDimGrey,d.XT.fontRegular_10]},(0,D.ak)(this.props.appContext.locale,{id:x.H.rex_string_SPONSORED_TXT}))))}getAdvertisementContent(e,t){var i;const n=e&&e.data,o=null===(i=null==n?void 0:n.advertisementValue)||void 0===i?void 0:i.value,s=t?l.e.p0Container:l.e.container;return(null==e?void 0:e.viewType)===F.removeTitleViewType?this.getRevampedAdvertisementContent(e,t):r.createElement(O.w.Consumer,null,(i=>r.createElement(h.S,{onPress:this._productTapped,onPressParam:{action:null==n?void 0:n.advertisementValue},disableFeedback:!0},r.createElement(a.View,{style:[s,(0,R.No)(i),(0,R.l1)(i),i&&l.e.advertisementContentContainer]},r.createElement(a.View,{style:l.e.dataContainer},(null==o?void 0:o.adInfo)?r.createElement(C.A,{adInfo:o.adInfo,ref:e=>{this._adsViewRef=e},widgetString:"LIST_ITEM",pageViewType:"LIST_VIEW",adUnitType:"SUMMARY"},this.renderProductData(e,t)):this.renderProductData(e,t)),this.isViewButtonEnabled?r.createElement(M.az,{justifyContent:"space-between",pb:"s2",ml:"s6"},this.renderSponsoredContainer("TOP"),this.renderViewButtonContainer(i)):i?this.renderADText(i):r.createElement(p.A,{source:_.advertisementIcon,height:20,width:24,style:l.e.advertisementImage})))))}renderViewButtonContainer(e){const t=this.getPageTheme()===H.S.FAST_FASHION;return r.createElement(N.px,null,r.createElement(N.ck,{theme:e},(0,D.ak)(this.props.appContext.locale,{id:x.H.rex_string_View_Callout})),r.createElement(p.A,{source:t?c.e9Z:c.lfG,width:12,height:12}))}renderSponsoredContainer(e){return r.createElement(N.BN,{labelPositionOrientation:e},r.createElement(N.a$,null,(0,D.ak)(this.props.appContext.locale,{id:x.H.rex_string_SPONSORED_TXT})))}renderADText(e){return r.createElement(E,{advertisementTextContainerStyles:[l.e.advertisementTextContainer,{borderColor:(0,R.kV)(e)}],advertisementTextStyles:[l.e.advertisementText,(0,R.oO)(e)],advertisementText:"AD"})}renderProductData(e,t){var i,n,s,c,h,m;const v=e&&e.data,_=null===(i=null==v?void 0:v.advertisementValue)||void 0===i?void 0:i.value,C=(null==_?void 0:_.images)&&_.images[0]&&_.images[0].imageUrl,E=(null==_?void 0:_.images)?null==_?void 0:_.images:[],f=(null===(n=null==_?void 0:_.titles)||void 0===n?void 0:n.newTitle)||(null===(s=null==_?void 0:_.titles)||void 0===s?void 0:s.title),A=null===(c=null==_?void 0:_.titles)||void 0===c?void 0:c.superTitle,S=null==_?void 0:_.pricing,y=null==e?void 0:e.tracking,w=y&&o.A.getTrackingParams(this.props,y),I=w&&this.getContentViewTrackingData(w),b=t?52:80,D=(null==_?void 0:_.images)&&_.images[0]&&_.images[0].aspectRatio,x=T.A.getWidth(b,D,b),k=t&&A?1:2,V=t?l.e.fAssuredContainer:(null==_?void 0:_.fAssured)?d.C1.margin_vertical_2:null,M=null===(h=null==_?void 0:_.rating)||void 0===h?void 0:h.average,N=null===(m=null==_?void 0:_.rating)||void 0===m?void 0:m.count,H=(null==e?void 0:e.viewType)===F.removeTitleViewType,B=L.Ay.DiscountIconEnabled;let U;const G=`FkAdvertisementCarousel${this.props.index}`;return U=H?r.createElement(a.View,{style:d.C1.rowCenterWithoutFlex},r.createElement(a.View,{style:[d.C1.border_radius_2,d.C1.margin_right_8]},r.createElement(P.A,{data:E,key:G,renderItem:this._renderItem,scrollEnabled:!1,loop:!0,autoplay:!0,autoplayInterval:1500,hasParallaxImages:!1,loopClonesPerSide:E.length,windowSize:3,sliderWidth:x,itemWidth:x,inactiveSlideOpacity:1,inactiveSlideScale:1})),r.createElement(a.View,{style:d.C1.flex},A?r.createElement(a.Text,{numberOfLines:2,style:l.e.p0Brand},A):null,r.createElement(a.View,{style:[d.C1.rowWithoutFlex,d.C1.margin_top_2,d.C1.nowrap,d.C1.flex,d.C1.alignItemFlexStart,d.C1.margin_right_neg_4]},f?r.createElement(a.Text,{numberOfLines:1,style:l.e.p1Title},f):null,r.createElement(a.View,{style:d.C1.absolute_right_0},S&&r.createElement(g.A,{price:S,priceStyle:l.e.p0finalPrice,sellingPriceStyle:l.e.p0strikeoff,discountStyle:l.e.p0discount,hideCNCInfo:!0,hideDiscount:!0}))))):r.createElement(O.w.Consumer,null,(e=>r.createElement(a.View,{style:l.e.adInnerContainer},r.createElement(a.View,null,r.createElement(p.A,{source:C,width:x,height:b,style:d.C1.border_radius_4})),r.createElement(a.View,{style:l.e.adDataContainer},A?r.createElement(a.Text,{numberOfLines:t?1:2,style:[l.e.p0Brand,(0,R.oO)(e)]},A):null,f?r.createElement(a.Text,{numberOfLines:k,style:[t?l.e.p0Title:l.e.p0TitleForSoloView,(0,R.Qn)(e)]},f):null,r.createElement(a.View,{style:t?V:[V,d.C1.margin_top_8]},S&&r.createElement(g.A,{price:S,priceStyle:[t?l.e.p0finalPrice:l.e.finalPrice,(0,R.Qn)(e)],sellingPriceStyle:[t?l.e.p0strikeoff:l.e.strikeoff,(0,R.oO)(e)],discountStyle:[t?l.e.p0discount:l.e.discount,(0,R.z5)(e)],hideCNCInfo:!0,hideDiscount:W&&t,enablePriceVariationsAB:B,enableDiscountIconAB:B}),W||!t?r.createElement(a.View,{style:d.C1.rowWithoutFlex},this._renderRatingAndReview(M,N,t),(null==_?void 0:_.fAssured)&&r.createElement(a.View,{style:d.C1.margin_top_auto},this._renderFAssuredTag())):(null==_?void 0:_.fAssured)&&r.createElement(a.View,{style:d.C1.padding_left_5},this._renderFAssuredTag())))))),I?r.createElement(u.BA,{trackingInfo:I},U):U}hideWidgetEdgeDivider(){return this.isDlsEnabled()}_renderRatingAndReview(e,t,i){if(e||t)return r.createElement(a.View,{style:[this.rowParentStyle,d.C1.height_16,i?d.C1.padding_left_4:d.C1.margin_top_4]},this._renderRating(e),!i&&this._renderReviewCount(t))}_renderRating(e){if(e)return r.createElement(O.w.Consumer,null,(t=>r.createElement(a.View,{style:d.C1.padding_right_4},r.createElement(A.A,{rating:e,themeContext:t}))))}_renderReviewCount(e){if(e&&!(e<1))return r.createElement(O.w.Consumer,null,(t=>r.createElement(a.Text,{style:[l.e.reviewCountStyle,d.C1.padding_right_8,(0,R.oO)(t)]},`(${e})`)))}}F.smallWidgetViewType="COMPACT",F.removeTitleViewType="BANNER_HORIZONTAL";var G=i(387393),z=i(867953);class j extends r.PureComponent{constructor(e){super(e),this.renderImage=e=>{var t;return(null===(t=this.props)||void 0===t?void 0:t.preserveOriginalDimensions)?r.createElement(p.A,{source:e.item.imageUrl,width:this.props.width,height:this.props.height,style:d.C1.border_radius_4}):r.createElement(p.A,{source:e.item.imageUrl,width:118,height:118,style:d.C1.border_radius_4})},this._onScroll=e=>{},this._setCarouselRef=e=>{this._carouselRef=e},this.getConditions=()=>(this.playCondition||(this.playCondition=[],this.playCondition.push(new z.D_("_playVideoInPla",0,90,this._startAutoPlay,this._stopAutoPlay))),this.playCondition),this._startAutoPlay=()=>{var e,t;this.state.autoplayDisabled&&(null===(t=null===(e=this._carouselRef)||void 0===e?void 0:e.startAutoplay)||void 0===t||t.call(e),this.setState({autoplayDisabled:!1}))},this._stopAutoPlay=()=>{var e,t;this.state.autoplayDisabled||(null===(t=null===(e=this._carouselRef)||void 0===e?void 0:e.stopAutoplay)||void 0===t||t.call(e),this.setState({autoplayDisabled:!0}))},this.state={autoplayDisabled:!0}}render(){return r.createElement(z.Ay,{conditions:this.getConditions()},r.createElement(P.A,{ref:this._setCarouselRef,data:this.props.images,renderItem:this.renderImage,scrollEnabled:this.props.images.length>1,sliderWidth:this.props.width,sliderHeight:this.props.height,itemWidth:this.props.width,itemHeight:this.props.height,vertical:!1,inactiveSlideOpacity:1,inactiveSlideScale:1,firstItem:0,activeSlideAlignment:"start",loop:!0,autoplay:!this.state.autoplayDisabled,autoplayInterval:2e3,hasParallaxImages:!1,loopClonesPerSide:3,windowSize:3,onScroll:this._onScroll}))}}class X extends o.A{constructor(){super(...arguments),this._adsViewRef=null,this.rowParentStyle=[S.cR,S.aA,S.mV],this.defaultTagType=(0,I.z6)(),this.imageDimension=120,this._productTapped=(e,t)=>{const i=null==t?void 0:t.action;this.dispatchAction(m.Q3.MAPI_ACTION,new v.rs(null==i?void 0:i.action)),(null==i?void 0:i.tracking)&&this.trackDiscoveryContentClickEvent(i.tracking,this.willCreateNewDwell(null==i?void 0:i.action)),this._adsViewRef&&this._adsViewRef.adsClicked()}}componentDidMount(){this.state.showPLA||setTimeout((()=>{this.setState({showPLA:!0})}),1e3)}static getWidgetHeight(e){return 172}isHeaderBottomBorderEnabled(){return!1}renderWidget(){var e,t;const i=(0,s.nS)(this.props.widgetSlotData),n=i&&i.data,d=null===(e=null==n?void 0:n.advertisementValue)||void 0===e?void 0:e.value,c=null===(t=null==n?void 0:n.advertisementValue)||void 0===t?void 0:t.tracking;if(!i||!n||!d)return;const u=l.e.horizontalViewContainer,h=r.createElement(a.View,{style:u},r.createElement(a.View,{style:l.e.dataContainer},d.adInfo?r.createElement(C.A,{adInfo:d.adInfo,ref:e=>{this._adsViewRef=e},widgetString:"LIST_ITEM",pageViewType:"LIST_VIEW",adUnitType:"SUMMARY"},this.renderProductData(i)):this.renderProductData(i)));if(c){const e=o.A.getTrackingParams(this.props,c),t=this.getContentViewTrackingData(e);return r.createElement(f.A,{trackingInfo:t},h)}return h}getDerivedState(e,t){const i=super.getDerivedState(e,t),n=this.defaultTagType;return Object.assign(Object.assign({},i),{benefitTag:n})}shouldStateUpdate(e,t){return this.defaultTagType=(0,I.ZS)(),super.shouldStateUpdate(e,t)||this.state.benefitTag!==this.defaultTagType}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i)||t.benefitTag!==this.state.benefitTag||t.showPLA!==this.state.showPLA}renderProductData(e){var t,i,n,s,c,p,m,v;const _=e&&e.data,C=null===(t=null==_?void 0:_.advertisementValue)||void 0===t?void 0:t.value,E=null===(i=null==C?void 0:C.images)||void 0===i?void 0:i.slice(0,4),T=(null===(n=null==C?void 0:C.titles)||void 0===n?void 0:n.title)||(null===(s=null==C?void 0:C.titles)||void 0===s?void 0:s.newTitle),f=null===(c=null==C?void 0:C.titles)||void 0===c?void 0:c.subtitle,A=null===(p=null==C?void 0:C.titles)||void 0===p?void 0:p.coSubtitle,S=null==C?void 0:C.pricing,y=null==e?void 0:e.tracking,w=y&&o.A.getTrackingParams(this.props,y),I=w&&this.getContentViewTrackingData(w),b=(null==C?void 0:C.fAssured)?d.C1.margin_vertical_2:null,D=null===(m=null==C?void 0:C.rating)||void 0===m?void 0:m.average,x=L.Ay.DiscountIconEnabled,P=null===(v=null==C?void 0:C.rating)||void 0===v?void 0:v.count,O=r.createElement(h.S,{onPress:this._productTapped,onPressParam:{action:null==_?void 0:_.advertisementValue},disableFeedback:!0},r.createElement(a.View,{style:l.e.adInnerContainer},r.createElement(a.View,null,E&&r.createElement(a.View,{style:{width:this.imageDimension}},r.createElement(j,{images:E,width:this.imageDimension,height:this.imageDimension})),A?r.createElement(a.Text,{numberOfLines:2,style:l.e.sponsoredHorizontalView},A):null),r.createElement(a.View,{style:l.e.adDataContainer},T?r.createElement(a.Text,{numberOfLines:2,style:l.e.titleHorizontalView},T):null,f?r.createElement(a.Text,{numberOfLines:2,style:l.e.highlightedHorizontalView},f):null,r.createElement(a.View,{style:[b,d.C1.margin_top_4]},S&&r.createElement(g.A,{price:S,priceStyle:l.e.finalPrice,sellingPriceStyle:l.e.strikeoff,discountStyle:l.e.discount,hideCNCInfo:!0,hideDiscount:!1,enablePriceVariationsAB:x,enableDiscountIconAB:x}),r.createElement(a.View,{style:d.C1.rowWithoutFlex},this._renderRatingAndReview(D,P))))));return I?r.createElement(u.BA,{trackingInfo:I},O):O}hideWidgetEdgeDivider(){return this.isDlsEnabled()}_renderRatingAndReview(e,t){if(e||t)return r.createElement(a.View,{style:[this.rowParentStyle,d.C1.height_14,d.C1.margin_top_4]},this._renderRating(e),this._renderReviewCount(t))}_renderRating(e){if(e)return r.createElement(a.View,{style:d.C1.padding_right_4},r.createElement(A.A,{rating:e,themeContext:this.props.themeContext}))}_renderReviewCount(e){if(e&&!(e<1))return r.createElement(a.Text,{style:[l.e.reviewCountStyle,d.C1.padding_right_8]},`(${e})`)}}var Y=i(302019);const q=Y.fI.extendComponent({name:"AdvertisementHorizontalViewWidgetWrapper",defaultProps:{mx:"s6",pb:"s5",px:"s4",justifyContent:"space-between"}}),J=Y.az.extendComponent({name:"AdvertisementHorizontalWidgetDataContainerWrapper",defaultProps:{minWidth:0,flex:1}}),K=Y.JU.extendComponent({name:"AdvertisementSponsored",defaultProps:{font:"xs",numberOfLines:1,color:"raw.grey.400"}}),Q=Y.JU.extendComponent({name:"AdvertisementTitle",defaultProps:{font:"m_medium",numberOfLines:2,color:"raw.grey.900"}}),Z=Y.JU.extendComponent({name:"AdvertisementHighlight",defaultProps:{font:"m",numberOfLines:2,color:"raw.grey.400",mt:"s2"}}),$=Y.az.extendComponent({name:"AdvertisementPriceRatingContainer",defaultProps:{mt:"s2"}}),ee=Y.az.extendComponent({name:"AdvertisementDetailsContainer",defaultProps:e=>({pl:"s5",font:"m",color:"raw.grey.400",flex:1,minWidth:0,justifyContent:"center",maxHeight:e.noMaxHeight?void 0:120})}),te=Y.fI.extendComponent({name:"RatingContainer",defaultProps:{pr:"s2"}}),ie=Y.fI.extendComponent({name:"ReviewsContainer",defaultProps:e=>({alignItems:"center",justifyContent:"flex-start",height:e.noFixedHeight?void 0:14})}),ne=Y.JU.extendComponent({name:"ReviewsCountContainer",defaultProps:{font:"s",lineHeight:"s6",color:"common.black",pr:"s4"}});var re=i(879052);class ae extends o.A{constructor(){super(...arguments),this._adsViewRef=null,this.defaultTagType=(0,I.z6)(),this.imageDimension=118,this._productTapped=(e,t)=>{const i=null==t?void 0:t.action;this.dispatchAction(m.Q3.MAPI_ACTION,new v.rs(null==i?void 0:i.action)),(null==i?void 0:i.tracking)&&this.trackDiscoveryContentClickEvent(i.tracking,this.willCreateNewDwell(null==i?void 0:i.action)),this._adsViewRef&&this._adsViewRef.adsClicked()}}componentDidMount(){this.state.showPLA||setTimeout((()=>{this.setState({showPLA:!0})}),1e3)}static getWidgetHeight(e){return 172}isHeaderBottomBorderEnabled(){return!1}renderWidget(){var e,t;const i=(0,s.nS)(this.props.widgetSlotData),n=i&&i.data,a=null===(e=null==n?void 0:n.advertisementValue)||void 0===e?void 0:e.value,l=null===(t=null==n?void 0:n.advertisementValue)||void 0===t?void 0:t.tracking;if(!i||!n||!a)return;const d=r.createElement(q,null,r.createElement(J,null,a.adInfo?r.createElement(C.A,{adInfo:a.adInfo,ref:e=>{this._adsViewRef=e},widgetString:"LIST_ITEM",pageViewType:"LIST_VIEW",adUnitType:"SUMMARY"},this.renderProductData(i)):this.renderProductData(i)));if(l){const e=o.A.getTrackingParams(this.props,l),t=this.getContentViewTrackingData(e);return r.createElement(f.A,{trackingInfo:t},d)}return d}getDerivedState(e,t){const i=super.getDerivedState(e,t),n=this.defaultTagType;return Object.assign(Object.assign({},i),{benefitTag:n})}shouldStateUpdate(e,t){return this.defaultTagType=(0,I.ZS)(),super.shouldStateUpdate(e,t)||this.state.benefitTag!==this.defaultTagType}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i)||t.benefitTag!==this.state.benefitTag||t.showPLA!==this.state.showPLA}renderProductData(e){var t,i,n,a,s,d,c,p;const m=e&&e.data,v=null===(t=null==m?void 0:m.advertisementValue)||void 0===t?void 0:t.value,_=null===(i=null==v?void 0:v.images)||void 0===i?void 0:i.slice(0,4),C=(null===(n=null==v?void 0:v.titles)||void 0===n?void 0:n.title)||(null===(a=null==v?void 0:v.titles)||void 0===a?void 0:a.newTitle),E=null===(s=null==v?void 0:v.titles)||void 0===s?void 0:s.subtitle,T=null===(d=null==v?void 0:v.titles)||void 0===d?void 0:d.coSubtitle,f=null==v?void 0:v.pricing,A=null==e?void 0:e.tracking,S=A&&o.A.getTrackingParams(this.props,A),y=S&&this.getContentViewTrackingData(S),w=null===(c=null==v?void 0:v.rating)||void 0===c?void 0:c.average,I=null===(p=null==v?void 0:v.rating)||void 0===p?void 0:p.count,b=L.Ay.DiscountIconEnabled,D=r.createElement(h.S,{onPress:this._productTapped,onPressParam:{action:null==m?void 0:m.advertisementValue},disableFeedback:!0},r.createElement(Y.fI,{alignItems:"center"},r.createElement(Y.az,null,_&&r.createElement(Y.az,Object.assign({},(0,re.Z)("Advertisement_Animated_Image"),{width:this.imageDimension}),this._renderAnimatedImageComponent(_,this.imageDimension,this.imageDimension)),T?r.createElement(K,Object.assign({},(0,re.Z)("Advertisement_Co_Subtitle"),{numberOfLines:2}),T):null),r.createElement(ee,{noMaxHeight:!0},C?r.createElement(Q,Object.assign({},(0,re.Z)("Advertisement_Title")),C):null,E?r.createElement(Z,Object.assign({},(0,re.Z)("Advertisement_Subtitle")),E):null,r.createElement($,null,f&&r.createElement(g.A,{price:f,priceStyle:l.e.finalPrice,sellingPriceStyle:l.e.strikeoff,discountStyle:l.e.discount,hideCNCInfo:!0,hideDiscount:!1,enablePriceVariationsAB:b,enableDiscountIconAB:b}),r.createElement(Y.fI,{mt:"s2"},this._renderRatingAndReview(w,I))))));return y?r.createElement(u.BA,{trackingInfo:y},D):D}hideWidgetEdgeDivider(){return this.isDlsEnabled()}_renderAnimatedImageComponent(e,t,i){if(e){return e.length>1?r.createElement(j,{images:e,width:t,height:i}):r.createElement(p.A,Object.assign({},(0,re.Z)("Advertisement_Image"),{source:e[0].imageUrl,height:i,width:t}))}}_renderRatingAndReview(e,t){if(e||t)return r.createElement(ie,{noFixedHeight:!0},this._renderRating(e),this._renderReviewCount(t))}_renderRating(e){if(e)return r.createElement(te,null,r.createElement(A.A,{rating:e,themeContext:this.props.themeContext}))}_renderReviewCount(e){if(e&&!(e<1))return r.createElement(ne,Object.assign({},(0,re.Z)("Advertisement_Review_Count")),`(${e})`)}}var oe=i(146387),se=i(57522);class le extends ae{constructor(){super(...arguments),this.isPlaAdsV2Enabled=!!y.A.getExperimentValue("isPlaAdsV2Enabled"),this.IMAGE_BORDER_RADIUS=4,this.FADE_OUT_DURATION=500,this.ANIMATION_DURATION=1500,this.PRICE_FADE_IN_DURATION=950,this.RATING_FADE_IN_DURATION=950,this.IMAGE_ANIMATION_INPUT_RANGE=[0,.25,.5,.75,1],this.PRODUCT_SUMMARY_ANIMATION_INPUT_RANGE=[0,.2,.4,.6,.8,1],this.productSummaryWidthV1=le.windowWidth-le.imageWidth-2*le.HORIZONTAL_PADDING-5*le.GAP_BETWEEN_IMAGES,this.productSummaryWidthV2=le.windowWidth-le.imageWidth-4*le.HORIZONTAL_PADDING-5*le.GAP_BETWEEN_IMAGES,this.productSummaryWidth=this.isPlaAdsV2Enabled?this.productSummaryWidthV2:this.productSummaryWidthV1,this.imageAnimation=new a.Animated.Value(0),this.productSummaryAnimation=new a.Animated.Value(0),this.productSummaryPositionV1=le.imageWidth+le.HORIZONTAL_PADDING+5*le.GAP_BETWEEN_IMAGES,this.productSummaryPositionV2=le.imageWidth+2*le.HORIZONTAL_PADDING+7*le.GAP_BETWEEN_IMAGES,this.productSummaryPosition=this.isPlaAdsV2Enabled?this.productSummaryPositionV2:this.productSummaryPositionV1,this.positionResetDuration=this.isPlaAdsV2Enabled?800:1e3,this.showPLAAdAnimation=e=>{const t=(0,s.Qd)(this.props,se.j.PLA_ANIMATION_CHECK);return!t||!t.animationExecutedAds.has(e)},this.storeAdIdentifier=e=>{var t,i;const n=(0,s.Qd)(this.props,se.j.PLA_ANIMATION_CHECK);let r=new Set;n?(n.animationExecutedAds.add(e),r=n.animationExecutedAds):r.add(e),null===(i=(t=this.props).actionDispatcher)||void 0===i||i.call(t,new oe.YI(new oe.qF(se.j.PLA_ANIMATION_CHECK,{type:se.j.PLA_ANIMATION_CHECK,animationExecutedAds:r})))},this.startPLAAdAnimation=(e,t)=>{!t||t.length<=1||!this.showPLAAdAnimation(e)||(this.storeAdIdentifier(e),a.Animated.sequence([a.Animated.parallel([a.Animated.timing(this.productSummaryAnimation,{toValue:.2,duration:this.FADE_OUT_DURATION,useNativeDriver:!0})]),a.Animated.parallel([a.Animated.timing(this.imageAnimation,{toValue:.5,duration:this.positionResetDuration,easing:a.Easing.in(a.Easing.linear),useNativeDriver:!0}),a.Animated.timing(this.productSummaryAnimation,{toValue:.4,duration:this.positionResetDuration,useNativeDriver:!0})]),a.Animated.parallel([a.Animated.timing(this.imageAnimation,{toValue:1,duration:this.ANIMATION_DURATION,delay:600,easing:a.Easing.out((e=>e*e*e)),useNativeDriver:!0}),a.Animated.timing(this.productSummaryAnimation,{toValue:.6,duration:this.ANIMATION_DURATION,delay:this.isPlaAdsV2Enabled?0:800,useNativeDriver:!0})]),a.Animated.timing(this.productSummaryAnimation,{toValue:.8,duration:this.PRICE_FADE_IN_DURATION,useNativeDriver:!0}),a.Animated.timing(this.productSummaryAnimation,{toValue:1,duration:this.RATING_FADE_IN_DURATION,useNativeDriver:!0})]).start())},this.handleOutOfViewPort=()=>{a.Animated.parallel([a.Animated.timing(this.imageAnimation,{toValue:0,duration:0,useNativeDriver:!0}),a.Animated.timing(this.productSummaryAnimation,{toValue:0,duration:0,useNativeDriver:!0})]).start()},this.getMultiCondition=(e,t)=>t?[new z.D_(t,500,97,this.startPLAAdAnimation,this.handleOutOfViewPort,e)]:[]}renderHeader(){return null}static getWidgetHeight(){const e=le.imageHeight+2*le.VERTICAL_PADDING,t=le.imageHeight+4*le.VERTICAL_PADDING-10;return y.A.getExperimentValue("isPlaAdsV2Enabled")?t:e}renderWidget(){var e,t;const i=(0,s.nS)(this.props.widgetSlotData),n=i&&i.data,a=null===(e=null==n?void 0:n.advertisementValue)||void 0===e?void 0:e.value,l=null===(t=null==n?void 0:n.advertisementValue)||void 0===t?void 0:t.tracking;if(!i||!n||!a)return;const d=r.createElement(Y.az,null,this.renderProductData(i));if(l){const e=o.A.getTrackingParams(this.props,l),t=this.getContentViewTrackingData(e);return r.createElement(f.A,{trackingInfo:t},d)}return d}getImageList(e){var t;const i=null===(t=null==e?void 0:e.images)||void 0===t?void 0:t.slice(0,le.NUMBER_OF_IMAGES);return i&&2===i.length&&i.push(i[0]),null==i||i.reverse(),i}renderProductData(e){var t;const i=e&&e.data,n=null===(t=null==i?void 0:i.advertisementValue)||void 0===t?void 0:t.value,a=this.getImageList(n),s=null==e?void 0:e.tracking,l=s&&o.A.getTrackingParams(this.props,s),d=l&&this.getContentViewTrackingData(l),c=this.isPlaAdsV2Enabled?le.imageHeight+4*le.VERTICAL_PADDING-10:le.imageHeight+2*le.VERTICAL_PADDING,p=r.createElement(h.S,{onPress:this._productTapped,onPressParam:{action:null==i?void 0:i.advertisementValue},disableFeedback:!0},r.createElement(z.Ay,{conditions:this.getMultiCondition(a,`PLA-${this.props.widgetSlotData.slotData.id}`)},r.createElement(Y.az,{position:"relative",py:"s7",minHeight:c},this.renderImages(a),this.renderProductSummary(n))));return d?r.createElement(u.BA,{trackingInfo:d},p):p}renderImages(e){return r.createElement(Y.fI,Object.assign({},(0,re.Z)("Advertisement_Animated_Image"),{ml:"s6",position:"absolute",zIndex:1,top:le.VERTICAL_PADDING}),null==e?void 0:e.map(((e,t)=>r.createElement(a.Animated.View,{style:{marginRight:le.GAP_BETWEEN_IMAGES,transform:[this.getImageTranslateXRange(t),this.getImageTranslateYRange(),this.getImageScaleRange()]}},r.createElement(Y.az,{bg:"raw.grey.50",borderRadius:this.IMAGE_BORDER_RADIUS,overflow:"hidden"},r.createElement(p.A,{source:e.imageUrl,width:le.imageWidth,height:le.imageHeight}))))))}getImageTranslateXRange(e){const t=le.imageWidth+le.GAP_BETWEEN_IMAGES+2*le.IMAGE_BORDER_WIDTH;return{translateX:this.imageAnimation.interpolate({inputRange:this.IMAGE_ANIMATION_INPUT_RANGE,outputRange:this.isPlaAdsV2Enabled?[-e*t+le.HORIZONTAL_PADDING,-e*t,0,0,-e*t+le.HORIZONTAL_PADDING]:[-e*t,-e*t,0,0,-e*t]})}}getImageTranslateYRange(){const e=le.VERTICAL_PADDING-5;return{translateY:this.imageAnimation.interpolate({inputRange:this.IMAGE_ANIMATION_INPUT_RANGE,outputRange:this.isPlaAdsV2Enabled?[e,e,e,e,e]:[0,0,0,0,0]})}}getImageScaleRange(){return{scale:this.imageAnimation.interpolate({inputRange:this.IMAGE_ANIMATION_INPUT_RANGE,outputRange:this.isPlaAdsV2Enabled?[1.1,1.1,1,1,1.1]:[1,1,1,1,1]})}}renderProductSummary(e){var t,i,n,o,s,l,d;const c=null!==(i=null===(t=null==e?void 0:e.titles)||void 0===t?void 0:t.title)&&void 0!==i?i:null===(n=null==e?void 0:e.titles)||void 0===n?void 0:n.newTitle,u=null===(o=null==e?void 0:e.titles)||void 0===o?void 0:o.subtitle,h=null===(s=null==e?void 0:e.titles)||void 0===s?void 0:s.coSubtitle,p=null==e?void 0:e.pricing,g=null===(l=null==e?void 0:e.rating)||void 0===l?void 0:l.average,m=null===(d=null==e?void 0:e.rating)||void 0===d?void 0:d.count;return r.createElement(a.Animated.View,{style:{width:this.productSummaryWidth,opacity:this.productSummaryAnimation.interpolate({inputRange:this.PRODUCT_SUMMARY_ANIMATION_INPUT_RANGE,outputRange:this.isPlaAdsV2Enabled?[1,0,0,0,1,1]:[1,0,0,1,1,1]}),transform:[{translateX:this.productSummaryAnimation.interpolate({inputRange:this.PRODUCT_SUMMARY_ANIMATION_INPUT_RANGE,outputRange:this.isPlaAdsV2Enabled?[this.productSummaryPosition,this.productSummaryPosition,this.productSummaryPosition,this.productSummaryPosition,this.productSummaryPosition,this.productSummaryPosition]:[this.productSummaryPosition,this.productSummaryPosition,0,this.productSummaryPosition,this.productSummaryPosition,this.productSummaryPosition]})}]}},this.renderAnimatedCoSubtitle(h),this.renderAnimatedTitle(c),this.renderAnimatedSubtitle(u),this.renderAnimatedPricing(p),this.renderAnimatedRatingAndReview(g,m))}renderAnimatedCoSubtitle(e){return e?r.createElement(a.Animated.View,{style:{transform:[{scale:this.productSummaryAnimation.interpolate({inputRange:this.PRODUCT_SUMMARY_ANIMATION_INPUT_RANGE,outputRange:this.isPlaAdsV2Enabled?[1,1,1,1,1,1]:[1,1,0,1,1,1]})}]}},r.createElement(K,Object.assign({},(0,re.Z)("Advertisement_Co_Subtitle")),e)):void 0}renderAnimatedTitle(e){return e?r.createElement(a.Animated.View,{style:[{transform:[{scale:this.productSummaryAnimation.interpolate({inputRange:this.PRODUCT_SUMMARY_ANIMATION_INPUT_RANGE,outputRange:this.isPlaAdsV2Enabled?[1,1,1,1,1,1]:[1,1,0,1,1,1]})}]},d.C1.margin_top_4]},r.createElement(Q,Object.assign({},(0,re.Z)("Advertisement_Title")),e)):void 0}renderAnimatedSubtitle(e){return this.isPlaAdsV2Enabled&&e?r.createElement(a.Animated.View,null,r.createElement(Z,Object.assign({},(0,re.Z)("Advertisement_Subtitle")),e)):void 0}renderAnimatedPricing(e){const t=L.Ay.DiscountIconEnabled;return e?r.createElement(a.Animated.View,{style:[{opacity:this.productSummaryAnimation.interpolate({inputRange:this.PRODUCT_SUMMARY_ANIMATION_INPUT_RANGE,outputRange:this.isPlaAdsV2Enabled?[1,0,0,0,0,1]:[1,0,0,0,1,1]})},d.C1.margin_top_4]},r.createElement(g.A,{price:e,priceStyle:l.e.finalPrice,sellingPriceStyle:l.e.strikeoff,discountStyle:l.e.discount,hideCNCInfo:!0,hideDiscount:!1,enablePriceVariationsAB:t,enableDiscountIconAB:t})):void 0}renderAnimatedRatingAndReview(e,t){return r.createElement(a.Animated.View,{style:[{opacity:this.productSummaryAnimation.interpolate({inputRange:this.PRODUCT_SUMMARY_ANIMATION_INPUT_RANGE,outputRange:[1,0,0,0,0,1]})},d.C1.margin_top_7,d.C1.margin_left_1]},r.createElement(Y.fI,null,this._renderRatingAndReview(e,t)))}}le.windowWidth=a.Dimensions.get("window").width,le.NUMBER_OF_IMAGES=3,le.GAP_BETWEEN_IMAGES=4,le.HORIZONTAL_PADDING=16,le.VERTICAL_PADDING=20,le.IMAGE_BORDER_WIDTH=0,le.SUM_OF_LEFT_AND_RIGHT_PADDING=2*le.HORIZONTAL_PADDING,le.SUM_OF_GAP_BETWEEN_IMAGES=(le.NUMBER_OF_IMAGES-1)*le.GAP_BETWEEN_IMAGES,le.SUM_OF_LEFT_AND_RIGHT_IMAGE_BORDERS=le.NUMBER_OF_IMAGES*le.IMAGE_BORDER_WIDTH*2,le.imageWidth=(le.windowWidth-le.SUM_OF_LEFT_AND_RIGHT_PADDING-le.SUM_OF_GAP_BETWEEN_IMAGES-le.SUM_OF_LEFT_AND_RIGHT_IMAGE_BORDERS)/le.NUMBER_OF_IMAGES,le.imageHeight=le.imageWidth;var de=i(667689);const ce=!!y.A.getExperimentValue("showRatingAndReviewOnPLA"),ue=!!y.A.getExperimentValue("animateSlidePLA"),he=!!y.A.getExperimentValue("animateFlashPLA");class pe extends o.A{constructor(e){super(e),this._adsViewRef=null,this.defaultTagType=(0,I.z6)(),this.windowWidth=a.Dimensions.get("window").width,this.startPosition=new a.Animated.Value(this.windowWidth),this.showSponsoredInTopPlaInBottom=!!y.A.getExperimentValue("showSponsoredInTopPlaInBottom"),this._productTapped=(e,t)=>{const i=null==t?void 0:t.action;this.dispatchAction(m.Q3.MAPI_ACTION,new v.rs(null==i?void 0:i.action)),(null==i?void 0:i.tracking)&&this.trackDiscoveryContentClickEvent(i.tracking),this._adsViewRef&&this._adsViewRef.adsClicked()},this._renderItem=e=>{const t=e.item;if(!t)return null;const i=t.aspectRatio,n=t.imageUrl,a=T.A.getWidth(60,i,54);return r.createElement(p.A,{source:n,width:a,height:60,style:d.C1.border_radius_4})},this.state=Object.assign(Object.assign({},this.state),{showPLA:!(ue||he)})}componentDidMount(){this.state.showPLA||setTimeout((()=>{this.setState({showPLA:!0})}),1e3)}renderHeader(e){}static getWidgetHeight(){return 60}applyLayoutDetailsToWidget(e){var t;if(!ue&&!he)return super.applyLayoutDetailsToWidget(e);let i=(0,s.lf)(this.props.widgetSlotData);return i=Object.assign(Object.assign({},i),{backgroundColor:c.JO0}),b.A.apply(i,e,null===(t=this.props.pageInfo)||void 0===t?void 0:t.isiOSLayoutHackForHPEnabled)}renderWidget(){var e,t;const i=(0,s.nS)(this.props.widgetSlotData),n=i&&i.data,l=null===(e=null==n?void 0:n.advertisementValue)||void 0===e?void 0:e.value,c=null===(t=null==n?void 0:n.advertisementValue)||void 0===t?void 0:t.tracking,u=pe.getWidgetHeight();if(!i||!n||!l)return;this.state.showPLA&&ue&&this.startTranslateAnimation();let h=this.getAdvertisementContent(i);if(ue?h=r.createElement(a.Animated.View,{style:[{transform:[{translateX:this.startPosition}]},d.C1.backgroundWhite]},h):he&&(h=this.state.showPLA?r.createElement(Y.az,{bg:"common.white"},h):r.createElement(N.BW,{height:u})),c){const e=o.A.getTrackingParams(this.props,c),t=this.getContentViewTrackingData(e);return r.createElement(f.A,{trackingInfo:t},h)}return h}startTranslateAnimation(){a.Animated.timing(this.startPosition,{toValue:0,duration:600,easing:a.Easing.out(a.Easing.ease),useNativeDriver:!1}).start()}_renderFAssuredTag(){return r.createElement(w.A,{imageStyles:l.e.faAdvantageImage})}getDerivedState(e,t){const i=(0,s.nS)(this.props.widgetSlotData),n=super.getDerivedState(e,t),r=this.defaultTagType;return Object.assign(Object.assign({},n),{benefitTag:r,widget:i})}shouldStateUpdate(e,t){return this.defaultTagType=(0,I.ZS)(),super.shouldStateUpdate(e,t)||this.state.benefitTag!==this.defaultTagType}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i)||t.benefitTag!==this.state.benefitTag||t.showPLA!==this.state.showPLA}getAdvertisementContent(e){return r.createElement(Y.az,null,r.createElement(N.AP,null,r.createElement(N.A9,null,this.renderProductData(e))))}renderProductData(e){var t,i,n,a,s,d,c;const p=e&&e.data,m=null===(t=null==p?void 0:p.advertisementValue)||void 0===t?void 0:t.value,v=(null===(i=null==m?void 0:m.titles)||void 0===i?void 0:i.newTitle)||(null===(n=null==m?void 0:m.titles)||void 0===n?void 0:n.title),_=null===(a=null==m?void 0:m.titles)||void 0===a?void 0:a.superTitle,C=null==m?void 0:m.pricing,E=null==e?void 0:e.tracking,f=E&&o.A.getTrackingParams(this.props,E),A=f&&this.getContentViewTrackingData(f),S=(null==m?void 0:m.images)&&m.images[0]&&m.images[0].aspectRatio,y=T.A.getWidth(60,S,54),w=_?1:2,I=null===(s=null==m?void 0:m.rating)||void 0===s?void 0:s.average,b=null===(d=null==m?void 0:m.rating)||void 0===d?void 0:d.count,O=(null==m?void 0:m.images)?null==m?void 0:m.images:[],R=null!==(c=this.props.widgetSlotData.slotData.id)&&void 0!==c?c:"",k=`FkAdvertisementCarousel${this.props.index}${R}`,V=this.showSponsoredInTopPlaInBottom?"BOTTOM":"TOP";let L;return L=r.createElement(h.S,{onPress:this._productTapped,onPressParam:{action:null==p?void 0:p.advertisementValue},disableFeedback:!0},r.createElement(Y.fI,{pl:"s4",pr:"s2"},r.createElement(Y.az,null,r.createElement(P.A,{data:O,key:k,renderItem:this._renderItem,scrollEnabled:!1,loop:!0,autoplay:!0,autoplayInterval:1500,hasParallaxImages:!1,loopClonesPerSide:O.length,windowSize:3,sliderWidth:y,itemWidth:y,inactiveSlideOpacity:1,inactiveSlideScale:1})),r.createElement(N.Bx,null,_?r.createElement(N.wZ,{numberOfLines:1},_):null,v?r.createElement(N.pU,{numberOfLines:w},v):null,r.createElement(N.bA,null,C&&r.createElement(g.A,{price:C,priceStyle:l.e.p0finalPrice,sellingPriceStyle:l.e.p0strikeoff,discountStyle:l.e.p0discount,hideCNCInfo:!0,hideDiscount:ce,enablePriceVariationsAB:!0}),ce?r.createElement(Y.fI,null,this._renderRatingAndReview(I,b),(null==m?void 0:m.fAssured)&&r.createElement(Y.az,null,this._renderFAssuredTag())):(null==m?void 0:m.fAssured)&&r.createElement(Y.az,{pl:"s2"},this._renderFAssuredTag()))),r.createElement(N.BN,{labelPositionOrientation:V},r.createElement(N.a$,null,(0,D.ak)(this.props.appContext.locale,{id:x.H.rex_string_SPONSORED_TXT}))))),A?r.createElement(u.BA,{trackingInfo:A},L):L}hideWidgetEdgeDivider(){return(0,de.A)()}_renderRatingAndReview(e,t){if(e||t)return r.createElement(N.pH,{height:"s8"},this._renderRating(e))}_renderRating(e){if(e)return r.createElement(Y.az,{pr:"s2"},r.createElement(A.A,{rating:e}))}}var ge;!function(e){e.TOP="TOP",e.BOTTOM="BOTTOM"}(ge||(ge={}));var me=i(723372);const ve=a.Dimensions.get("window").width,_e=Y.fI.extendComponent({name:"AdvertisementMultiViewScrollWrapper",defaultProps:{ml:"s6",mr:"s4"}}),Ce=Y.fI.extendComponent({name:"AdvertisementMultiViewCardWrapper",defaultProps:{pb:"s5",mr:"s4",justifyContent:"space-between"}}),Ee=Y.fI.extendComponent({name:"AdvertisementMultiViewCard",defaultProps:{p:"s5",borderWidth:1,borderColor:"#EEEEEE",borderRadius:4,width:.8*ve}}),Te=Y.az.extendComponent({name:"AdvertisementMultiViewSnippet",defaultProps:{mt:"s3"}});var fe=i(53606);class Ae extends ae{constructor(){super(...arguments),this.productImageDimension=100}componentDidMount(){this.state.showPLA||setTimeout((()=>{this.setState({showPLA:!0})}),1e3)}static getWidgetHeight(){return 220}isMultiAdsViewEnabled(){const e=fe.Ay.getReactNativeGlobalConfigs();return!!(null==e?void 0:e.isMultiAdsViewEnabled)||!1}renderWidget(){var e,t,i;const n=(0,s.nS)(this.props.widgetSlotData),l=n&&n.data,d=null==l?void 0:l.multiAdvertisements,c=n&&n.tracking;if(!this.isMultiAdsViewEnabled)return;if(!n||!l||!d)return;const u=null===(i=null===(t=null===(e=d.find((e=>{var t,i;return null===(i=null===(t=e.value)||void 0===t?void 0:t.titles)||void 0===i?void 0:i.coSubtitle})))||void 0===e?void 0:e.value)||void 0===t?void 0:t.titles)||void 0===i?void 0:i.coSubtitle,h=d.map((e=>this.renderAdvertisementWidget(e))),p=r.createElement(Y.az,null,u?r.createElement(Y.az,{mb:"s4",mx:"s6"},r.createElement(K,{numberOfLines:2},u)):null,r.createElement(a.ScrollView,{horizontal:!0,showsHorizontalScrollIndicator:!1},r.createElement(_e,null,h)));if(c){const e=o.A.getTrackingParams(this.props,c),t=this.getContentViewTrackingData(e);return r.createElement(f.A,{trackingInfo:t},p)}return p}renderAdvertisementWidget(e){const t=null==e?void 0:e.value;if(t)return r.createElement(Ce,null,r.createElement(J,null,t.adInfo?r.createElement(C.A,{adInfo:t.adInfo,ref:e=>{this._adsViewRef=e},widgetString:"LIST_ITEM",pageViewType:"LIST_VIEW",adUnitType:"SUMMARY"},this.renderProductData(e)):this.renderProductData(e)))}getDerivedState(e,t){const i=super.getDerivedState(e,t),n=this.defaultTagType;return Object.assign(Object.assign({},i),{benefitTag:n})}shouldStateUpdate(e,t){return this.defaultTagType=(0,I.ZS)(),super.shouldStateUpdate(e,t)||this.state.benefitTag!==this.defaultTagType}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i)||t.benefitTag!==this.state.benefitTag||t.showPLA!==this.state.showPLA}_renderRatingAndReview(e,t){if(e||t)return r.createElement(ie,null,this._renderRating(e),this._renderReviewCount(t))}renderProductData(e){var t,i,n,a,s,d;const c=null==e?void 0:e.value,p=null===(t=null==c?void 0:c.images)||void 0===t?void 0:t.slice(0,4),m=(null===(i=null==c?void 0:c.titles)||void 0===i?void 0:i.title)||(null===(n=null==c?void 0:c.titles)||void 0===n?void 0:n.newTitle),v=null==c?void 0:c.pricing,_=null===(a=null==c?void 0:c.snippets)||void 0===a?void 0:a[0],C=null==e?void 0:e.tracking,E=C&&o.A.getTrackingParams(this.props,C),T=E&&this.getContentViewTrackingData(E),f=null===(s=null==c?void 0:c.rating)||void 0===s?void 0:s.average,A=null===(d=null==c?void 0:c.rating)||void 0===d?void 0:d.count,S=L.Ay.DiscountIconEnabled,y=r.createElement(h.S,{onPress:this._productTapped,onPressParam:{action:e},disableFeedback:!0},r.createElement(Ee,null,r.createElement(Y.az,null,p&&r.createElement(Y.az,{width:this.productImageDimension},r.createElement(j,{images:p,width:this.productImageDimension,height:this.productImageDimension,preserveOriginalDimensions:!0}))),r.createElement(ee,null,m?r.createElement(Q,{font:"s_medium"},m):null,r.createElement($,null,v&&r.createElement(g.A,{price:v,priceStyle:l.e.finalPrice,sellingPriceStyle:l.e.strikeoff,discountStyle:l.e.discount,hideCNCInfo:!0,hideDiscount:!1,enablePriceVariationsAB:S,enableDiscountIconAB:S}),r.createElement(Y.fI,{mt:"s2"},this._renderRatingAndReview(f,A)),_?r.createElement(Te,null,r.createElement(me.A,{messages:_,numberOfLines:1})):null))));return T?r.createElement(u.BA,{trackingInfo:T},y):y}}const Se=(0,G.A)(X,ae);var ye;!function(e){e.COMPACT="COMPACT",e.SOLO_VIEW="SOLO_VIEW",e.HORIZONTAL_VIEW="HORIZONTAL_VIEW",e.LEFT_ALIGNED_HORIZONTAL="LEFT_ALIGNED_HORIZONTAL",e.MULTI_ADS="MULTI_ADS",e.HORIZONTAL_VIEW_ANIMATION="HORIZONTAL_VIEW_ANIMATION"}(ye||(ye={}));class we extends n.A{getWidgetClass(e){switch(s.KJ(e.widgetSlotData)){case"HORIZONTAL_VIEW":return Se;case"HORIZONTAL_VIEW_ANIMATION":return le;case"LEFT_ALIGNED_HORIZONTAL":return pe;case"MULTI_ADS":return Ae;default:return F}}getWidgetHeight(e){switch(s.KJ(e.widgetSlotData)){case"HORIZONTAL_VIEW":return Se.getWidgetHeight(e);case"HORIZONTAL_VIEW_ANIMATION":return le.getWidgetHeight();case"LEFT_ALIGNED_HORIZONTAL":return pe.getWidgetHeight();case"MULTI_ADS":return Ae.getWidgetHeight();default:return F.getWidgetHeight(e)}}}},681061:(e,t,i)=>{"use strict";i.d(t,{A:()=>p});var n=i(296540),r=i(108936),a=i(347924),o=i(410752),s=i(420721),l=i(479892),d=i(352254),c=i(492418),u=i(45426),h=i(311676);class p extends r.Ay{constructor(e,t){super(e,t),this.renderAddAction=()=>{const e=this._camelize((0,s.ak)(this.context.locale,{id:this.state.isProductAdded?o.H.rex_string_ADDED:o.H.rex_string_ADD})),t=this.state.isProductAdded?[l.C1.paleBlueBackground]:{};return n.createElement(a.DD,{justifyContent:"flex-end"},n.createElement(u.S,{onPress:this._onAddPress},n.createElement(g,{style:t},this.state.isProductAdded&&n.createElement(d.A,{style:[l.C1.margin_right_2,l.C1.alignSelfCenter],source:c.F0B,height:16,width:16}),n.createElement(a.JU,{color:"primary.500",font:"m_medium"},e))))},this._onAddPress=()=>{this.setState({isProductAdded:!this.state.isProductAdded}),this.props.onAddPress&&this.props.onAddPress(this.props.productCardValue,this.state.isProductAdded||!1);const{tracking:e}=this.props.productCardValue||{},{productId:t,fetchId:i,findingMethod:n}=e||{};if(t&&i){const e=new h.ytk(i,t,n);this.props.trackDGEvent&&this.props.trackDGEvent(e)}},this.state=Object.assign(Object.assign({},this.state),{isProductAdded:e.isProductInCart}),this.containerStyle=[this.containerStyle,l.C1.padding_top_8,l.C1.padding_bottom_12]}_camelize(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,((e,t)=>0===t?e.toUpperCase():e.toLowerCase())).replace(/\s+/g,"")}}const g=a.fI.extendComponent({name:"AddContainer",defaultProps:{borderColor:"primary.500",borderWidth:1,borderRadius:4,justifyContent:"center",py:"s3",px:"s6",mx:"s3"}})},683102:(e,t,i)=>{"use strict";i.d(t,{A:()=>I});var n,r=i(296540),a=i(877293),o=i(560203),s=i(492127),l=i(492418),d=i(52754),c=i(144502),u=i(938777),h=i(415283),p=i(914944),g=i(410752),m=i(311676),v=i(438993),_=i(561310),C=i(420721),E=i(547134),T=i(887261),f=i(479892),A=i(160251),S=i(155805),y=i(521722);class w{constructor(e){this.containerStyle={width:e}}}!function(e){e.FETCH_ID="FETCH_ID",e.PRODUCT_ID="PRODUCT_ID",e.S_PRODUCT="S_PRODUCT"}(n||(n={}));class I extends v.A{constructor(e,t,i){var n,a,o;super(e,t),this._isModal=!1,this.didExpandHandler=(e,t,i,n)=>{if(i&&n){const t={productReviewRc:n,widgetIndex:this.props.index,itemIndex:e};this.dispatchAction(h.Q3.REVIEWS_EXPANDED_BOTTOMSHEET,t)}else{const t={itemIndex:e,type:u.wdn.ContentExpanded};this.dispatchAction(h.Q3.REVIEWS_UI_ACTION,new c.g(t))}this._sendReviewClickDg(t.reviewId)},this.didUpvoteHandler=(e,t)=>{const i={itemIndex:e,type:u.wdn.ContentUpvoted,isModal:this.isModal(),isDynamicContentModal:this.isDynamicContentModal()},n=new c.X(t,i);this.dispatchAction(h.Q3.MAPI_ACTION,n)},this.didDownvoteHandler=(e,t)=>{const i={itemIndex:e,type:u.wdn.ContentDownvoted,isModal:this.isModal(),isDynamicContentModal:this.isDynamicContentModal()},n=new c.X(t,i);this.dispatchAction(h.Q3.MAPI_ACTION,n)},this.didShowAbuseHandler=e=>{const t={itemIndex:e,type:u.wdn.ContentShowAbuse,isModal:this.isModal()};this.dispatchAction(h.Q3.REVIEWS_UI_ACTION,new c.g(t))},this.didHideAbuseHandler=e=>{const t={itemIndex:e,type:u.wdn.ContentHideAbuse};this.dispatchAction(h.Q3.REVIEWS_UI_ACTION,new c.g(t))},this.didReportAbuseHandler=(e,t)=>{const i={itemIndex:e,type:u.wdn.ContentReportAbuse},n=new c.X(t,i);this.dispatchAction(h.Q3.MAPI_ACTION,n)},this.didBadgeClickHandler=e=>{const t={modalType:"BOTTOM_SHEET",widgetType:E.A.BADGE_BOTTOM_SHEET,widgetData:null==e?void 0:e.params,scrollable:!1};this.props.actionDispatcher&&this.props.actionDispatcher(new _.iM(_.xH.OPEN_MODAL,t)),this.trackDiscoveryContentClickEvent(null==e?void 0:e.tracking)},this.renderReviewsView=(e,t,i,n,a,o,l)=>r.createElement(s.A,{productReviewRC:e,tracking:e.tracking,transientData:a&&a.items?a.items[t]:void 0,index:t,didExpandHandler:this.didExpandHandler,didUpvoteHandler:this.didUpvoteHandler,didDownvoteHandler:this.didDownvoteHandler,didShowAbuseHandler:this.didShowAbuseHandler,didBadgeClickHandler:this.didBadgeClickHandler,didReportAbuseHandler:this.didReportAbuseHandler,didHideAbuseHandler:this.didHideAbuseHandler,didClickImage:this.didClickImage,didClickVideo:this.didClickVideo,screenWidth:i,enableReviewImages:n,enableReviewVideos:o,isRatingRounded:this.isRatingRounded(),isAlwaysExpanded:this.isModal(),reportAbuseVisible:!this.isModal(),trackingParams:{fetchId:this.getTrackingParam("FETCH_ID"),productId:this.getTrackingParam("PRODUCT_ID"),sProduct:this.getTrackingParam("S_PRODUCT"),source:u.nbx,type:I.PRODUCT,aspectId:I.ASPECT_ID,appLanguage:this.props.appContext.locale,reviewId:e.value&&e.value.id},swatchReviewString:l}),this.didClickImage=e=>{if(e){const t=Object.assign(Object.assign({},e),{params:Object.assign(Object.assign({},e.params),{pageKey:e.params.imageId})});this._isModal?(this.dispatchActionObject(new _.iM(_.xH.CLOSE_MODAL)),setTimeout((()=>this.dispatchAction(h.Q3.MAPI_ACTION,new p.rs(t))),300)):this.dispatchAction(h.Q3.MAPI_ACTION,new p.rs(t))}},this.didClickVideo=e=>{e&&(this._isModal?(this.dispatchActionObject(new _.iM(_.xH.CLOSE_MODAL)),setTimeout((()=>this.dispatchAction(h.Q3.MAPI_ACTION,new p.rs(e))),300)):this.dispatchAction(h.Q3.MAPI_ACTION,new p.rs(e)))},this.getTrackingParam=e=>{var t;const i=null===(t=this.props.pageInfo)||void 0===t?void 0:t.pageContext;if(i&&e)switch(e){case"FETCH_ID":return i.fetchId;case"PRODUCT_ID":return i.productId;case"S_PRODUCT":return i.sproduct}},this._sendReviewClickDg=e=>{var t;const i=null===(t=this.props.pageInfo)||void 0===t?void 0:t.pageContext;if(i){const t=new m.XWK(e,i.impressionId,i.aspectId,i.sourcePage);this.trackDGEvent(t)}},this.screenWidth=this.props.appContext.uiContext.windowFrame.width,(0,S.Mi)(null===(n=this.props.pageInfo)||void 0===n?void 0:n.pageURI)?this.screenWidth=Math.min(this.screenWidth,y.RW):(0,S.wb)(null===(a=this.props.pageInfo)||void 0===a?void 0:a.pageURI,null===(o=this.props.pageInfo)||void 0===o?void 0:o.marketPlace)&&(this.screenWidth=Math.min(this.screenWidth,A.M$)),(0,S.he)()&&(this.screenWidth=Math.min(this.screenWidth,A.wc)),this.viewModel=new w(this.screenWidth),this._isModal=i||!1}static getWidgetHeight(e){const t=(0,d.nS)(e.widgetSlotData),i=t?t.data:void 0;return i&&i.renderableComponents?I.getReviewsHeight(i):this.NO_REVIEW_HEIGHT}static getReviewsHeight(e){return e&&e.renderableComponents?e.renderableComponents.reduce(((e,t)=>t.value?t.value.images&&t.value.images.length>0?e+I.REVIEW_WITH_IMAGE_HEIGHT:e+I.REVIEW_WITHOUT_IMAGE_HEIGHT:e),0):0}getSwatchReviewString(e){if(!e)return;let t=`${(0,C.ak)(this.props.appContext.locale,{id:g.H.rex_string_REVIEW_FOR})}:`;return e.map(((i,n)=>{n===e.length-1?t+=` ${i.name} ${i.value}`:t+=` ${i.name} ${i.value} `})),t}renderWidget(){const e=(0,d.nS)(this.props.widgetSlotData),t=(0,d.Nt)(this.props.widgetSlotData),i=e&&e.data,n=this.props.appContext.userManager.isFeatureAvailable(u.xA$),s=this.props.appContext.userManager.isFeatureAvailable(u.Ytc);return i&&i.renderableComponents?r.createElement(a.View,{style:this.viewModel.containerStyle},i.renderableComponents.map(((e,i)=>{var d,c,u;const h=(null===(d=e.value)||void 0===d?void 0:d.productAttributeList)?this.getSwatchReviewString(null===(c=e.value)||void 0===c?void 0:c.productAttributeList):void 0;return r.createElement(a.View,{key:null===(u=e.value)||void 0===u?void 0:u.id},this.renderReviewsView(e,i,this.screenWidth,n,t,s,h),r.createElement(o.A,{marginBottomVal:0,marginTopVal:0,heightVal:l.Nsv}))}))):r.createElement(a.Text,null,this.localize({id:g.H.rex_string_reviews_constants_NO_REVIEWS}))}isRatingRounded(){return!1}isModal(){return!1}isDynamicContentModal(){return!1}renderHeader(e){}getHeaderStyle(e){var t,i,n,r;const a=super.getHeaderStyle(),o=null===(r=null===(n=null===(i=null===(t=null==e?void 0:e.color)||void 0===t?void 0:t.default)||void 0===i?void 0:i.text)||void 0===n?void 0:n.primary)||void 0===r?void 0:r.hex;return Object.assign(Object.assign({},a),{headerContainer:{paddingVertical:0,paddingHorizontal:16},headerText:{fontFamily:T.Mq,fontSize:14,color:o},headerSubContainer:Object.assign(Object.assign(Object.assign({},f.C1.flex),f.C1.row),{paddingTop:6}),headerActionContainer:{borderWidth:0,paddingTop:0},headerActionButtonText:{color:e?o:l.Jyk.royalBlue,fontFamily:T.Mq},headerSubtitleText:{color:l.Jyk.blackSecondary,fontSize:14}})}getLayoutDetailsForWidget(e){return this.applyLayoutDetailsToWidget(e)}trackFooterClick(e){this.trackDiscoveryWidgetClickEvent()}}I.PRODUCT="product",I.ASPECT_ID="overall",I.REVIEW_WITHOUT_IMAGE_HEIGHT=200,I.REVIEW_WITH_IMAGE_HEIGHT=262,I.NO_REVIEW_HEIGHT=21},685847:(e,t)=>{"use strict";!function(e){e.REGULAR="REGULAR",e.GROUP_BUY="GROUP_BUY"}(t.o||(t.o={}))},690926:(e,t,i)=>{"use strict";i.d(t,{Q:()=>a,e:()=>n});var n,r=i(500331);!function(e){e[e.UPDATE_SWATCH_STATE=0]="UPDATE_SWATCH_STATE"}(n||(n={}));class a extends r.Q8{constructor(e,t,i,r,a){super(r,a),this.type=n.UPDATE_SWATCH_STATE,this.productsToAdd=t,this.productsToRemove=i,this.type=e}}},693267:(e,t)=>{"use strict";!function(e){e.flexStart="flexStart",e.flexEnd="flexEnd",e.center="center",e.spaceBetween="spaceBetween",e.spaceAround="spaceAround",e.spaceEvenly="spaceEvenly"}(t.A||(t.A={}))},693467:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>ae});var n=i(465420),r=i(387393),a=i(296540),o=i(877293),s=i(716249),l=i(842e3),d=i(479892),c=i(495176),u=i(352254),h=i(349350),p=i(110941),g=i(897846),m=i(670563),v=i(410752),_=i(420721),C=i(864084),E=i(395567),T=i(45426),f=i(231679),A=i(813652),S=i(737999),y=i(537415),w=i(415283),I=i(914944),b=i(552946),D=i(390437);class x extends a.Component{constructor(e,t){var i;super(e,t),this.renderTitle=e=>{const t=e.templateId===x.gutter?[d.C1.margin_bottom_8,d.C1.margin_top_4]:[];return e.title?a.createElement(c.A,{style:t,richTextData:e.title,numberOfLines:1}):null},this.renderImage=e=>{const t=e.templateId===x.gutter?[d.C1.margin_bottom_12,d.C1.margin_top_8]:[];return e.media&&e.media.contentType&&e.media.contentType===h.z.IMAGE?a.createElement(u.A,{style:t,source:e.media.url,height:x.getMediaHeight(e.media,this.mediaWidth),width:this.mediaWidth}):null},this.renderVideo=(e,t)=>{const i=e.templateId===x.gutter?[d.C1.margin_bottom_12,d.C1.margin_top_8]:[],n=x.getMediaHeight(e.media,this.mediaWidth);if(i.push({height:n}),e.media&&e.media.contentType&&e.media.contentType===h.z.VIDEO&&e.media.contentId){if(t)return a.createElement(C.nv,{src:{videoId:e.media.contentId,url:e.media.url,mediaHeight:n,mediaWidth:this.mediaWidth},style:i,showFullScreenButton:!0,showSeekBar:!0,showPlayPauseButton:!0,showVideoTitle:!1,onChangeState:this._onChangeState,showYoutubeButton:!0,autoPlayVideo:!1});{const t=b.A.isYoutubeVideo(e.media)?b.A.buildYoutubeImageUrl(e.media.contentId):e.media.url;return a.createElement(T.S,{onPress:this._onVideoClicked,disableFeedback:!0,onPressParam:e.media},a.createElement(o.View,{style:[i,d.C1.contentAlignCenter]},a.createElement(u.A,{style:i,source:t,height:x.getMediaHeight(e.media,this.mediaWidth),width:this.mediaWidth}),a.createElement(u.A,{style:f.M1.videoPlayButton,source:A.videoPlayButton,height:56,width:56})))}}return null},this.renderDescription=e=>{const t=e.templateId===x.gutter?[d.C1.margin_bottom_8,d.C1.margin_top_4]:[];return e.description&&e.description.text?a.createElement(g.A,{isExpanded:this.state.descriptionExpanded,text:e.description.text,onPress:this.toggleDescriptionExpanded,containerStyle:[t,d.XT.fontRegular_14,{color:m.Jy.textColor},d.XT.lineHeight_20],truncateAfterCharLimit:x.CHAR_LIMIT_FOR_TRUNCATION,textAfterTruncate:this.readMore,textAfterTruncateStyle:[d.XT.fontMedium_14,{color:m.Cf.fkBlueColor}]}):null},this.toggleDescriptionExpanded=()=>{this.setState((e=>({descriptionExpanded:!e.descriptionExpanded})),(()=>{this.props.onExpand&&this.props.onExpand()}))},this._onChangeState=e=>{"PLAYING"===e&&this.props.contentIdentifier&&this.trackOmnitureEvent(new E.WgN(this.props.contentIdentifier))},this._onVideoClicked=(e,t)=>{this._handleYoutubeVideoClick(t.contentId,t.url,t.source)},this._handleYoutubeVideoClick=(e,t,i)=>{if(!e||!t||!i)return;const n={type:"NAVIGATION",screenType:S.A.VIDEO,params:{videoId:e,url:t,videoProvider:i},tracking:{},loginType:y.G.LOGIN_NOT_REQUIRED};this.props.contentIdentifier&&this.trackOmnitureEvent(new E.WgN(this.props.contentIdentifier)),this.trackDiscoveryWidgetEvent(),this.props.actionDispatcher&&this.dispatchAction(w.Q3.MAPI_ACTION,new I.Oy(n))},this.dispatchAction=(e,t)=>{if(this.props.actionDispatcher){const i={type:e,payload:t};this.props.actionDispatcher(i)}},this.mediaWidth=x.getMediaWidth(this.props.screenWidth,null===(i=this.props.rpdBaseData)||void 0===i?void 0:i.isPremium),this.readMore=(0,_.ak)(t.locale,{id:v.H.rex_string_Read_more}),this.state=this.getDerivedState(e,void 0)}static setScreenWidth(e){x.screenWidth=e}static getHeight(e){let t=28;return t+=e.media&&e.media.contentType?x.getMediaHeight(e.media,x.getMediaWidth(x.screenWidth,null==e?void 0:e.isPremium)):0,t+=72,t+=e.templateId===x.gutter?44:0,t}getDerivedState(e,t){return{descriptionExpanded:!1}}render(){var e;return a.createElement(o.View,{style:{marginHorizontal:(null===(e=this.props.rpdBaseData)||void 0===e?void 0:e.isPremium)?0:16}},this.renderTitle(this.props.rpdBaseData),this.renderImage(this.props.rpdBaseData),this.renderVideo(this.props.rpdBaseData,this.props.inlineVideoAbValue),this.renderDescription(this.props.rpdBaseData))}trackOmnitureEvent(e){if(this.props.actionDispatcher){const t=new E.m0(e);this.props.actionDispatcher(t)}}trackDiscoveryWidgetEvent(){var e;null===(e=this.props.analyticsTracker)||void 0===e||e.trackDiscoveryWidgetEngagementEvent(D.O.PLAY)}static getMediaHeight(e,t){let i="2:1";e&&e.aspectRatio&&(i=e.aspectRatio);const n=e&&p.A.getImageRatio(i);return n?Math.floor(t*n):Math.floor(t)}static getMediaWidth(e,t){return t?e:e-32}}x.contextType=_.V8,x.gutter="gutter",x.CHAR_LIMIT_FOR_TRUNCATION=160;var P=i(911294),O=i(390768);class R extends a.PureComponent{constructor(){super(...arguments),this.DEFAULT_TRUNCATE_TEXT=(0,_.ak)(this.context.locale,{id:v.H.rex_string_MORE_TEXT}),this._onPress=()=>{this.props&&this.props.onPress&&this.props.onPress()},this._onPressExpanded=(e,t)=>{t&&this._onPress()}}render(){const e=!!this.props.truncateAfterBulletCount&&this.props.data.length>this.props.truncateAfterBulletCount,t=this.props.textAfterTruncate?this.props.textAfterTruncate:this.DEFAULT_TRUNCATE_TEXT;return e?this.props.isExpanded&&e?this.renderBulletPoints(this.props.data):a.createElement(T.S,{onPress:this._onPressExpanded,onPressParam:e,disableFeedback:!0},a.createElement(o.View,{style:[this.props.parentStyle,d.C1.col]},this.renderBulletPoints(this.props.data.slice(0,this.props.truncateAfterBulletCount)),e?a.createElement(o.Text,{style:[O.v.textAfterTruncateStyle,this.props.textAfterTruncateStyle],suppressHighlighting:!0},t):null)):this.renderBulletPoints(this.props.data)}renderBulletPoints(e){return a.createElement(o.View,{style:this.props.parentStyle},e.map((e=>e.text?a.createElement(o.View,{key:e.text,style:d.C1.rowWithoutFlex},a.createElement(o.Text,{style:d.C1.margin_right_2},R._BULLET),a.createElement(o.Text,Object.assign({},this.props,{style:[d.C1.flex,this.props.textStyle]}),e.text)):null)))}}R.contextType=_.V8,R._BULLET=P.zl+" ";var k=i(879052);class V extends a.Component{constructor(e,t){super(e,t),this.charLimitForTruncation=160,this.renderTitle=e=>e.title&&a.createElement(c.A,Object.assign({},(0,k.Z)("RPD_Title"),{style:[d.C1.margin_bottom_8,d.XT.fontMedium_14,d.XT.lineHeight_24],richTextData:e.title,numberOfLines:2})),this.renderImage=e=>e.media&&e.media.contentType&&e.media.contentType===h.z.IMAGE?a.createElement(u.A,Object.assign({},(0,k.Z)("RPD_Image"),{source:e.media.url,height:this.mediaWidth,width:this.mediaWidth})):null,this.renderDescription=e=>e.description&&e.description.text?a.createElement(g.A,{isExpanded:this.state.descriptionExpanded,text:e.description.text,onPress:this.toggleDescriptionExpanded,containerStyle:[d.C1.margin_bottom_8,d.XT.fontRegular_14,{color:m.Jy.textColor},d.XT.lineHeight_20],truncateAfterCharLimit:this.charLimitForTruncation,textAfterTruncate:this.readMore,textAfterTruncateStyle:[d.XT.fontMedium_14,{color:m.Cf.fkBlueColor}]}):null,this.renderTextFlows=e=>e.textFlows&&a.createElement(R,{data:e.textFlows,textStyle:[d.XT.fontRegular_14,{color:m.Jy.textColor},d.XT.lineHeight_20],parentStyle:d.C1.colWithoutFlex}),this.toggleDescriptionExpanded=()=>{this.props.onExpand&&this.props.onExpand(),this.setState((e=>({descriptionExpanded:!e.descriptionExpanded})))},this.mediaWidth=V.getMediaWidth(e.screenWidth),this.readMore=(0,_.ak)(t.locale,{id:v.H.rex_string_Read_more}),this.state=this.getDerivedState(e,void 0)}static setScreenWidth(e){V.screenWidth=e}static getHeight(e){let t=20;return t+=e.media&&e.media.contentType?V.getMediaWidth(V.screenWidth):0,t}getDerivedState(e,t){return{descriptionExpanded:!1}}render(){const e=a.createElement(o.View,{style:d.C1.col},this.renderTitle(this.props.rpdBaseData),this.renderDescription(this.props.rpdBaseData),this.renderTextFlows(this.props.rpdBaseData)),t=this.isLeftTemplate(this.props.rpdBaseData);return a.createElement(o.View,{style:[d.C1.row,d.C1.margin_horizontal_16,d.C1.margin_top_8,d.C1.margin_bottom_8]},t?this.renderImage(this.props.rpdBaseData):e,a.createElement(o.View,{style:d.C1.margin_right_8}),t?e:this.renderImage(this.props.rpdBaseData))}isLeftTemplate(e){return"left"===e.templateId}static getMediaWidth(e){return.4*(e-32-8)}}V.contextType=_.V8;class L extends a.PureComponent{constructor(e,t){super(e,t),this.generateHighlightContent=(e,t)=>a.createElement(o.View,{style:[d.C1.margin_8,d.C1.colWithoutFlex,{width:this.mediaWidth}]},this.renderImage(e),this.renderTitle(e),this.renderDescription(e)),this.renderImage=e=>e.media&&e.media.contentType&&e.media.contentType===h.z.IMAGE?a.createElement(u.A,{style:d.C1.margin_bottom_12,source:e.media.url,height:L.getMediaHeight(e.media,this.mediaWidth),width:this.mediaWidth}):null,this.renderTitle=e=>e.title&&a.createElement(c.A,{style:[d.C1.margin_bottom_12,d.XT.fontMedium_14,d.XT.lineHeight_16],richTextData:e.title,numberOfLines:2,ellipsizeMode:"tail"}),this.renderDescription=e=>e.description&&e.description.text?a.createElement(c.A,{richTextData:e.description,style:[d.XT.fontRegular_14,{color:m.Jy.textColor},d.XT.lineHeight_20,d.XT.alignTextCenter],numberOfLines:4,ellipsizeMode:"tail"}):null,this.mediaWidth=this.getMediaWidth(this.props.screenWidth)}static setScreenWidth(e){L.screenWidth=e}render(){return a.createElement(o.View,null,this.spliceDataAndCreateComponents(this.props.rpdBaseData,this.getMaxItemsInOneRow()))}spliceDataAndCreateComponents(e,t){const i=[];for(let n=0;n<e.length;n+=t){const r=e.slice(n,Math.min(t+n,e.length));i.push(a.createElement(o.View,{style:[d.C1.margin_horizontal_4,d.C1.margin_bottom_8,d.C1.row,d.C1.justifyContentCenter]},this.getHighlightContent(r)))}return i}getHighlightContent(e){return e.map(this.generateHighlightContent)}static getMediaHeight(e,t){const i=e&&p.A.getImageRatio(e.aspectRatio?e.aspectRatio:"1:1");return i?t*i:t}}class M extends L{static getHeight(e){let t=32;return t+=e.media&&e.media.contentType?M.getMediaHeight(e.media,M.getMediaWidth(L.screenWidth)):0,t+=108,t+=52,t}getMaxItemsInOneRow(){return M.MAX_HIGHLIGHT_COMPONENT_IN_ONE_ROW}getMediaWidth(e){return M.getMediaWidth(e)}static getMediaWidth(e){return(e-32-48)/3}}M.MAX_HIGHLIGHT_COMPONENT_IN_ONE_ROW=3;class N extends L{static getHeight(e){let t=32;return t+=e.media&&e.media.contentType?L.getMediaHeight(e.media,N.getMediaWidth(L.screenWidth)):0,t+=72,t+=48,t}static getMediaWidth(e){return(e-32-32)/N.MAX_HIGHLIGHT_COMPONENT_IN_ONE_ROW}getMaxItemsInOneRow(){return N.MAX_HIGHLIGHT_COMPONENT_IN_ONE_ROW}getMediaWidth(e){return N.getMediaWidth(e)}}N.MAX_HIGHLIGHT_COMPONENT_IN_ONE_ROW=2;class H extends a.Component{constructor(e,t){super(e,t),this.charLimitForTruncation=164,this.truncateAfterBulletCount=5,this.renderTitle=e=>e.title&&a.createElement(o.View,{style:[d.C1.margin_horizontal_16,d.C1.margin_top_4,d.C1.margin_bottom_8]},a.createElement(c.A,{richTextData:e.title,numberOfLines:1})),this.renderDescription=e=>e.description&&e.description.text?a.createElement(o.View,{style:[d.C1.margin_horizontal_16,d.C1.margin_top_4,d.C1.margin_bottom_8]},a.createElement(g.A,{isExpanded:this.state.descriptionExpanded,text:e.description.text,onPress:this.toggleDescriptionExpanded,containerStyle:[d.C1.margin_bottom_8,d.C1.margin_top_4,d.XT.fontRegular_14,{color:m.Jy.textColor},d.XT.lineHeight_20],truncateAfterCharLimit:this.charLimitForTruncation,textAfterTruncate:this.readMore,textAfterTruncateStyle:[d.XT.fontMedium_14,{color:m.Cf.fkBlueColor}]})):null,this.renderTextFlows=e=>e.textFlows&&a.createElement(o.View,{style:[d.C1.margin_horizontal_16,d.C1.margin_top_4,d.C1.margin_bottom_8]},a.createElement(R,{data:e.textFlows,textStyle:[d.XT.fontRegular_14,{color:m.Jy.textColor},d.XT.lineHeight_20],isExpanded:this.state.bulletPointsExpanded,onPress:this.toggleBulletPointsExpanded,truncateAfterBulletCount:this.truncateAfterBulletCount,textAfterTruncate:this.readMore,textAfterTruncateStyle:[d.XT.fontMedium_14,{colors:m.Cf.fkBlueColor}],parentStyle:d.C1.colWithoutFlex})),this.toggleDescriptionExpanded=()=>{this.props.onExpand&&this.props.onExpand(),this.setState((e=>({descriptionExpanded:!e.descriptionExpanded})))},this.toggleBulletPointsExpanded=()=>{this.setState((e=>({bulletPointsExpanded:!e.bulletPointsExpanded})))},this.readMore=(0,_.ak)(t.locale,{id:v.H.rex_string_Read_more}),this.state=this.getDerivedState(e,void 0)}static getHeight(e){let t=12;return H.isHeaderTemplate(e)?t+=28:H.isDescriptionTemplate(e)?t+=72:H.isBulletPointsTemplate(e)&&(t+=120),t}static isHeaderTemplate(e){return"header"===e.templateId}getDerivedState(e,t){return{descriptionExpanded:!1,bulletPointsExpanded:!1}}render(){return H.isHeaderTemplate(this.props.rpdBaseData)?this.renderTitle(this.props.rpdBaseData):H.isDescriptionTemplate(this.props.rpdBaseData)?this.renderDescription(this.props.rpdBaseData):H.isBulletPointsTemplate(this.props.rpdBaseData)?this.renderTextFlows(this.props.rpdBaseData):null}static isDescriptionTemplate(e){return"description"===e.templateId}static isBulletPointsTemplate(e){return"bullet"===e.templateId}}H.contextType=_.V8;var W=i(587952),B=i(1319),U=i(52754),F=i(160251),G=i(155805);const z="contentIdentifier";var j;!function(e){e.PREMIUM_PRODUCT="PREMIUM_PRODUCT_PAGE"}(j||(j={}));class X extends s.A{constructor(e,t){var i,n;super(e,t),this.generateContent=(e,t)=>{if(e&&e.value&&e.value.contentType)switch(e.value.contentType){case l.k.RED_MEDIA:return this.generateMediaContent(e,t);case l.k.RED_FEATURE:return this.generateFeatureContent(e,t);case l.k.RED_FLOATING:return this.generateFloatingContent(e,t);case l.k.RED_HIGHLIGHTS:if(e.value.viewType===W.i.SMALL)return this.generateSmallHighlightsContent(e,t);if(e.value.viewType===W.i.BIG)return this.generateBigHighlightsContent(e,t)}},this.generateMediaContent=(e,t)=>{const i=e.value&&e.value.contents&&a.createElement(o.View,Object.assign({},(0,k.Z)(`RPD_Content_Container_${t}`,!1,!0),{style:d.C1.colWithoutFlex}),e.value.contents.map(this.generateRPDMediaContent));return i&&e.tracking?this.getTrackableContentView(i,e.tracking):i},this.generateRPDMediaContent=e=>{const t=this.props.widgetSlotData&&this.props.widgetSlotData.slotData,i=t&&t.widget,n=i&&i.tracking&&i.tracking[z],r="PREMIUM_PRODUCT_PAGE"===(0,U.KJ)(this.props.widgetSlotData);let s=e;return s.isPremium=r,a.createElement(o.View,null,a.createElement(x,{rpdBaseData:s,screenWidth:X.screenWidth,actionDispatcher:this.props.actionDispatcher,contentIdentifier:n,onExpand:this._onExpand,inlineVideoAbValue:!1,analyticsTracker:this}))},this.generateFeatureContent=(e,t)=>{const i=e.value&&e.value.contents&&a.createElement(o.View,Object.assign({},(0,k.Z)(`RPD_Content_Container_${t}`,!1,!0),{style:d.C1.colWithoutFlex}),e.value.contents.map(this.generateRPDFeatureContent));return i&&e.tracking?this.getTrackableContentView(i,e.tracking):i},this.generateRPDFeatureContent=e=>a.createElement(o.View,null,a.createElement(V,{rpdBaseData:e,screenWidth:X.screenWidth,onExpand:this._onExpand})),this.generateFloatingContent=(e,t)=>{const i=e.value&&e.value.contents&&a.createElement(o.View,Object.assign({},(0,k.Z)(`RPD_Content_Container_${t}`,!1,!0),{style:d.C1.colWithoutFlex}),e.value.contents.map(this.generateRPDFloatingContent));return i&&e.tracking?this.getTrackableContentView(i,e.tracking):i},this.generateRPDFloatingContent=e=>a.createElement(o.View,null,a.createElement(H,{rpdBaseData:e,actionDispatcher:this.props.actionDispatcher,onExpand:this._onExpand})),this.generateSmallHighlightsContent=(e,t)=>{const i=e.value&&e.value.contents&&a.createElement(o.View,Object.assign({},(0,k.Z)(`RPD_Content_Container_${t}`,!1,!0),{style:d.C1.colWithoutFlex}),a.createElement(M,{rpdBaseData:e.value.contents,screenWidth:X.screenWidth}));return i&&e.tracking?this.getTrackableContentView(i,e.tracking):i},this.generateBigHighlightsContent=(e,t)=>{const i=e.value&&e.value.contents&&a.createElement(o.View,Object.assign({},(0,k.Z)(`RPD_Content_Container_${t}`,!1,!0),{style:d.C1.colWithoutFlex}),a.createElement(N,{rpdBaseData:e.value.contents,screenWidth:X.screenWidth}));return i&&e.tracking?this.getTrackableContentView(i,e.tracking):i},this._onExpand=()=>{if(this.props.actionDispatcher){const e=this.props.widgetSlotData&&this.props.widgetSlotData.position,t=this.props.widgetSlotData&&this.props.widgetSlotData.behaviour,i={type:B.J.ExpandProductDescription};this.props.actionDispatcher({type:w.Q3.EXPAND_ACTION,payload:new B.Z(i,e,t)})}};let r=this.props.appContext.uiContext.windowFrame.width;(0,G.wb)(null===(i=this.props.pageInfo)||void 0===i?void 0:i.pageURI,null===(n=this.props.pageInfo)||void 0===n?void 0:n.marketPlace)&&(r=Math.min(r,F.M$)),(0,G.he)()&&(r=Math.min(r,F.wc)),X.screenWidth=r}static getWidgetHeight(e){const t=e.widgetSlotData&&e.widgetSlotData.slotData,i=t&&t.widget,n=i&&i.data,r=n&&n.contentCards;return this.screenWidth=e.appContext.uiContext.windowFrame.width,r?r.map(X.getRPDContentHeight).reduce(X.heightReducer):0}renderWidget(){const e=this.props.widgetSlotData&&this.props.widgetSlotData.slotData,t=e&&e.widget,i=t&&t.data,n=i&&i.contentCards;if(!n||0===n.length)return;const r=n&&n.map(this.generateContent);return a.createElement(o.View,{style:[d.C1.margin_top_8,d.C1.margin_bottom_16]},r)}getWidgetExpandTrackingText(e){const t=this.props.widgetSlotData&&this.props.widgetSlotData.slotData,i=t&&t.widget;return i&&i.tracking&&i.tracking[z]?i.tracking[z]:super.getWidgetExpandTrackingText(e)}isHeaderBottomBorderEnabled(){return!1}isFooterSeparatorEnabled(){return!0}trackFooterClick(e){this.trackDiscoveryWidgetClickEvent()}}X.heightReducer=(e,t)=>e+t,X.getRPDContentHeight=e=>{if(!(e&&e.value&&e.value.contentType))return 0;const t=e.value;if(!t.contents||0===t.contents.length)return 0;switch(t.contentType){case l.k.RED_MEDIA:return x.setScreenWidth(X.screenWidth),t.contents.map(x.getHeight).reduce(X.heightReducer);case l.k.RED_FEATURE:return V.setScreenWidth(X.screenWidth),t.contents.map(V.getHeight).reduce(X.heightReducer);case l.k.RED_FLOATING:return t.contents.map(H.getHeight).reduce(X.heightReducer);case l.k.RED_HIGHLIGHTS:if(L.setScreenWidth(X.screenWidth),t.viewType===W.i.SMALL)return t.contents.map(M.getHeight).reduce(X.heightReducer);if(t.viewType===W.i.BIG)return t.contents.map(N.getHeight).reduce(X.heightReducer)}return 0};var Y=i(948017),q=i(302019);class J extends a.Component{constructor(e,t){var i;super(e,t),this.renderTitle=e=>{const t=e.templateId===J.gutter?[d.C1.margin_bottom_8,d.C1.margin_top_4]:[];return e.title?a.createElement(c.A,Object.assign({},(0,k.Z)("RPD_Media_Title"),{style:t,richTextData:e.title,numberOfLines:1})):null},this.renderImage=e=>{const t=e.templateId===J.gutter?[d.C1.margin_bottom_12,d.C1.margin_top_8]:[];return e.media&&e.media.contentType&&e.media.contentType===h.z.IMAGE?a.createElement(u.A,Object.assign({},(0,k.Z)("RPD_Media_Image"),{style:t,source:e.media.url,height:J.getMediaHeight(e.media,this.mediaWidth),width:this.mediaWidth})):null},this.renderVideo=(e,t)=>{const i=e.templateId===J.gutter?[d.C1.margin_bottom_12,d.C1.margin_top_8]:[],n=J.getMediaHeight(e.media,this.mediaWidth);if(i.push({height:n}),e.media&&e.media.contentType&&e.media.contentType===h.z.VIDEO&&e.media.contentId){if(t)return a.createElement(C.nv,{src:{videoId:e.media.contentId,url:e.media.url,mediaHeight:n,mediaWidth:this.mediaWidth},style:i,showFullScreenButton:!0,showSeekBar:!0,showPlayPauseButton:!0,showVideoTitle:!1,onChangeState:this._onChangeState,showYoutubeButton:!0,autoPlayVideo:!1});{const t=b.A.isYoutubeVideo(e.media)?b.A.buildYoutubeImageUrl(e.media.contentId):e.media.url;return a.createElement(T.S,{onPress:this._onVideoClicked,disableFeedback:!0,onPressParam:e.media},a.createElement(o.View,{style:[i,d.C1.contentAlignCenter]},a.createElement(u.A,{style:i,source:t,height:J.getMediaHeight(e.media,this.mediaWidth),width:this.mediaWidth}),a.createElement(u.A,{style:f.M1.videoPlayButton,source:A.videoPlayButton,height:56,width:56})))}}return null},this.renderDescription=e=>e.description&&e.description.text?a.createElement(Y.A,{isExpanded:this.state.descriptionExpanded,text:e.description.text,onPress:this.toggleDescriptionExpanded,containerStyle:{mb:"s4",mt:"s2",font:"m",color:"text.primary"},truncateAfterCharLimit:J.CHAR_LIMIT_FOR_TRUNCATION,textAfterTruncate:this.readMore,textAfterTruncateStyle:{font:"m_medium",color:"primary.main"}}):null,this.toggleDescriptionExpanded=()=>{this.setState((e=>({descriptionExpanded:!e.descriptionExpanded})),(()=>{this.props.onExpand&&this.props.onExpand()}))},this._onChangeState=e=>{"PLAYING"===e&&this.props.contentIdentifier&&this.trackOmnitureEvent(new E.WgN(this.props.contentIdentifier))},this._onVideoClicked=(e,t)=>{this._handleYoutubeVideoClick(t.contentId,t.url,t.source)},this._handleYoutubeVideoClick=(e,t,i)=>{if(!e||!t||!i)return;const n={type:"NAVIGATION",screenType:S.A.VIDEO,params:{videoId:e,url:t,videoProvider:i},tracking:{},loginType:y.G.LOGIN_NOT_REQUIRED};this.props.contentIdentifier&&this.trackOmnitureEvent(new E.WgN(this.props.contentIdentifier)),this.trackDiscoveryWidgetEvent(),this.props.actionDispatcher&&this.dispatchAction(w.Q3.MAPI_ACTION,new I.Oy(n))},this.dispatchAction=(e,t)=>{if(this.props.actionDispatcher){const i={type:e,payload:t};this.props.actionDispatcher(i)}},this.mediaWidth=J.getMediaWidth(this.props.screenWidth,null===(i=this.props.rpdBaseData)||void 0===i?void 0:i.isPremium),this.readMore=(0,_.ak)(t.locale,{id:v.H.rex_string_Read_more}),this.state=this.getDerivedState(e,void 0)}static setScreenWidth(e){J.screenWidth=e}static getHeight(e){let t=28;return t+=e.media&&e.media.contentType?J.getMediaHeight(e.media,J.getMediaWidth(J.screenWidth,null==e?void 0:e.isPremium)):0,t+=72,t+=e.templateId===J.gutter?44:0,t}getDerivedState(e,t){return{descriptionExpanded:!1}}render(){var e;return a.createElement(q.az,{mx:(null===(e=this.props.rpdBaseData)||void 0===e?void 0:e.isPremium)?"s0":"s6"},this.renderTitle(this.props.rpdBaseData),this.renderImage(this.props.rpdBaseData),this.renderVideo(this.props.rpdBaseData,this.props.inlineVideoAbValue),this.renderDescription(this.props.rpdBaseData))}trackOmnitureEvent(e){if(this.props.actionDispatcher){const t=new E.m0(e);this.props.actionDispatcher(t)}}trackDiscoveryWidgetEvent(){var e;null===(e=this.props.analyticsTracker)||void 0===e||e.trackDiscoveryWidgetEngagementEvent(D.O.PLAY)}static getMediaHeight(e,t){let i="2:1";e&&e.aspectRatio&&(i=e.aspectRatio);const n=e&&p.A.getImageRatio(i);return n?Math.floor(t*n):Math.floor(t)}static getMediaWidth(e,t){return t?e:e-32}}J.contextType=_.V8,J.gutter="gutter",J.CHAR_LIMIT_FOR_TRUNCATION=160;var K=i(398581),Q=i(331547),Z=i(492418),$=i(329445);class ee extends a.PureComponent{constructor(e,t){super(e,t),this.generateHighlightContent=(e,t)=>a.createElement(q.fv,{m:"s4",width:this.mediaWidth},this.renderImage(e),this.renderTitle(e),this.renderDescription(e)),this.renderImage=e=>e.media&&e.media.contentType&&e.media.contentType===h.z.IMAGE?a.createElement(u.A,{style:d.C1.margin_bottom_12,source:e.media.url,height:ee.getMediaHeight(e.media,this.mediaWidth),width:this.mediaWidth}):null,this.renderTitle=e=>e.title&&a.createElement(c.A,{style:[d.C1.margin_bottom_12,d.XT.fontMedium_14,d.XT.lineHeight_16],richTextData:e.title,numberOfLines:2,ellipsizeMode:"tail"}),this.renderDescription=e=>e.description&&e.description.text?a.createElement(c.A,{richTextData:e.description,style:[d.XT.fontRegular_14,{color:Z.Jyk.textColor},d.XT.lineHeight_20,d.XT.alignTextCenter],numberOfLines:4,ellipsizeMode:"tail"}):null,this.mediaWidth=this.getMediaWidth(this.props.screenWidth)}static setScreenWidth(e){ee.screenWidth=e}render(){return a.createElement(q.az,null,this.spliceDataAndCreateComponents(this.props.rpdBaseData,this.getMaxItemsInOneRow()))}spliceDataAndCreateComponents(e,t){const i=[];for(let n=0;n<e.length;n+=t){const r=e.slice(n,Math.min(t+n,e.length));i.push(a.createElement(q.xM,{mx:"s2",mb:"s4",justifyContent:"center"},this.getHighlightContent(r)))}return i}getHighlightContent(e){return e.map(this.generateHighlightContent)}static getMediaHeight(e,t){const i=e&&p.A.getImageRatio(e.aspectRatio?e.aspectRatio:"1:1");return i?t*i:t}}const te="contentIdentifier";var ie;!function(e){e.PREMIUM_PRODUCT="PREMIUM_PRODUCT_PAGE"}(ie||(ie={}));class ne extends s.A{constructor(e,t){var i,n;super(e,t),this.generateShowMoreButton=e=>e.value&&a.createElement(K.W,{style:[{height:ne.getWidgetHeight(this.props)/3},d.C1.absolute_left_right_bottom],gradientColors:[Z.hIQ.transparentWhite,Z.hIQ.white],gradientStart:Q._.TOP,gradientEnd:Q._.BOTTOM},a.createElement($.A,{btnTextStyle:[d.XT.fkRoyalBlueText,d.XT.fontMedium_14_padding,d.XT.lineHeight_20],btnViewStyle:d.PH.buttonWithRadius,text:e.value.title||"Show More",onPress:this._executeAction,onPressParam:e.action})),this.generateContent=(e,t)=>{if(e&&e.value&&e.value.contentType)switch(e.value.contentType){case l.k.RED_MEDIA:return this.generateMediaContent(e,t);case l.k.RED_FEATURE:return this.generateFeatureContent(e,t);case l.k.RED_FLOATING:return this.generateFloatingContent(e,t);case l.k.RED_HIGHLIGHTS:if(e.value.viewType===W.i.SMALL)return this.generateSmallHighlightsContent(e,t);if(e.value.viewType===W.i.BIG)return this.generateBigHighlightsContent(e,t)}},this.generateMediaContent=(e,t)=>{const i=e.value&&e.value.contents&&a.createElement(q.fv,Object.assign({},(0,k.Z)(`RPD_Content_Container_${t}`,!1,!0)),e.value.contents.map((t=>this.generateRPDMediaContent(t,e.tracking))));return i&&e.tracking?this.getTrackableContentView(i,e.tracking):i},this.generateRPDMediaContent=(e,t)=>{const i=this.props.widgetSlotData&&this.props.widgetSlotData.slotData,n=i&&i.widget,r=n&&n.tracking&&n.tracking[te],o="PREMIUM_PRODUCT_PAGE"===(0,U.KJ)(this.props.widgetSlotData);let s=e;return s.isPremium=o,a.createElement(q.az,null,a.createElement(J,{rpdBaseData:s,screenWidth:ne.screenWidth,actionDispatcher:this.props.actionDispatcher,contentIdentifier:r,onExpand:()=>this._onExpand(t),inlineVideoAbValue:!1,analyticsTracker:this}))},this.generateFeatureContent=(e,t)=>{const i=e.value&&e.value.contents&&a.createElement(q.fv,Object.assign({},(0,k.Z)(`RPD_Content_Container_${t}`,!1,!0)),e.value.contents.map((t=>this.generateRPDFeatureContent(t,e.tracking))));return i&&e.tracking?this.getTrackableContentView(i,e.tracking):i},this.generateRPDFeatureContent=(e,t)=>a.createElement(q.az,null,a.createElement(V,{rpdBaseData:e,screenWidth:ne.screenWidth,onExpand:()=>this._onExpand(t)})),this.generateFloatingContent=(e,t)=>{const i=e.value&&e.value.contents&&a.createElement(q.fv,Object.assign({},(0,k.Z)(`RPD_Content_Container_${t}`,!1,!0)),e.value.contents.map((t=>this.generateRPDFloatingContent(t,e.tracking))));return i&&e.tracking?this.getTrackableContentView(i,e.tracking):i},this.generateRPDFloatingContent=(e,t)=>a.createElement(q.az,null,a.createElement(H,{rpdBaseData:e,actionDispatcher:this.props.actionDispatcher,onExpand:()=>this._onExpand(t)})),this.generateSmallHighlightsContent=(e,t)=>{const i=e.value&&e.value.contents&&a.createElement(q.fv,Object.assign({},(0,k.Z)(`RPD_Content_Container_${t}`,!1,!0)),a.createElement(M,{rpdBaseData:e.value.contents,screenWidth:ne.screenWidth}));return i&&e.tracking?this.getTrackableContentView(i,e.tracking):i},this.generateBigHighlightsContent=(e,t)=>{const i=e.value&&e.value.contents&&a.createElement(q.fv,Object.assign({},(0,k.Z)(`RPD_Content_Container_${t}`,!1,!0)),a.createElement(N,{rpdBaseData:e.value.contents,screenWidth:ne.screenWidth}));return i&&e.tracking?this.getTrackableContentView(i,e.tracking):i},this._executeAction=(e,t)=>{this.props.actionDispatcher&&this.props.actionDispatcher({type:w.Q3.MAPI_ACTION,payload:new I.rs(t)})},this._onExpand=e=>{if(this.props.actionDispatcher){const t=this.props.widgetSlotData&&this.props.widgetSlotData.position,i=this.props.widgetSlotData&&this.props.widgetSlotData.behaviour,n={type:B.J.ExpandProductDescription};this.props.actionDispatcher({type:w.Q3.EXPAND_ACTION,payload:new B.Z(n,t,i)}),e&&this.trackDiscoveryContentClickEvent(e)}};let r=this.props.appContext.uiContext.windowFrame.width;(0,G.wb)(null===(i=this.props.pageInfo)||void 0===i?void 0:i.pageURI,null===(n=this.props.pageInfo)||void 0===n?void 0:n.marketPlace)&&(r=Math.min(r,F.M$)),(0,G.he)()&&(r=Math.min(r,F.wc)),ne.screenWidth=r}static getWidgetHeight(e){const t=e.widgetSlotData&&e.widgetSlotData.slotData,i=t&&t.widget,n=i&&i.data,r=n&&n.contentCards;return this.screenWidth=e.appContext.uiContext.windowFrame.width,r?r.map(ne.getRPDContentHeight).reduce(ne.heightReducer):0}renderWidget(){const e=this.props.widgetSlotData&&this.props.widgetSlotData.slotData,t=e&&e.widget,i=t&&t.data,n=i&&i.contentCards;if(!n||0===n.length)return;const r=n&&n.map(this.generateContent);return a.createElement(q.fv,null,a.createElement(q.az,{mt:"s4",mb:"s6"},r),(null==i?void 0:i.showMoreButton)&&this.generateShowMoreButton(null==i?void 0:i.showMoreButton))}getWidgetExpandTrackingText(e){const t=this.props.widgetSlotData&&this.props.widgetSlotData.slotData,i=t&&t.widget;return i&&i.tracking&&i.tracking[te]?i.tracking[te]:super.getWidgetExpandTrackingText(e)}isHeaderBottomBorderEnabled(){return!1}isFooterSeparatorEnabled(){return!0}renderFooter(e){var t;if(!(null===(t=(e&&e.data).showMoreButton)||void 0===t?void 0:t.action))return super.renderFooter(e)}trackFooterClick(e){this.trackDiscoveryWidgetClickEvent()}}ne.heightReducer=(e,t)=>e+t,ne.getRPDContentHeight=e=>{if(!(e&&e.value&&e.value.contentType))return 0;const t=e.value;if(!t.contents||0===t.contents.length)return 0;switch(t.contentType){case l.k.RED_MEDIA:return J.setScreenWidth(ne.screenWidth),t.contents.map(J.getHeight).reduce(ne.heightReducer);case l.k.RED_FEATURE:return V.setScreenWidth(ne.screenWidth),t.contents.map(V.getHeight).reduce(ne.heightReducer);case l.k.RED_FLOATING:return t.contents.map(H.getHeight).reduce(ne.heightReducer);case l.k.RED_HIGHLIGHTS:if(ee.setScreenWidth(ne.screenWidth),t.viewType===W.i.SMALL)return t.contents.map(M.getHeight).reduce(ne.heightReducer);if(t.viewType===W.i.BIG)return t.contents.map(N.getHeight).reduce(ne.heightReducer)}return 0};const re=(0,r.A)(X,ne);class ae extends n.A{getWidgetClass(e){return re}getWidgetHeight(e){return re.getWidgetHeight(e)}}},696578:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(918210),r=i(90513),a=i(229833),o=i(97529),s=i(159874);const l="ListShoppingExperience";class d{handleAction(e,t,i){var d,c;const u=e.payload;if(!u)return!1;let h={};const p=u.trackingData||{},{findingMethod:g,otracker1:m,pageType:v,widgetTitle:_,newValue:C,oldValue:E,position:T}=p;let{sProduct:f,eVar122:A,eVar51:S,eVar61:y}=p;const w="AddToBasket";switch(u.marketplaceTrackingDataMap&&(h=(0,s.Gq)(u.marketplaceTrackingDataMap,t.pageMeta.pageName)),u.type){case o.A.PMU_HORIZONTAL_EXTENDED_ADD_TO_BASKET:this.addEvar30(m,h),g&&(f=f?`${f}|eVar51=${g}|eVar61=${g}`:`eVar51=${g}|eVar61=${g}`),v&&(h[r.Ay.EVAR50]=v),_&&(f=f?`${f}|eVar18=ppv_${_.replace(/ /g,"_").toLowerCase()}`:`eVar18=ppv_${_.replace(/ /g,"_").toLowerCase()}`),f&&(h[r.Ay.PRODUCTS]=f),this.addRemoveEvent(C,E,w,h);break;case o.A.PMU_HORIZONTAL_ADD_TO_BASKET:if(this.addEvar30(m,h),f&&_){let e="";const i=null!==(d=p.viewType)&&void 0!==d?d:"",n=`${i}_${_.replace(/ /g,"_")}_${v}`;e=a.A.getSProductAdding(r.Ay.EVAR18,n,f);let o=`${null!==(c=p.widgetType)&&void 0!==c?c:""}_${g}_ProductList_${i}_${_.replace(/ /g,"_")}`,s=`${o}_${T}_${t.pageMeta.pageType}`;S===l&&y===l&&(o=S,s=y),y!==l&&(s=`${s}.${y}`),e=a.A.getSProductAdding(r.Ay.EVAR51,o,e),e=a.A.getSProductAdding(r.Ay.EVAR61,s,e),h[r.Ay.PRODUCTS]=e}else f&&A&&(h[r.Ay.PRODUCTS]=f,h[r.Ay.EVAR122]=A,p.eVar50&&(h[r.Ay.EVAR50]=p.eVar50),a.A.addEvent(h,r.fM.EVENT315));p.eVar178&&(h[r.Ay.EVAR178]=p.eVar178),this.addRemoveEvent(C,E,w,h);break;case o.A.PMU_HORIZONTAL_PPV_CLICK:this.addEvar30(m,h),f&&(h[r.Ay.PRODUCTS]=f),n.A.addPageData(h);break;default:return!1}return!0}addRemoveEvent(e,t,i,o){e>t?(a.A.addEvent(o,r.fM.EVENT_SC_ADD,r.PY.COUNTER_CONST),a.A.addEvent(o,r.fM.EVENT157,r.PY.COUNTER_CONST)):a.A.addEvent(o,r.fM.EVENT_SC_REMOVE),n.A.addAndtrackEventUnderName(i,o)}addEvar30(e,t){e&&(t[r.Ay.EVAR30]=e)}}},697005:(e,t,i)=>{"use strict";var n;i.d(t,{$:()=>n}),function(e){e.INTERSTITIAL_BOTTOM_SHEET_PP_ATC="Interstitial_bottom_sheet_pp_atc"}(n||(n={}))},699730:(e,t,i)=>{"use strict";i.d(t,{BX:()=>E,Cx:()=>D,DQ:()=>_,Fb:()=>O,ID:()=>T,J3:()=>s,Jb:()=>v,Jf:()=>N,Md:()=>P,Q9:()=>C,QO:()=>M,ST:()=>l,TO:()=>G,V7:()=>B,Vc:()=>U,Wc:()=>w,YM:()=>F,Z4:()=>S,ab:()=>h,ap:()=>u,b6:()=>A,cx:()=>R,d_:()=>f,fK:()=>k,hQ:()=>y,jG:()=>L,kW:()=>z,lK:()=>c,nA:()=>b,nO:()=>H,po:()=>m,qC:()=>W,qj:()=>x,uM:()=>V,vj:()=>d,wL:()=>g,wM:()=>I,z_:()=>p});var n=i(302019),r=i(877293),a=i(492418),o=i(305459);const s=n.az.extendComponent({name:"MainContainer",defaultProps:{px:"s6",py:"s8",bg:"v2.neutral.0",width:r.Dimensions.get("window").width}}),l=n.JU.extendComponent({name:"UploadHeaderLabel",defaultProps:{color:a.Jyk.darkBlack,font:"l_medium",mb:"s8"}}),d=n.az.extendComponent({name:"UploadCardItem",defaultProps:{px:"s4",justifyContent:"flex-start",width:104,height:100,alignItems:"center"}}),c=n.JU.extendComponent({name:"UploadCardItemLabel",defaultProps:{color:a.Jyk.blackPrimary,font:"m",textAlign:"center"}}),u=n.az.extendComponent({name:"UploadCardIcon",defaultProps:{alignItems:"center",mb:"s2",borderRadius:8,p:"s5",height:52,bg:"v2.neutral.100"}}),h=n.fI.extendComponent({name:"RowSpaceAround",defaultProps:{justifyContent:"space-around",bg:"v2.neutral.0"}}),p=n.az.extendComponent({name:"UploadButtonContainer",defaultProps:{flex:1,p:"s6",mb:"s4",bg:"v2.neutral.0"}}),g=n.az.extendComponent({name:"SliderMainContainer",defaultProps:{width:r.Dimensions.get("window").width,px:"s6",py:"s5"}}),m=n.JU.extendComponent({name:"SliderHeaderLabel",defaultProps:{color:a.Jyk.darkBlack,font:"m_medium",pr:"s2"}}),v=n.fI.extendComponent({name:"SliderContainer",defaultProps:{alignItems:"center",pt:"s5"}}),_=n.az.extendComponent({name:"SliderContainer",defaultProps:{alignItems:"center",justifyContent:"flex-start",p:"s4",borderRadius:8,mr:"s4",width:88,bg:"v2.neutral.100"}}),C=n.az.extendComponent({name:"SliderItemImage",defaultProps:{alignItems:"center",justifyContent:"center",mb:"s2",width:72,height:72}}),E=n.JU.extendComponent({name:"SliderItemLabel",defaultProps:{font:"s",textAlign:"center",color:a.Jyk.blackPrimary,numberOfLines:1,ellipsizeMode:"tail"}}),T=n.az.extendComponent({name:"SliderDetailContainer",defaultProps:{flex:1,flexDirection:"column",justifyContent:"space-between",bg:"v2.neutral.0"}}),f=n.az.extendComponent({name:"SliderDetailItemContainer",defaultProps:({isSeparator:e})=>Object.assign({flex:1,flexDirection:"row",py:"s5"},e&&{borderBottomColor:a.Jyk.backgroundVeryLightGray,borderBottomWidth:1})}),A=n.az.extendComponent({name:"SliderImageDetailContainer",defaultProps:{p:"s5",mb:"s4",alignItems:"center",bg:"v2.neutral.100"}}),S=n.JU.extendComponent({name:"SliderDetailTitle",defaultProps:{font:"s_medium",color:a.Jyk.textColor}}),y=n.JU.extendComponent({name:"SliderDetailSubTitle",defaultProps:{font:"s",color:a.Jyk.textColor,mt:"s2"}}),w=n.JU.extendComponent({name:"SavedRxLabel",defaultProps:{color:a.Jyk.blackPrimary}}),I=n.az.extendComponent({name:"SavedRxImageContainer",defaultProps:{my:"s4",mr:"s4",bg:"v2.neutral.100"}}),b=n.az.extendComponent({name:"SavedRxImage",defaultProps:{position:"absolute",top:0,right:0,bg:a.Jyk.backgroundVeryLightGray}}),D=n.JU.extendComponent({name:"SavedRxImageCount",defaultProps:{px:"s4",py:"s1",color:a.Jyk.greyPrimary}}),x=n.az.extendComponent({name:"SavedRxImageIcon",defaultProps:{position:"absolute",bottom:0,right:0,bg:a.Jyk.backgroundVeryLightGray}}),P=n.az.extendComponent({name:"SavedRxSelectedBox",defaultProps:{bg:"v2.neutral.0",overflow:"hidden",p:"s6",maxHeight:500}}),O=n.az.extendComponent({name:"AnnouncementBox",defaultProps:{bg:"v2.neutral.0",p:"s6",flexWrap:"wrap"}}),R=o.xM.extendComponent({name:"AnnouncementHeaderBox",defaultProps:{bg:"v2.neutral.0",alignItems:"center",justifyContent:"flex-start"}}),k=n.az.extendComponent({name:"AnnouncementHeaderIconBox",defaultProps:{flexWrap:"wrap",resizeMode:"contain",mr:"s6"}}),V=n.az.extendComponent({name:"RadioSubViewBox",defaultProps:{py:"s4",borderTopWidth:1,borderStyle:"dashed",borderColor:"v2.neutral.400"}}),L=n.fI.extendComponent({name:"RadioImagesBox",defaultProps:{my:"s5",flexWrap:"wrap"}}),M=n.az.extendComponent({name:"RadioImageBox",defaultProps:({isFailedView:e})=>Object.assign({borderWidth:1,borderRadius:4,borderColor:a.Jyk.backgroundVeryLightGray,bg:"v2.neutral.0",height:62,width:62,justifyContent:"center",alignItems:"center",mr:"s4",mb:"s2"},e&&{borderColor:"v2.error.50",bg:"v2.error.50"})}),N=n.az.extendComponent({name:"RadioAddIconBox",defaultProps:{borderWidth:1,borderRadius:4,borderColor:"v2.primary.500",height:62,width:62,justifyContent:"center",alignItems:"center"}}),H=n.fI.extendComponent({name:"RadioErrorBox",defaultProps:{mb:"s2",flexWrap:"wrap",alignItems:"center"}}),W=n.JU.extendComponent({name:"RadioErrorLabel",defaultProps:{font:"s",ml:"s2",color:"v2.error.600",flex:1}}),B=n.fv.extendComponent({name:"EmptyRxContainer",defaultProps:{alignItems:"center",justifyContent:"center",bg:a.Jyk.paleGray,p:"s6"}}),U=n.az.extendComponent({name:"EmptyRxButtonBox",defaultProps:{bg:a.Cf1.fkBlueColor,justifyContent:"center",alignItems:"center",width:160,height:44,mt:"s9",borderRadius:3,py:"s4"}}),F=n.az.extendComponent({name:"UploadQueuedBox",defaultProps:{position:"absolute",left:0,top:0,bottom:0,right:0,justifyContent:"center",zIndex:1}}),G=n.az.extendComponent({name:"RemoveImageBox",defaultProps:{position:"absolute",top:0,right:0,zIndex:2}}),z=n.az.extendComponent({name:"UploadFailedBox",defaultProps:{position:"absolute",left:0,top:0,bottom:0,right:0,justifyContent:"center",alignItems:"center",zIndex:1}})},702325:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var n=i(918210),r=i(90513),a=i(229833),o=i(417716);class s{handleAction(e,t,i){var s;const l=e.payload,d={},c=null===(s=t.pageDataResponse)||void 0===s?void 0:s.trackingContext,u=null==c?void 0:c.tracking;if(l){const e=l.trackingParams;if(d[r.Ay.EVAR30]=l.oTracker1,a.A.addEvar68(d,l.oTracker1),d[r.Ay.EVAR20]=l.oTracker,d[r.Ay.EVAR29]="pp_reco_"+l.index,u){const e=u[r.Ay.PROP62];e&&(d[r.Ay.PROP62]=e)}(0,o.mq)(d,t.pageMeta,i,l.oTracker1,l.contentType,e),a.A.addEvent(d,r.fM.EVENT1),a.A.addEvent(d,r.fM.EVENT2),n.A.addPageData(d)}return!0}}},704560:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ViewTypes:()=>O,default:()=>R});var n=i(296540),r=i(877293),a=i(52754),o=i(5813),s=i(723372),l=i(479892),d=i(60469),c=i(972904),u=i(352254),h=i(468248),p=i(868261),g=i(45426),m=i(415283),v=i(914944),_=i(257246),C=i(670563),E=i(879052);class T{constructor(e){const t=e&&e.data,i=null==t?void 0:t.summary;this.expandableContainerStyle=[l.C1.padding_horizontal_16],this.expandableTitleContainerStyle=[l.C1.padding_top_16,l.C1.padding_bottom_10],this.expandableTitleStyle=[l.XT.fontRegular_14],this.offersContainerStyle=[l.C1.contentSelfAlignStretch],this.collapsibleContainerStyle=[l.C1.padding_left_16,l.C1.padding_right_18,l.C1.rowSpaceBetween,l.C1.padding_vertical_12,l.C1.alignItemCenter,l.C1.border_top_width_1,l.C1.color_border_separator],i&&this.collapsibleContainerStyle.push(l.C1.margin_top_10),this.collapseTitleStyle=[l.XT.fontRegular_14,l.XT.lineHeight_20,l.XT.letterSpacing_15],this.dividerStyle=l.C1.separatorLine,this.chevronStyle=[p.n8.chevronImage,l.C1.black_tint_color]}}class f extends c.A{constructor(e){super(e),this.handleAllOffersClick=(e,t)=>{t&&this.dispatchAction&&this.dispatchAction(m.Q3.MAPI_ACTION,new v.Oy(t)),this.trackDiscoveryWidgetClickEvent()},this.handleEDClaimAction=(e,t)=>{this.dispatchAction&&t&&(this.trackDiscoveryContentClickEvent(t.tracking),this.dispatchAction(m.Q3.MAPI_ACTION,new v.Oy(t)))};const t=(0,a.nS)(this.props.widgetSlotData);this.viewModel=new T(t)}static getWidgetHeight(e){var t;const i=(0,a.xH)(e.widgetSlotData);if(!i)return 0;let n=0;return n+=(null===(t=i.summary)||void 0===t?void 0:t.offerSummaries)?40*i.summary.offerSummaries.length:0,n+=i.allOffers?44:0,n+this.getAdditionalHeight(e)}renderOffersExpandable(e){const t=null==e?void 0:e.offerSummaries;return n.createElement(r.View,{style:this.viewModel.expandableContainerStyle},e.newTitle&&n.createElement(r.View,{style:this.viewModel.expandableTitleContainerStyle},this.renderTitle(e.newTitle)),t&&n.createElement(r.View,{style:this.viewModel.offersContainerStyle},this.renderOffersList(t)))}renderTitle(e){return n.createElement(o.Ay,{messages:e.data,containerStyle:l.C1.margin_bottom_4,textDefaultStyle:[l.XT.fontRegular_14,(0,_.Qn)(this.props.themeContext)],imageStyle:l.C1.margin_right_6,isStyleEnabled:!0})}renderWidget(){const e=(0,a.xH)(this.props.widgetSlotData);if(!e)return;const t=null==e?void 0:e.summary,i=null==e?void 0:e.allOffers;return n.createElement(r.View,{style:l.C1.col},t?this.renderDivider():void 0,t?this.renderOffersExpandable(t):void 0,i?this.renderCollapsible(i):void 0)}renderCollapsible(e){const t=null==e?void 0:e.value;return t?n.createElement(g.S,Object.assign({},(0,E.Z)("Offer_Widget_Container"),{onPress:this.handleAllOffersClick,onPressParam:e.action}),n.createElement(r.View,{style:[this.viewModel.collapsibleContainerStyle,(0,_.No)(this.props.themeContext),{borderTopColor:(0,_.gj)(this.props.themeContext)}]},n.createElement(s.A,Object.assign({},(0,E.Z)("Offer_Widget_Title"),{messages:t,textDefaultStyle:this.viewModel.collapseTitleStyle,applyFontWeightFix:!0})),n.createElement(u.A,Object.assign({},(0,E.Z)("Offer_Widget_Chevron"),{source:h.j.getChevronSrc().uri,style:[this.viewModel.chevronStyle,{tintColor:(0,_.Qe)(this.props.themeContext)}],height:p.fs,width:p.fs})))):null}renderOffersList(e){return n.createElement(d.Ay,{offerSummaries:e,onChevronClick:this.offersChevronClick,dispatchAction:this.dispatchAction,screenWidth:this.getScreenWidth(),uniqueViewId:this.state.uniqueViewId,handleEDClaimAction:this.handleEDClaimAction})}renderDivider(){var e;const t=null!==(e=(0,_.gj)(this.props.themeContext))&&void 0!==e?e:C.Jy.separator;return n.createElement(r.View,{style:[this.viewModel.dividerStyle,{backgroundColor:t}]})}}var A=i(387393),S=i(495176),y=i(911294),w=i(938777),I=i(1319),b=i(950512);var D=i(607166);var x=i(465420);const P=(0,A.A)(class extends f{constructor(){super(...arguments),this._accordianClick=e=>{if("web"===r.Platform.OS){const e={type:I.J.ExpandOffersTDAccordian};this.dispatchAction(m.Q3.EXPAND_ACTION,new I.Z(e))}},this._renderHeader=(e,t)=>{if(e)return n.createElement(d.Ay,{offerSummaries:t.slice(2),onChevronClick:this.offersChevronClick,dispatchAction:this.dispatchAction,screenWidth:this.getScreenWidth(),uniqueViewId:this.state.uniqueViewId,handleEDClaimAction:this.handleEDClaimAction});const i=t.length-2,r=i>1?w._EF:w.FJ0,a=[l.C1.margin_left_25,l.XT.fontMedium_14,l.XT.fkButtonDarkBlueColor,l.C1.margin_top_4];return n.createElement(S.A,{style:a,text:`${y.Zx} ${i} ${r}`})}}renderOffersList(e){const t=[{header:t=>this._renderHeader(t,e)}];return e.length-2>0?n.createElement(n.Fragment,null,n.createElement(d.Ay,{offerSummaries:e.slice(0,2),onChevronClick:this.offersChevronClick,dispatchAction:this.dispatchAction,screenWidth:this.getScreenWidth(),uniqueViewId:this.state.uniqueViewId,handleEDClaimAction:this.handleEDClaimAction}),n.createElement(b.A,{content:t,onChange:this._accordianClick})):n.createElement(d.Ay,{offerSummaries:e,onChevronClick:this.offersChevronClick,dispatchAction:this.dispatchAction,screenWidth:this.getScreenWidth(),uniqueViewId:this.state.uniqueViewId,handleEDClaimAction:this.handleEDClaimAction})}},class extends f{constructor(){super(...arguments),this._accordianClick=e=>{if("web"===r.Platform.OS){const e={type:I.J.ExpandOffersTDAccordian};this.dispatchAction(m.Q3.EXPAND_ACTION,new I.Z(e))}},this._renderHeader=(e,t)=>{if(e)return n.createElement(D.A,{offerSummaries:t.slice(2),onChevronClick:this.offersChevronClick,dispatchAction:this.dispatchAction,screenWidth:this.getScreenWidth(),uniqueViewId:this.state.uniqueViewId,handleEDClaimAction:this.handleEDClaimAction});const i=t.length-2,r=i>1?w._EF:w.FJ0,a=[l.C1.margin_left_25,l.XT.fontMedium_14,l.XT.fkButtonDarkBlueColor,l.C1.margin_top_4];return n.createElement(S.A,{style:a,text:`${y.Zx} ${i} ${r}`})}}renderOffersList(e){const t=[{header:t=>this._renderHeader(t,e)}];return e.length-2>0?n.createElement(n.Fragment,null,n.createElement(D.A,{offerSummaries:e.slice(0,2),onChevronClick:this.offersChevronClick,dispatchAction:this.dispatchAction,screenWidth:this.getScreenWidth(),uniqueViewId:this.state.uniqueViewId,handleEDClaimAction:this.handleEDClaimAction}),n.createElement(b.A,{content:t,onChange:this._accordianClick})):n.createElement(D.A,{offerSummaries:e,onChevronClick:this.offersChevronClick,dispatchAction:this.dispatchAction,screenWidth:this.getScreenWidth(),uniqueViewId:this.state.uniqueViewId,handleEDClaimAction:this.handleEDClaimAction})}});var O;!function(e){e.OFFER_DETAILS_TD_WIDGET="OFFER_DETAILS_TD_WIDGET",e.OFFER_DETAILS_V2_WIDGET="OFFER_DETAILS_V2_WIDGET"}(O||(O={}));class R extends x.A{getWidgetClass(e){return"OFFER_DETAILS_TD_WIDGET"===a.KJ(e.widgetSlotData)?P:f}getWidgetHeight(e){return f.getWidgetHeight(e)}}},709392:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var n=i(415283),r=i(180937),a=i(146387),o=i(90035);class s{handleAction(e,t,i){var s;switch(e.type){case n.Q3.UPDATE_PAGE_TRANSIENT_DATA:if(e.payload instanceof a.pN){const r=t.pageDataResponse,a=e.payload,l=null==a?void 0:a.transientDataType;if(r&&l){const e=r.pageTransientData&&r.pageTransientData.data?r.pageTransientData.data:void 0,d=Object.assign({},e);d[l]=null==a?void 0:a.transientData;const c=Object.assign(Object.assign({},r),{pageTransientData:{data:d}});i({type:n.Q3.UPDATE_PAGE_RESPONSE_DATA,payload:c}),(0,o.gg)(t).updatePageData(t.pageMeta.pageURI,c,null===(s=t.widgetsData)||void 0===s?void 0:s.stickerToPageSlotIndexMap)}}break;case n.Q3.UPDATE_PAGE_INSTANCE_DATA:if(e.payload instanceof a.i1){const a=t.pageInstanceData,o=e.payload,s=null==o?void 0:o.instanceDataType;if(s){const l=Object.assign({},a);l[s]=(null==o?void 0:o.instanceData)?Object.assign({},o.instanceData):void 0,i({type:n.Q3.UPDATE_PAGE_INSTANCE_STATE,payload:l}),r.s.updatePageInstanceData(t.pageMeta.pageUID,l,this._getExtraMessage(t,e.payload))}}break;case n.Q3.UPDATE_PAGE_INSTANCE_DATA_ON_CHANGE_URI:{const e=t.pageInstanceData;let a;if(e)for(const t in e)if(e.hasOwnProperty(t)){const i=t;if(i){const t=e[i];t&&t.clearOnChangeURI&&(a||(a=Object.assign({},e)),delete a[i])}}a&&(i({type:n.Q3.UPDATE_PAGE_INSTANCE_STATE,payload:a}),r.s.updatePageInstanceData(t.pageMeta.pageUID,a,this._getExtraMessage(t)));break}}return!0}_getExtraMessage(e,t){return"Type: "+(t?t.instanceDataType:"Default")+" Page: "+e.pageMeta.shortPageType}}},709735:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ViewTypes:()=>M,default:()=>N});var n=i(387393),r=i(683102),a=i(612990),o=i(465420),s=i(52754);class l extends r.A{isRatingRounded(){return!0}}class d extends a.A{isRatingRounded(){return!0}}var c=i(296540),u=i(877293),h=i(809400),p=i(410752),g=i(492127),m=i(997282),v=i(399722),_=i(897846),C=i(492418),E=i(693427),T=i(911294),f=i(235232),A=i(253547),S=i(927443),y=i(501113),w=i(349054),I=i(479892),b=i(420721);class D extends g.A{constructor(e,t){super(e,t),this.DEFAULT_MORE_TEXT=(0,b.ak)(this.context.locale,{id:p.H.rex_string_MORE_TEXT}),this.expandReview=()=>{this.props.didExpandHandler(this.props.index,this.props.trackingParams,!0,this.props.productReviewRC)},this._onTextLayout=e=>{e.nativeEvent.layout.height>=D.DEFAULT_TEXT_HEIGHT&&this.state.shouldRenderTruncableText&&this.setState({shouldRenderTruncableText:!1})},this.state=this.getDerivedState(e,void 0)}getDerivedState(e,t){return t||{shouldRenderTruncableText:!0}}renderReviewView(e){var t;const i=e.location,n=e.reviewPropertyMap||{},r=this.isDownvoteSelected(e),a=this.isUpvoteSelected(e),o=e.rating||0,s=e.downvote&&e.downvote.value?f.A.getRelativeNumber(e.downvote.value.count):"0",l=e.upvote&&e.upvote.value?f.A.getRelativeNumber(e.upvote.value.count):"0",d=(null===(t=this.props.transientData)||void 0===t?void 0:t.showReportAbuse)||!1,h=`${e.rating} ${T.bh}`,p=e.created,{fetchId:g,productId:b,sProduct:x,source:P}=this.props.trackingParams,O=(null==e?void 0:e.reviewTypeDisplayText)!==T.u1?e.reviewTypeDisplayText:void 0,R={minHeight:!e.text||e.images&&0!==e.images.length?e.text&&e.text.length<D.DEFAULT_CHAR_LIMIT&&e.images&&e.images.length>0?D.DEFAULT_MIN_HEIGHT_WITH_IMAGES:0:D.DEFAULT_TEXT_HEIGHT-2};return c.createElement(u.View,{style:m.a.singleReviewContainer},c.createElement(u.View,{style:[I.C1.rowWithoutFlex,I.C1.alignItemCenter,I.C1.wrap,I.C1.margin_right_16]},c.createElement(y.A,{text:h,backgroundColor:(0,S.t0)(o),pillBorderStyle:this.props.isRatingRounded?w.C.standardRoundedPillBorder:void 0}),c.createElement(u.Text,{style:m.a.reviewTitle,numberOfLines:2},e.title),O&&c.createElement(u.Text,{style:m.a.reviewLanguageIndicator},O)),e.text&&this.state.shouldRenderTruncableText?c.createElement(_.A,{text:e.text,isExpanded:!1,onPress:this.expandReview,containerStyle:[I.XT.fontRegular_14,I.C1.padding_bottom_8,I.C1.padding_top_16,m.a.maxHeight,R],truncateAfterCharLimit:200,onTextLayout:this._onTextLayout}):c.createElement(u.Text,{style:[I.XT.fontRegular_14,I.XT.fkLabelColorText,R,I.C1.padding_top_16],numberOfLines:6},e.text),this.state.shouldRenderTruncableText?null:c.createElement(u.Text,{style:[I.XT.fontRegular_14,I.XT.fkBlueText,I.C1.padding_bottom_8],suppressHighlighting:!0,onPress:this.expandReview},this.DEFAULT_MORE_TEXT),e.images&&e.images.length>0&&this.props.enableReviewImages?c.createElement(E.N,{images:e.images,didClickImage:this.didClickImage,screenWidth:this.props.screenWidth,maxImageCount:C.Yth,trackingParams:{fetchId:g,productId:b,reviewId:e.id,sProduct:x,source:P},productImageContainerStyle:[I.C1.border_radius_2,I.C1.margin_right_8,I.C1.justifyContentCenter,I.C1.overflowHidden]}):null,c.createElement(v.A,{authorName:e.author,location:i,created:p,isDownvoteEnabled:r,downVoteCount:s,isUpvoteEnabled:a,upVoteCount:l,reviewPropertyMap:n,didDownvoteHandler:this.didSelectDownVote,didUpvoteHandler:this.didSelectUpVote,didShowMenuHandler:this.didSelectReportAbuse,reportAbuseVisible:!0}),d?c.createElement(A.A,{getItemViews:this.getMenuItemViews(e),menuViewContainerStyle:m.a.reportAbuseMenuContainer,hideMenuHandler:this.didHideReportAbuse}):null)}}D.DEFAULT_CHAR_LIMIT=80,D.DEFAULT_TEXT_HEIGHT=120,D.DEFAULT_MIN_HEIGHT_WITH_IMAGES=50,D.contextType=b.V8;var x=i(938777),P=i(560203),O=i(720920);class R extends r.A{constructor(e){super(e),this.DEFAULT_CONTENT_HEIGHT=430,this.DEFAULT_CONTAINER_HEIGHT=356,this.DEFAULT_CONTAINER_WIDTH=300,this._calculateDimensions=()=>({width:this.DEFAULT_CONTAINER_WIDTH,height:this.DEFAULT_CONTAINER_HEIGHT}),this._renderItems=(e,t,i)=>{var n;const a=(0,s.Nt)(this.props.widgetSlotData),o=(0,s.nS)(this.props.widgetSlotData),l=null==o?void 0:o.data,d=this.props.appContext.userManager.isFeatureAvailable(x.xA$),u=this.props.appContext.uiContext.windowFrame.width,h=this.isModal();return(null==l?void 0:l.renderableComponents)?c.createElement(O.y,{style:i===l.renderableComponents.length-1?[this.cardContainerStyle,I.C1.margin_right_16]:this.cardContainerStyle,elevation:4,shadowRadius:2,shadowOffset:{width:0,height:1},shadowOpacity:.6,shadowColor:C.Jyk.darkGrey},c.createElement(D,{productReviewRC:t,tracking:t.tracking,transientData:(null==a?void 0:a.items)&&a.items[i],index:i,didExpandHandler:this.didExpandHandler,didUpvoteHandler:this.didUpvoteHandler,didDownvoteHandler:this.didDownvoteHandler,didBadgeClickHandler:this.didBadgeClickHandler,didShowAbuseHandler:this.didShowAbuseHandler,didReportAbuseHandler:this.didReportAbuseHandler,didHideAbuseHandler:this.didHideAbuseHandler,didClickImage:this.didClickImage,screenWidth:3*u/4,enableReviewImages:d,isRatingRounded:this.isRatingRounded(),isAlwaysExpanded:h,reportAbuseVisible:!h,trackingParams:{fetchId:this.getTrackingParam("FETCH_ID"),productId:this.getTrackingParam("PRODUCT_ID"),sProduct:this.getTrackingParam("S_PRODUCT"),source:x.nbx,type:r.A.PRODUCT,aspectId:r.A.ASPECT_ID,appLanguage:this.props.appContext.locale,reviewId:null===(n=t.value)||void 0===n?void 0:n.id}})):null},this.cardContainerStyle=[I.C1.padding_16,I.C1.colWithoutFlex,I.C1.margin_left_16,I.C1.margin_top_16,I.C1.margin_bottom_16,I.C1.alignItemFlexStart,I.C1.justifyContentStart,I.C1.border_radius_2,I.C1.backgroundWhite,m.a.cardMaxHeight]}static getWidgetHeight(e){const t=(0,s.nS)(e.widgetSlotData),i=null==t?void 0:t.data;return(null==i?void 0:i.renderableComponents)?R.getReviewsHeight(i):this.NO_REVIEW_HEIGHT}static getReviewsHeight(e){if(!(null==e?void 0:e.renderableComponents))return 0;let t=0;return e.renderableComponents.reduce(((e,i)=>i.value?(t=i.value.images&&i.value.images.length>0?340:252,t>e&&(e=t),e):e),0)}renderWidget(){const e=(0,s.nS)(this.props.widgetSlotData),t=null==e?void 0:e.data;return(null==t?void 0:t.renderableComponents)?c.createElement(u.View,null,c.createElement(h.E,{containerStyle:[this.viewModel.containerStyle,m.a.containerMinHeight],forceNonDeterministicRendering:!0,disableRecycling:!0,calculateDimensions:this._calculateDimensions,data:t.renderableComponents,renderItem:this._renderItems,estimatedContentHeight:this.DEFAULT_CONTENT_HEIGHT,forceReRenderWidgetListView:this.props.forceReRenderWidgetListView}),c.createElement(P.A,{marginBottomVal:0,marginTopVal:0,heightVal:C.Nsv})):c.createElement(u.Text,null,this.localize({id:p.H.rex_string_reviews_constants_NO_REVIEWS}))}}R.REVIEW_TEXT_MAX_HEIGHT=120;class k extends R{isRatingRounded(){return!0}}const V=(0,n.A)(r.A,a.A),L=(0,n.A)(l,d);var M;!function(e){e.LIFESTYLE="LIFESTYLE",e.RATING_ROUNDED="RATING_ROUNDED",e.HORIZONTAL_CAROUSEL="HORIZONTAL_CAROUSEL",e.HORIZONTAL_CAROUSEL_RATING_ROUNDED="HORIZONTAL_CAROUSEL_RATING_ROUNDED",e.HORIZONTAL_CAROUSEL_LIFESTYLE="HORIZONTAL_CAROUSEL_LIFESTYLE"}(M||(M={}));class N extends o.A{getWidgetClass(e){switch((0,s.KJ)(e.widgetSlotData)){case"RATING_ROUNDED":case"LIFESTYLE":return L;case"HORIZONTAL_CAROUSEL":return R;case"HORIZONTAL_CAROUSEL_RATING_ROUNDED":case"HORIZONTAL_CAROUSEL_LIFESTYLE":return k;default:return V}}getWidgetHeight(e){switch((0,s.KJ)(e.widgetSlotData)){case"HORIZONTAL_CAROUSEL":case"HORIZONTAL_CAROUSEL_RATING_ROUNDED":case"HORIZONTAL_CAROUSEL_LIFESTYLE":return R.getWidgetHeight(e);default:return V.getWidgetHeight(e)}}}},712428:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(90513),r=i(229833),a=i(918210);class o{handleAction(e,t,i){if(e.payload&&t){const i=t.pageDataResponse&&t.pageDataResponse.pageContext&&t.pageDataResponse.pageContext,o={};i&&i.trackingDataV2&&(r.A.fillOmnitureValues([n.Ay.PROP3],o,t),o[n.Ay.PROP62]=`${e.payload.bucketName}_${e.payload.source}_${e.payload.totalImageCount}_${e.payload.position}`,o[n.Ay.PRODUCTS]=i.trackingDataV2.sproduct,a.A.addAndtrackEventUnderName(e.payload.action,o))}return!0}}},713e3:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>O});var n=i(465420),r=i(296540),a=i(877293),o=i(52754),s=i(438993),l=i(561310),d=i(857850),c=i(322392),u=i(4880),h=i(732026),p=i(241598),g=i(352254),m=i(171539),v=i(815946),_=i(624801),C=i(914944),E=i(309865),T=i(311676),f=i(390437),A=i(580555),S=i(957775);const y=a.Dimensions.get("window").width,w=({title:e})=>r.createElement(p.JU,{pb:"s6",typography:"heading",color:"foreground.default.primary"},e),I=({data:e,onHyperlinkPress:t})=>{var i;if(!e)return null;const{subtitle:n,hyperlink:a,additionalMessage:o}=e,s=null===(i=null==o?void 0:o.image)||void 0===i?void 0:i.dynamicImageUrl;return n?r.createElement(p.az,{flexDirection:"row",alignItems:"center",pb:"s6"},s?r.createElement(g.A,{style:{marginRight:12},source:s,height:54,width:54}):null,r.createElement(p.az,{flex:1,flexDirection:"column"},r.createElement(p.JU,{pb:"s4",flexWrap:"wrap",typography:"body"},n.replace(/\*/,"").concat(" ")),a?r.createElement(p.az,{alignSelf:"flex-start",flexDirection:"row",bg:"backgroundSubtle.brandPrimary.group",px:"s3",py:"s2",borderRadius:_.CRKeysBasic.cr4},r.createElement(p.JU,{onPress:e=>{t(e,null==a?void 0:a.action)},color:"foreground.brandPrimary.link",typography:"subheading"},null==a?void 0:a.text),r.createElement(p.az,{p:"s1",alignItems:"center",justifyContent:"center"},r.createElement(E.I,{alignContent:"center",name:"CaretRightBlue",size:14,strokeWidth:2,strokeColor:"foreground.brandPrimary.link"}))):null)):null},b=({data:e,onHyperlinkPress:t})=>{if(!e)return null;const{title:i}=e;return r.createElement(r.Fragment,null,i?r.createElement(w,{title:i}):null,r.createElement(I,{data:e,onHyperlinkPress:t}))},D=({btnData:e,isPrimary:t,onPressAction:i})=>{if(!e||!e.action)return null;const n=t?"Keep":"Remove",a=t?"primary":"quaternary";return r.createElement(p.az,{flex:1},r.createElement(m.$n,{onPress:t=>i(t,e.action),height:24,typography:"subheading",text:n,size:"large",hierarchy:a,iconAlignment:"right",NativeLinearGradient:v.d}))},x=({actions:e,onAction:t})=>{const[i,n]=e||[];return n&&i?r.createElement(p.az,{flexDirection:"row",justifyContent:"space-evenly",pt:"s4",gap:"s4"},r.createElement(D,{btnData:i,isPrimary:!1,onPressAction:t}),r.createElement(D,{btnData:n,isPrimary:!0,onPressAction:t})):null};class P extends s.A{constructor(){super(...arguments),this.howToRegisterActionHandler=(e,t)=>{if(t)if("ios"===a.Platform.OS){const{actionDispatcher:e}=this.props;e?(e(new l.iM(l.xH.CLOSE_MODAL)),setTimeout((()=>{this.dispatchAction(d.Q3.MAPI_ACTION,new C.rs(t))}),150)):this.dispatchAction(d.Q3.MAPI_ACTION,new C.rs(t))}else this.dispatchAction(d.Q3.MAPI_ACTION,new C.rs(t))},this._handleAction=(e,t)=>{var i;const{actionDispatcher:n}=this.props;if(n){if(n(new l.iM(l.xH.CLOSE_MODAL)),(null==t?void 0:t.type)===c.X.POPUP_DISMISS&&this._trackDCEAction(t,"KEEP"),!(null==t?void 0:t.params))return;const{remove:e}=t.params;e&&this._trackDCEAction(e,"REMOVE");const{params:{add:r,remove:a,snackBar:o},type:s}=t;if(s===c.X.CART_REMOVE){n({type:d.Q3.ATTACH_ACTION,payload:new u.A(r,a)});const e=null===(i=null==o?void 0:o.title.value)||void 0===i?void 0:i.text;if(r&&e){const t={design:0,type:0};(0,h.Pc)(t,e,n)}}}},this._trackDCEAction=(e,t)=>{var i,n,r,a,s;if(!e||!this.props.actionDispatcher)return;const l=(0,o.nS)(this.props.widgetSlotData),d=null==l?void 0:l.data,c=e.tracking||(null===(i=this.state.trackingParams)||void 0===i?void 0:i.getTracking())||{},u="REMOVE"===t,h=Object.assign(Object.assign({},c),{[A.bF]:"Legal mandatory popup",[A.Zg]:u?"Remove":"Keep",[A.Sw]:c.position||(null===(r=null===(n=this.props.widgetSlotData)||void 0===n?void 0:n.position)||void 0===r?void 0:r.toString())||"0",[A.uR]:(null==d?void 0:d.title)||c.widgetTitle||"Insurance Popup",productId:c.productId,timestamp:Date.now().toString(),contentImpressionId:c.contentImpressionId||(null===(s=null===(a=this.state.trackingParams)||void 0===a?void 0:a.getTracking())||void 0===s?void 0:s.impressionId)||""}),p=new T.bTP(u?f.O.REMOVE:f.O.ADD,this.state.uniqueViewId,new A.Ay(h),void 0,void 0,void 0,!0);this.props.actionDispatcher(new T.ax6(p))}}componentDidMount(){super.componentDidMount(),this.props.actionDispatcher&&(0,S.dispatchDgAction)(d.bu.ABB_INSURANCE_RTO_POPUP,this.props.actionDispatcher)}renderWidget(){const e=(0,o.nS)(this.props.widgetSlotData),t=null==e?void 0:e.data,{actions:i}=t;return r.createElement(p.az,{p:"s6",width:y-48,borderRadius:_.CRKeysBasic.cr6,overflow:"hidden"},r.createElement(b,{data:t,onHyperlinkPress:this.howToRegisterActionHandler}),r.createElement(x,{actions:i,onAction:this._handleAction}))}}class O extends n.A{getWidgetClass(){return P}getWidgetHeight(){return 150}}},713069:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>Y,superCoinWidgetViewTypes:()=>X});var n=i(465420),r=i(52754),a=i(387393),o=i(296540),s=i(877293),l=i(716249),d=i(723372),c=i(479892),u=i(670563),h=i(887261);const p=52,g=12,m=12,v=168,_=18,C=38,E=38,T=60,f=s.StyleSheet.create({container:{paddingTop:16,paddingBottom:8,paddingHorizontal:12,backgroundColor:u.Jy.white},calloutText:{color:u.Jy.darkBlack,fontSize:12,textAlignVertical:"center"},superCoinSubCalloutText:{color:u.Jy.dimGray,fontSize:12,lineHeight:20},superCoinCalloutText:{fontFamily:h.A$,fontSize:14,color:u.Jy.darkBlack},superCoinPlusBenefitCalloutText:{fontFamily:h.A$,fontSize:12,color:u.Jy.darkBlack,lineHeight:18}});var A=i(547134),S=i(395567),y=i(97529),w=i(561310),I=i(45426),b=i(492418),D=i(410752),x=i(808584),P=i(560203),O=i(352254),R=i(957775);class k{constructor(e,t){this.screenWidth=e,this.containerStyle=[f.container,c.C1.justifyContentStart,{width:"100%"},t?c.C1.padding_left_8:void 0],this.superCoinCalloutImageStyle=[c.C1.margin_right_12,c.C1.alignItemFlexStart,c.C1.margin_top_6],this.superCoinCalloutOldImageStyle=[c.C1.height_12,c.C1.width_12,c.C1.margin_right_neg_2,c.C1.margin_top_1],this.superCoinCalloutTextStyle=[f.superCoinCalloutText],this.superCoinSubCalloutTextStyle=[f.superCoinSubCalloutText],this.CalloutText=[f.calloutText],this.superCoinPlusBenefitCalloutTextStyle=[f.superCoinPlusBenefitCalloutText]}}class V extends l.A{static getWidgetHeight(){return p}componentDidMount(){super.componentDidMount(),this.props.actionDispatcher&&(0,R.dispatchDgAction)(`${A.A.SUPERCOINS_CALLOUT}|SuperCoinWidget`,this.props.actionDispatcher)}constructor(e){super(e),this._handleInfoClick=e=>{var t,i,n;const a=(0,r.nS)(this.props.widgetSlotData),o=null==a?void 0:a.data,s=null==o?void 0:o.scCalloutBottomsheetInfo,l=null==s?void 0:s.bottomsheetHeader,d=null==o?void 0:o.helpText,c=null==s?void 0:s.bottomsheetText,u=null==s?void 0:s.bottomsheetImage;this.trackDiscoveryWidgetClickEvent();const h={header:null!==(t=null==l?void 0:l.text)&&void 0!==t?t:this.localize({id:D.H.rex_string_ABOUT_SUPERCOINS}),content:null!==(n=null!==(i=null==c?void 0:c.text)&&void 0!==i?i:d)&&void 0!==n?n:b.u1i,subContent:b.u1i,enableHeaderBorder:!1,image:u||void 0,disableCrossButton:!0};if(this.props.actionDispatcher){const e={modalType:"BOTTOM_SHEET",widgetType:A.A.SERVICE_CALLOUT_POPUP,widgetData:h,scrollable:!0,disableSwipeToClose:!0,bounces:!1},t=new w.iM(w.xH.OPEN_MODAL,e);this.props.actionDispatcher(t),this.trackOmnitureEvent(new S.wKV(y.A.QUANTIFIED_SUPERCOINS_TOOLTIP_CLICKED))}},this._getHelperBottomSheet=e=>{if(e)return o.createElement(I.S,{onPress:this._handleInfoClick},o.createElement(O.A,{style:c.C1.margin_left_2,source:e.dynamicImageUrl,height:m,width:g}))};const t=(0,r.nS)(this.props.widgetSlotData),i=null==t?void 0:t.data,n=this.props.appContext.uiContext.windowFrame.width,a=!!(null==i?void 0:i.plusUser);this.viewModel=new k(n,a)}renderWidget(){var e,t;const i=(0,r.nS)(this.props.widgetSlotData),n=null==i?void 0:i.data,a=null==n?void 0:n.spotlightImage,l=null==n?void 0:n.iconImage,u=null==n?void 0:n.superCoinCallout,h=null==n?void 0:n.superCoinSubCallout,p=null==n?void 0:n.superCoinHelpCallout,g=null==n?void 0:n.helpImage,m=_;let f=v;(null==a?void 0:a.width)&&(null==a?void 0:a.height)&&(f=a.width/a.height*m);const A=null!==(e=null==l?void 0:l.width)&&void 0!==e?e:C,S=null!==(t=null==l?void 0:l.height)&&void 0!==t?t:E,y=[c.C1.row,c.C1.margin_bottom_8,a?c.C1.margin_top_16:null],w=[{width:l?this.viewModel.screenWidth-T:this.viewModel.screenWidth,marginBottom:2}],b=null==n?void 0:n.superCoinPlusBenefitCallout,D=h||b?(c.C1.alignItemFlexStart,c.C1.margin_top_6):c.C1.alignItemCenter;return this.viewModel.superCoinCalloutImageStyle=[c.C1.margin_right_12,D],o.createElement(s.View,{style:this.viewModel.containerStyle},a&&o.createElement(x.A,{imageValue:a,width:f,height:m,style:c.C1.absoluteTopLeft}),o.createElement(s.View,{style:y},l&&o.createElement(x.A,{imageValue:l,width:A,height:S,style:this.viewModel.superCoinCalloutImageStyle}),o.createElement(s.View,{style:[c.C1.col,c.C1.centerContents]},b?o.createElement(d.A,{style:w,messages:b,textDefaultStyle:this.viewModel.superCoinPlusBenefitCalloutTextStyle}):null,u?o.createElement(d.A,{style:w,messages:u,textDefaultStyle:this.viewModel.superCoinCalloutTextStyle,useTextContainer:!1,imageDefaultStyle:this.viewModel.superCoinCalloutOldImageStyle,trailingView:this._getHelperBottomSheet(g)}):null,h?o.createElement(d.A,{messages:h,textDefaultStyle:this.viewModel.superCoinSubCalloutTextStyle,useTextContainer:!1}):null)),p?o.createElement(P.A,{marginTopVal:8,heightVal:1}):null,p?o.createElement(I.S,{onPress:this._handleInfoClick},o.createElement(d.A,{style:c.C1.margin_top_8,messages:p,useTextContainer:!1,textDefaultStyle:this.viewModel.CalloutText})):null)}}var L=i(302019),M=i(201159),N=i(879052);class H{constructor(e,t){this.screenWidth=e,this.isPlusUser=t,this.superCoinCalloutImageStyle=[c.C1.margin_right_12,c.C1.alignItemFlexStart,c.C1.margin_top_6],this.superCoinCalloutOldImageStyle=[c.C1.height_12,c.C1.width_12,c.C1.margin_right_neg_2,c.C1.margin_top_1],this.superCoinCalloutTextStyle=[f.superCoinCalloutText],this.superCoinSubCalloutTextStyle=[f.superCoinSubCalloutText],this.CalloutText=[f.calloutText],this.superCoinPlusBenefitCalloutTextStyle=[f.superCoinPlusBenefitCalloutText]}}class W extends l.A{static getWidgetHeight(){return p}constructor(e){super(e),this._handleInfoClick=e=>{var t,i,n;const a=(0,r.nS)(this.props.widgetSlotData),o=null==a?void 0:a.data,s=null==o?void 0:o.scCalloutBottomsheetInfo,l=null==s?void 0:s.bottomsheetHeader,d=null==o?void 0:o.helpText,c=null==s?void 0:s.bottomsheetText,u=null==s?void 0:s.bottomsheetImage;this.trackDiscoveryWidgetClickEvent();const h={header:null!==(t=null==l?void 0:l.text)&&void 0!==t?t:this.localize({id:D.H.rex_string_ABOUT_SUPERCOINS}),content:null!==(n=null!==(i=null==c?void 0:c.text)&&void 0!==i?i:d)&&void 0!==n?n:b.u1i,subContent:b.u1i,enableHeaderBorder:!1,image:u,disableCrossButton:!0};if(this.props.actionDispatcher){const e={modalType:"BOTTOM_SHEET",widgetType:A.A.SERVICE_CALLOUT_POPUP,widgetData:h,scrollable:!0,disableSwipeToClose:!0,bounces:!1},t=new w.iM(w.xH.OPEN_MODAL,e);this.props.actionDispatcher(t),this.trackOmnitureEvent(new S.wKV(y.A.QUANTIFIED_SUPERCOINS_TOOLTIP_CLICKED))}},this._getHelperBottomSheet=e=>{if(e)return o.createElement(I.S,{onPress:this._handleInfoClick},o.createElement(L.az,{ml:"s1"},o.createElement(M.mo,{color:"text.light",size:16})))};const t=(0,r.nS)(this.props.widgetSlotData),i=null==t?void 0:t.data,n=this.props.appContext.uiContext.windowFrame.width,a=!!(null==i?void 0:i.plusUser);this.viewModel=new H(n,a)}renderWidget(){var e,t;const i=(0,r.nS)(this.props.widgetSlotData),n=null==i?void 0:i.data,a=null==n?void 0:n.iconImage,s=null==n?void 0:n.spotlightImage,l=null==n?void 0:n.superCoinCallout,u=null==n?void 0:n.superCoinSubCallout,h=null==n?void 0:n.superCoinHelpCallout,p=null==n?void 0:n.helpImage,g=_;let m=v;(null==s?void 0:s.width)&&(null==s?void 0:s.height)&&(m=s.width/s.height*g);const f=null!==(e=null==a?void 0:a.width)&&void 0!==e?e:C,A=null!==(t=null==a?void 0:a.height)&&void 0!==t?t:E,S=[s?c.C1.margin_top_16:null],y=[{width:a?this.viewModel.screenWidth-T:this.viewModel.screenWidth,marginBottom:2}],w=null==n?void 0:n.superCoinPlusBenefitCallout,b=u||w?(c.C1.alignItemFlexStart,c.C1.margin_top_6):c.C1.alignItemCenter;return this.viewModel.superCoinCalloutImageStyle=[c.C1.margin_right_12,b],o.createElement(B,{width:"100%"},s&&o.createElement(x.A,{imageValue:s,width:m,height:g,style:c.C1.absoluteTopLeft}),o.createElement(L.fI,{style:S},a&&o.createElement(x.A,Object.assign({},(0,N.Z)("SuperCoin_Icon"),{imageValue:a,width:f,height:A,style:this.viewModel.superCoinCalloutImageStyle})),o.createElement(L.fv,{justifyContent:"center"},w?o.createElement(d.A,{style:y,messages:w,textDefaultStyle:this.viewModel.superCoinPlusBenefitCalloutTextStyle}):null,l?o.createElement(d.A,{style:y,messages:l,useTextContainer:!1,textDefaultStyle:this.viewModel.superCoinCalloutTextStyle,imageDefaultStyle:this.viewModel.superCoinCalloutOldImageStyle,trailingView:this._getHelperBottomSheet(p)}):null,u?o.createElement(d.A,{messages:u,useTextContainer:!1,textDefaultStyle:this.viewModel.superCoinSubCalloutTextStyle}):null)),h?o.createElement(P.A,{marginTopVal:8,heightVal:1}):null,h?o.createElement(I.S,Object.assign({},(0,N.Z)("SuperCoin_Help_Callout"),{onPress:this._handleInfoClick}),o.createElement(d.A,{style:c.C1.margin_top_8,messages:h,useTextContainer:!1,textDefaultStyle:this.viewModel.CalloutText})):null)}hideWidgetEdgeDivider(){return!0}}const B=L.az.extendComponent({name:"SupercoinsCalloutContainer",defaultProps:{px:"s4",py:"s4",pl:"s6",bg:"common.white",justifyContent:"flex-start"}});var U=i(398581);class F{constructor(e){this.containerStyle=[c.C1.row,c.C1.padding8V,c.C1.padding_left_16,{width:e},c.C1.alignItemCenter],this.superCoinCalloutTextStyle=[{color:u.U9,fontFamily:h.A$,fontSize:14,lineHeight:16,textAlignVertical:"center"},c.C1.margin_right_5],this.superCoinCalloutImageStyle=[c.C1.margin_right_5]}}class G extends l.A{static getWidgetHeight(){return 32}constructor(e){super(e),this.GRADIENT_START_POINT=[1,.5],this.GRADIENT_END_POINT=[0,.5];const t=this.props.appContext.uiContext.windowFrame.width;this.viewModel=new F(t)}componentDidMount(){super.componentDidMount(),this.props.actionDispatcher&&(0,R.dispatchDgAction)(`${A.A.SUPERCOINS_CALLOUT}|SuperCoinWidget`,this.props.actionDispatcher)}renderWidget(){const e=(0,r.xH)(this.props.widgetSlotData),t=null==e?void 0:e.superCoinCallout;return o.createElement(U.W,{gradientColors:[u.Jy.purple,u.Jy.white],gradientStart:this.GRADIENT_START_POINT,gradientEnd:this.GRADIENT_END_POINT},o.createElement(s.View,{style:this.viewModel.containerStyle},t?o.createElement(d.A,{messages:t,textDefaultStyle:this.viewModel.superCoinCalloutTextStyle,imageDefaultStyle:this.viewModel.superCoinCalloutImageStyle}):null))}}class z extends V{constructor(){super(...arguments),this._handleCoinEarnInfoClick=e=>{const t=(0,r.nS)(this.props.widgetSlotData),i=null==t?void 0:t.data,n=null==i?void 0:i.scCalloutBottomsheetInfo,a=null==n?void 0:n.bottomsheetHeaderImage,o=null==n?void 0:n.bottomsheetImage,s=null==n?void 0:n.coinEarnData;this.trackDiscoveryWidgetClickEvent();const l={header:b.u1i,content:b.u1i,subContent:b.u1i,headerImage:a,image:o,coinEarnData:s};if(this.props.actionDispatcher){const e={modalType:"BOTTOM_SHEET",widgetType:A.A.SERVICE_COIN_EARN_CALLOUT_POPUP,widgetData:l,scrollable:!0,disableSwipeToClose:!0,bounces:!1},t=new w.iM(w.xH.OPEN_MODAL,e);this.props.actionDispatcher(t),this.trackOmnitureEvent(new S.wKV(y.A.QUANTIFIED_SUPERCOINS_TOOLTIP_CLICKED))}}}static getWidgetHeight(){return 20}componentDidMount(){super.componentDidMount(),this.props.actionDispatcher&&(0,R.dispatchDgAction)(`${A.A.SUPERCOINS_CALLOUT}|SuperCoinEarnWidget`,this.props.actionDispatcher)}renderWidget(){const e=(0,r.nS)(this.props.widgetSlotData),t=null==e?void 0:e.data,i=null==t?void 0:t.superCoinHelpCallout;return o.createElement(L.az,{p:"s6"},i?o.createElement(I.S,{onPress:this._handleCoinEarnInfoClick,disableFeedback:!0},o.createElement(d.A,{messages:i,imageDefaultStyle:c.C1.margin_right_4})):null)}hideWidgetEdgeDivider(){return!0}}const j=(0,a.A)(V,W);var X;!function(e){e.GRADIENT_VIEW="GRADIENT_VIEW",e.LOYALTY_BOTTOMSHEET="LOYALTY_BOTTOMSHEET"}(X||(X={}));class Y extends n.A{getWidgetClass(e){const t=r.nS(e.widgetSlotData);switch(t?t.viewType:void 0){case"GRADIENT_VIEW":return G;case"LOYALTY_BOTTOMSHEET":return z;default:return j}}getWidgetHeight(e){const t=r.nS(e.widgetSlotData);return"LOYALTY_BOTTOMSHEET"===(t?t.viewType:void 0)?z.getWidgetHeight():j.getWidgetHeight()}}},713505:(e,t,i)=>{"use strict";i.d(t,{B:()=>y});var n,r=i(296540),a=i(877293),o=i(331547),s=i(495176),l=i(670563),d=i(630753),c=i(479892),u=i(560203),h=i(492418),p=i(580555),g=i(672748),m=i(876505),v=i(654666),_=i(721503),C=i(45426),E=i(352254),T=i(415283),f=i(914944),A=i(302019),S=i(879052);!function(e){e[e.START=0]="START",e[e.RESET=1]="RESET"}(n||(n={}));class y extends r.Component{constructor(e){super(e),this.viewTrackerStyle=[c.C1.absoluteOverlay,c.C1.flex],this.highlightsTitleTextStyle=[c.C1.margin_bottom_24,c.XT.fontMedium_16,c.XT.whiteText,c.XT.lineHeight_28,c.C1.margin_left_16],this.highlightsContenViewStyle=[c.C1.margin_top_78,c.C1.padding_top_12,c.C1.margin_right_20,c.C1.alignItemFlexEnd],this.highlightsItemKeyTextStyle=[c.XT.fontBold_16,c.C1.margin_bottom_4,c.C1.alignItemCenter,{color:l.Jy.white,maxWidth:104,width:104}],this.highlightsItemValueTextStyle=[c.XT.fontMedium_16,c.XT.whiteText],this.defaultGradient=[l.hI.gradientBlackAlpha85,l.hI.gradientBlackAlpha10],this.gradientStart="android"===a.Platform.OS?[0,1]:[0,0],this.highlightTitleWidth=240,this.highlightItemWidth=200,this.highlightDividerWidth=112,this.highlightDividerMargin=10,this.highlightDividerHeight=.5,this.adjustingTranslationFactor=50,this.screenWidth=this.props.screenWidth||400,this.overlayTrackerView=e=>{const t=v.A.createNewInstance(this.state.trackingParams,this.props.pageInfo?this.props.pageInfo.tabImpressionId:void 0);return t?r.createElement(m.A,{style:this.viewTrackerStyle,onViewAbilityEnded:this.onViewAbilityEnded,trackingInfo:t},e):e},this.onViewAbilityEnded=e=>{this.setState({uniqueViewId:(0,g.KQ)()})},this._renderHighlightsContent=()=>{const e=this.props.imageHighlightsRC.value;if(!e)return null;const t=(e.highlightItems||[]).map(this._renderHighlightTrackerView),i=e.title,n=this._animatedValue.interpolate({inputRange:[0,1],outputRange:[this.screenWidth+this.highlightTitleWidth,0],extrapolate:"clamp"}),o=this._animatedValue.interpolate({inputRange:[0,1],outputRange:[0,1]});return r.createElement(A.az,{style:this.highlightsContenViewStyle},r.createElement(a.Animated.View,{style:{transform:[{translateX:n}],opacity:o,maxWidth:this.highlightTitleWidth}},r.createElement(s.A,{richTextData:i,numberOfLines:1,style:this.highlightsTitleTextStyle})),t)},this._renderHighlightTrackerView=(e,t)=>{const i=this._renderHighlightItem(e,t),n=y.getTrackingParams(this.props,e.tracking);if(n){const e=this.state.trackingParams?this.state.trackingParams.getImpressionInfo():void 0,t=_.A.createNewInstance(this.state.uniqueViewId,n,e,this.props.pageInfo?this.props.pageInfo.tabImpressionId:void 0);if(t)return r.createElement(m.A,{trackingInfo:t},i)}return i},this._navigateAction=(e,t)=>{const i=new f.rs(e);this.props.actionDispatcher&&this.props.trackDiscoveryContentClickEvent&&e&&(this.props.trackDiscoveryContentClickEvent(null==t?void 0:t.tracking),this.props.actionDispatcher({type:T.Q3.MAPI_ACTION,payload:i}))},this._renderHighlightItem=(e,t)=>{var i,n,o,l,d,p,g;const m=this.screenWidth+this.highlightItemWidth+this.adjustingTranslationFactor,v=this._animatedValue.interpolate({inputRange:[0,t+1,t+2],outputRange:[m,m,0],extrapolate:"clamp"}),_=this._animatedValue.interpolate({inputRange:[0,t+1,t+2],outputRange:[0,1,1]}),T=this._animatedValue.interpolate({inputRange:[0,t+1,t+2],outputRange:[0,0,1]}),f=this._isLastHighlightIndex(t),S=null===(i=e.value)||void 0===i?void 0:i.title,y=null===(n=e.value)||void 0===n?void 0:n.titleImage,w=null===(l=null===(o=e.value)||void 0===o?void 0:o.actionValue)||void 0===l?void 0:l.value,I=null===(d=e.value)||void 0===d?void 0:d.actionValue,b=null===(g=null===(p=e.value)||void 0===p?void 0:p.actionValue)||void 0===g?void 0:g.action;return S&&y&&w&&b?r.createElement(A.az,null,r.createElement(a.Animated.View,{style:{transform:[{translateX:v}],opacity:_,maxWidth:this.highlightItemWidth}},r.createElement(A.fI,null,r.createElement(E.A,{source:null==y?void 0:y.dynamicImageUrl,style:[c.C1.margin_right_18,c.C1.margin_top_6],height:y.height,width:y.width}),r.createElement(A.fI,{alignItems:"center"},r.createElement(s.A,{richTextData:S,numberOfLines:2,style:this.highlightsItemKeyTextStyle}),r.createElement(C.S,{onPress:()=>this._navigateAction(b,I)},r.createElement(E.A,{source:null==w?void 0:w.dynamicImageUrl,style:c.C1.margin_top_6,height:w.height,width:w.width}))))),f?null:r.createElement(a.Animated.View,{style:{opacity:T,maxWidth:this.highlightDividerWidth}},r.createElement(u.A,{heightVal:this.highlightDividerHeight,backgroundColor:h.jY,marginBottomVal:this.highlightDividerMargin,marginTopVal:this.highlightDividerMargin}))):null},this._isLastHighlightIndex=e=>{var t,i;return((null===(i=null===(t=this.props.imageHighlightsRC.value)||void 0===t?void 0:t.highlightItems)||void 0===i?void 0:i.length)||0)-1===e},this._animationHandler=(e,t)=>{var i,n;if(0===t&&!this.state.hasDoneAnimation){this._animatedValue.setValue(0);const t=2+((null===(n=null===(i=e.imageHighlightsRC.value)||void 0===i?void 0:i.highlightItems)||void 0===n?void 0:n.length)||0),r=130*t;this.setState({hasDoneAnimation:!0}),a.Animated.timing(this._animatedValue,{toValue:t,duration:r,useNativeDriver:!0,easing:a.Easing.linear}).start()}},this._animatedValue=new a.Animated.Value(0),this.state=this.getDerivedState(e,void 0)}getDerivedState(e,t){return t||{hasDoneAnimation:!1,uniqueViewId:(0,g.KQ)(),trackingParams:y.getTrackingParams(e,e.imageHighlightsRC.tracking)}}static getTrackingParams(e,t){return t&&new p.Ay(t,e.pageInfo?e.pageInfo.baseImpressionId:"")}render(){var e;const t=this._renderHighlightsContent(),i=null===(e=this.props.imageHighlightsRC.value)||void 0===e?void 0:e.gradient,n=i?[i.startBleedingColor,i.stopBleedingColor]:this.defaultGradient,a=[c.C1.absoluteOverlay,c.C1.flex,c.C1.alignItemFlexEnd,c.C1.zIndex_10,c.C1.blackBackgorundWithOpacity],s=r.createElement(d.N,{gradientColors:n,gradientStart:this.gradientStart,gradientEnd:o._.RIGHT,content:t,overlayStyle:a});return r.createElement(A.az,Object.assign({},(0,S.Z)("HighLights_Container")),this.props.content,this.overlayTrackerView(s))}componentDidMount(){this._animationHandler(this.props,this.props.animationState)}componentDidUpdate(e){this._animationHandler(this.props,this.props.animationState)}startAnimation(){this._animationHandler(this.props,0)}}},714445:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(395567),r=i(90513),a=i(918210),o=i(229833),s=i(956797),l=i(938777);class d{handleAction(e,t,i){if(e.payload instanceof n.pYQ){const i=e.payload,n=i.actionType,o=t.pageMeta.pageType,s={};let d;switch(s[r.Ay.PROP3]=o,n){case l.wTK.ADD_TO_CART:d="Cart Add Initiation",this.handleA2CClickTracking(t,s);break;case l.wTK.BUY_NOW:case l.wTK.PAY_WITH_EMI:d="Buy Now Initiation",s[r.Ay.EVAR180]="Normal Checkout",this.handleBuyNowClickTracking(t,s);break;case l.wTK.CHECKOUT_INIT:d="Cart Checkout Initiation",this.handleCheckoutClickTracking(t,s,i)}return d&&a.A.addAndtrackEventUnderName(d,s),!0}return!1}handleA2CClickTracking(e,t){var i,n,s,l;const d=null===(i=e.pageDataResponse)||void 0===i?void 0:i.pageContext,c=null===(s=null===(n=e.pageDataResponse)||void 0===n?void 0:n.trackingContext)||void 0===s?void 0:s.tracking;if(d&&this.isProductPageContext(d)){const e=null===(l=d.trackingDataV2)||void 0===l?void 0:l.sproduct;e&&(t[r.Ay.PRODUCTS]=e),o.A.addEvent(t,r.fM.EVENT372)}if(c&&c[r.Ay.EVAR139]){const e={};e[r.Ay.EVAR139]=c[r.Ay.EVAR139],a.A.addEventData(e)}}handleBuyNowClickTracking(e,t){var i,n,s,l;const d=null===(i=e.pageDataResponse)||void 0===i?void 0:i.pageContext,c=null===(s=null===(n=e.pageDataResponse)||void 0===n?void 0:n.trackingContext)||void 0===s?void 0:s.tracking;if(d&&this.isProductPageContext(d)){const e=null===(l=d.trackingDataV2)||void 0===l?void 0:l.sproduct;e&&(t[r.Ay.PRODUCTS]=e),o.A.addEvent(t,r.fM.EVENT371)}if(c&&c[r.Ay.EVAR139]){const e={};e[r.Ay.EVAR139]=c[r.Ay.EVAR139],a.A.addEventData(e)}if(c){const e=c[r.Ay.EVAR61],i=c[r.fM.EVENT762],n=c[r.Ay.EVAR178];e&&(t[r.Ay.EVAR61]=e),i&&(t[r.fM.EVENT762]=i),n&&(t[r.Ay.EVAR178]=n)}}handleCheckoutClickTracking(e,t,i){var n,a,l,d,c,u;const h=null===(n=e.pageDataResponse)||void 0===n?void 0:n.pageContext;if(h&&this.isCartPageContext(h)){o.A.addEvent(t,r.fM.EVENT373);const e=i.event762,n=i.eVar178,p=null===(d=null===(l=null===(a=h.marketPlaceTrackingDataMap)||void 0===a?void 0:a.GROCERY)||void 0===l?void 0:l.tracking)||void 0===d?void 0:d.marketPlacePassApplied;e&&o.A.addEvent(t,r.fM.EVENT762,e),n&&(t[r.Ay.EVAR178]=n),p&&o.A.addEvent(t,r.fM.EVENT168,p);const g=null===(c=h.marketPlaceTrackingDataMap)||void 0===c?void 0:c.FLIPKART,m=null==g?void 0:g.productOmnitureDataList,v=null===(u=h.marketPlaceTrackingDataMap)||void 0===u?void 0:u.GROCERY,_=null==v?void 0:v.productOmnitureDataList,C=s.default.getSProductString(m,_);t[r.Ay.PRODUCTS]=C}else if(h&&this.isGroceryPageContext(h)){o.A.addEvent(t,r.fM.EVENT373);const e=i.event762,n=i.eVar178;e&&o.A.addEvent(t,r.fM.EVENT762,e),n&&(t[r.Ay.EVAR178]=n)}}isProductPageContext(e){return"ProductPageContext"===e.type}isCartPageContext(e){return"CartPageContext"===e.type}isGroceryPageContext(e){return"GroceryPageContext"===e.type}}},719972:(e,t,i)=>{var n,r={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},a={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:r,input:r,output:r,button:r,datalist:r,textarea:r,option:{option:!0},optgroup:{optgroup:!0}},o={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,path:!0,circle:!0,ellipse:!0,line:!0,rect:!0,use:!0,stop:!0,polyline:!0,polygon:!0},s=/\s|\//;function l(e,t){this._options=t||{},this._cbs=e||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,n=this._options.Tokenizer?this._options.Tokenizer:i(171670),this._tokenizer=new n(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}i(256698)(l,i(553011)),l.prototype._updatePosition=function(e){null===this.endIndex?this._tokenizer._sectionStart<=e?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},l.prototype.ontext=function(e){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(e)},l.prototype.onopentagname=function(e){if(this._lowerCaseTagNames&&(e=e.toLowerCase()),this._tagname=e,!this._options.xmlMode&&e in a)for(var t;(t=this._stack[this._stack.length-1])in a[e];this.onclosetag(t));!this._options.xmlMode&&e in o||this._stack.push(e),this._cbs.onopentagname&&this._cbs.onopentagname(e),this._cbs.onopentag&&(this._attribs={})},l.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in o&&this._cbs.onclosetag(this._tagname),this._tagname=""},l.prototype.onclosetag=function(e){if(this._updatePosition(1),this._lowerCaseTagNames&&(e=e.toLowerCase()),!this._stack.length||e in o&&!this._options.xmlMode)this._options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this._closeCurrentTag());else{var t=this._stack.lastIndexOf(e);if(-1!==t)if(this._cbs.onclosetag)for(t=this._stack.length-t;t--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=t;else"p"!==e||this._options.xmlMode||(this.onopentagname(e),this._closeCurrentTag())}},l.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing?this._closeCurrentTag():this.onopentagend()},l.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===e&&(this._cbs.onclosetag&&this._cbs.onclosetag(e),this._stack.pop())},l.prototype.onattribname=function(e){this._lowerCaseAttributeNames&&(e=e.toLowerCase()),this._attribname=e},l.prototype.onattribdata=function(e){this._attribvalue+=e},l.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},l.prototype._getInstructionName=function(e){var t=e.search(s),i=t<0?e:e.substr(0,t);return this._lowerCaseTagNames&&(i=i.toLowerCase()),i},l.prototype.ondeclaration=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("!"+t,"!"+e)}},l.prototype.onprocessinginstruction=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("?"+t,"?"+e)}},l.prototype.oncomment=function(e){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(e),this._cbs.oncommentend&&this._cbs.oncommentend()},l.prototype.oncdata=function(e){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(e),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+e+"]]")},l.prototype.onerror=function(e){this._cbs.onerror&&this._cbs.onerror(e)},l.prototype.onend=function(){if(this._cbs.onclosetag)for(var e=this._stack.length;e>0;this._cbs.onclosetag(this._stack[--e]));this._cbs.onend&&this._cbs.onend()},l.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},l.prototype.parseComplete=function(e){this.reset(),this.end(e)},l.prototype.write=function(e){this._tokenizer.write(e)},l.prototype.end=function(e){this._tokenizer.end(e)},l.prototype.pause=function(){this._tokenizer.pause()},l.prototype.resume=function(){this._tokenizer.resume()},l.prototype.parseChunk=l.prototype.write,l.prototype.done=l.prototype.end,e.exports=l},719987:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ViewTypes:()=>A,default:()=>D});var n=i(465420),r=i(52754),a=i(536245),o=i(347924),s=i(296540),l=i(410752),d=i(735546),c=i(879052),u=i(420721),h=i(989411),p=i(614006),g=i(644598),m=i(857850),v=i(690423),_=i(352254),C=i(479892),E=i(492418);class T extends h.A{constructor(e){super(e),this.renderAddToCart=()=>{const e=this._camelize((0,u.ak)(this.context.locale,{id:this.state.isProductAdded?l.H.rex_string_ADDED:l.H.rex_string_ADD})),t=this.state.isProductAdded?[C.C1.paleBlueBackground]:{};return s.createElement(o.SB,Object.assign({},(0,c.Z)("PMU_Combo_Card_Add_To_Cart"),{onPress:this._onAddPress}),s.createElement(f,{style:t},this.state.isProductAdded&&s.createElement(_.A,{style:[C.C1.margin_right_2,C.C1.alignSelfCenter],source:E.F0B,height:16,width:16}),s.createElement(d.VL,null,e)))},this._onAddPress=e=>{const t=this.props.cardData;if(!t||!this.props.dispatchAction)return;this.setState({isProductAdded:!this.state.isProductAdded});const i=t.secondaryProductCards;if(this.state.isProductAdded)null==i||i.forEach((e=>{const t=e.productMeta.productId;this.props.dispatchAction&&this.props.dispatchAction(m.Q3.AGGREGATED_CTA,new g.Y(g.m.UPDATE_CTA_STATE,{},[t]))}));else{const e=p.n.PMU_COMBO,n={};null==i||i.forEach((i=>{var r,a,o,s;const l=i.productMeta.productId,d=this.generateAggregatedDataObject(null==i?void 0:i.productMeta.listingId,null===(r=null==t?void 0:t.pricing)||void 0===r?void 0:r.displayPrice,l,null==i?void 0:i.titles.title,e,null===(a=i.addToCartAction)||void 0===a?void 0:a.tracking,null===(o=t.primaryProductCard)||void 0===o?void 0:o.productMeta.productId,null===(s=t.primaryProductCard)||void 0===s?void 0:s.productMeta.listingId);n[l]=d})),this.props.dispatchAction(m.Q3.AGGREGATED_CTA,new g.Y(g.m.UPDATE_CTA_STATE,n))}},this.state=Object.assign(Object.assign({},this.state),{isProductAdded:this.props.isProductinCart})}_camelize(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,((e,t)=>0===t?e.toUpperCase():e.toLowerCase())).replace(/\s+/g,"")}generateAggregatedDataObject(e,t,i,n,r,a,o,s){const l={};return l.listingId=e,i&&(l.aggregatedCartContext=v.A.createCartContext(i,t||0,a,n||"",!1,!1,r,"",o||i,s||e)),l}}const f=o.fI.extendComponent({name:"AddContainer",defaultProps:{borderColor:"primary.500",borderWidth:1,borderRadius:4,justifyContent:"center",py:"s3",px:"s13",mx:"s3",mt:"s6",width:"100%"}});var A,S=i(867953),y=i(933415),w=i(146387),I=i(57522);class b extends a.A{constructor(){super(...arguments),this._isStarted=!1,this.renderItems=(e,t,i)=>{var n;if(!(null==t?void 0:t.value))return null;const r=null===(n=this.state.productsInCartStatus)||void 0===n?void 0:n[i],a=s.createElement(o.az,{ml:0===i?"s0":"s4"},s.createElement(T,{isProductinCart:r,cardData:null==t?void 0:t.value,cardTapped:()=>this.cardActionTapped(t),actionTapped:()=>this.onItemTapped(t,r),themeContext:this.props.themeContext,index:i,dispatchAction:this.dispatchAction}));return this.getViewWithTracker(a,t)},this._getMultiCondition=()=>{const e=[];return e.push(new S.D_("_PMUComboView",0,95,this.onViewStart,this.onViewStop)),e},this.onViewStart=()=>{var e,t;if(!this._isStarted){this._isStarted=!0;const i=new y.Q(this.props.widgetSlotData.slotData.id);null===(t=(e=this.props).actionDispatcher)||void 0===t||t.call(e,new w.YI(new w.qF(I.j.DYNAMIC_NAVBAR_VOLATILE_DATA,i)))}},this.onViewStop=()=>{var e,t;if(this._isStarted){this._isStarted=!1;const i=new y.Q(0,this.props.widgetSlotData.slotData.id);null===(t=(e=this.props).actionDispatcher)||void 0===t||t.call(e,new w.YI(new w.qF(I.j.DYNAMIC_NAVBAR_VOLATILE_DATA,i)))}}}renderWidget(){return s.createElement(S.Ay,{conditions:this._getMultiCondition()},this.renderWidgetContent())}cardActionTapped(e){}renderDivider(){}}!function(e){e.HORIZONTAL_PMU="HORIZONTAL_PMU",e.COMBO_WITH_ADD_BUTTON="COMBO_WITH_ADD_BUTTON"}(A||(A={}));class D extends n.A{getWidgetClass(e){return"COMBO_WITH_ADD_BUTTON"===r.KJ(e.widgetSlotData)?b:a.A}getWidgetHeight(e){return r.KJ(e.widgetSlotData),a.A.getWidgetHeight(e)}}},722078:(e,t,i)=>{"use strict";i.d(t,{A:()=>_});var n=i(716249),r=i(52754),a=i(438993),o=i(296540),s=i(302019),l=i(479892),d=i(229022),c=i(561310),u=i(415283),h=i(914944),p=i(495176),g=i(492418),m=i(957775),v=i(547134);class _ extends a.A{constructor(){super(...arguments),this.titleTextStyle=[{color:g.J38.textColor},l.XT.fontFamilyInterSemiBold_18],this.bodyTextStyle=[{color:g.J38.textColor,marginVertical:8,lineHeight:20},l.XT.fontFamilyInter_14],this.backBtnViewStyle=[{paddingVertical:10,paddingHorizontal:16,marginRight:16},l.C1.flexContentAlignCenter],this.continueBtnViewStyle=[{paddingVertical:10,paddingHorizontal:16},l.C1.flexContentAlignCenter]}static getWidgetHeight(e){return 184+n.A.getAdditionalHeight(e)}componentDidMount(){super.componentDidMount(),this.props.actionDispatcher&&(0,m.dispatchDgAction)(v.A.MIN_OQ_BOTTOMSHEET_WIDGET,this.props.actionDispatcher)}isHeaderBottomBorderEnabled(){return!1}renderWidget(){var e,t,i,n,a,m;const v=(0,r.nS)(this.props.widgetSlotData),E=v&&v.data,T=null===(e=null==E?void 0:E.data)||void 0===e?void 0:e.backCTA,f=null===(t=null==E?void 0:E.data)||void 0===t?void 0:t.continueCTA;if((null===(i=null==E?void 0:E.data)||void 0===i?void 0:i.title)&&(null===(n=null==E?void 0:E.data)||void 0===n?void 0:n.text))return o.createElement(s.fv,{flex:1,p:"s5"},o.createElement(p.A,{richTextData:null===(a=null==E?void 0:E.data)||void 0===a?void 0:a.title,style:this.titleTextStyle}),o.createElement(p.A,{richTextData:null===(m=null==E?void 0:E.data)||void 0===m?void 0:m.text,style:this.bodyTextStyle}),T&&f&&o.createElement(C,null,o.createElement(d.A,{btnData:T,btnViewStyle:this.backBtnViewStyle,btnTextStyle:[{color:g.J38.textColor},l.XT.fontFamilyInterSemiBold_14],onPress:()=>{var e,t,i;this.trackDiscoveryContentClickEvent(null===(e=T.action)||void 0===e?void 0:e.tracking),null===(i=(t=this.props).actionDispatcher)||void 0===i||i.call(t,new c.iM(c.xH.CLOSE_MODAL))}}),o.createElement(d.A,{btnData:f,btnViewStyle:this.continueBtnViewStyle,btnTextStyle:[{color:g.J38.textColor},l.XT.fontFamilyInterSemiBold_14],onPress:()=>{var e,t,i,n,r;(null===(t=null===(e=null==E?void 0:E.baseAction)||void 0===e?void 0:e.params)||void 0===t?void 0:t[_.MIN_OQ_BS_DATA_KEY])&&(E.baseAction.params[_.MIN_OQ_BS_DATA_KEY]=void 0,this.trackDiscoveryContentClickEvent(null===(i=f.action)||void 0===i?void 0:i.tracking),this.dispatchAction(u.Q3.MAPI_ACTION,new h.Oy(E.baseAction))),null===(r=(n=this.props).actionDispatcher)||void 0===r||r.call(n,new c.iM(c.xH.CLOSE_MODAL))}})))}}_.MIN_OQ_BS_DATA_KEY="minOQBottomsheet";const C=s.eH.extendComponent({name:"MinOQBSContentContainer",defaultProps:{alignContent:"center",height:56}})},725423:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var n,r=i(465420),a=i(296540),o=i(716249),s=i(302019),l=i(198213),d=i(877293),c=i(52754);class u extends o.A{constructor(){super(...arguments),this.DEFAULT_IMAGE_HEIGHT=32,this.DEFAULT_IMAGE_WIDTH=32,this.DEFAULT_SUBTITLE_IMAGE_HEIGHT=16,this.DEFAULT_SUBTITLE_IMAGE_WIDTH=16,this.renderHeaderContent=e=>{var t;const i=e.pageTitle;if(!(null==i?void 0:i.value))return;const{titleValue:n,subTitleValue:r,actionButton:o}=i.value;if(!n)return;const d=null==o?void 0:o.action,c=null==r?void 0:r.image,{dynamicImageUrl:u,width:h=this.DEFAULT_SUBTITLE_IMAGE_WIDTH,height:p=this.DEFAULT_SUBTITLE_IMAGE_HEIGHT}=c||{},{dynamicImageUrl:g,width:m=this.DEFAULT_IMAGE_WIDTH,height:v=this.DEFAULT_IMAGE_HEIGHT}=(null===(t=null==o?void 0:o.value)||void 0===t?void 0:t.image)||{};return a.createElement(s.fI,{mt:"s5",mr:"s6",ml:"s4"},g&&a.createElement(s.SB,{onPress:this.handlePress,onPressParam:d},a.createElement(s.az,{justifyContent:"center",height:32,width:32},a.createElement(l.Dk,{source:g,height:v,width:m}))),(null==n?void 0:n.text)&&a.createElement(s.az,{px:"s4",py:"s2"},a.createElement(s.JU,{font:"l_medium"},n.text),(null==r?void 0:r.text)&&a.createElement(s.fI,{pt:"s2"},u&&a.createElement(s.az,{mr:"s2",justifyContent:"center"},a.createElement(l.Dk,{source:u,height:p,width:h})),a.createElement(s.JU,{font:"m"},r.text))))},this.handlePress=(e,t)=>{t&&this.dispatchMAPIIndexedAction(t)}}renderDivider(){}renderWidget(){var e,t;if(null===(e=null===d.NativeModules||void 0===d.NativeModules?void 0:d.NativeModules.DesktopClientInfo)||void 0===e?void 0:e.isDesktopClient)return;const i=(0,c.xH)(this.props.widgetSlotData);if(!i)return;const n=null===(t=i.pageTitle)||void 0===t?void 0:t.action;return a.createElement(s.SB,{onPress:this.handlePress,onPressParam:n},this.renderHeaderContent(i))}}n=u,u.TITLE_VALUE_PADDING_TOP=4,u.WIDGET_PADDING_TOP=12,u.TITLE_VALUE_PADDING_BOTTOM=4,u.SUBTITLE_VALUE_PADDING_BOTTOM=4,u.WIDGET_PADDING_BOTTOM=12,u.TITLE_VALUE_LINE_HEIGHT=24,u.SUBTITLE_VALUE_LINE_HEIGHT=20,u.getWidgetHeight=e=>{var t;let i=0;const r=(0,c.xH)(e.widgetSlotData),a=null===(t=null==r?void 0:r.pageTitle)||void 0===t?void 0:t.value;if(!a)return i;const{titleValue:o,subTitleValue:s}=a;return o&&(i+=n.TITLE_VALUE_PADDING_TOP+n.TITLE_VALUE_LINE_HEIGHT+n.TITLE_VALUE_PADDING_BOTTOM),s&&(i+=n.SUBTITLE_VALUE_LINE_HEIGHT+n.SUBTITLE_VALUE_PADDING_BOTTOM),n.WIDGET_PADDING_TOP+i+n.WIDGET_PADDING_BOTTOM};class h extends r.A{getWidgetClass(){return u}getWidgetHeight(e){return u.getWidgetHeight(e)}}},725943:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>x});var n=i(465420),r=i(438993),a=i(296540),o=i(241598),s=i(624801),l=i(950512),d=i(67473),c=i(198213),u=i(815946);const h=({bankLogoUrl:e,height:t,width:i,bankName:n,tagText:r,tabs:l,selectedTab:h,onTabChange:g,onClose:m})=>{var v;return a.createElement(o.az,{paddingTop:"s6",paddingHorizontal:"s6"},a.createElement(o.az,{flexDirection:"row",justifyContent:"space-between",paddingBottom:"s4"},a.createElement(o.az,{flexDirection:"row",alignItems:"center"},a.createElement(c.Dk,{source:e,height:t,width:i}),a.createElement(o.JU,{typography:"subheading",color:"foreground.default.secondary",marginLeft:"s3"},n),r?a.createElement(o.W4,{borderTopLeftRadius:s.CRKeysBasic.cr2,borderTopRightRadius:s.CRKeysBasic.cr2,borderBottomLeftRadius:s.CRKeysBasic.cr2,borderBottomRightRadius:s.CRKeysBasic.cr2,gradientColor:"success.0To200",gradientDirection:s.GradientDirection.VERTICAL,NativeLinearGradient:u.d},a.createElement(o.az,{paddingHorizontal:"s2",paddingVertical:"s1",borderRadius:s.CRKeysBasic.cr2},a.createElement(o.JU,{color:"foreground.default.primary",typography:"label"},r))):null),a.createElement(o.h1,{onPress:m},a.createElement(d.A,{name:"Close",size:24,fillColor:"foreground.default.primary"}))),a.createElement(o.az,{flexDirection:"row",marginTop:"s2",paddingTop:"s4",justifyContent:"space-between",paddingHorizontal:"s6"},1===(null==l?void 0:l.length)?a.createElement(p,{key:0,label:null!==(v=l[0].instrumentTitle)&&void 0!==v?v:"",selected:!1,onPress:()=>g(0)}):null==l?void 0:l.map(((e,t)=>{var i;return a.createElement(p,{key:t,label:null!==(i=e.instrumentTitle)&&void 0!==i?i:"",selected:t===h,onPress:()=>g(t)})}))))},p=({label:e,selected:t,onPress:i})=>a.createElement(o.h1,{onPress:i},a.createElement(o.az,null,a.createElement(o.az,null,a.createElement(o.JU,{typography:"subheading",color:t?"foreground.brandPrimary.link":"foreground.default.primary",marginBottom:"s4"},e)),t?a.createElement(o.az,{bg:"backgroundBold.brandPrimary.emphasis",padding:"s1",borderTopLeftRadius:s.CRKeysBasic.cr2,borderTopRightRadius:s.CRKeysBasic.cr2,width:"100%"}):null));var g=i(561310),m=i(901070),v=i(951823),_=i(383049),C=i(877293),E=i(976321),T=i(920698);const f=e=>{const t=null==e?void 0:e.findIndex((e=>null==e?void 0:e.selected));return t&&t>=0?t:0},A=e=>{var t,i,n,r,d;const{data:c}=e,{dispatcher:u}=(0,m.a)(),[p,A]=(0,a.useState)((e=>{const t=null==e?void 0:e.findIndex((e=>null==e?void 0:e.selected));return t&&t>=0?t:0})(null==c?void 0:c.instrumentList)),w=C.Dimensions.get("window").height,I={backgroundColor:"transparent",maxHeight:"web"===C.Platform.OS?.7*w:.6*w},b={paddingBottom:"ios"===C.Platform.OS?20:0},D=null===(t=null==c?void 0:c.instrumentList)||void 0===t?void 0:t[p],[x,P]=(0,a.useState)(f(null==D?void 0:D.installmentPlanList));(0,a.useEffect)((()=>{P(f(null==D?void 0:D.installmentPlanList))}),[D]);const O=(e,t,i)=>()=>{var n,r;if(t&&x===e)return;P(t?-1:e),(null===(r=null===(n=null==i?void 0:i.applyCta)||void 0===n?void 0:n.action)||void 0===r?void 0:r.tracking)&&(0,E.aZ)(i.applyCta.action.tracking,u,!0)},R=(e,t)=>{var i;const n=x===t;return a.createElement(o.h1,{onPress:O(t,n,e)},a.createElement(o.az,null,a.createElement(o.fI,{pt:"s7",justifyContent:"space-between",bg:"backgroundSubtle.neutral.base"},a.createElement(o.fI,{alignItems:"center",paddingLeft:"s6"},a.createElement(o.az,{marginBottom:(null==e?void 0:e.offerTitle)?"s8":"s3"},n?a.createElement(S,{borderColor:"foreground.brandPrimary.link"},a.createElement(y,null)):a.createElement(S,{borderColor:"foreground.default.secondary"})),a.createElement(o.fv,{pl:"s5",mb:"s6"},a.createElement(o.JU,{typography:n?"subheading":"body",color:"foreground.default.primary"},e.planTitle),(null==e?void 0:e.offerTitle)?a.createElement(o.JU,{typography:"subtext",pt:"s4",color:"foreground.success.highlight"},e.offerTitle):null)),(null==e?void 0:e.downPayment)?a.createElement(o.JU,{pr:"s6",typography:"body",color:"backgroundBold.neutral.group"},`${null===(i=null==e?void 0:e.downPayment)||void 0===i?void 0:i.toLocaleString("en-IN")}`):null,((e,t)=>(null==e?void 0:e.interestType)?(null==e?void 0:e.interestType)===T.f.NO_COST_EMI?a.createElement(o.JU,{pr:"s6",typography:"body",color:"foreground.success.highlight"},"No Cost"):(null==e?void 0:e.interestType)===T.f.LOW_COST_EMI?a.createElement(o.az,{flexDirection:"column"},(null==e?void 0:e.strikeOffInterestRate)?a.createElement(o.JU,{pr:"s6",alignSelf:"flex-end",typography:"body",color:"foreground.default.secondary",textDecorationLine:"line-through"},`${null==e?void 0:e.strikeOffInterestRate}%`):null,(null==e?void 0:e.interestRate)?a.createElement(o.JU,{pr:"s6",pb:t?"s0":"s4",typography:"body",color:"foreground.success.highlight"},`${null==e?void 0:e.interestRate}% p.a.`):null):(null==e?void 0:e.interestRate)?a.createElement(o.JU,{pr:"s6"},`${null==e?void 0:e.interestRate}% p.a.`):null:null)(e,n)),n?null:a.createElement(o.az,{borderBottomWidth:s.OutlineKeysBasic.o1,borderColor:"outline.neutral.subtle"})))},k=e=>{var t;return a.createElement(o.az,null,a.createElement(o.az,{bg:"backgroundSubtle.neutral.group",borderRadius:s.CRKeysBasic.cr4,borderColor:"outline.neutral.seperator",marginHorizontal:"s6",mt:"s4"},null===(t=null==e?void 0:e.planBreakdown)||void 0===t?void 0:t.map(((t,i)=>{var n,r;const l=i===(null!==(r=null===(n=null==e?void 0:e.planBreakdown)||void 0===n?void 0:n.length)&&void 0!==r?r:0)-1;return a.createElement(o.az,{key:i},t.subtitle?a.createElement(o.az,{borderTopWidth:s.OutlineKeysBasic.o2,borderColor:"outline.neutral.subtle",mr:"s6",ml:"s6",mt:"s4"}):null,a.createElement(o.fI,{justifyContent:"space-between",alignItems:"center"},a.createElement(o.fv,null,a.createElement(o.JU,{pt:"s5",pl:"s6",typography:l?"label":"subtext",color:"foreground.default.primary"},t.title),t.subtitle?a.createElement(o.JU,{pl:"s6",pb:"s4",typography:"subtext",color:"foreground.default.secondary"},t.subtitle):null),a.createElement(o.JU,{pr:"s6",typography:l?"label":"subtext",color:"DISCOUNT"===t.amountType?"foreground.success.highlight":"foreground.default.primary",paddingTop:"s2"},"DISCOUNT"===t.amountType?`-${t.amount.toLocaleString("en-IN")}`:`${t.amount.toLocaleString("en-IN")}`)))}))),(null==e?void 0:e.termsAndConditions)?a.createElement(o.JU,{pt:"s6",paddingHorizontal:"s6",typography:"subtext",color:"foreground.default.secondary"},null==e?void 0:e.termsAndConditions):null,a.createElement(o.az,{paddingHorizontal:"s6",paddingVertical:"s6"},(e=>a.createElement(_.w,null,a.createElement(v.H,{value:{applied:null==e?void 0:e.applied,actionCta:null==e?void 0:e.applyCta},isEmiBottomSheet:!0})))(e)),a.createElement(o.az,{borderBottomWidth:s.OutlineKeysBasic.o2,borderColor:"outline.neutral.subtle"}))};return a.createElement(o.az,{flex:1},a.createElement(o.az,{flexShrink:0},a.createElement(h,{bankLogoUrl:(null===(i=null==c?void 0:c.bankMeta)||void 0===i?void 0:i.bankIcon)||"",bankName:(null===(n=null==c?void 0:c.bankMeta)||void 0===n?void 0:n.bankName)||"",height:24,width:24,tabs:null==c?void 0:c.instrumentList,selectedTab:p,onTabChange:e=>{A(e)},onClose:()=>{const e=new g.iM(g.xH.CLOSE_MODAL);null==u||u(e)}}),a.createElement(o.fI,{borderBottomColor:"outline.neutral.subtle",bg:"backgroundSubtle.neutral.group",pt:"s5",pb:"s5",pl:"s9",pr:"s7",justifyContent:"space-between",alignItems:"center",borderBottomWidth:s.OutlineKeysBasic.o2},null===(r=null==D?void 0:D.planFieldList)||void 0===r?void 0:r.map(((e,t)=>a.createElement(o.JU,{key:t,typography:"label",color:"foreground.default.secondary"},e))))),a.createElement(o.az,{flex:1,style:{maxHeight:"web"===C.Platform.OS?.8*w:.6*w}},(V=null!==(d=null==D?void 0:D.installmentPlanList)&&void 0!==d?d:[],a.createElement(C.ScrollView,{style:I,contentContainerStyle:b,showsVerticalScrollIndicator:!1,bounces:!1},a.createElement(l.A,{key:x,expandMultiple:!1,activeSections:[x],onChange:(e,t)=>{var i;const n=null!==(i=null==t?void 0:t[0])&&void 0!==i?i:-1;n>=0&&P(n)},content:V.map(((e,t)=>({header:()=>R(e,t),content:()=>k(e)})))})))));var V},S=o.az.extendComponent({name:"nepRadioButtonOuterContainerV2",defaultProps:{borderRadius:10,height:20,width:20,borderWidth:2,marginTop:"-s4",mr:"s3",justifyContent:"center",alignItems:"center"}}),y=o.az.extendComponent({name:"nepRadioButtonInnerContainer",defaultProps:{borderRadius:5,height:10,width:10,bg:"foreground.brandPrimary.link"}});var w=i(52754),I=i(957775),b=i(547134);class D extends r.A{componentDidMount(){super.componentDidMount(),this.props.actionDispatcher&&(0,I.dispatchDgAction)(b.A.EMI_BOTTOM_SHEET,this.props.actionDispatcher)}renderWidget(){var e;const{bottomSheetDetails:t,nepData:i}=(0,w.xH)(this.props.widgetSlotData),n=(0,E.Vr)(i)?i:void 0;if(!t||!n)return a.createElement(o.az,null);const{updateWidgetInfo:r,nepContext:s,selectedTab:l}=n;return a.createElement(m.v,{updateWidgetInfo:r,selectedTab:l,nepContext:s,dispatcher:this.props.actionDispatcher,scrollToSlotPosition:this.props.scrollToSlotPosition,isLoggedIn:(0,E.M3)(this.props.appContext),pageUID:null===(e=this.props.pageInfo)||void 0===e?void 0:e.pageUID},a.createElement(A,{data:t}))}}class x extends n.A{getWidgetClass(){return D}getWidgetHeight(e){return 222}}},726964:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>g});var n=i(296540),r=i(716249),a=i(877293);const o=a.StyleSheet.create({tryItOnFaceContainer:{flexDirection:"column",alignItems:"center",marginBottom:0,justifyContent:"flex-start",flex:1},tryItOnWidgetContainer:{alignItems:"center",justifyContent:"center",flex:1,marginBottom:5}}),s=(0,a.requireNativeComponent)("TryItOnFaceView");class l extends n.Component{constructor(e){super(e),this.onShadeCounterUpdate=e=>{this.props.selectionCompleted(e.nativeEvent)}}render(){const e=this.props,t=this._generateSrcProps(e),i=[o.tryItOnFaceContainer,{height:e.imageHeight,width:e.imageWidth}];return n.createElement(a.View,null,n.createElement(s,Object.assign({enabledListeners:this.getEnabledListeners()},this.props,{style:i,onShadeCounterUpdate:this.onShadeCounterUpdate,src:t})))}getEnabledListeners(){const e={onShadeCounterUpdate:!0};return e}_generateSrcProps(e){if(e.imageHeight>0&&e.imageWidth>0){return{imageHeight:e.imageHeight,imageWidth:e.imageWidth,lipColorToShow:e.lipColorToShow,lipColorFinishToShow:e.lipColorFinishToShow,selectionCompleted:e.selectionCompleted}}}}var d=i(166930),c=i(395567);class u{constructor(e){this.imageHeight=0,this.imageWidth=0,this.imageWidth=e.appContext.uiContext.windowFrame.width,this.imageHeight=h.getHeightFromAspectRatio(this.imageWidth);const t=d.A.getTryItOnSwatchPageInstanceDataFromProps(e);if(t){const e=Object.keys(t.productData);if(e.length>0){const i=t.productData[e[0]],n=i&&i.tryItOnSwatchContext;this.lipColorToShow=n&&n.selectedRGBValue,this.lipColorFinishToShow=n&&n.selectedColorFinishValue}}}}class h extends r.A{constructor(){super(...arguments),this.tryItOnSelectionCompleted=e=>{const t=d.A.getTryItOnSwatchPageInstanceDataFromProps(this.props);t&&t.isShadeSelected?this.trackOmnitureEvent(new c.Ej9(e.faceShadeChangeCounter,e.lipColorChangeCounter,e.lastSelectedSkinShade)):this.trackOmnitureEvent(new c.CI0(e.faceShadeChangeCounter,e.lipColorChangeCounter,e.lastSelectedSkinShade))}}static getWidgetHeight(e){return h.getHeightFromAspectRatio(e.appContext.uiContext.windowFrame.width)}static getHeightFromAspectRatio(e){return e*(29/36)+62}shouldComponentUpdate(e){return this.getSelectedColor(e)!==this.getSelectedColor(this.props)}renderWidget(){const e=new u(this.props);return n.createElement(a.View,{style:o.tryItOnWidgetContainer},n.createElement(l,{imageHeight:e.imageHeight,imageWidth:e.imageWidth,lipColorToShow:e.lipColorToShow,lipColorFinishToShow:e.lipColorFinishToShow,selectionCompleted:this.tryItOnSelectionCompleted}))}renderDivider(){}getSelectedColor(e){let t;const i=d.A.getTryItOnSwatchPageInstanceDataFromProps(e);if(i){const e=Object.keys(i.productData);if(e.length>0){const n=i.productData[e[0]],r=n&&n.tryItOnSwatchContext;t=r&&r.selectedRGBValue}}return t}}var p=i(465420);class g extends p.A{getWidgetClass(){return h}getWidgetHeight(e){return h.getWidgetHeight(e)}}},730106:(e,t,i)=>{"use strict";i.d(t,{F:()=>v});var n=i(296540),r=i(877293),a=i(370655),o=i(279381),s=i(492418),l=i(45426),d=i(876505),c=i(479892),u=i(512468),h=i(257246),p=i(879052),g=i(302019);class m extends n.PureComponent{render(){const e=this.props.rating>=4?"raw.green.700":"raw.yellow.900";return n.createElement(g.fI,Object.assign({alignItems:"center"},this.getPillContainerStyleProps(e)),this.props.aspectName&&n.createElement(g.JU,{mr:"s5",flexShrink:1},this.props.aspectName),n.createElement(g.fI,{alignItems:"center"},n.createElement(g.JU,Object.assign({},this.getRatingContainerStyleProps(e)),this.props.rating.toFixed(1)),n.createElement(g.JU,Object.assign({},this.getStarContainerStyleProps(e)),s.bhs)))}getPillContainerStyleProps(e){return this.props.aspectName?{py:"s2",px:"s5",mr:"s4",mb:"s4",bg:"common.white",borderWidth:1,borderColor:"#E0E0E0",borderRadius:20}:{py:"s2",px:"s4",bg:e,borderRadius:4}}getRatingContainerStyleProps(e){return this.props.aspectName?{mr:"s2",color:e,font:"m_medium"}:{mr:"s2",color:"common.white",font:"l_medium"}}getStarContainerStyleProps(e){return this.props.aspectName?{color:e,borderWidth:1,borderColor:"common.white"}:{color:"common.white",font:"l_medium",mb:"s1"}}}class v extends u.O{constructor(){super(...arguments),this._fillChildren=(e,t)=>{const[i,a]=t,o=a?c.XT.fkRoyalBlueText:c.XT.fkDarkBlack;return i?n.createElement(r.Text,Object.assign({},(0,p.Z)("Rateing_Review_Aspect_Number"),{style:[c.XT.fontMedium,(0,h.Yx)(this.props.themeContext,o)]}),i.toFixed(1)):n.createElement(r.View,null)}}render(){if(this.props.aspectRating){const e=this.props.aspectRating,t=2*e*10,i=s.WoX.ratingColorHigh;return this.props.trackingInfo?n.createElement(d.A,{trackingInfo:this.props.trackingInfo,style:!this.props.showAspectRatingPill&&o.T.aspectLayout},this._renderAspectRatingView(t,i,e,this.props.aspectName)):this._renderAspectRatingView(t,i,e,this.props.aspectName)}return null}_renderAspectRatingView(e,t,i,d){var u,g;const v=this.props.showAspectRatingPill?n.createElement(r.View,null,n.createElement(m,{aspectName:d,rating:i})):n.createElement(r.View,Object.assign({},(0,p.Z)(`Rateing_Review_Aspect_Rating_Container_${this.props.index}`),{style:[c.C1.contentAlignCenter,c.C1.margin_horizontal_4]}),n.createElement(a.P,{size:54,rotation:0,linecap:"round",width:4,fill:e,tintColor:null!==(u=(0,h.vZ)(this.props.themeContext))&&void 0!==u?u:t,backgroundColor:s.IF7,childParams:[i,this.props.areAspectReviewsAvailable],children:this._fillChildren}),d?n.createElement(r.Text,Object.assign({},(0,p.Z)("Rateing_Review_Aspect_Name"),{style:o.T.aspectText}),d):void 0),_=null===(g=this.props.areAspectReviewsAvailable)||void 0===g||g;return this.props.didClickAspectItem&&_?n.createElement(l.S,{onPress:this.aspectItemClicked,disableFeedback:!0},v):v}}},735546:(e,t,i)=>{"use strict";i.d(t,{Id:()=>u,Im:()=>s,Jc:()=>g,Q_:()=>a,VI:()=>o,VL:()=>C,Wb:()=>_,XZ:()=>d,ZT:()=>c,a9:()=>p,ar:()=>h,d1:()=>l,hw:()=>v,lT:()=>m});var n=i(347924),r=i(670563);const a=n.az.extendComponent({name:"CardContainer",defaultProps:{width:261,pt:"s4",pb:"s5",pl:"s4",pr:"s4",backgroundColor:"common.white",borderWidth:1,borderRadius:8,borderColor:r.zn.backgroundLight}}),o=n.az.extendComponent({name:"ImageContainer",defaultProps:{flex:1,p:"s2",bg:r.Jy.tableLightBackground,justifyContent:"center",alignItems:"center",borderWidth:1,borderRadius:8,borderColor:r.zn.backgroundLight}}),s=n.az.extendComponent({name:"TagContainer",defaultProps:e=>({mt:"s4",bg:e.bgColor,borderRadius:2,borderWidth:1,borderColor:r.Jy.limeGreen})}),l=n.JU.extendComponent({name:"TagLabel",defaultProps:e=>({color:e.color,fontFamily:"inter",font:"s_medium",pl:"s2",pr:"s2"})}),d=n.JU.extendComponent({name:"ProductPriceLabel",defaultProps:{color:"v2.neutral.900",fontFamily:"inter",font:"l_medium",mt:"s4"}}),c=n.az.extendComponent({name:"HeaderWrapper",defaultProps:{ml:"s6",mt:"s6",mb:"s5"}}),u=n.JU.extendComponent({name:"HeaderLabel",defaultProps:{color:"v2.neutral.900",fontFamily:"inter",font:"l_medium"}}),h=n.JU.extendComponent({name:"HeaderSubTitleLabel",defaultProps:{color:"v2.success.500",fontFamily:"inter",font:"m"}}),p=n.JU.extendComponent({name:"ProductLabel",defaultProps:{color:"v2.neutral.900",fontFamily:"inter",font:"m",alignSelf:"center"}}),g=n.JU.extendComponent({name:"OfferLabel",defaultProps:{color:"v2.success.500",fontFamily:"inter",font:"m",mt:"s2"}}),m=n.JU.extendComponent({name:"CombinePriceLabel",defaultProps:{color:"v2.neutral.900",fontFamily:"inter",font:"s",backgroundColor:"red",mt:"s2"}}),v=(n.az.extendComponent({name:"AddToComboBox",defaultProps:{bg:"common.white",borderRadius:4,mt:"s5",borderWidth:1,paddingVertical:"s3",paddingHorizontal:"s6",borderColor:r.zn.backgroundLight}}),n.JU.extendComponent({name:"AddToComboLabel",defaultProps:{font:"m_medium",color:"raw.blue.500"}}),n.az.extendComponent({name:"BottomContainer",defaultProps:{justifyContent:"center",alignItems:"center"}})),_=n.az.extendComponent({name:"AddToCartContainer",defaultProps:{justifyContent:"center",alignItems:"center",mt:"s5",paddingHorizontal:"s6",paddingVertical:"s3",borderRadius:4,borderWidth:1,borderColor:"v2.neutral.300"}}),C=n.JU.extendComponent({name:"AddtoCartLabel",defaultProps:{font:"m_medium",color:"primary.500",fontFamily:"inter"}})},737999:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});class n{}n.VIDEO="VIDEO",n.IMAGE="IMAGE",n.YOUTUBE="YOUTUBE",n.FKVIDEO="FKVIDEO",n.IMAGE_BUCKETS="IMAGE_BUCKETS"},739642:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(918210),r=i(90513);class a{handleAction(e,t){const i=e.payload.trackingParams,a=null==i?void 0:i.getTracking();if(!i||!a)return!1;if(i){const e=i.getOTracker(),t=i.getOTracker1(),a=i.getPosition(),o={};a&&(o[r.Ay.EVAR9]=a.toString()),t&&(o[r.Ay.EVAR30]=t),e&&(o[r.Ay.EVAR29]=e),n.A.addPageData(o)}return!0}}},744221:(e,t,i)=>{"use strict";i.d(t,{A:()=>O,i:()=>P});var n=i(296540),r=i(716249),a=i(302019),o=i(415283),s=i(45426),l=i(972904),d=i(410752),c=i(809400),u=i(479892),h=i(445531),p=i(52754),g=i(463528),m=i(53606),v=i(492418),_=i(756580),C=i(311676),E=i(764428),T=i(395567),f=i(851021),A=i(914944),S=i(347953),y=i(988287),w=i(670563),I=i(147396),b=i(352254),D=i(257246),x=i(879052);class P{constructor(e,t){var i,n,r,a,o;this.headerText="";const s=(0,p.nS)(e.widgetSlotData),l=null==s?void 0:s.data;this.headerText=t({id:d.H.rex_string_seller_string_sellerInfoTitle}),this.viewType=s?s.viewType:void 0,this.sellerMetaValue=l?l.SellerMetaValue:void 0,this.ratingData=l?l.rating:void 0,this.callouts=l?l.sellerCalloutsV2:void 0,this.ratingText=this.ratingData&&this.ratingData.value?`${this.ratingData.value.average} ${v.bhs}`:void 0,this.ratingTextDecimal=null===(n=null===(i=this.ratingData)||void 0===i?void 0:i.value)||void 0===n?void 0:n.average,this.sellerMetaValue&&this.sellerMetaValue.value&&(this.sellerMetaValue.value.newSeller?this.tag=t({id:d.H.rex_string_seller_string_newSellerTag}):this.sellerMetaValue.value.dormantSeller?this.tag=t({id:d.H.rex_string_seller_string_notEnoughRatingsTag}):this.ratingText=this.ratingData&&this.ratingData.value&&this.ratingData.value.average?`${this.ratingData.value.average} ${v.bhs}`:void 0),this.name=this.sellerMetaValue&&this.sellerMetaValue.value?this.sellerMetaValue.value.name:void 0,this.sellerDetailsAction=this.sellerMetaValue&&this.sellerMetaValue.action?this.sellerMetaValue.action:void 0,this.parameterizedScoreComponent=l&&l.parameterizedScoreComponent,this.serviceCallouts=null==l?void 0:l.serviceCallouts,this.isSellerRatingsABEnabled=!!S.A.getExperimentValue("enableSellerRating"),this.isSellerRatingsABEnabled=!0,this.isNewSeller=null===(a=null===(r=this.sellerMetaValue)||void 0===r?void 0:r.value)||void 0===a?void 0:a.newSeller,this.brandCallout=null===(o=null==l?void 0:l.brandCallout)||void 0===o?void 0:o.value,this.sellerDuration=null==l?void 0:l.sellerDuration,this.sellerAspectMetrics=null==l?void 0:l.sellerAspectMetrics,this.aboutSeller=null==l?void 0:l.aboutSeller,this.fssaiDetails=null==l?void 0:l.fssaiDetails,this.pharmaDetails=null==l?void 0:l.pharmaDetails,this.sellerRatingTitle=null==l?void 0:l.sellerRatingTitle,this.sellerTagIcon=null==l?void 0:l.sellerTagIcon}}class O extends l.A{constructor(e){super(e),this.viewTypeWithMinInfo="MIN_INFO",this.showRevampedSellerInformation=!0,this.showSellerRatingInRevampedSellerInformation=!0,this.showSellerScoresInRevampedSellerInformation=!0,this.ICON_SIZE=20,this._callOutClick=(e,t)=>{t&&this.dispatchAction(o.Q3.MAPI_ACTION,new A.rs(t))},this._sellerDetailsClicked=(e,t)=>{this._sellerNameClick(),this.props.actionDispatcher&&t&&this.dispatchAction(o.Q3.MAPI_ACTION,new A.Oy(t)),this.trackOmnitureEvent(new T.Qnt(this.state.trackingParams))},this._sellerNameClick=()=>{this.trackDGEvent(new C.VaI(this.getFetchId(),this.props.index,this.getListingId()))},this._calculateDimensions=()=>({width:f.m8,height:f.dv}),this._renderRatingsComponentItem=(e,t,i)=>n.createElement(h.A,{sellerScoreValue:t,columnWidth:100,hideDetailsText:!0}),this.showRevampedSellerInformation=!!m.Ay.getReactNativeConfigGlobalValue("showSellerRevampedInformationValue"),this.showSellerRatingInRevampedSellerInformation=!!m.Ay.getReactNativeConfigGlobalValue("showRatingInSellerRevampedInformation"),this.showSellerScoresInRevampedSellerInformation=!!m.Ay.getReactNativeConfigGlobalValue("showSellerScoresInSellerRevampedInformationAbValue")}static getWidgetHeight(e){return r.A.getAdditionalHeight(e)+120}renderFooter(e){const t=super.renderFooter(e);if(t)return n.createElement(a.az,null,n.createElement(_.A,{height:v.Nsv,backgroundColor:(0,D.lE)(this.props.themeContext)}),t)}renderHeader(e){}renderWidget(){var e;const t=new P(this.props,this.localize);if(!t.sellerMetaValue)return;t.viewType===this.viewTypeWithMinInfo&&(t.headerText=this.localize({id:d.H.rex_string_sellerV2_string_sellerInfoTitle}));const i={font:"m_medium",color:null!==(e=(0,D.o0)(this.props.themeContext))&&void 0!==e?e:"primary.main"};return n.createElement(a.az,Object.assign({},(0,x.Z)("Seller_Widget_Container")),n.createElement(I.xU,null,this.showRevampedSellerInformation?void 0:this.getHeading(t),this.showRevampedSellerInformation?this.getRevampedSellerInformation(t):this.getSellerInformation(t),this.showRevampedSellerInformation&&this.showSellerScoresInRevampedSellerInformation?this.getSellerScores(t.parameterizedScoreComponent):void 0,!this.showRevampedSellerInformation&&t.callouts&&t.callouts.map(((e,t)=>(null==e?void 0:e.value)&&n.createElement(I.A9,Object.assign({},(0,x.Z)(`Seller_Callout_Container_${t}`),{key:t}),n.createElement(I.kj,Object.assign({},(0,x.Z)(`Seller_Callout_${t}`),{labelColor:(0,D.n6)(this.props.themeContext)}),e.value.text,e.action&&n.createElement(g.A,Object.assign({},i,{style:(0,D.aO)("textUnderline",this.props.themeContext),onTextPress:this._callOutClick,onPressParam:e.action})," "+this.localize({id:d.H.rex_string_seller_string_detailCalloutText})))))),(null==t?void 0:t.brandCallout)&&n.createElement(I.zT,Object.assign({},(0,x.Z)("Seller_Brand_Callout_Container")),!!t.brandCallout.imageValue&&n.createElement(b.A,Object.assign({},(0,x.Z)("Seller_Brand_Callout_Image"),{source:t.brandCallout.imageValue.dynamicImageUrl,height:this.ICON_SIZE,width:this.ICON_SIZE})),n.createElement(I.zL,Object.assign({},(0,x.Z)("Seller_Brand_Callout_Text")),t.brandCallout.title))))}renderDivider(){}getHeading(e){return n.createElement(I.EL,Object.assign({},(0,x.Z)("Seller_Widget_Header_Text"),{labelColor:(0,D.L7)(this.props.themeContext)}),e.headerText)}getRevampedSellerInformation(e){const{name:t,sellerDetailsAction:i,ratingText:r}=e;return!!t&&n.createElement(s.S,Object.assign({},(0,x.Z)("Seller_Info_Container"),{onPress:this._sellerDetailsClicked,onPressParam:i,disableFeedback:!0}),n.createElement(I.oN,null,n.createElement(I.zh,Object.assign({},(0,x.Z)("Seller_Soldby_Text")),this.localize({id:d.H.rex_string_SOLD_BY})+v.NH),n.createElement(I.A,Object.assign({},(0,x.Z)("Seller_Name")),t),this.showSellerRatingInRevampedSellerInformation&&!!r&&n.createElement(y.A,Object.assign({},(0,x.Z)("Seller_Rating"),{starScaleFactor:1.3,rating:parseInt(r),starContainerStyle:u.C1.dimension_16,themeContext:this.props.themeContext}))))}getSellerScores(e){if(e)return n.createElement(c.E,{containerStyle:[E.$.parameterizedScoreContainer,u.C1.margin_bottom_2],calculateDimensions:this._calculateDimensions,data:e,renderItem:this._renderRatingsComponentItem,viewStyle:u.C1.row_wrap})}getSellerInformation(e){var t,i,r;const{name:o,tag:l,ratingText:d,isNewSeller:c,ratingData:u}=e;if(!o)return null;const h=!!c||!l&&d;return n.createElement(s.S,{onPress:this._sellerDetailsClicked,onPressParam:e.sellerDetailsAction,disableFeedback:!0},(null===(t=null==u?void 0:u.value)||void 0===t?void 0:t.ratingAdjective)?n.createElement(I.Hj,null,n.createElement(a.az,Object.assign({},k),!!d&&!!h&&n.createElement(y.A,Object.assign({},(0,x.Z)("Seller_Rating"),{rating:parseInt(d),fillColor:w.Jy.royalBlue,themeContext:this.props.themeContext,roundedStar:!!(null===(i=null==u?void 0:u.value)||void 0===i?void 0:i.ratingAdjective)})),n.createElement(a.JU,Object.assign({},(0,x.Z)("Seller_Rating_Label"),R)," "+(null===(r=null==u?void 0:u.value)||void 0===r?void 0:r.ratingAdjective)))):n.createElement(I.oN,null,n.createElement(I.eb,Object.assign({},(0,x.Z)("Seller_Name"),{color:(0,D.o0)(this.props.themeContext)}),o),!!d&&!!h&&n.createElement(y.A,Object.assign({},(0,x.Z)("Seller_Rating"),{rating:parseInt(d),fillColor:w.Jy.royalBlue,themeContext:this.props.themeContext})),!!l&&n.createElement(I.sx,Object.assign({},(0,x.Z)("Seller_Tag"),{ml:"s4"}),l)))}trackFooterClick(e){this.trackDiscoveryWidgetClickEvent()}}const R={font:"m",color:"raw.grey.400",ml:"s2"},k={flexDirection:"row",alignItems:"center"}},744307:(e,t,i)=>{var n=i(967495),r=/\s+/g,a=i(644051),o=i(442967);function s(e,t,i){"object"==typeof e?(i=t,t=e,e=null):"function"==typeof t&&(i=t,t=l),this._callback=e,this._options=t||l,this._elementCB=i,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var l={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};s.prototype.onparserinit=function(e){this._parser=e},s.prototype.onreset=function(){s.call(this,this._callback,this._options,this._elementCB)},s.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},s.prototype._handleCallback=s.prototype.onerror=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},s.prototype.onclosetag=function(){var e=this._tagStack.pop();this._options.withEndIndices&&e&&(e.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(e)},s.prototype._createDomElement=function(e){if(!this._options.withDomLvl1)return e;var t;for(var i in t="tag"===e.type?Object.create(o):Object.create(a),e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},s.prototype._addDomElement=function(e){var t=this._tagStack[this._tagStack.length-1],i=t?t.children:this.dom,n=i[i.length-1];e.next=null,this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),n?(e.prev=n,n.next=e):e.prev=null,i.push(e),e.parent=t||null},s.prototype.onopentag=function(e,t){var i={type:"script"===e?n.Script:"style"===e?n.Style:n.Tag,name:e,attribs:t,children:[]},r=this._createDomElement(i);this._addDomElement(r),this._tagStack.push(r)},s.prototype.ontext=function(e){var t,i=this._options.normalizeWhitespace||this._options.ignoreWhitespace;if(!this._tagStack.length&&this.dom.length&&(t=this.dom[this.dom.length-1]).type===n.Text)i?t.data=(t.data+e).replace(r," "):t.data+=e;else if(this._tagStack.length&&(t=this._tagStack[this._tagStack.length-1])&&(t=t.children[t.children.length-1])&&t.type===n.Text)i?t.data=(t.data+e).replace(r," "):t.data+=e;else{i&&(e=e.replace(r," "));var a=this._createDomElement({data:e,type:n.Text});this._addDomElement(a)}},s.prototype.oncomment=function(e){var t=this._tagStack[this._tagStack.length-1];if(t&&t.type===n.Comment)t.data+=e;else{var i={data:e,type:n.Comment},r=this._createDomElement(i);this._addDomElement(r),this._tagStack.push(r)}},s.prototype.oncdatastart=function(){var e={children:[{data:"",type:n.Text}],type:n.CDATA},t=this._createDomElement(e);this._addDomElement(t),this._tagStack.push(t)},s.prototype.oncommentend=s.prototype.oncdataend=function(){this._tagStack.pop()},s.prototype.onprocessinginstruction=function(e,t){var i=this._createDomElement({name:e,data:t,type:n.Directive});this._addDomElement(i)},e.exports=s},745898:(e,t,i)=>{"use strict";i.d(t,{$u:()=>r,Mq:()=>n});i(510660);const n="inter_semi_bold";let r="HelveticaNeue-Medium"},746644:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>v});var n=i(63560),r=i.n(n),a=i(688055),o=i.n(a),s=i(406924),l=i.n(s),d=i(415283),c=i(146387),u=i(52754),h=i(90035),p=i(816158),g=i(420721),m=i(410752);class v{handleAction(e,t,i){var n;switch(e.type){case d.Q3.UPDATE_SLOT_TRANSIENT_DATA:if(t.widgetsData&&e.payload&&e.payload instanceof c.oX){const n=(0,u.fx)(e.payload.index,e.payload.behaviour,t.widgetsData),r=e.payload.transientData;if(n){const a=Object.assign(Object.assign({},n),{transientData:Object.assign({},r)});i({type:d.Q3.UPDATE_SLOT_DATA,payload:new c.mD(a,e.payload.index,e.payload.behaviour,e.payload.rowId,t.pageMeta.pageURI)}),(0,h.gg)(t).updateSlotsData(t.pageMeta.pageURI,a)}}break;case d.Q3.UPDATE_WIDGET:if(t.widgetsData&&e.payload&&e.type===d.Q3.UPDATE_WIDGET){const n=e.payload;if(n){const e=null==n?void 0:n.widget,r=(0,u.fx)(n.index,n.behaviour,t.widgetsData);if(r){const a=Object.assign(Object.assign({},r),{slotData:Object.assign(Object.assign({},r.slotData),{widget:Object.assign({},e)})});n.skipReduxStoreUpdate&&!t.viewModel.isStoreFirstArchitecture||i({type:d.Q3.UPDATE_SLOT_DATA,payload:new c.mD(a,n.index,n.behaviour,n.rowId,t.pageMeta.pageURI)}),(0,h.gg)(t).updateSlotsData(t.pageMeta.pageURI,a)}}}break;case d.Q3.PARTIAL_UPDATE_WIDGET:if(t.widgetsData&&e.payload&&e.type===d.Q3.PARTIAL_UPDATE_WIDGET){const n=e.payload;if(n){const{data:e,updatePath:a,rowId:s,index:l,behaviour:v}=n,_=(0,u.fx)(l,v,t.widgetsData);if(_&&a){const n=o()(_);r()(n,a,e);const u={message:(0,g.ak)(t.appContext.locale,{id:m.H.rex_string_ITEM_ADDED_TO_CART}),design:0};i({type:d.Q3.UPDATE_SLOT_DATA,payload:new c.mD(n,l,v,s,t.pageMeta.pageURI)}),i(new p.n(u)),(0,h.gg)(t).updateSlotsData(t.pageMeta.pageURI,n)}}}break;case d.Q3.UPDATE_PREFETCH_FLAG:if(t.widgetsData&&e.payload&&e.type===d.Q3.UPDATE_PREFETCH_FLAG){const n=e.payload;if(n&&(!n.skipOldArch||t.viewModel.isStoreFirstArchitecture)){const e=(0,u.fx)(n.index,n.behaviour,t.widgetsData);if(e){const r=Object.assign(Object.assign({},e),{isPrefetchIndex:n.prefetchFlag});i({type:d.Q3.UPDATE_SLOT_DATA,payload:new c.mD(r,n.index,n.behaviour,n.rowId,t.pageMeta.pageURI)}),n.skipDBUpdate||(0,h.gg)(t).updateSlotsData(t.pageMeta.pageURI,r)}}}break;case d.Q3.DELETE_WIDGET:if(t.widgetsData&&e.payload&&e.type===d.Q3.DELETE_WIDGET){const n=e.payload;if(n){const e=(0,u.fx)(n.index,n.behaviour,t.widgetsData);e&&(i({type:d.Q3.DELETE_SLOT_DATA,payload:new c.mD(e,n.index,n.behaviour,n.rowId,t.pageMeta.pageURI)}),(0,h.gg)(t).deleteSlotsData(t.pageMeta.pageURI,e))}}break;case d.Q3.DELETE_BULK_WIDGET:if(t.widgetsData&&e.payload&&e.type===d.Q3.DELETE_BULK_WIDGET){const r=e.payload,a=null!==(n=null==r?void 0:r.bulkDeletePayload)&&void 0!==n?n:[],o=[];for(const e of a){const i=(0,u.fx)(e.slotIndex,e.slotDataBehaviour,t.widgetsData);i&&o.push(i)}i({type:d.Q3.DELETE_BATCH_SLOT_DATA,payload:r}),(0,h.gg)(t).deleteBatchSlotsData(t.pageMeta.pageURI,o)}break;case d.Q3.UPDATE_DLS_WIDGET_STORE:if(t.widgetsData&&e.payload&&e.payload instanceof c.mi){const n=(0,u.fx)(e.payload.index,e.payload.behaviour,t.widgetsData),r=e.payload.data;if(n){const a=Object.assign(Object.assign({},n),{dlsWidgetStore:Object.assign(Object.assign({},n.dlsWidgetStore),r)});i({type:d.Q3.UPDATE_SLOT_DATA,payload:new c.mD(a,e.payload.index,e.payload.behaviour,e.payload.rowId,t.pageMeta.pageURI)}),(0,h.gg)(t).updateSlotsData(t.pageMeta.pageURI,a)}}break;case d.Q3.UPDATE_WIDGET_LOADING_STATE:if(t.widgetsData&&e.payload&&e.payload instanceof c.Lj){const n=(0,u.fx)(e.payload.index,e.payload.behaviour,t.widgetsData);if(n){const r=Object.assign(Object.assign({},n),{widgetLoadState:e.payload.widgetLoadState});i({type:d.Q3.UPDATE_SLOT_DATA,payload:new c.mD(r,e.payload.index,e.payload.behaviour,e.payload.rowId,t.pageMeta.pageURI)}),e.payload.doNotUpdateDB||(0,h.gg)(t).updateSlotsData(t.pageMeta.pageURI,r)}}break;case d.Q3.PARTIAL_SLOT_DATA_UPDATE:if(t.widgetsData&&e.payload&&e.payload instanceof c.fG){const n=(0,u.fx)(e.payload.index,e.payload.behaviour,t.widgetsData),r=e.payload.data;if(n&&r){const a=l()({},n.slotData,r,((e,t)=>{if(Array.isArray(t))return t})),o=Object.assign(Object.assign({},n),{slotData:a});i({type:d.Q3.UPDATE_SLOT_DATA,payload:new c.mD(o,e.payload.index,e.payload.behaviour,e.payload.rowId,t.pageMeta.pageURI)}),(0,h.gg)(t).updateSlotsData(t.pageMeta.pageURI,o)}}}return!0}}},750029:(e,t)=>{"use strict";!function(e){e.RBO_BASKET_OFFER_CARD="RBO_BASKET_OFFER_CARD",e.RBO_PMU_OFFER_CARD="RBO_PMU_OFFER_CARD"}(t.E||(t.E={}))},753664:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ViewTypes:()=>g,default:()=>_});var n=i(465420),r=i(296540),a=i(716249),o=i(52754),s=i(347924),l=i(479892),d=i(99394),c=i(914944),u=i(415283),h=i(212240);class p extends a.A{constructor(){super(...arguments),this._onValueClick=e=>{const t=e.action;if(t){const e=new c.Oy(t);this.dispatchAction(u.Q3.MAPI_ACTION,e),t.tracking&&this.trackDiscoveryContentClickEvent(t.tracking)}this.trackDiscoveryContentClickEvent(null==e?void 0:e.tracking)},this._renderCallouts=(e,t)=>{var i,n;const a=null===(n=null===(i=e.data)||void 0===i?void 0:i[0])||void 0===n?void 0:n.tracking,o=r.createElement(d.A,{messages:e.data,data:e,parentContainerStyle:t&&t>0?l.C1.padding_top_8:null,textContainerStyle:l.C1.row_wrap,textDefaultStyle:l.XT.fontRegular_14,imageContainerStyle:l.C1.margin_right_8,appContext:this.props.appContext,dispatchAction:this._onValueClick,viewType:"MultiView",useTextContainer:!0});return this.getTrackableContentView(o,a)}}static getWidgetHeight(e){const t=(0,o.nS)(e.widgetSlotData);return p.addAllCalloutsHeight(t)+p.calculateTotalPadding(t)+a.A.getAdditionalHeight(e)}renderDivider(){}static getLineHeightFromStyle(e){var t,i,n;const r=null===(n=null===(i=null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.data)||void 0===i?void 0:i.value)||void 0===n?void 0:n.style;return(null==r?void 0:r.lineHeight)?r.lineHeight:0}static getLineHeight(e){const t=e.data;return(t?t.map((e=>p.getLineHeightFromStyle(e))):[]).reduce(((e,t)=>Math.max(e,t)),0)}static addAllCalloutsHeight(e){const t=e&&e.data,i=t&&t.emiCallouts,n=null==i?void 0:i.map((e=>p.getLineHeight(e)));return n?n.reduce(((e,t)=>(0===t&&(t=20),e+t)),0):0}static calculateTotalPadding(e){const t=e&&e.data,i=t&&t.emiCallouts;return i&&i.length>1?8*(i.length-1):0}renderCalloutInWrapper(e){return r.createElement(s.az,{px:"s6"},null==e?void 0:e.map(((e,t)=>this._renderCallouts(e,t))))}renderWidget(){const e=(0,o.nS)(this.props.widgetSlotData),t=e&&e.data,i=t&&t.emiCallouts,n=t&&t.bnplCallouts;return r.createElement(s.az,null,!!(null==i?void 0:i.length)&&this.renderCalloutInWrapper(i),!!(null==n?void 0:n.length)&&r.createElement(s.az,null,r.createElement(h.cu,null),this.renderCalloutInWrapper(n)))}}var g,m=i(879052);class v extends p{static getWidgetHeight(e){const t=(0,o.nS)(e.widgetSlotData);return p.addAllCalloutsHeight(t)+a.A.getAdditionalHeight(e)}renderCalloutInWrapper(e){return r.createElement(s.az,Object.assign({},(0,m.Z)("Pricing_Aid_Hero_Callout_Container"),{px:"s6"}),null==e?void 0:e.map((e=>this._renderCallouts(e))))}}!function(e){e.EMI_EXCHANGE_HERO_OF_PAGE="EMI_EXCHANGE_HERO_OF_PAGE"}(g||(g={}));class _ extends n.A{getWidgetClass(e){return"EMI_EXCHANGE_HERO_OF_PAGE"===o.KJ(e.widgetSlotData)?v:p}getWidgetHeight(e){return"EMI_EXCHANGE_HERO_OF_PAGE"===o.KJ(e.widgetSlotData)?v.getWidgetHeight(e):p.getWidgetHeight(e)}}},759539:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var n=i(91003),r=i(877293),a=i(670563),o=i(887261);const s=r.StyleSheet.create({buttonContainer:{alignSelf:"stretch",flexDirection:"row"},leftButtonText:{color:a.Jy.blackPrimary,marginLeft:9,fontFamily:o.$u,includeFontPadding:!1,fontSize:14},rightButtonText:{color:a.Cf.fkBlueColor,marginLeft:9,fontFamily:o.$u,includeFontPadding:!1,fontSize:14}});class l extends n.A{constructor(){super(...arguments),this._styleSheet=Object.assign(Object.assign({},super._getStyleSheet()),s)}_getStyleSheet(){return this._styleSheet}}},761208:(e,t,i)=>{"use strict";i.d(t,{M6:()=>l,TZ:()=>s,fv:()=>o,n_:()=>d,w9:()=>c});var n=i(877293),r=i(670563),a=i(887261);const o=n.StyleSheet.create({outerContainer:{marginHorizontal:16,marginVertical:20},headerStyle:{height:40,fontSize:16,fontFamily:a.$u},leftBox:{backgroundColor:r.Jy.white,width:27,marginRight:16,alignItems:"center"},circleGreenBorder:{height:24,width:24,backgroundColor:r.Jy.white,borderRadius:15,borderColor:r.Cf.fkGreen,borderWidth:2},circleGreyBorder:{height:24,width:24,backgroundColor:r.Jy.white,borderRadius:15,borderColor:r.Zd,borderWidth:2},circleGreenFilled:{height:24,width:24,backgroundColor:r.Cf.fkGreen,borderRadius:15,borderColor:r.Cf.fkGreen,borderWidth:2},circleGreyFilled:{height:24,width:24,backgroundColor:r.Jy.disabled,borderRadius:15,borderColor:r.Jy.disabled,borderWidth:2},checkmark:{width:20,height:20,transform:[{rotate:"45deg"}]},checkmarkStem:{position:"absolute",width:2,height:10,backgroundColor:r.Jy.white,left:10,top:4},checkmarkKick:{position:"absolute",width:6,height:2,backgroundColor:r.Jy.white,left:6,top:13},greyLine:{width:1,backgroundColor:r.Zd,height:36,margin:4},titleStyle:{fontSize:16,fontFamily:a.$u,lineHeight:24},subTitleStyle:{fontSize:12,marginBottom:20},leftRoundBorder:{borderTopLeftRadius:2,borderBottomLeftRadius:2},rightRoundBorder:{borderTopRightRadius:2,borderBottomRightRadius:2},d2rTitleStyle:{fontSize:16,marginBottom:4,fontFamily:a.$u,lineHeight:24},d2rProgressTextStyle:{lineHeight:24,marginBottom:4,fontFamily:a.A$,fontSize:12}}),s=n.StyleSheet.create({greyLineProgress:{width:1,backgroundColor:r.Zd,height:50,margin:4},progressContainer:{display:"flex",flexDirection:"row",marginBottom:10},greenProgressLine:{flex:1,height:4,backgroundColor:r.Cf.fkGreen,marginRight:5},greyProgressLine:{flex:1,height:4,backgroundColor:r.Zd,marginRight:5},rightRoundBorder:{borderTopRightRadius:2,borderBottomRightRadius:2,marginRight:0}}),l=n.StyleSheet.create({greyLineProgress:{width:1,backgroundColor:r.Zd,height:50,margin:4},progressContainer:{marginBottom:16},greenProgressLine:{height:4,backgroundColor:r.Cf.fkGreen},greyProgressLine:{width:"100%",position:"absolute",height:4,backgroundColor:r.Zd}}),d=n.StyleSheet.create({outerContainer:{marginLeft:16,marginRight:4,marginVertical:20},greyLineProgress:{width:1,backgroundColor:r.Zd,height:50,margin:4},progressContainer:{display:"flex",flexDirection:"row",marginBottom:10,flexWrap:"wrap"},imageContainer:{marginRight:12,marginBottom:12},greyBox:{width:56,height:56,backgroundColor:r.PC,marginRight:12,alignItems:"center",justifyContent:"center",borderRadius:2,marginBottom:12},verticalLine:{backgroundColor:r._G,width:2,height:14,position:"absolute",top:-6,left:0},horizontalLine:{backgroundColor:r._G,width:14,height:2,position:"absolute",top:0,left:-6}}),c=n.StyleSheet.create({buttonContainer:{marginHorizontal:4,marginVertical:10,flexDirection:"row"},lightButton:{flex:1,borderWidth:1,borderColor:r.SG,borderStyle:"solid",marginLeft:4,marginRight:4,height:40,justifyContent:"center",alignItems:"center",display:"flex",borderRadius:2},blueButton:{flex:1,backgroundColor:r.Cf.fkBlueColor,marginLeft:4,marginRight:4,height:40,justifyContent:"center",alignItems:"center",display:"flex",borderRadius:2},lightButtonText:{color:r.Cf.fkBlueColor,fontSize:14,fontFamily:a.$u},blueButtonText:{color:r.Jy.white,fontSize:14,fontFamily:a.$u}})},761299:(e,t,i)=>{function n(e){this._cbs=e||{}}e.exports=n;var r=i(12987).EVENTS;Object.keys(r).forEach((function(e){if(0===r[e])e="on"+e,n.prototype[e]=function(){this._cbs[e]&&this._cbs[e]()};else if(1===r[e])e="on"+e,n.prototype[e]=function(t){this._cbs[e]&&this._cbs[e](t)};else{if(2!==r[e])throw Error("wrong number of arguments");e="on"+e,n.prototype[e]=function(t,i){this._cbs[e]&&this._cbs[e](t,i)}}}))},765701:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(436728),r=i(628628),a=i(361588);class o extends n.A{constructor(e){super(e),this.serverRenderedState=this.props.serverRenderedState}componentDidMount(){var e,t,i,n,o,s,l;super.componentDidMount(),(null===(e=this.props.serverRenderedState)||void 0===e?void 0:e.widgetsData)&&a.I7.emit(r.t.HANDLE_WIDGET_RESPONSE,{pageUID:(null===(i=null===(t=this.props)||void 0===t?void 0:t.serverRenderedState)||void 0===i?void 0:i.pageMeta.pageUID)||"",pageURI:(null===(o=null===(n=this.props)||void 0===n?void 0:n.serverRenderedState)||void 0===o?void 0:o.pageMeta.pageURI)||"",widgetsData:null===(l=null===(s=this.props)||void 0===s?void 0:s.serverRenderedState)||void 0===l?void 0:l.widgetsData})}getComponent(e,t,i,n){const r=this.getModule();return n?r:Promise.resolve(r)}}},766110:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>u,Mn:()=>c});var n,r=i(972904),a=i(980573),o=i(311676),s=i(690992),l=i(52754),d=i(279381);!function(e){e[e.NEGATIVE=1]="NEGATIVE",e[e.NEUTRAL=2]="NEUTRAL",e[e.POSITIVE=3]="POSITIVE"}(n||(n={}));const c=16;class u extends r.A{constructor(){super(...arguments),this.trackAspectClick=(e,t,i)=>{if(!e)return;const n=new o.k78(this.getFetchId(),e,i,t,this.getProductId());this.trackDGEvent(n)}}static _getEachAspectSentimentHeight(e){let t=0;const i=e&&e.length;if(i){const e=Math.ceil(i/this.ASPECT_REVIEW_COUNT_PER_LINE);t+=e*this.ASPECT_REVIEW_HEIGHT,t+=(e-1)*a.e5,t+=c}return t}renderDivider(){}isHeaderBottomBorderEnabled(){return!1}getHeaderStyle(e){var t,i;const n=(0,l.nS)(this.props.widgetSlotData),r=null===(i=null===(t=null==n?void 0:n.header)||void 0===t?void 0:t.value)||void 0===i?void 0:i.headerViewType,a=null==e?void 0:e.color.default.text.primary.hex;return r===s.z.HEADER_SUBTITLE_ICON?(0,d._)(super.getHeaderStyle(),e,a):super.getHeaderStyle(e)}}u.MINIMAL_RATING_VIEW_HEIGHT=56,u.ASPECT_REVIEW_HEIGHT=36,u.ASPECT_REVIEW_COUNT_PER_LINE=3,u.ASPECTS_HEADER_HEIGHT=30},770068:(e,t)=>{"use strict";!function(e){e.LOGIN_REQUIRED="LOGIN_REQUIRED",e.REG_NOT_OPEN="REG_NOT_OPEN",e.REGISTRABLE="REGISTRABLE",e.REGISTERED="REGISTERED",e.NOT_REGISTERED="NOT_REGISTERED",e.TIMER_RUNNING="TIMER_RUNNING",e.RESERVABLE="RESERVABLE",e.RESERVED="RESERVED",e.WAITLIST_AVAILABLE="WAITLIST_AVAILABLE",e.IN_WAITLIST="IN_WAITLIST",e.WAITLIST_ALLOTTED="WAITLIST_ALLOTTED",e.WAITLIST_FULL="WAITLIST_FULL",e.MAX_AVAILED="MAX_AVAILED",e.OOS="OOS"}(t.L||(t.L={}))},770269:(e,t,i)=>{"use strict";i.d(t,{A:()=>O});var n=i(52754),r=i(877293),a=i(296540),o=i(136156),s=i(809400),l=i(166057),d=i(537415),c=i(45426),u=i(352254),h=i(495176),p=i(976885),g=i(102553),m=i(787921),v=i(122459),_=i(301600),C=i(479892),E=i(57522),T=i(390437),f=i(580555),A=i(311676),S=i(279037),y=i(847150),w=i(163256),I=i(159874),b=i(919234),D=i(879052),x=i(645770),P=i(53606);class O extends w.o{constructor(e,t){super(e,t),this._adsViewRef=null,this.setAdsViewRef=e=>{this._adsViewRef=e},this.renderItem=e=>(t,i,n)=>i.value?this.renderEachItem(i,e,n):null,this.shouldUpdateIfCartDataRelevant=(e,t)=>{var i;const n=null===(i=this.props.pageInfo)||void 0===i?void 0:i.pageURI;if((0,I.jg)(n)){const i=Object.keys(t);return this.getListingIds(e).some((e=>e&&i.includes(e)))}return this.state.cartData!==t},this.calculateDimensions=e=>{let t=o.dv;return e&&(t=o.dv+e),{height:t,width:o.m8}},this.addMultiLineEllipsis=(e,t)=>[e,{WebkitBoxOrient:"vertical",WebkitLineClamp:t||1,overflow:"hidden"}],this.executeAction=(e,t,i)=>{this.dispatchAction(m.A.MAPI_ACTION,new S.gA(e,t,i))},this.onProductCardClicked=(e,t)=>{this.executeAction(t),this.fireDCCEvent(t.tracking)},this.quantityUpdated=(e,t,i)=>(e,r,a)=>{if(!(0,n.nS)(this.props.widgetSlotData))return;const o=(0,n.nS)(this.props.widgetSlotData),s=null==o?void 0:o.data,d=null==s?void 0:s.renderableComponents,c=(0,n.Qd)(this.props,E.j.BASKET_SUBSTITUTE),u=(null==c?void 0:c.grocerySubtituteData)?c.grocerySubtituteData:d;if(a){a.params.quantity=r,a.params.basketData=u,a.params.isNotdispatchSuccessAction=!0,a.params.price=t,a.params.category=i;const n=a.tracking;n.updatedQuantity=r.toString();let o=g.GrocerySubstituteOmnitureTypes.GROCERY_SUBSTITUTE_UPDATE;r>0?0===e?(a.params.type=l.a.CART_SUBSTITUTE_ADD,a.type=l.a.CART_SUBSTITUTE_ADD,o=g.GrocerySubstituteOmnitureTypes.GROCERY_SUBSTITUTE_ADD):(a.params.type=l.a.CART_SUBSTITUTE_UPDATE,a.type=l.a.CART_SUBSTITUTE_UPDATE):(a.params.type=l.a.CART_SUBSTITUTE_REMOVE,a.type=l.a.CART_SUBSTITUTE_REMOVE),this.fireDCEEvent(n,e,r),this.executeAction(a,o,n)}},this.fireDCCEvent=e=>{const t=new f.Ay(e),i=this.state.trackingParams&&this.state.trackingParams.getImpressionInfo(),n=new A.dv9(t,i);this.trackDGEvent(n)},this._getXtraSaverAvailabilityInfo=e=>O._getXtraSaverAvailabilityInfo(e)}shouldComponentUpdate(e,t){const i=this.getVolatileUpdatedData(e),r=this.getVolatileUpdatedData(this.props);if(!i||!r)return!0;const a=(0,n.Qd)(e,E.j.BASKET_SUBSTITUTE);if(a&&a.isQuantityUnchanged)return!0;let o=!1;return i&&r&&i.some(((e,t)=>{var i,n;const a=null===(i=e.value)||void 0===i?void 0:i.cartQuantity,s=null===(n=null==r?void 0:r[t])||void 0===n?void 0:n.value;return!(!s||s.cartQuantity===a)&&(o=!0,o)})),o}getVolatileUpdatedData(e){const t=(0,n.Qd)(e,E.j.BASKET_SUBSTITUTE);return t&&t.grocerySubtituteData}renderWidget(){const e=(0,n.nS)(this.props.widgetSlotData);if(!e)return;const t=e.data,i=this.getVolatileUpdatedData(this.props),d=i||(null==t?void 0:t.renderableComponents);return d&&a.createElement(r.View,{style:o.yX.container},a.createElement(s.E,{calculateDimensions:()=>this.calculateDimensions(),data:d,containerStyle:o.yX.groceryProductCard,viewStyle:o.yX.list,renderItem:this.renderItem(l.a.CART_SUBSTITUTE_UPDATE)}))}renderEachItem(e,t,i){var n,s,l,g,m,E,T,f,A,S,w,O,R,k;const V=e&&e.value,L=null==V?void 0:V.titles,M=null==L?void 0:L.title,N=null==L?void 0:L.coSubtitle,H=null==L?void 0:L.subtitle,W=N||H?(N||"")+(H||""):void 0,B=null===(s=null===(n=null==V?void 0:V.media)||void 0===n?void 0:n.images)||void 0===s?void 0:s[0],U=e&&Object.assign({},e.tracking),F=null==V?void 0:V.adInfo,G=null==e?void 0:e.action,z=null==V?void 0:V.pricing,j=null==V?void 0:V.xtraSaverCallout,X=null==z?void 0:z.prices,Y={type:t,loginType:d.G.LOGIN_NOT_REQUIRED,tracking:U||{},params:{pageNumber:1,listingId:V&&V.listingId,productId:V&&V.id,type:t,showLoader:!1}},q=(null==V?void 0:V.cartQuantity)||0,J=(null==V?void 0:V.productAction)||{},K=(null==J?void 0:J.value)?J.value.text:"",Q=null==V?void 0:V.listingId,Z=this.props.appContext.userManager.getLocalCartContents();let $=Q&&null!==(g=null===(l=null==Z?void 0:Z[Q])||void 0===l?void 0:l.quantity)&&void 0!==g?g:0;const ee=null==z?void 0:z.finalPrice,te=null==X?void 0:X.find((e=>"FSP"===e.priceType)),ie={isSpecialPrice:null==X?void 0:X.some((e=>"SPECIAL_PRICE"===e.priceType)),finalPrice:(null==ee?void 0:ee.decimalValue)?Number(ee.decimalValue):void 0,fsp:(null==te?void 0:te.decimalValue)?Number(te.decimalValue):void 0,mrp:(null===(m=null==z?void 0:z.mrp)||void 0===m?void 0:m.decimalValue)?Number(z.mrp.decimalValue):void 0},ne={productRating:(0,y.HP)(V),productPriceDetails:ie,brand:null==V?void 0:V.productBrand,productId:null==V?void 0:V.id},re=(0,I.BX)(null===(E=this.props.pageInfo)||void 0===E?void 0:E.marketPlace),ae=`ProductCard_Container_${void 0!==i?i:""}`,oe=a.createElement(r.View,Object.assign({},(0,D.Z)(ae),{style:o.yX.cardContainer}),a.createElement(c.S,Object.assign({},(0,D.Z)("ProductCard"),{onPress:this.onProductCardClicked,onPressParam:G}),a.createElement(r.View,null,B&&a.createElement(u.A,Object.assign({},(0,D.Z)("ProductCardImage"),{width:o.T5,height:o.wh,style:o.yX.imageColumn,source:B.url})),M&&a.createElement(h.A,Object.assign({},(0,D.Z)("Cart_Reco_Title"),{style:this.addMultiLineEllipsis(o.yX.title,2),text:M,numberOfLines:2,ellipsizeMode:"tail"})))),a.createElement(r.View,{style:o.yX.rightContainer},a.createElement(r.View,{style:C.C1.height_18},W&&a.createElement(h.A,Object.assign({},(0,D.Z)("Cart_Reco_Quantity"),{style:this.addMultiLineEllipsis(o.yX.subTitle,1),text:W,numberOfLines:1,ellipsizeMode:"tail"}))),a.createElement(r.View,{style:C.C1.height_18},P.Ay.isKilosEnabledOnGrocery(null===(T=this.props.pageInfo)||void 0===T?void 0:T.marketPlace)?a.createElement(r.View,null,a.createElement(x.M,{mrp:(null===(f=null==X?void 0:X[0])||void 0===f?void 0:f.value)||"",kilosPrice:(null===(A=null==z?void 0:z.prices.find((e=>"SPECIAL_PRICE"===e.priceType)))||void 0===A?void 0:A.value)||(null===(S=null==z?void 0:z.prices.find((e=>"FSP"===e.priceType)))||void 0===S?void 0:S.value)||""})):X&&a.createElement(p.A,{prices:X||[],showDiscountAsAmount:(null==z?void 0:z.showDiscountAsAmount)||!1,discountPrice:null==z?void 0:z.discountAmount,totalDiscount:null==z?void 0:z.totalDiscount,breakDiscountText:!0,xtraSaver:j,xsState:null===(w=this.props.appContext)||void 0===w?void 0:w.xtraSaverState}),(null==V?void 0:V.listingId)&&!(null===(O=V.availability)||void 0===O?void 0:O.showMessage)&&a.createElement(r.View,Object.assign({},(0,D.Z)("QuantityToggleButton"),{style:_.H.quantityButtonContainer}),a.createElement(v.A,{quantityTextParentStyle:_.H.quantityContainer,quantityTextStyle:_.H.quantityText,quantityViewStyle:_.H.button,quantityToggleViewStyle:_.H.container,onValueChangeParams:Y,text:K,onValueChanged:this.quantityUpdated(ne,null==ee?void 0:ee.value,null===(R=V.analyticsData)||void 0===R?void 0:R.category),quantity:q,localCartQuantity:$,actionDispatcher:this.dispatchAction,hideDefaultButton:""!==K,tracking:U,trackAllDetails:!0,pid:V.id,lid:V.listingId,btnTextStyle:[C.XT.blueText,C.XT.fontMedium_14],btnViewStyle:_.H.defaultButton,isBasketButton:!0,enableLocalCartUpdate:!0,marketplace:null===(k=this.props.pageInfo)||void 0===k?void 0:k.marketPlace,hideExtraAddButton:re,isKilos:re}))))),se=F?a.createElement(r.View,{style:C.C1.positionAbsolute},a.createElement(b.A,{adInfo:F,ref:this.setAdsViewRef,widgetString:"LIST_ITEM",pageViewType:"LIST_VIEW",adUnitType:"SUMMARY",renderAdHpmuV2:!0},oe)):null;return this.getTrackableContentView(F?se:oe,U)}fireDCEEvent(e,t,i){const n=i>t?T.O.INCREASE_UNIT:T.O.DECREASE_UNIT,r=new f.Ay(e);if(r){const e=new A.bTP(n,this.state.uniqueViewId,r);this.trackDGEvent(e)}}}O._getXtraSaverAvailabilityInfo=e=>{var t;return null!==(t=null==e?void 0:e.some((e=>{var t;return!!(null===(t=e.value)||void 0===t?void 0:t.xtraSaverCallout)})))&&void 0!==t&&t}},775455:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(918210),r=i(90513),a=i(614006);class o{handleAction(e,t,i){const o=e.payload,s=t.pageDataResponse&&t.pageDataResponse.pageContext?t.pageDataResponse.pageContext:void 0,l=s&&s.trackingDataV2?s.trackingDataV2:void 0,d={};let c="",u=o.childSProduct;switch(s&&s.listingId&&l&&(u=`${u}|${r.Ay.EVAR75}=${s.listingId},${l.sproduct}`),d[r.Ay.PRODUCTS]=u,o.source){case a.n.ABB:c="ABB";break;case a.n.PHYSICAL_ATTACH:c="Physical";break;case a.n.DIGITAL_ATTACH:c="Digital";break;case a.n.COLLECTION_PMU:c="STLAttach"}return n.A.addEventData(d),n.A.trackEventUnderName(`PP_${c}_Add Product Click`),!0}}},778348:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>D});var n=i(296540),r=i(52754),a=i(877293),o=i(352254),s=i(670563),l=i(887261);const d=a.StyleSheet.create({moreOffersText:{color:s.Cf.fkBlueColor,fontSize:14,fontFamily:l.$u,includeFontPadding:!1},offerSummaryImage:{width:20,height:20,resizeMode:"contain",marginTop:3},headerTitleStyle:{flex:1,flexWrap:"wrap",alignItems:"center",color:s.Jy.blackPrimary,fontSize:14,fontFamily:l.A$,marginLeft:10},tncView:{flexWrap:"wrap",alignItems:"center",color:s.Cf.fkBlueColor,fontSize:12,fontFamily:l.$u,marginLeft:8},holder:{flexDirection:"row",alignItems:"center",margin:16},moreOfferholder:{flexDirection:"row",justifyContent:"center",padding:16},chevronImageContainer:{flexDirection:"column",flexWrap:"wrap",marginLeft:10,justifyContent:"flex-end"},chevronImage:{height:12,width:12,alignSelf:"center",resizeMode:"contain"}});var c=i(560203),u=i(45426),h=i(320071),p=i(468248),g=i(410752),m=i(420721),v=i(879052);class _ extends n.Component{constructor(e){super(e),this._tncClick=(e,t)=>{this.props.tncTapped&&t&&t.action&&t.action.params&&this.props.tncTapped(t.action.params,t.index)},this._offerClicked=(e,t)=>{t&&this.props.actionTapped&&this.props.actionTapped(t)},this._handleClick=()=>{this.props.onExpand&&this.props.onExpand(),this.setState({isExpanded:!0})},this.state={isExpanded:!1}}static getHeight(e){const t=e.productOfferValue;if(!t)return 0;return 69*(t.length>4?4:t.length)+(t.length>4?51.5:0)}shouldComponentUpdate(e,t,i){return this.state.isExpanded!==t.isExpanded||this.props.productOfferValue.length!==e.productOfferValue.length}render(){const e=this.props.productOfferValue;if(!e)return;const t=this.props.productOfferValue.length,i=this.state.isExpanded?t:4,r=t-i;let s="";1===r?s=g.H.rex_string_MORE_OFFER:r>1&&(s=g.H.rex_string_MORE_OFFERS);const l=r>0?`+ ${r} ${(0,m.ak)(this.context.locale,{id:s})}`:void 0;return n.createElement(a.View,null,e.map(((e,r)=>{const s=e.value&&e.value.tags&&e.value.tags.length>0?e.value.tags[0]:void 0,h=e.value&&(e.value.title||e.value.description),g=s&&e.value&&h?`${s}: ${h}`:e.value?h:void 0;return r<i&&e.value?g?n.createElement(u.S,Object.assign({},(0,v.Z)(`Product_Offer_Container_${r}`),{onPress:this._offerClicked,onPressParam:e.action,disableFeedback:!0,key:r}),n.createElement(a.View,null,n.createElement(a.View,{style:d.holder},e.value.iconUrl?n.createElement(o.A,{style:d.offerSummaryImage,source:e.value.iconUrl,height:24,width:24}):void 0,n.createElement(a.Text,Object.assign({},(0,v.Z)("Product_Offer_Text_Container"),{style:d.headerTitleStyle}),g),e.action?n.createElement(a.View,Object.assign({},(0,v.Z)("Product_Offer_Chevron"),{style:d.chevronImageContainer}),n.createElement(o.A,{source:p.j.getChevronSrc().uri,style:d.chevronImage,height:12,width:12})):this._renderTncView(e.value,r,e.value.tncAction)),r<t-1?n.createElement(c.A,{heightVal:1}):void 0)):void 0:l&&r===i?n.createElement(u.S,{onPress:this._handleClick},n.createElement(a.View,{style:d.moreOfferholder,key:r},n.createElement(a.Text,{style:d.moreOffersText,key:r},l))):void 0})))}_renderTncView(e,t,i){const r=e.tncDisplayName,a=e.tncAvailable;if(r&&a)return n.createElement(h.A,{style:d.tncView,onTextPress:this._tncClick,onPressParam:{action:i,index:t},numberOfLines:2},r)}}_.contextType=m.V8;var C=i(311676),E=i(415283),T=i(395567),f=i(914944),A=i(848464),S=i(972904),y=i(716249),w=i(1319);class I extends S.A{constructor(){super(...arguments),this._tncTapped=(e,t)=>{if(!e)return;const i=e[I.KEY_OFFER_ID],n=e[I.KEY_URL];this.trackOmnitureEvent(new T.Car(i)),this._trackTncClick(i,t),this.dispatchAction(E.Q3.STATIC_WEB_PAGE_ACTION,new A.h(n,i,A.Q.TNC_MODAL))},this._actionTapped=e=>{const t=new C.VmA(this.getFetchId(),e.tracking.offer,this.getListingId());this.trackDGEvent(t),this.dispatchAction(E.Q3.MAPI_ACTION,new f.rs(e))},this._onExpand=()=>{const e={type:w.J.ExpandProductOffersV2};this.dispatchAction(E.Q3.EXPAND_ACTION,new w.Z(e))}}static getWidgetHeight(e){const t=(0,r.nS)(e.widgetSlotData),i=t?t.data:void 0,n=i&&i.renderableComponents?i.renderableComponents:void 0;if(!n)return 0;const a={productOfferValue:n};return _.getHeight(a)+y.A.getAdditionalHeight(e)}renderWidget(){const e=(0,r.nS)(this.props.widgetSlotData),t=e?e.data:void 0,i=t&&t.renderableComponents?t.renderableComponents:void 0;if(i)return n.createElement(_,{productOfferValue:i,tncTapped:this._tncTapped,actionTapped:this._actionTapped,onExpand:this._onExpand})}}var b=i(465420);class D extends b.A{getWidgetClass(e){return I}getWidgetHeight(e){return I.getWidgetHeight(e)}}},780624:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ViewTypes:()=>Ee,default:()=>Te});var n=i(296540),r=i(560203),a=i(603120),o=i(52754),s=i(957332),l=i(716249),d=i(372712),c=i(479892),u=i(492418),h=i(800303);class p extends l.A{static getWidgetHeight(e){const t=(0,o.nS)(e.widgetSlotData),i=t&&t.data,n=i&&i.highlights,r=n&&n.value&&n.value.text,s=i&&i.brandDetails,c=s&&s.announcement;if(!r)return 0;const u=r.length,h=!!(n&&n.value&&n.value.media&&n.value.media.length>0);return 2*a.jS+(h?36:0)+21*u+(c?d.A.getWidgetHeight({announcement:c}):0)+l.A.getAdditionalHeight(e)}renderWidget(){const e=(0,o.nS)(this.props.widgetSlotData),t=e&&e.data,i=t&&t.highlights,r=i&&i.value&&i.value.text,l=t&&t.brandDetails,u=l&&l.announcement,g=l&&l.knowMore;if(r)return n.createElement(h.DlsView,null,n.createElement(h.DlsView,{style:a.RV.container},i&&i.value&&i.value.media&&n.createElement(s.A,{mediaValue:i.value.media,imageWidth:p.IMAGE_WIDTH,imageHeight:p.IMAGE_HEIGHT,style:a.RV.compositeImages}),r&&n.createElement(h.LabelList,{items:r}),n.createElement(h.DlsView,{style:c.jE.margin_top_8},u&&n.createElement(d.A,{announcement:u,knowMore:g,actionDispatcher:this.dispatchAction}))))}renderFooter(e){const t=super.renderFooter(e);if(t)return n.createElement(h.DlsView,null,n.createElement(r.A,{heightVal:u.Nsv}),t)}trackFooterClick(e){this.trackDiscoveryWidgetClickEvent()}renderDivider(){}isHeaderBottomBorderEnabled(){return!1}}p.IMAGE_HEIGHT=36,p.IMAGE_WIDTH=108;var g=i(387393),m=i(877293),v=i(352254),_=i(45426),C=i(495176),E=i(670563),T=i(887261);const f=m.StyleSheet.create({rowCrt:{marginBottom:16,color:E.Jy.darkBlack},property:{color:E.Jy.dimGray,fontFamily:T.A$,fontSize:14,marginBottom:4,lineHeight:20},propertyRevamped:{fontFamily:T.A$,fontSize:12,marginBottom:4,lineHeight:20},desc:{fontFamily:T.A$,marginTop:4,fontSize:12,overflow:"hidden",color:E.Jy.darkBlack,lineHeight:18},tableProp:{color:E.Jy.dimGray,fontSize:14,width:"40%",paddingRight:16,lineHeight:20},tableVal:{color:E.Jy.darkBlack,fontSize:14,width:"60%",lineHeight:20},tableRowGrey:{backgroundColor:E.Jy.solitudeGrey},tableRow:{fontFamily:T.A$,flexDirection:"row",paddingHorizontal:16,paddingVertical:10},noteTextCtr:{flexDirection:"row",width:"95%"},textWidth:{width:"85%"},pphHeaderContainer:{flexDirection:"row",flex:1,flexWrap:"wrap",justifyContent:"flex-end",paddingHorizontal:16,alignItems:"center"}});class A extends n.Component{constructor(e){super(e)}render(){var e,t,i,r,a,o;const s=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.value)||void 0===t?void 0:t.highlights,l=!!(null===(r=null===(i=this.props.data)||void 0===i?void 0:i.value)||void 0===r?void 0:r.iconOn),d=!!(null===(o=null===(a=this.props.data)||void 0===a?void 0:a.value)||void 0===o?void 0:o.descriptionOn);return n.createElement(m.View,{style:[c.C1.padding_horizontal_16,c.C1.padding_top_8]},null==s?void 0:s.map(((e,t)=>{const i=null==e?void 0:e.value;return i?((e,t,i,r)=>{const{prop:a,value:o,desc:s,icon:l}=e;return n.createElement(m.View,{key:t,style:f.rowCrt},n.createElement(m.View,{style:c.C1.rowAlignFlexStart},i?n.createElement(v.A,{style:c.C1.margin_right_16,source:l,width:28,height:28}):null,n.createElement(m.View,{style:f.textWidth},n.createElement(C.A,{style:f.property,text:a}),n.createElement(C.A,{style:[c.XT.fontMedium_14,c.XT.lineHeight_20],text:o}),s&&r?n.createElement(m.Text,{numberOfLines:1,style:f.desc},s):null)))})(i,t,l,d):null})))}}class S extends n.Component{constructor(e){super(e)}render(){var e,t;const i=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.value)||void 0===t?void 0:t.highlights;return n.createElement(m.View,null,null==i?void 0:i.map(((e,t)=>{var i;const r=null==e?void 0:e.value;return r?n.createElement(m.View,{key:t,style:c.C1.margin_bottom_16},r.tableName?n.createElement(m.Text,{style:[c.XT.fontMedium_14,c.C1.margin_vertical_8,c.C1.padding_horizontal_16]},r.tableName):null,null===(i=null==r?void 0:r.rows)||void 0===i?void 0:i.map(((e,t)=>{const i=null==e?void 0:e.value,r=t%2==0?f.tableRow:[f.tableRow,f.tableRowGrey];return i?n.createElement(m.View,{key:t,style:r},n.createElement(m.Text,{style:f.tableProp},i.prop),n.createElement(m.Text,{style:f.tableVal},i.value)):null}))):null})))}}var y=i(952465),w=i(813652);class I extends l.A{constructor(){super(...arguments),this.onPPHighligtsHeaderActionButtonClick=(e,t)=>{t&&(this.trackDiscoveryWidgetClickEvent(),this.dispatchMAPIIndexedAction(t))}}static getWidgetHeight(e){return 140}renderWidget(){const e=(0,o.nS)(this.props.widgetSlotData),t=e&&e.data,i=null==t?void 0:t.sections,r=i&&i.map((e=>this._renderSection(e)));return n.createElement(m.View,null,r)}renderHeader(e){var t,i,r;const a=null==e?void 0:e.header,o=null===(i=null===(t=null==a?void 0:a.value)||void 0===t?void 0:t.titleValue)||void 0===i?void 0:i.text,s=null==a?void 0:a.action,l=null===(r=null==a?void 0:a.value)||void 0===r?void 0:r.actionButton;return o?n.createElement(m.View,null,n.createElement(_.S,{onPressParam:s,disableFeedback:!0},n.createElement(m.View,{style:[f.pphHeaderContainer,c.C1.padding_vertical_12]},n.createElement(m.View,{style:y.VD.headerTitlesContainer},n.createElement(m.Text,{style:y.VD.headerText},o)),l&&this._renderHeaderActionButton(l)))):void 0}_renderHeaderActionButton(e){var t,i;const r=null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.title,a=null===(i=null==e?void 0:e.value)||void 0===i?void 0:i.image,o=(null==a?void 0:a.dynamicImageUrl)?a.dynamicImageUrl:w.searchBlue,s=null==e?void 0:e.action;if(!r)return;const l=n.createElement(_.S,{onPress:this.onPPHighligtsHeaderActionButtonClick,onPressParam:s},n.createElement(m.View,{style:c.PH.buttonWithoutShadow},n.createElement(v.A,{source:o,height:12,width:12}),n.createElement(m.Text,{style:[c.XT.buttonTextWithIconPreFix,c.XT.fontMedium_12]},r))),d=e&&e.tracking;return d?this.getTrackableContentView(l,d):l}isFooterSeparatorEnabled(){return!0}_renderSection(e){var t;switch(null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.type){case"keyValueHighlights":case"detailedHighlights":return n.createElement(A,{data:e});case"tabularHighlights":return n.createElement(S,{data:e});case"otherDetails":return(null==e?void 0:e.value)?this._renderOtherDetails(e.value):null;case"note":return(null==e?void 0:e.value)?this._renderNote(e.value):null}}_renderOtherDetails(e){return n.createElement(m.View,{style:[c.C1.margin_horizontal_16,c.C1.margin_bottom_16,c.C1.margin_top_8]},n.createElement(m.Text,{style:[c.XT.fkDarkBlack,c.XT.fontMedium_14,c.C1.margin_bottom_4,c.XT.lineHeight_20]},e.prop),n.createElement(m.Text,{style:[c.XT.fkDarkBlack,c.XT.fontRegular_14,c.XT.lineHeight_20]},e.value))}_renderNote(e){return n.createElement(m.View,{style:[c.C1.row,c.C1.margin_horizontal_16,c.C1.margin_bottom_16,c.C1.margin_top_8]},e.icon?n.createElement(v.A,{style:[c.C1.margin_right_8,c.C1.margin_top_4],source:e.icon,width:14,height:14}):null,n.createElement(m.Text,{style:f.noteTextCtr},n.createElement(m.Text,{style:[c.XT.fkDarkBlack,c.XT.fontMedium_12,c.C1.margin_bottom_4,c.XT.lineHeight_18]},e.prop,":"),n.createElement(m.Text,{style:[c.XT.fkDarkBlack,c.XT.fontRegular_12,c.XT.lineHeight_18]}," ",e.value)))}trackFooterClick(e){this.trackDiscoveryWidgetClickEvent()}}var b=i(302019);const D=b.az.extendComponent({name:"OtherDetailsContainer",defaultProps:{mx:"s6",mb:"s6",mt:"s4"}}),x=b.JU.extendComponent({name:"OtherDetailsPropertyText",defaultProps:{mb:"s2",mt:"s4",font:"m_medium",color:"raw.grey.900"}}),P=b.JU.extendComponent({name:"OtherDetailsPropertyValue",defaultProps:{font:"m",color:"red"}}),O=b.az.extendComponent({name:"ProductHighlightHeaderContainer",defaultProps:{flex:1,py:"s5",px:"s6",flexWrap:"wrap",flexDirection:"row",alignItems:"center"}}),R=b.az.extendComponent({name:"ProductHighlightHeaderTitleContainer",defaultProps:{flex:1,flexDirection:"column"}}),k=b.JU.extendComponent({name:"ProductHighlightHeaderTitle",defaultProps:{font:"l_medium",color:"raw.grey.800",includeFontPadding:!1}}),V=b.az.extendComponent({name:"SearchButtonContainer",defaultProps:{flexDirection:"row",px:"s6",py:"s4",ml:"s6",borderWidth:1,borderRadius:2,alignSelf:"center",alignItems:"center",borderColor:"raw.grey.100"}}),L=b.JU.extendComponent({name:"SearchButtonText",defaultProps:{ml:"s4",font:"m_medium",color:"raw.blue.500",includeFontPadding:!1}}),M=b.az.extendComponent({name:"NotesContainer",defaultProps:{flex:1,mx:"s6",mb:"s6",mt:"s4",flexDirection:"row"}}),N=b.JU.extendComponent({name:"NotesTextWrapper",defaultProps:{width:"95%",flexDirection:"row"}}),H=b.JU.extendComponent({name:"NotesPropText",defaultProps:{mb:"s2",font:"s_medium",color:"raw.grey.900",includeFontPadding:!1}}),W=b.JU.extendComponent({name:"NotesValueText",defaultProps:{font:"s",color:"raw.grey.900"}}),B=b.az.extendComponent({name:"HighlightSecContainer",defaultProps:{mb:"s6",color:"raw.grey.900"}}),U=b.az.extendComponent({name:"HighlightSecContainer",defaultProps:{px:"s5",pt:"s2",pb:"s0"}}),F=b.az.extendComponent({name:"HighlightSecRow",defaultProps:{flexDirection:"row",alignItems:"center"}}),G=b.az.extendComponent({name:"HighlightSecRowTextContainer",defaultProps:{width:"85%"}}),z=b.JU.extendComponent({name:"HighlightSecDescription",defaultProps:{mt:"s2",font:"s",numberOfLines:1,overflow:"hidden",color:"raw.grey.900"}}),j=b.JU.extendComponent({name:"HighlightSecDescription",defaultProps:{font:"s_medium",numberOfLines:1,overflow:"hidden",color:"raw.grey.900",mb:"s2"}}),X=b.az.extendComponent({name:"DashedLineContainer",defaultProps:{borderWidth:1,borderStyle:"dashed",height:5,borderRadius:.1,mt:"s4",borderColor:"raw.grey.100"}}),Y=b.az.extendComponent({name:"DashedLineLower",defaultProps:{position:"relative",height:4,transform:[{translateY:-5}],bg:"common.white"}}),q=b.az.extendComponent({name:"KeyValueHighlightsContainer",defaultProps:{px:"s6",pt:"s4"}}),J=b.az.extendComponent({name:"KeyValueHighlightsContainer",defaultProps:{px:"s1",py:"s5",borderTopWidth:1,borderColor:"raw.grey.100",borderBottomWidth:1}}),K=b.az.extendComponent({name:"KeyValueHighlightsContainerStealDeal",defaultProps:{px:"s0",pt:"s4"}}),Q=b.az.extendComponent({name:"TabularHighlightsContainer",defaultProps:{mb:"s6"}}),Z=b.JU.extendComponent({name:"TabularHighlightsTableName",defaultProps:{my:"s4",px:"s6",font:"m_medium",includeFontPadding:!1}}),$=b.JU.extendComponent({name:"TabularHighlightsRowProp",defaultProps:{pr:"s6",font:"m",width:"40%",color:"raw.grey.400"}}),ee=b.JU.extendComponent({name:"TabularHighlightsRowValue",defaultProps:{font:"m",width:"60%",color:"raw.grey.900"}}),te=b.az.extendComponent({name:"TabularHighlightsRow",defaultProps:{px:"s6",py:"s5",font:"s",flexDirection:"row"}}),ie=te.extendComponent({name:"TabularHighlightsAlternateRow",defaultProps:{bg:"background.information"}}),ne=b.az.extendComponent({name:"SpecRatingCalloutContainer",defaultProps:{px:"s6",pb:"s5",alignItems:"center",flexDirection:"row"}}),re=b.az.extendComponent({name:"SpecRatingCalloutDivider",defaultProps:{mx:"s6",borderWidth:1,borderColor:"v2.neutral.200",mb:"s5"}}),ae=b.az.extendComponent({name:"SpecRatingBox",defaultProps:{flex:1}});class oe extends n.Component{constructor(e){super(e)}render(){var e,t,i,r,a,o,s,l,d;const u=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.value)||void 0===t?void 0:t.highlights,h=!!(null===(r=null===(i=this.props.data)||void 0===i?void 0:i.value)||void 0===r?void 0:r.iconOn),p=!!(null===(o=null===(a=this.props.data)||void 0===a?void 0:a.value)||void 0===o?void 0:o.descriptionOn),g=null===(l=null===(s=this.props.data.value)||void 0===s?void 0:s.highlights)||void 0===l?void 0:l.length,m=(null===(d=this.props)||void 0===d?void 0:d.useLightOnDarkBackground)?K:this.props.revampedMobilehighlights?J:q;return n.createElement(m,null,null==u?void 0:u.map(((e,t)=>{var i;const r=null==e?void 0:e.value;return r?this.props.revampedMobilehighlights&&g?((e,t,i,r,a)=>{const{prop:o,value:s,desc:l,icon:d}=e;return n.createElement(U,{key:t},l&&r?n.createElement(j,null,l):null,n.createElement(F,null,i?n.createElement(v.A,{style:c.C1.margin_right_16,source:d,width:28,height:28}):null,n.createElement(G,null,n.createElement(C.A,{style:[f.propertyRevamped,c.XT.blackText,c.XT.fontFamilyInter_12],text:o}),n.createElement(C.A,{style:[c.XT.fontFamilyInter_12,c.XT.lineHeight_14,c.XT.darkGrayText2],text:s}))),t!==a-1&&n.createElement(b.az,null,n.createElement(X,null),n.createElement(Y,null)))})(r,t,h,p,g):((e,t,i,r,a)=>{const{prop:o,value:s,desc:l,icon:d}=e;let u;return u=a?n.createElement(b.az,{style:[c.C1.margin_right_16,c.C1.backgroundWhite,c.C1.border_radius_4]},n.createElement(v.A,{source:d,width:28,height:28})):n.createElement(v.A,{style:c.C1.margin_right_16,source:d,width:28,height:28}),n.createElement(B,{key:t},n.createElement(F,null,i?u:null,n.createElement(G,null,n.createElement(C.A,{style:[f.property,a&&c.XT.whiteText],text:o}),n.createElement(C.A,{style:[c.XT.fontMedium_14,c.XT.lineHeight_20,a&&c.XT.whiteText],text:s}),l&&r?n.createElement(z,null,l):null)))})(r,t,h,p,null===(i=this.props)||void 0===i?void 0:i.useLightOnDarkBackground):null})))}}class se extends n.Component{constructor(e){super(e)}render(){var e,t;const i=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.value)||void 0===t?void 0:t.highlights;return n.createElement(b.az,null,null==i?void 0:i.map(((e,t)=>{var i;const r=null==e?void 0:e.value;return r?n.createElement(Q,{key:t},r.tableName?n.createElement(Z,null,r.tableName):null,null===(i=null==r?void 0:r.rows)||void 0===i?void 0:i.map(((e,t)=>{const i=null==e?void 0:e.value,r=t%2==0?te:ie;return i?n.createElement(r,{key:t},n.createElement($,null,i.prop),n.createElement(ee,null,i.value)):null}))):null})))}}var le=i(723372);const de=(e,t,i,r)=>{const{prop:a,value:o,desc:s,icon:l}=e;return n.createElement(B,{key:t},n.createElement(F,null,i?n.createElement(v.A,{style:c.C1.margin_right_16,source:l,width:28,height:28}):null,n.createElement(G,null,n.createElement(b.JU,{font:"m",mb:"s2"},a),n.createElement(b.JU,{font:"m_medium"},o),s&&r?n.createElement(b.JU,{mt:"s2",font:"s",numberOfLines:1,overflow:"hidden"},s):null)))};class ce extends n.Component{render(){var e,t,i,r,a,o;const s=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.value)||void 0===t?void 0:t.highlights,l=!!(null===(r=null===(i=this.props.data)||void 0===i?void 0:i.value)||void 0===r?void 0:r.iconOn),d=!!(null===(o=null===(a=this.props.data)||void 0===a?void 0:a.value)||void 0===o?void 0:o.descriptionOn);if(s)return n.createElement(q,null,s.map((e=>{const t=null==e?void 0:e.value;return t?((e,t,i)=>{const{label:r,rating:a,specs:o}=e;if(r||o)return n.createElement(b.az,null,r?n.createElement(b.fI,{alignItems:"center",mb:"s6"},n.createElement(b.JU,{font:"m",mr:"s4"},r),a?n.createElement(ae,null,n.createElement(le.A,{messages:a,style:c.C1.alignSelfFlexStart})):null):null,null==o?void 0:o.map(((e,n)=>{const r=null==e?void 0:e.value;return r?de(r,n,t,i):null})))})(t,l,d):null})))}}var ue=i(201159),he=i(257246),pe=i(347953),ge=i(879052),me=i(155805);class ve extends l.A{constructor(){super(...arguments),this.onPPHighligtsHeaderActionButtonClick=(e,t)=>{t&&(this.trackDiscoveryWidgetClickEvent(),this.dispatchMAPIIndexedAction(t))}}static getWidgetHeight(e){return 140}renderWidget(){const e=(0,o.nS)(this.props.widgetSlotData),t=e&&e.data,i=null==t?void 0:t.sections,r=null==t?void 0:t.specRatingCallouts,a=i&&i.map((e=>this._renderSection(e)));return n.createElement(b.az,null,r&&this._renderSpecRatingCallouts(r),a)}renderHeader(e){var t,i,r,a,o;const s=null==e?void 0:e.header,l=null===(i=null===(t=null==s?void 0:s.value)||void 0===t?void 0:t.titleValue)||void 0===i?void 0:i.text,d=null==s?void 0:s.action,c=null===(r=null==s?void 0:s.value)||void 0===r?void 0:r.actionButton;return l?n.createElement(b.az,null,n.createElement(_.S,{onPressParam:d,disableFeedback:!0},n.createElement(O,null,n.createElement(R,null,n.createElement(k,null,l)),c&&!(0,me.wb)(null===(a=this.props.pageInfo)||void 0===a?void 0:a.pageURI,null===(o=this.props.pageInfo)||void 0===o?void 0:o.marketPlace)&&this._renderHeaderActionButton(c)))):void 0}_renderHeaderActionButton(e){var t;const i=null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.title,r=null==e?void 0:e.action;if(!i)return;const a=(0,he.C_)(this.props.themeContext),o=a||"raw.blue.500",s=n.createElement(_.S,Object.assign({},(0,ge.Z)("Product_Highlight_Search_Container"),{onPress:this.onPPHighligtsHeaderActionButtonClick,onPressParam:r}),n.createElement(V,null,n.createElement(ue.n4,Object.assign({},(0,ge.Z)("Product_Highlight_Search_Icon"),{size:16,color:o})),n.createElement(L,Object.assign({},(0,ge.Z)("Product_Highlight_Search_Text"),{color:o}),i))),l=e&&e.tracking;return l?this.getTrackableContentView(s,l):s}isFooterSeparatorEnabled(){return!0}_renderSection(e){var t;switch(null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.type){case"keyValueHighlights":case"detailedHighlights":return n.createElement(oe,{data:e,revampedMobilehighlights:!!pe.A.getExperimentValue("revampedMobileHighlights")});case"tabularHighlights":return n.createElement(se,{data:e});case"ratingHighlights":return n.createElement(ce,{data:e});case"otherDetails":return(null==e?void 0:e.value)?this._renderOtherDetails(e.value):null;case"note":return(null==e?void 0:e.value)?this._renderNote(e.value):null}}_renderSpecRatingCallouts(e){if(null==e?void 0:e.length)return n.createElement(b.az,null,n.createElement(ne,null,e.map((e=>n.createElement(b.az,null,e&&n.createElement(le.A,{messages:e,style:[c.C1.alignSelfFlexStart,c.C1.alignItemCenter]}))))),n.createElement(re,null))}_renderOtherDetails(e){return n.createElement(D,null,n.createElement(x,null,e.prop),n.createElement(P,null,e.value))}_renderNote(e){return n.createElement(M,null,e.icon?n.createElement(v.A,{style:[c.C1.margin_right_8,c.C1.margin_top_4],source:e.icon,width:14,height:14}):null,n.createElement(N,null,n.createElement(H,null,null==e?void 0:e.prop,":"),n.createElement(W,null," ",null==e?void 0:e.value)))}hideWidgetEdgeDivider(){return!0}trackFooterClick(e){this.trackDiscoveryWidgetClickEvent()}}var _e=i(465420);const Ce=(0,g.A)(I,ve);var Ee;!function(e){e.HIGHLIGHTSEXTV2="V2"}(Ee||(Ee={}));class Te extends _e.A{getWidgetClass(e){return"V2"===o.KJ(e.widgetSlotData)?Ce:p}getWidgetHeight(e){return p.getWidgetHeight(e)}}},780914:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var n=i(415283),r=i(938777),a=i(33227),o=i(914944),s=i(470496),l=i(972904),d=i(287656),c=i(410752);class u extends l.A{constructor(){super(...arguments),this._getImpressionInfo=e=>e?new s.A(e.getImpressionId(),e.getBaseImpressionId(),e.getUseBaseImpression()):void 0,this.didPostQuestion=e=>{e&&this.dispatchAction(n.Q3.MAPI_ACTION,new o.rs(e))},this.didExpandHandler=e=>{const t={itemIndex:e,type:r.wdn.ContentExpanded};this.dispatchAction(n.Q3.QNA_ACTION,new a.z(t))},this.didUpvoteHandler=(e,t)=>{const i={itemIndex:t,type:r.wdn.ContentUpvoted},o=new a.w(e,i);this.dispatchAction(n.Q3.MAPI_ACTION,o)},this.didDownvoteHandler=(e,t)=>{const i={itemIndex:t,type:r.wdn.ContentDownvoted},o=new a.w(e,i);this.dispatchAction(n.Q3.MAPI_ACTION,o)},this.didShowAbuseHandler=e=>{const t={itemIndex:e,type:r.wdn.ContentShowAbuse};this.dispatchAction(n.Q3.QNA_ACTION,new a.z(t))},this.didHideAbuseHandler=e=>{const t={itemIndex:e,type:r.wdn.ContentHideAbuse};this.dispatchAction(n.Q3.QNA_ACTION,new a.z(t))},this.didReportAbuseHandler=(e,t)=>{const i={itemIndex:t,type:r.wdn.ContentReportAbuse},o=new a.w(e,i);this.dispatchAction(n.Q3.MAPI_ACTION,o)},this.didShowOtherAnswersHandler=e=>{if(!e.action)return;const t=new a.w(e.action);this.trackDiscoveryContentClickEvent(e.tracking),this.dispatchAction(n.Q3.MAPI_ACTION,t)},this._didClickQuestionHandler=e=>{const t=new a.w(e);this.dispatchAction(n.Q3.MAPI_ACTION,t)},this._reportAbuse=e=>{e.value&&this.didReportAbuseHandler(e.value,e.index)},this._getMenuItemViews=(e,t)=>[new d.A({value:this.localize({id:c.H.rex_string_REPORT_SPAM}),onPress:this._reportAbuse,pressParam:{value:e,index:t}})]}}},785364:(e,t,i)=>{"use strict";i.d(t,{A:()=>C});var n=i(296540),r=i(716249),a=i(302019),o=i(406644),s=i(352254),l=i(479892),d=i(695276),c=i.n(d),u=i(52754),h=i(45426),p=i(857850),g=i(914944),m=i(347953),v=i(876505),_=i(879052);class C extends r.A{constructor(){super(...arguments),this.verticalStripPath="M1.33334 1V57",this.brandImageSize=32,this.brandIconSize=16,this.renderWidget=()=>{const e=(0,u.xH)(this.props.widgetSlotData),t=null==e?void 0:e.renderableComponents,i="BRAND_ANNOUNCEMENT_V2_HORIZONTAL_VIEW"===(0,u.KJ)(this.props.widgetSlotData);if(!t)return;const r=i?o.km:n.Fragment;return n.createElement(a.DD,null,n.createElement(r,null,t.map(((e,n)=>i?this.renderHorizontalListView(e,n,t):this.renderVerticalListView(e,n,t)))))},this._onButtonClick=(e,t)=>{const i=null==t?void 0:t.tracking;t&&this.dispatchAction(p.Q3.MAPI_ACTION,new g.rs(t)),i&&this.trackDiscoveryContentClickEvent(i)}}static getWidgetHeight(e){var t,i,n,a,o,s,l,d,c;let h=0,p=0,g=0;const m=(0,u.KJ)(e.widgetSlotData),v=(0,u.xH)(e.widgetSlotData),_=null===(t=e.widgetSlotData.slotData.widget)||void 0===t?void 0:t.header,C=null===(i=e.widgetSlotData.slotData.widget)||void 0===i?void 0:i.footer,E=null==v?void 0:v.renderableComponents,T=null!==(n=null==E?void 0:E.length)&&void 0!==n?n:0;return _&&(g+=48),(null===(o=null===(a=null==_?void 0:_.value)||void 0===a?void 0:a.subTitleValue)||void 0===o?void 0:o.text)&&(g+=20),(null===(l=null===(s=null==_?void 0:_.value)||void 0===s?void 0:s.titleValue)||void 0===l?void 0:l.text)&&(g+=24),(null===(c=null===(d=null==C?void 0:C.value)||void 0===d?void 0:d.titleValue)||void 0===c?void 0:c.text)&&(g+=32),E&&(h+=4),E&&"BRAND_ANNOUNCEMENT_V2_HORIZONTAL_VIEW"===m&&(p+=12),E&&E.map((e=>{var t,i,n,r,a,o,s,l;const d=null===(i=null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.image)||void 0===i?void 0:i.dynamicImageUrl,c=null===(a=null===(r=null===(n=null==e?void 0:e.value)||void 0===n?void 0:n.title)||void 0===r?void 0:r.value)||void 0===a?void 0:a.text,u=null===(l=null===(s=null===(o=null==e?void 0:e.value)||void 0===o?void 0:o.subTitle)||void 0===s?void 0:s.value)||void 0===l?void 0:l.text;"BRAND_ANNOUNCEMENT_V2_HORIZONTAL_VIEW"===m?(d&&(p+=32),c&&(p+=32)):(c&&(h+=34*T),u&&(h+=20*T))})),("BRAND_ANNOUNCEMENT_V2_HORIZONTAL_VIEW"===m?p:h)+g+r.A.getAdditionalHeight(e)}renderHorizontalListView(e,t,i){var r,a,u,h,g;const m=null===(a=null===(r=null==e?void 0:e.value)||void 0===r?void 0:r.image)||void 0===a?void 0:a.dynamicImageUrl,v=null===(g=null===(h=null===(u=null==e?void 0:e.value)||void 0===u?void 0:u.title)||void 0===h?void 0:h.value)||void 0===g?void 0:g.text;return m||v?n.createElement(n.Fragment,null,n.createElement(o.wN,null,m?n.createElement(s.A,Object.assign({},(0,_.Z)("Brand_Announcements__Icon"),{source:m,width:this.brandIconSize,height:this.brandIconSize})):null,v?n.createElement(o.WI,Object.assign({},(0,_.Z)("Brand_Announcements_Title_Text"),{numberOfLines:2,ellipsizeMode:"tail"}),v):null),t<i.length-1?n.createElement(c(),{width:2,height:65,style:l.C1.alignSelfCenter},n.createElement(d.Path,{d:this.verticalStripPath,stroke:p.Jy.streaksBorderColor,strokeWidth:1.5})):void 0):null}renderVerticalListView(e,t,i){var r,l,d,c,u,h,p,g;const m=null===(l=null===(r=null==e?void 0:e.value)||void 0===r?void 0:r.image)||void 0===l?void 0:l.dynamicImageUrl,v=null===(u=null===(c=null===(d=null==e?void 0:e.value)||void 0===d?void 0:d.title)||void 0===c?void 0:c.value)||void 0===u?void 0:u.text,E=null===(g=null===(p=null===(h=null==e?void 0:e.value)||void 0===h?void 0:h.subTitle)||void 0===p?void 0:p.value)||void 0===g?void 0:g.text;return m||v||E?n.createElement(o.Sy,null,n.createElement(o.OU,{isLastBrandLayout:t===i.length-1},m?n.createElement(s.A,Object.assign({},(0,_.Z)("Brand_Announcements_Icon"),{source:m,height:this.brandIconSize,width:this.brandIconSize,style:C.verticalIconStyle})):null,n.createElement(a.DD,null,v?n.createElement(o.$k,Object.assign({},(0,_.Z)("Brand_Announcements_Title_Text"),{numberOfLines:2,ellipsizeMode:"tail"}),v):null,C.showSubtitleForVerticalView&&E?n.createElement(o.T8,Object.assign({},(0,_.Z)("Brand_Announcements_Subtitle_Text"),{numberOfLines:2,ellipsizeMode:"tail"}),E):null))):null}renderHeader(e){var t,i,r,l,d,c,u,h,p;if(!e.header)return null;const g=null===(r=null===(i=null===(t=e.header)||void 0===t?void 0:t.value)||void 0===i?void 0:i.referenceImageValue)||void 0===r?void 0:r.dynamicImageUrl,m=null===(c=null===(d=null===(l=e.header)||void 0===l?void 0:l.value)||void 0===d?void 0:d.subTitleValue)||void 0===c?void 0:c.text,v=null===(p=null===(h=null===(u=e.header)||void 0===u?void 0:u.value)||void 0===h?void 0:h.titleValue)||void 0===p?void 0:p.text;return g||m||v?n.createElement(o.j6,null,g?n.createElement(o.fM,null,n.createElement(s.A,Object.assign({},(0,_.Z)("Brand_Announcement_Brand_Icon"),{source:g,height:this.brandImageSize,width:this.brandImageSize}))):null,n.createElement(a.DD,null,m?n.createElement(o.Ty,Object.assign({},(0,_.Z)("Brand_Announcement_Header_Text"),{numberOfLines:1}),m):null,v?n.createElement(o.eH,Object.assign({},(0,_.Z)("Brand_Announcement_Brand_Name")),v):null)):null}renderFooter(e){var t,i,a,s;if(!e.footer)return null;const l=null===(a=null===(i=null===(t=e.footer)||void 0===t?void 0:t.value)||void 0===i?void 0:i.titleValue)||void 0===a?void 0:a.text,d=null===(s=e.footer)||void 0===s?void 0:s.action,c=e.footer.tracking;if(!l)return null;const u=n.createElement(h.S,Object.assign({},(0,_.Z)("Brand_Announcement_Footer"),{onPress:this._onButtonClick,onPressParam:d,disableFeedback:!0}),l?n.createElement(o.jm,Object.assign({},(0,_.Z)("Brand_Announcement_Info_Button")),l):null);if(c){const e=r.A.getTrackingParams(this.props,c),t=this.getContentViewTrackingData(e);return n.createElement(v.A,{trackingInfo:t},u)}return u}}C.showSubtitleForVerticalView=!!m.A.getExperimentValue("showSubtitleForVerticalView"),C.verticalIconStyle=C.showSubtitleForVerticalView?[l.C1.alignSelfFlexStart,l.C1.margin_top_2]:[l.C1.alignSelfFlexStart,l.C1.margin_top_4]},788225:(e,t,i)=>{"use strict";i.r(t),i.d(t,{DynamicNavbarViewTypes:()=>L,default:()=>G});var n=i(296540),r=i(716249),a=i(809400),o=i(52754),s=i(877293),l=i(670563),d=i(887261);const c=53,u=46,h=42,p=42,g=16,m=s.StyleSheet.create({container:{backgroundColor:l.Jy.white,height:c,width:s.Dimensions.get("window").width,flex:1,flexDirection:"row"},containerV2:{backgroundColor:l.Jy.white,height:h,width:s.Dimensions.get("window").width,flex:1,flexDirection:"row"},itemContainer:{height:c,backgroundColor:l.Jy.white,justifyContent:"center",alignItems:"center",overflow:"hidden"},itemContainerV2:{height:h,paddingHorizontal:8,minWidth:100},itemTextV2:{fontSize:14,fontFamily:d.Mq},itemText:{fontSize:g,fontFamily:d.$u,alignItems:"center",includeFontPadding:!1},scrollToTopContainer:{height:c,width:u,alignContent:"center",alignItems:"center",justifyContent:"center",backgroundColor:l.Jy.lightBlueBackgroundColor,borderLeftWidth:.5,borderLeftColor:l.V9.borderGrey},scrollToTopV2Container:{height:h,width:p,alignContent:"center",alignItems:"center",justifyContent:"center",backgroundColor:l.V9.borderLiteGrey},bottomBlueHighlight:{height:4,width:"100%",bottom:0,backgroundColor:l.Cf.fkBlueColor,position:"absolute"},highlightStyleV2:{borderTopLeftRadius:4,borderTopRightRadius:4},listViewEndGradient:{height:c,width:32,position:"absolute",marginRight:u},scrollToTopImage:{width:12,height:12}});var v=i(479892),_=i(415283),C=i(914944),E=i(387393),T=i(720920),f=i(45426),A=i(492418);class S extends n.PureComponent{constructor(){super(...arguments),this.unselectedTextStyle=[{color:A.Jyk.blackPrimary},m.itemText],this.selectedTextStyle=[{color:A.Cf1.fkBlueColor},m.itemText]}render(){return n.createElement(f.S,{onPress:this.props.onPress,onPressParam:this.props.onPressParam,disableFeedback:!0},n.createElement(T.y,{style:m.itemContainer},this.props.isSelected&&n.createElement(T.y,{style:m.bottomBlueHighlight}),n.createElement(s.Text,{style:this.props.isSelected?this.selectedTextStyle:this.unselectedTextStyle},this.props.name)))}}var y=i(738656),w=i(879052);class I extends n.PureComponent{constructor(){var e,t;super(...arguments),this.unselectedTextStyle=[{color:(0,y.FH)("text.primary")},m.itemText,null!==(e=this.props.itemTextStyle)&&void 0!==e?e:{}],this.selectedTextStyle=[{color:(0,y.FH)("primary.main")},m.itemText,null!==(t=this.props.itemTextStyle)&&void 0!==t?t:{}]}render(){var e,t;const i=this.props.isSelected?"Dynamic_Navbar_Item_Selected":"Dynamic_Navbar_Item";return n.createElement(f.S,Object.assign({},(0,w.Z)(i),{onPress:this.props.onPress,onPressParam:this.props.onPressParam,disableFeedback:!0}),n.createElement(T.y,{style:[m.itemContainer,null!==(e=this.props.containerStyle)&&void 0!==e?e:{}]},this.props.isSelected&&n.createElement(T.y,{style:[m.bottomBlueHighlight,{backgroundColor:(0,y.FH)("primary.main")},null!==(t=this.props.highlightStyle)&&void 0!==t?t:{}]}),n.createElement(s.Text,Object.assign({},(0,w.Z)("Dynamic_Navbar_Option_Text"),{style:this.props.isSelected?this.selectedTextStyle:this.unselectedTextStyle}),this.props.name)))}}var b=i(692929),D=i(352254),x=i(390437);const P=(0,E.A)(S,I),O=s.Dimensions.get("window").width;class R extends r.A{constructor(e){super(e),this.DYNAMIC_NAVBAR_ITEM_INDEX="dynamicNavbarItemIndex",this._horizontalListView=null,this._renderListItem=(e,t,i)=>{const r=t.value;if(null==r?void 0:r.text){const e=null!==this.state.dynamicNavbarItemIndex&&r.index===this.state.dynamicNavbarItemIndex,a={tabData:t,index:i,isSelected:e};return n.createElement(P,{name:r.text,isSelected:e,onPress:this._onPressNavButton,onPressParam:a})}return null},this._onPressNavButton=(e,t)=>{var i;if(t){const e=t.tabData,n=e.action;void 0!==(null===(i=null==e?void 0:e.value)||void 0===i?void 0:i.index)&&n&&this.dispatchAction(_.Q3.MAPI_ACTION,new C.Oy(n)),this.trackServerSideOmnitureEvent(b.l.CLICK,e),this.trackDiscoveryWidgetEngagementEvent(x.O.TIMESLOT_SELECTED)}},this._scrollToPosition=e=>{const t=this._getScrollIndex(e);this._horizontalListView&&void 0!==t&&this._horizontalListView.scrollToIndex(t,!0)},this._onPressScrollToTop=(e,t)=>{if(t){const e=t,i=e.action;i&&(this.dispatchAction(_.Q3.MAPI_ACTION,new C.Oy(i)),this.trackServerSideOmnitureEvent(b.l.CLICK,e))}},this._calculateItemDimension=(e,t)=>({width:this.navItemWidth,height:c}),this._setHorizontalListViewRef=e=>{this._horizontalListView=e},this.state=Object.assign(Object.assign({},this.state),{dynamicNavbarItemIndex:-1,opacity:new s.Animated.Value(0)}),this.navItemWidth=this.getNavItemWidth(e)}static getWidgetHeight(e){return c}UNSAFE_componentWillReceiveProps(e,t){this._updateStateFromProps(e)}UNSAFE_componentWillMount(){this.fadeInView(),this._updateStateFromProps(this.props)}shouldComponentUpdate(e,t,i){return this.state.dynamicNavbarItemIndex!==t.dynamicNavbarItemIndex||super.shouldComponentUpdate(e,t,i)}renderDivider(){}renderWidget(){const e=this._getWidgetData(this.props),{opacity:t}=this.state,i=null==e?void 0:e.navButtons,r=null==e?void 0:e.scrollToTop;return i&&i.length?(null==r?void 0:r.value)?n.createElement(s.Animated.View,Object.assign({},(0,w.Z)("Dynamic_Navbar_Container"),{style:[m.container,{opacity:t}]}),this._renderHorizontalListView(i),this._renderScrollToTop(r)):n.createElement(s.Animated.View,{style:[m.container,{opacity:t}]},this._renderHorizontalListView(i)):void 0}fadeInView(){s.Animated.timing(this.state.opacity,{toValue:1,duration:400,useNativeDriver:!1,easing:s.Easing.linear}).start()}_updateStateFromProps(e){e.scrollProps&&this.DYNAMIC_NAVBAR_ITEM_INDEX in e.scrollProps&&(this.setState({dynamicNavbarItemIndex:null==e.scrollProps.dynamicNavbarItemIndex?-1:Number(e.scrollProps.dynamicNavbarItemIndex)}),this._scrollToPosition(this.state.dynamicNavbarItemIndex))}_renderHorizontalListView(e){return n.createElement(a.E,{ref:this._setHorizontalListViewRef,data:e,extendedState:this.state,renderItem:this._renderListItem,containerStyle:v.C1.row,calculateDimensions:this._calculateItemDimension})}_renderScrollToTop(e){const t=e.value;if(null==t?void 0:t.dynamicImageUrl)return n.createElement(f.S,Object.assign({},(0,w.Z)("Dynamic_Nabvbar_Scroll_Btn"),{onPress:this._onPressScrollToTop,onPressParam:e}),n.createElement(s.View,{style:m.scrollToTopContainer},n.createElement(D.A,{skipCache:!0,style:m.scrollToTopImage,source:t.dynamicImageUrl,width:12,height:12})))}getNavItemWidth(e){const t=this._getWidgetData(e),i=null==t?void 0:t.navButtons;return(null==i?void 0:i.length)?(O-u)/i.length:0}_getWidgetData(e){const t=(0,o.nS)(e.widgetSlotData);return t&&t.data}_getScrollIndex(e){var t;if(-1===e)return;const i=this._getWidgetData(this.props),n=null==i?void 0:i.navButtons;if(n)for(let i=0;i<n.length;i++){const r=n[i];if((null===(t=null==r?void 0:r.value)||void 0===t?void 0:t.index)===e)return i}}}var k=i(57522);class V extends R{constructor(e){super(e),this.navItemV2Width=100,this.slotToIndexMap=new Map,this._renderListItem=(e,t,i)=>{const r=t.value;if(null==r?void 0:r.text){const e=null!==this.state.dynamicNavbarItemIndex&&r.index===this.state.dynamicNavbarItemIndex,a={tabData:t,index:i,isSelected:e};return n.createElement(I,{name:r.text,isSelected:e,onPress:this._onPressNavButton,onPressParam:a,itemTextStyle:m.itemTextV2,containerStyle:m.itemContainerV2,highlightStyle:m.highlightStyleV2})}return null},this._onPressNavButton=(e,t)=>{var i,n;if(t){const e=t.tabData,r=e.action;if(void 0!==(null===(i=null==e?void 0:e.value)||void 0===i?void 0:i.index)&&r){2===(null===(n=r.params)||void 0===n?void 0:n.pageNumber)?this.dispatchAction(_.Q3.SCROLL_TO_NEXT_PAGE_SLOT,new C.Oy(r)):this.dispatchAction(_.Q3.MAPI_ACTION,new C.Oy(r))}this.trackServerSideOmnitureEvent(b.l.CLICK,e)}},this._calculateItemDimension=(e,t)=>({width:this.navItemV2Width,height:h}),this.state=Object.assign(Object.assign({},this.state),{dynamicNavbarItemIndex:-1,opacity:new s.Animated.Value(0)}),this.updateSlotToIndexMap(e)}updateSlotToIndexMap(e){const t=this._getWidgetData(e),i=null==t?void 0:t.navButtons;null==i||i.map(((e,t)=>{var i,n;const r=null===(n=null===(i=null==e?void 0:e.action)||void 0===i?void 0:i.params)||void 0===n?void 0:n.slotId;r&&this.slotToIndexMap.set(Number(r),t)}))}static getWidgetHeight(e){return h}renderWidget(){const e=this._getWidgetData(this.props),{opacity:t}=this.state,i=null==e?void 0:e.navButtons,r=null==e?void 0:e.scrollToTop;return i&&i.length?(null==r?void 0:r.value)?n.createElement(s.Animated.View,{style:[m.containerV2,{opacity:t}]},this._renderHorizontalListView(i),this._renderScrollToTop(r)):n.createElement(s.Animated.View,{style:[m.containerV2,{opacity:t}]},this._renderHorizontalListView(i)):void 0}_updateStateFromProps(e){const t=(0,o.Qd)(e,k.j.DYNAMIC_NAVBAR_VOLATILE_DATA);if(t){const e=t.slotIndex,i=e?this.slotToIndexMap.get(e):-1;this.setState({dynamicNavbarItemIndex:null!=i?i:-1}),this._scrollToPosition(this.state.dynamicNavbarItemIndex)}}_renderHorizontalListView(e){return n.createElement(a.E,{ref:this._setHorizontalListViewRef,data:e,extendedState:this.state,renderItem:this._renderListItem,containerStyle:v.C1.row,calculateDimensions:this._calculateItemDimension,forceNonDeterministicRendering:!0})}_renderScrollToTop(e){const t=e.value;if(null==t?void 0:t.dynamicImageUrl)return n.createElement(f.S,{onPress:this._onPressScrollToTop,onPressParam:e},n.createElement(s.View,{style:m.scrollToTopV2Container},n.createElement(D.A,{skipCache:!0,style:m.scrollToTopImage,source:t.dynamicImageUrl,width:32,height:32})))}}var L,M=i(465420),N=i(347924),H=i(495176),W=i(808584),B=i(198213),U=i(437842);class F extends R{constructor(e){super(e),this.slotToIndexMap=new Map,this.indexShownMap=[],this._isTapped=!1,this.HORIZONTAL_PADDING=42,this.BANNER_ASPECT_RATIO=8.6,this._shimmerGradientStyle={width:50,overflow:"hidden",transform:[{rotate:"30deg"},{scaleY:2}]},this._shimmerWebGradientStyle={width:20,overflow:"hidden",transform:[{skewX:"-15deg"}]},this._getSlotIndex=e=>this.slotToIndexMap.get(Number(e)||0)||0,this._updateNavbarIndex=()=>{var e;const t=null===(e=this._getWidgetData(this.props))||void 0===e?void 0:e.navButtons.length;if(t)if(this.indexShownMap[0])this.setState({dynamicNavbarItemIndex:0});else for(let e=t-1;e>0;e--)if(!0===this.indexShownMap[e])return void this.setState({dynamicNavbarItemIndex:e})},this._calculateBannerDimensions=(e,t)=>{const i=e||t-this.HORIZONTAL_PADDING;return{bannerWidth:i,bannerHeight:i/this.BANNER_ASPECT_RATIO}},this._renderBannerImage=(e,t,i)=>n.createElement(N.fI,{mt:"s5",mb:"s5"},n.createElement(U.A,{containerStyle:[v.C1.overflowHidden,{height:i}],duration:2500,gradientViewStyle:"web"===s.Platform.OS?[this._shimmerWebGradientStyle,{height:i}]:[this._shimmerGradientStyle,{height:i}],gradientEnd:[1,0],gradientStart:[0,0],easing:s.Easing.linear,gradientColors:[A.hIQ.transparentWhite,A.hIQ.white80,A.hIQ.transparentWhite]},n.createElement(B.Dk,{resizeMode:"cover",source:e,width:t,height:i}))),this._onPressButton=(e,t)=>{this._updateIndexOnPress(null==t?void 0:t.index),(null==t?void 0:t.tabData.action)&&(t.tabData.action.params.scrollToOffset=!0),this._onPressNavButton(e,t)},this._updateIndexOnPress=e=>{"number"==typeof e&&(this._isTapped=!0,this.clickTimeout=setTimeout((()=>{for(let t=e+1;t<this.indexShownMap.length;t++)this.indexShownMap[t]=!1;this.indexShownMap[e]=!0,this.setState({dynamicNavbarItemIndex:e}),this._isTapped=!1}),500))},this.state=Object.assign(Object.assign({},this.state),{dynamicNavbarItemIndex:0}),this.updateSlotToIndexMap(e)}componentWillUnmount(){clearTimeout(this.clickTimeout)}updateSlotToIndexMap(e){const t=this._getWidgetData(e),i=null==t?void 0:t.navButtons;null==i||i.map(((e,t)=>{var i,n;const r=null===(n=null===(i=null==e?void 0:e.action)||void 0===i?void 0:i.params)||void 0===n?void 0:n.slotId;r&&(this.slotToIndexMap.set(Number(r),t),this.indexShownMap.push(!1))})),this.indexShownMap[0]=!0,this._updateNavbarIndex()}_updateStateFromProps(e){const t=(0,o.Qd)(e,k.j.DYNAMIC_NAVBAR_VOLATILE_DATA);if(t){const e=t.slotIndex,i=t.removeIndex;i&&(this.indexShownMap[this._getSlotIndex(i)]=!1);const n=this._getSlotIndex(e);e&&(this.indexShownMap[n]=!0),!this._isTapped&&this._updateNavbarIndex(),this._scrollToPosition(this.state.dynamicNavbarItemIndex)}}renderWidget(){var e,t,i,r;const a=this._getWidgetData(this.props),o=null==a?void 0:a.navButtons,s=null==a?void 0:a.bannerImage;if((null==s?void 0:s.dynamicImageUrl)&&(null==o?void 0:o.length)){const a=null===(r=null===(i=null===(t=null===(e=this.props)||void 0===e?void 0:e.appContext)||void 0===t?void 0:t.uiContext)||void 0===i?void 0:i.getPageFrame())||void 0===r?void 0:r.width,l=a-32,{bannerWidth:d,bannerHeight:c}=this._calculateBannerDimensions(null==s?void 0:s.width,a);return n.createElement(N.fv,{alignItems:"center"},this._renderBannerImage(s.dynamicImageUrl,d,c),n.createElement(N.fI,{mb:"s2",flexWrap:"wrap",width:l},this._renderHorizontalListView(o)))}if(null==o?void 0:o.length)return n.createElement(N.fI,{m:"s5",flexWrap:"wrap"},this._renderHorizontalListView(o))}_renderHorizontalListView(e){return e.map((e=>this._renderPill(e)))}renderDivider(){}_renderPill(e){var t,i,r,a;const o=e.value;if(!o)return;const s=null!==this.state.dynamicNavbarItemIndex&&o.index===this.state.dynamicNavbarItemIndex,l={tabData:e,index:o.index,isSelected:s},d=s?"primary.50":void 0,c=s?"primary.500":"neutral.200",u=s?{fontFamily:"inter_semi_bold"}:{fontFamily:"inter_regular"};return n.createElement(N.SB,{onPress:this._onPressButton,onPressParam:l},n.createElement(N.fI,{overflow:"hidden",pl:"s5",m:"s2",alignItems:"center",bg:d,borderColor:c,borderRadius:8,borderWidth:1,width:(null===(a=null===(r=null===(i=null===(t=this.props)||void 0===t?void 0:t.appContext)||void 0===i?void 0:i.uiContext)||void 0===r?void 0:r.getPageFrame())||void 0===a?void 0:a.width)/2-24},n.createElement(N.fv,{my:"s5"},o.title&&n.createElement(H.A,{style:u,richTextData:o.title,numberOfLines:1}),o.subTitle&&n.createElement(H.A,{richTextData:o.subTitle,numberOfLines:1})),o.icon&&n.createElement(N.xM,{alignItems:"flex-end",justifyContent:"flex-end"},n.createElement(W.A,{imageValue:o.icon,width:52,height:56}))))}}!function(e){e.DYNAMIC_NAVBAR_WITH_EXPLORE_MORE="DYNAMIC_NAVBAR_WITH_EXPLORE_MORE",e.DYNAMIC_NAVBAR_WITH_PILLS="GRID_VIEW_WITH_PILLS"}(L||(L={}));class G extends M.A{getWidgetClass(e){const t=o.nS(e.widgetSlotData);switch(t?t.viewType:void 0){case"DYNAMIC_NAVBAR_WITH_EXPLORE_MORE":return V;case"GRID_VIEW_WITH_PILLS":return F;default:return R}}getWidgetHeight(e){const t=o.nS(e.widgetSlotData);return"DYNAMIC_NAVBAR_WITH_EXPLORE_MORE"===(t?t.viewType:void 0)?V.getWidgetHeight(e):R.getWidgetHeight(e)}}},790458:(e,t,i)=>{"use strict";i.d(t,{A:()=>b});var n=i(52754),r=i(296540),a=i(877293),o=i(495176),s=i(420570),l=i(787921),d=i(759539),c=i(438993),u=i(561310),h=i(453018),p=i(524488),g=i(395567),m=i(938777),v=i(322392),_=i(229833),C=i(800683),E=i(38419),T=i(311676),f=i(283774);class A{constructor(e,t,i,n,r,a){this.productId=e,this.listingId=t,this.position=i,this.parentListingId=n,this.price=r,this.type=a}}var S=i(858156),y=i.n(S),w=i(957775),I=i(547134);class b extends c.A{constructor(){super(...arguments),this.executeAction=(e,t)=>{var i,n,r,a,o,s,d,c,S,w,I,b,D,x,P,O,R,k,V,L,M,N,H,W,B,U,F,G,z,j,X,Y;if(this.props.actionDispatcher&&this.props.actionDispatcher(new u.iM(u.xH.CLOSE_MODAL)),t.action&&t.action.type!==C.A.POPUP_DISMISS){const e=t.action&&t.action.params&&t.action.params.marketplace,l=t.action&&t.action.params&&t.action.params.type===v.X.SFL_REMOVE,u=e===m.fOd.MARKETPLACE_GROCERY,C=t.tracking&&t.tracking.parentProductId,q=(null===(i=t.tracking)||void 0===i?void 0:i.sProductSuffix)+((null===(n=t.tracking)||void 0===n?void 0:n.isExchange)?"|eVar151=NOEX":""),J="true"===(null===(o=null===(a=null===(r=t.action)||void 0===r?void 0:r.tracking)||void 0===a?void 0:a.clearCart)||void 0===o?void 0:o.toLowerCase()),K=Object.assign(Object.assign({},t.tracking),{sProduct:_.A.getProductStringFromRawData(t.tracking&&t.tracking.productId,t.tracking&&q,null===(s=t.tracking)||void 0===s?void 0:s.sProductEvent)}),Q=null!==(c=null===(d=t.tracking)||void 0===d?void 0:d.productId)&&void 0!==c?c:t.action.params.productId,Z=(null===(S=t.tracking)||void 0===S?void 0:S.listingId)||"",$=null===(w=t.tracking)||void 0===w?void 0:w.parentListingId,ee=parseInt((null===(I=t.tracking)||void 0===I?void 0:I.position)||""),te=parseInt((null===(b=t.tracking)||void 0===b?void 0:b.price)||""),ie=null===(D=t.tracking)||void 0===D?void 0:D.recommendationType,ne=null===(x=this.props.pageInfo)||void 0===x?void 0:x.pageContext,re=null==ne?void 0:ne.fdpTrackingData;let ae;const oe=y()(t,["tracking","items","items"]);oe&&oe.length>=1&&(ae=oe.find((e=>e.listingId===Z)));const se=ae?null===(O=null===(P=ae.metadata)||void 0===P?void 0:P.priceDetails)||void 0===O?void 0:O.price:null===(R=t.tracking)||void 0===R?void 0:R.price,le=ae?null===(V=null===(k=ae.metadata)||void 0===k?void 0:k.priceDetails)||void 0===V?void 0:V.finalPrice:null===(L=t.tracking)||void 0===L?void 0:L.finalPrice;let de,ce;(null===(M=t.tracking)||void 0===M?void 0:M.unitsAdded)&&(de={ua:parseInt(null===(N=t.tracking)||void 0===N?void 0:N.unitsAdded)}),de=Object.assign(Object.assign({},de),{pid:null!==(W=null===(H=t.tracking)||void 0===H?void 0:H.productId)&&void 0!==W?W:t.action.params.productId,lid:null===(B=t.tracking)||void 0===B?void 0:B.listingId,plid:null===(U=t.tracking)||void 0===U?void 0:U.parentListingId,children:null!==(z=null===(G=null===(F=t.tracking)||void 0===F?void 0:F.childrenListingIdString)||void 0===G?void 0:G.split(","))&&void 0!==z?z:[],childMetadata:$?new A(Q,Z,ee,$,te,ie):void 0,pr:se,fp:le,csd:null===(j=null==ae?void 0:ae.metadata)||void 0===j?void 0:j.serviceabilityDetails,cid:null==re?void 0:re.cartId,ats:null==ae?void 0:ae.addedTimestamp}),(null===(X=t.action)||void 0===X?void 0:X.type)===v.X.CHECKOUT_REMOVE_ITEM?(this.trackOmnitureEvent(new g.I1q(p.CheckoutOmnitureTypes.REMOVE_CHECKOUT_CHILD_ITEM,K)),this.trackDGEvent(new T.Upy(f.tb.CHILD_PRODUCT_REMOVED,de))):J?(this.props.appContext.userManager.clearCart(),this.trackOmnitureEvent(new g.k7w(E.q.CLEAR_CART_ACTION,g.C2I.POPUP_ACCEPTED))):l?(ce=u?h.CartOmnitureTypes.REMOVE_SFL_BASKET:h.CartOmnitureTypes.REMOVE_SFL_ITEM,ce===h.CartOmnitureTypes.REMOVE_SFL_ITEM?K.sProduct=t.tracking&&t.tracking.sProduct||"":K.sProduct=_.A.getProductStringFromRawData(void 0,t.tracking&&t.tracking.sProductSuffix),this.trackOmnitureEvent(new g.sYb(ce,K)),this.trackDGEvent(new T.Upy(f.tb.remove_from_sfl,de))):(C?(ce=h.CartOmnitureTypes.REMOVE_CART_CHILD_ITEM,this.trackDGEvent(new T.Upy(f.tb.remove_attach,de))):(ce=u?h.CartOmnitureTypes.REMOVE_ITEM_CONFIRMATION_GROCERY_BASKET:h.CartOmnitureTypes.REMOVE_ITEM_CONFIRMATION,(null===(Y=null==t?void 0:t.tracking)||void 0===Y?void 0:Y.childSProduct)&&(K.sProduct=K.sProduct+","+t.tracking.childSProduct),this.trackDGEvent(new T.Upy(f.tb.remove_from_cart,de))),this.trackOmnitureEvent(new g.sYb(ce,K)))}this.dispatchAction(l.A.TRANSACT_ACTION,t)}}static getHeight(e){return 168+super.getAdditionalHeight(e)}shouldComponentUpdate(){return!1}componentDidMount(){super.componentDidMount(),this.props.actionDispatcher&&(0,w.dispatchDgAction)(`${I.A.REMOVE_ITEM_CONFIRMATION}|RemoveItemConfirmationWidget`,this.props.actionDispatcher)}renderWidget(){const e=(0,n.nS)(this.props.widgetSlotData),t=e?e.data:void 0;if(void 0===t)return;const i=t&&t.subtitle?t.subtitle:void 0,l=t?t.actions:void 0,c=l&&l[0],u=l&&l[1];return r.createElement(a.View,{style:s.T.removeContainer},t&&t.title&&r.createElement(o.A,{text:t.title,style:s.T.title}),!!i&&r.createElement(o.A,{text:i,style:s.T.message}),c&&u&&r.createElement(d.A,{callback:this.executeAction,firstButton:c,secondButton:u}))}getLayoutDetailsForWidget(e){return s.T.modalContainer}}},791287:(e,t,i)=>{"use strict";i.d(t,{A:()=>C});var n=i(296540),r=i(716249),a=i(52754),o=i(877293),s=i(479892),l=i(155902),d=i(670563),c=i(204495),u=i(420721),h=i(410752),p=i(311676),g=i(972904);const m=o.StyleSheet.create({container:{width:"100%"}});var v=i(258481),_=i(879052);class C extends g.A{constructor(){super(...arguments),this._onEnterPressed=e=>{this.state.isValidPincode?this._onPincodeSubmit():this.setState({errorMessage:(0,u.ak)(this.context.locale,{id:h.H.rex_string_error_constants_INVALID_PINCODE_ENTERED}),showErrorMessage:!0})},this._onSubmitPressed=e=>{this._onPincodeSubmit()},this._onPincodeSubmit=()=>{if(this.state.pincode&&this._isValidPincode(this.state.pincode)&&this.props.actionDispatcher){this.setState({showErrorMessage:!0,errorMessage:void 0}),this._trackPincodeDG();const e=(0,a.nS)(this.props.widgetSlotData),t=e&&e.tracking&&"FilterV4"===e.tracking.trackingSource?"pincode":void 0,{widgetViewType:i,message:n,pagetype:r}=(0,v.sy)(e);this.props.actionDispatcher(new c.mU(new c.FD(this.state.pincode,this.props.index,this.props.widgetSlotData.behaviour,this.props.widgetSlotData.rowId,t,i,n,r)))}o.Keyboard.dismiss()},this._onFocus=()=>{},this._onPincodeValueChange=e=>{const t=isNaN(+e)?this.state.pincode:e;t!==this.state.pincode&&this.setState({pincode:t,errorMessage:void 0,showErrorMessage:!1,isValidPincode:this._isValidPincode(t)},(()=>this._clearErrorMessage()))},this._trackPincodeDG=()=>{if(this.state.pincode){const e=new p.Lzl(this.getFetchId(),Number.parseInt(this.state.pincode));this.trackDGEvent(e)}},this._clearErrorMessage=()=>{this.props.actionDispatcher&&this.props.actionDispatcher(new c.mU(new c.GT(this.props.index,this.props.widgetSlotData.behaviour,this.props.widgetSlotData.rowId)))}}static getWidgetHeight(e){let t=0;const i=(0,a.nS)(e.widgetSlotData),n=i&&i.data;return C.isValidData(n)?(t=48.8,r.A.getAdditionalHeight(e)+t+16+8):t}static isValidData(e){return!!(e&&e.actionButton&&e.actionButton.value&&e.actionButton.value.title&&e.textEditor&&e.textEditor.value&&e.textEditor.value.placeHolderText)}componentDidMount(){this._clearErrorMessage(),super.componentDidMount()}getDerivedState(e,t){let i=t?t.pincode:void 0,n=t?t.errorMessage:void 0,r=!!t&&t.isValidPincode;if(t){const o=(0,a.Nt)(e.widgetSlotData);o&&(i=o.locationUpdateResponse?o.locationUpdateResponse.currentPincode:t.pincode,n=i?o.errorMessage:void 0,r=this._isValidPincode(i))}return Object.assign(Object.assign({},super.getDerivedState(e,t)),{pincode:i,errorMessage:n,isValidPincode:r})}shouldStateUpdate(e,t){const i=(0,a.Nt)(e.widgetSlotData);return super.shouldStateUpdate(e,t)||!!i&&this.state.showErrorMessage}shouldComponentUpdate(e,t,i){return t.pincode!==this.state.pincode||t.errorMessage!==this.state.errorMessage||super.shouldComponentUpdate(e,t,i)}renderWidget(){const e=(0,a.nS)(this.props.widgetSlotData),t=e&&e.data;if(!C.isValidData(t))return;const i=this.state.errorMessage&&this.state.showErrorMessage?d.JM:d.Jy.blackSecondary;return n.createElement(o.View,{style:[s.C1.padding16,s.C1.col,s.C1.contentAlignStart]},n.createElement(o.View,{style:[s.C1.row,m.container]},n.createElement(o.View,{style:[s.C1.row]},n.createElement(o.TextInput,Object.assign({},(0,_.Z)("Pincode_Text_Box"),{style:[s.C1.col,s.XT.fontRegular_14,s.C1.border_bottom_width_1,{borderColor:i}],editable:!0,onChangeText:this._onPincodeValueChange,placeholder:t.textEditor.value.placeHolderText,placeholderTextColor:d.Jy.disabled,keyboardType:"numeric",maxLength:C.MAX_PINCODE_LENGTH,value:this.state.pincode,onFocus:this._onFocus,numberOfLines:1,underlineColorAndroid:"transparent",onSubmitEditing:this._onEnterPressed}))),n.createElement(l.A,Object.assign({},(0,_.Z)(this.state.isValidPincode?"Pincode_Submit_Btn_Enable":"Pincode_Submit_Btn_Disable"),{disableFeedback:!0,data:t.actionButton.value,onPress:this.state.isValidPincode?this._onSubmitPressed:void 0,btnTextStyle:[s.XT.buttonText,s.XT.whiteText],btnViewStyle:[s.PH.button,this.state.isValidPincode?s.PH.enableFKBlueButton:s.PH.disableButton]}))),this.state.errorMessage&&this.state.showErrorMessage&&n.createElement(o.Text,Object.assign({},(0,_.Z)("Pincode_Error_msg"),{ellipsizeMode:"tail",numberOfLines:1,style:[s.XT.errorMessageText,s.C1.height_50]}),this.state.errorMessage))}renderDivider(){}isHeaderBottomBorderEnabled(){return!1}_isValidPincode(e){return!(!e||e.length!==C.MAX_PINCODE_LENGTH||isNaN(+e))}}C.MAX_PINCODE_LENGTH=6,C.CROSS_BUTTON_HITSLOP={top:10,left:10,bottom:10,right:5},C.contextType=u.V8},793997:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(465420),r=i(436710);class a extends n.A{getWidgetClass(){return r.A}getWidgetHeight(e){return r.A.getHeight(e)}}},794990:(e,t)=>{"use strict";!function(e){e.SPEC="SPEC",e.DETAILS="DETAILS",e.SPEC_DETAILS="SPEC_DETAILS",e.SPEC_COLLAPSED="SPEC_COLLAPSED",e.DETAILS_COLLAPSED="DETAILS_COLLAPSED",e.SPEC_DETAILS_COLLAPSED="SPEC_DETAILS_COLLAPSED"}(t.J||(t.J={}))},796671:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>ge});var n=i(889050),r=i(296540),a=i(52754),o=i(877293),s=i(146387),l=i(103180),d=i(352254),c=i(302019),u=i(398581),h=i(670563),p=i(155805),g=i(532667),m=i(311676),v=i(528373),_=i(166057),C=i(521722);const E=["#008042","#00A84C"];function T(e){return r.createElement(c.JU,{numberOfLines:1,ellipsizeMode:"tail",font:e.font},e.title.data.map(((t,i)=>{var n,a,o;if("FormattedRichTextData"!==(null==t?void 0:t.type))return;const s=null==t?void 0:t.value,l=null!==(n=null==s?void 0:s.text)&&void 0!==n?n:"",d=null!==(o=null===(a=null==s?void 0:s.style)||void 0===a?void 0:a.textColour)&&void 0!==o?o:h.FE;return r.createElement(c.JU,{key:i,font:e.font,style:[null==s?void 0:s.style,{color:d}]},l)})))}class f extends r.PureComponent{constructor(e){super(e),this.currentAnimation=null,this.animateToProgress=(e,t)=>{this.currentAnimation&&this.currentAnimation.stop();const i=e/100;this.currentAnimation=o.Animated.timing(this.animatedProgress,{toValue:i,duration:null!=t?t:200,easing:o.Easing.out(o.Easing.cubic),useNativeDriver:"web"!==o.Platform.OS}),this.currentAnimation.start((()=>{this.currentAnimation=null}))},this.getDccTrackingInfo=()=>{var e,t,i,n,r,a,o;const s=null!==(o=null===(a=null===(r=null===(n=null===(i=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.ratchetDetail)||void 0===t?void 0:t.title)||void 0===i?void 0:i.data)||void 0===n?void 0:n[0])||void 0===r?void 0:r.value)||void 0===a?void 0:a.text)&&void 0!==o?o:"";return this.props.widgetTracking?Object.assign(Object.assign({},this.props.widgetTracking),{contentTitle:s}):void 0},this.handleOfferCardPress=(e,t)=>{var i,n,r,a,o,s,l,d;const c=this.getDccTrackingInfo();if(null===(n=(i=this.props).trackDiscoveryContentClickEvent)||void 0===n||n.call(i,c),this.props.isCartPage&&this.props.pageContext&&this.props.trackDGEvent){const i=null===(a=null===(r=this.props.data)||void 0===r?void 0:r.ratchetDetail)||void 0===a?void 0:a.offerId;if(!i)return void(null===(s=(o=this.props).onViewMorePress)||void 0===s||s.call(o,e,t));const n=_.a.CART_ADD_ITEM;let l=(0,v.U1)(this.props.pageContext,n);l&&(l=Object.assign(Object.assign({},l),{oid:[i]}),this.props.trackDGEvent(new m.xWx(l)))}null===(d=(l=this.props).onViewMorePress)||void 0===d||d.call(l,e,t)},this.onProgressBarLayout=e=>{const{width:t}=e.nativeEvent.layout;if(t>0&&t!==this.state.progressBarContainerWidth){const e=0===this.state.progressBarContainerWidth;this.setState({progressBarContainerWidth:t},(()=>{var t,i,n,r;if(e){const e=null!==(r=null!==(t=this.props.overrideProgressPercent)&&void 0!==t?t:null===(n=null===(i=this.props.data)||void 0===i?void 0:i.ratchetDetail)||void 0===n?void 0:n.progressPercent)&&void 0!==r?r:0;this.animateToProgress(e,0)}}))}},this.animatedProgress=new o.Animated.Value(0),this.state={progressBarContainerWidth:0}}componentDidUpdate(e){var t,i,n,r,a,o,s,l;const d=null!==(r=null!==(t=e.overrideProgressPercent)&&void 0!==t?t:null===(n=null===(i=e.data)||void 0===i?void 0:i.ratchetDetail)||void 0===n?void 0:n.progressPercent)&&void 0!==r?r:0,c=null!==(l=null!==(a=this.props.overrideProgressPercent)&&void 0!==a?a:null===(s=null===(o=this.props.data)||void 0===o?void 0:o.ratchetDetail)||void 0===s?void 0:s.progressPercent)&&void 0!==l?l:0;d!==c&&this.animateToProgress(c)}componentWillUnmount(){this.currentAnimation&&(this.currentAnimation.stop(),this.currentAnimation=null)}render(){var e,t,i,n,a,s,m,v;if(!(null===(e=this.props.data)||void 0===e?void 0:e.ratchetDetail))return;const{title:_,description:C,backgroundColour:f,icon:S}=this.props.data.ratchetDetail,y=this.getDccTrackingInfo(),{columnSpanMap:w,windowWidth:I}=this.props,b=I?.8*(0,g.lV)(w,I):0,D=(0,p.xl)()&&b>0?{width:b}:void 0,x=this.animatedProgress,P=this.state.progressBarContainerWidth>0?-this.state.progressBarContainerWidth/2:0,O=this.animatedProgress.interpolate({inputRange:[0,1],outputRange:[P,0]}),R=this.props.data.status,k=R===l.x.IN_PROGRESS||R===l.x.FUTURE?r.createElement(c.SB,{onPress:this.handleOfferCardPress,onPressParam:null===(t=null==C?void 0:C.viewMoreButton)||void 0===t?void 0:t.action},r.createElement(c.az,{style:[A.container,{backgroundColor:f},(0,p.xl)()?A.desktopContainer:null,this.props.isCartPage?{borderRadius:12}:null]},r.createElement(d.A,{height:40,width:40,source:null==S?void 0:S.dynamicImageUrl}),r.createElement(c.az,{style:A.contentContainer},!!_&&_.data&&r.createElement(T,{title:_,font:"s_b"}),!!C&&r.createElement(c.az,{style:A.descriptionContainer},r.createElement(c.JU,{font:"n_xs",numberOfLines:1,ellipsizeMode:"tail",style:[{color:null!==(i=C.textColour)&&void 0!==i?i:h.Jy.lightestBlack},A.descriptionLabel]},C.text),C.viewMoreButton&&r.createElement(c.JU,{style:[A.viewButtonTextStyle,A.viewButtonStyle,{color:null!==(a=null===(n=C.viewMoreButton.value)||void 0===n?void 0:n.buttonTextColor)&&void 0!==a?a:h.FE},"string"==typeof C.text&&(null===(s=C.text)||void 0===s?void 0:s.length)>0?{marginLeft:5}:{}]},null===(m=C.viewMoreButton.value)||void 0===m?void 0:m.title)),r.createElement(c.az,{style:A.progressBarContainer},r.createElement(c.az,{style:[A.progressBarBackground,D],onLayout:this.onProgressBarLayout},this.state.progressBarContainerWidth>0&&r.createElement(o.Animated.View,{style:[A.progressBarFill,{transform:[{translateX:O},{scaleX:x}]}]},r.createElement(u.W,{gradientColors:E,gradientStart:[0,0],gradientEnd:[1,0],style:A.progressGradient,borderTopLeftRadius:10,borderBottomLeftRadius:10,renderInWeb:!0}))))))):r.createElement(c.az,{style:[A.appliedContainer,{backgroundColor:f},this.props.isCartPage?{borderRadius:12}:null]},r.createElement(c.az,{style:A.rightSideContainer},r.createElement(c.az,{mr:"s4"},r.createElement(d.A,{height:36,width:36,source:null==S?void 0:S.dynamicImageUrl})),!!_&&r.createElement(T,{title:_,font:"m_b"})));return this.props.getTrackableContentView&&y&&null!==(v=this.props.getTrackableContentView(k,y))&&void 0!==v?v:k}}const A=o.StyleSheet.create({textDefaultStyle:{fontWeight:"700"},container:{flexDirection:"row",borderTopLeftRadius:12,borderTopRightRadius:12,paddingVertical:10,minHeight:60,gap:8,paddingLeft:12,paddingRight:70},desktopContainer:{marginLeft:C.ZP},contentContainer:{flex:1,flexDirection:"column"},descriptionContainer:{flexDirection:"row",alignItems:"center",flexWrap:"nowrap",overflow:"hidden"},descriptionLabel:{maxWidth:"75%"},progressBarContainer:{marginTop:4},progressBarBackground:{height:4,backgroundColor:h.GJ,borderRadius:10,overflow:"hidden"},progressBarFill:{height:"100%",width:"100%",borderTopLeftRadius:10,borderBottomLeftRadius:10},progressGradient:{height:"100%",width:"100%"},appliedContainer:{height:"100%",borderTopLeftRadius:12,borderTopRightRadius:12,paddingLeft:12,minHeight:60,justifyContent:"center"},rightSideContainer:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginLeft:(0,p.xl)()?C.ZP:0},viewButtonTextStyle:{fontWeight:"700",fontSize:11},viewButtonStyle:{justifyContent:"center",alignItems:"center",flexDirection:"row"}});var S=i(700036),y=i(294188);const w="D2R_CELEBRATION_OFFER_IDS_SHOWN";function I(e){if(!e||0===e.length)return-1;let t=e.findIndex((e=>e.status===l.x.IN_PROGRESS||e.status===l.x.FUTURE));return t<0&&(t=e.length-1),t}function b(e){var t;if(!e||0===e.length)return-1;for(let i=e.length-1;i>=0;i--)if((null===(t=e[i])||void 0===t?void 0:t.status)===l.x.APPLIED)return i;return 0}function D(e){var t;if(!e)return null;let{tiers:i,maxInProgressTiers:n=3,countUnlockedTiers:r=3}=e;if("number"==typeof n&&n<=0&&(n=3),!i||i.length<1)return null;let a=0;if(i.length<4)a=i.length;else{let e=null!==(t=(S.A.getObject(w)||{}).visibleTierCount)&&void 0!==t?t:0;a=Math.min(n+r,i.length),a=Math.max(a,e)}return function(e){let t=S.A.getObject(w)||{};t.visibleTierCount=e,S.A.setObject(w,t)}(a),i.slice(0,a)}function x(e){const t=[];for(let i=0;i<e.length;i++){const n=e[i];if(n&&n.offerId)for(let e=0;e<n.offerId.length;e++){const i=n.offerId[e];i&&t.push(i)}}return t}function P(e){if(!e||!e.tiers||0===e.tiers.length)return!1;const t=x(e.tiers);if(0===t.length)return!0;const i=S.A.getObject(w)||{};return!i||!i.shownOfferIds||t.some((e=>!i.shownOfferIds[e]))}function O(e){if(!e||0===e.length)return;const t=x(e);if(0===t.length)return;const i=S.A.getObject(w)||{};i.shownOfferIds||(i.shownOfferIds={}),t.forEach((e=>{i.shownOfferIds[e]=!0})),S.A.setObject(w,i)}function R(e){var t,i;const n=null==e?void 0:e.data,r=null===(i=null===(t=null==n?void 0:n.renderableComponents)||void 0===t?void 0:t[0])||void 0===i?void 0:i.value;if(r)return null==r?void 0:r.d2rBasketOffer}function k(e,t){var i,n;if((null==e?void 0:e.viewType)!==(null==t?void 0:t.viewType))return!0;const r=R(e),a=R(t);if(!r||!a)return r!==a;if((null===(i=r.tiers)||void 0===i?void 0:i.length)!==(null===(n=a.tiers)||void 0===n?void 0:n.length))return!0;if(r.countUnlockedTiers!==a.countUnlockedTiers)return!0;if(r.tiers&&a.tiers){const e=V(r.tiers),t=V(a.tiers);if(e.size!==t.size)return!0;for(const[i,n]of e){const e=t.get(i);if(!e)return!0;if(L(n,e))return!0}}return!!(0,y.A)(r.celebrationTiers,a.celebrationTiers)}function V(e){var t;const i=new Map;for(const n of e){const e=null===(t=n.ratchetDetail)||void 0===t?void 0:t.offerId;e&&i.set(e,n)}return i}function L(e,t){return!!(0,y.A)(e,t)}var M=i(57522),N=i(759402),H=i(766836),W=i(415283),B=i(914944),U=i(300969),F=i(347924),G=i(403076),z=i(241598),j=i(624801),X=i(815946),Y=i(879052),q=i(492418),J=i(832022);const K=z.fI.extendComponent({name:"BasketButtonContainer",defaultProps:{height:40,minWidth:128,alignItems:"center",justifyContent:"center",paddingHorizontal:"s6",paddingVertical:"s5"}}),Q=z.fI.extendComponent({name:"BasketButton",defaultProps:{minHeight:24,alignItems:"center",justifyContent:"center",gap:"s3"}}),Z=z.JU.extendComponent({name:"BasketButtonText",defaultProps:{typography:"subheading",color:"foreground.constant.white"}}),$=z.JU.extendComponent({name:"CartCountText",defaultProps:{typography:"helptext",color:"foreground.constant.white"}}),ee=z.az.extendComponent({name:"CartIconContainer",defaultProps:{justifyContent:"center",alignItems:"center"}}),te=({basketValue:e,basketAction:t,basketButtonText:i,rotateY:n,disablePriceInStickyWidget:a,enableBasketExpImprovement:s,isCartManagerV2Enabled:l,cartCount:c,cartCountV2:u,onPress:h,addButtonText:p,isGxHL:g})=>{const m=g?q.Jyk.magenta:q.Jyk.pumpkin_500,v=()=>l?null!=u?u:e.basketItemCount:s&&null!=c?c:e.basketItemCount;return r.createElement(z.h1,Object.assign({},(0,Y.Z)("Sticky_Widget_Basket_Button"),{onPress:e=>{h(e,t)},activeOpacity:.8}),r.createElement(z.az,{mr:"s4",overflow:"hidden",borderRadius:j.CRKeysBasic.cr4},r.createElement(z.W4,{NativeLinearGradient:X.d,gradientColor:"brand.500To700",gradientDirection:j.GradientDirection.HORIZONTAL,gradientStartColorV3:"brand.600",gradientEndColorV3:"brand.700"},r.createElement(K,null,r.createElement(Q,null,r.createElement(ee,null,q.RX7&&r.createElement(d.A,{height:24,width:24,source:q.RX7}),(()=>{if(a||e.basketItemCount<=0)return null;const t=v().toString();return r.createElement(o.Animated.View,{style:[ie.cartCountBadge,{backgroundColor:m,transform:[{rotateY:n}]}]},r.createElement($,Object.assign({},(0,Y.Z)("Sticky_Widget_Cart_Count"),{allowFontScaling:!1}),t))})()),(()=>{if(i&&!a)return l&&i.length>0?r.createElement(z.az,Object.assign({flexDirection:"row",alignItems:"center",ml:"s4"},(0,Y.Z)("Sticky_Widget_Cart_Btn_Text")),r.createElement(J.A,{value:i,lineHeight:16,toggleDuration:400,staggerDuration:50,animateOnMount:!1,v3TextProps:{color:"foreground.inverted.primary",typography:"label"}})):r.createElement(Z,Object.assign({},(0,Y.Z)("Sticky_Widget_Cart_Btn_Text")),i);if(a&&e.basketItemCount>0){const e=v(),t=p?p(e):"",i=t?`${e} ${t}`:`${null!=e?e:""}`;return r.createElement(Z,Object.assign({},(0,Y.Z)("Sticky_Widget_Cart_Btn_Text")),i)}return null})())))))},ie=o.StyleSheet.create({cartCountBadge:{justifyContent:"center",alignItems:"center",position:"absolute",left:10,top:-3,minHeight:16,minWidth:16,borderRadius:8,borderWidth:1,borderColor:q.Jyk.white,padding:1}});var ne=i(410752),re=i(927443),ae=i(407545),oe=i(47361),se=i(867953),le=i(400090),de=i(887903),ce=i(53606),ue=i(456874),he=i(366334),pe=i(446065);class ge extends n.default{constructor(e,t){var i,n,a,s,l;super(e,t),this.carouselRef=r.createRef(),this.scrollViewRef=r.createRef(),this.scrollX=new o.Animated.Value(0),this.noOfTiers=0,this.isResumed=!0,this.hideCelebrationInline=()=>{this.setState({isCelebrationAnimating:!1},(()=>{this.visibleTiers&&this.onCelebrationComplete(this.visibleTiers)}))},this.handleButtonPress=(e,t)=>{t&&this.dispatchAction(W.Q3.MAPI_ACTION,new B.Oy(t))},this._isWidgetVisible=()=>{this.setState({hasWidgetEnteredViewport:!0},(()=>{this.state.pendingCelebration&&(this.showCelebrationInline(this.state.pendingCelebration),this.setState({pendingCelebration:void 0}))}))},this._isWidgetHidden=()=>{this.setState({hasWidgetEnteredViewport:!1})},this._widgetVisibilityCondition=()=>{const e=[];return e.push(new se.D_("_widgetIsVisible",1,100,this._isWidgetVisible,this._isWidgetHidden)),e},this.setCarouselActiveIndexWeb=e=>{this.setState({currentCarouselIndex:e,isCarouselAnimating:!1})},this.onScrollEndDragWeb=()=>{this.setState({isCarouselAnimating:!1})},this.renderCarouselItemWeb=({item:e,index:t})=>this.renderCarouselItem(e,t),this.renderCarouselItem=(e,t)=>{var i,n,a,s;const l=null===(n=null===(i=this.state)||void 0===i?void 0:i.trackingParams)||void 0===n?void 0:n.getTracking(),d=this.isCartPage(this.props)?null===(a=this.props.pageInfo)||void 0===a?void 0:a.pageContext:void 0,c="web"===o.Platform.OS?[{width:this.screenWidth},me.webSnapItem]:{width:this.screenWidth},u=this.getProgressPercentForTier(e),h=null===(s=this.props.widgetSlotData)||void 0===s?void 0:s.columnSpanMap;return r.createElement(F.az,{key:t,style:c},r.createElement(f,{data:e,noOfRatchets:this.noOfTiers,index:t,onViewMorePress:this.handleButtonPress,widgetTracking:l,getTrackableContentView:this.getTrackableContentView,isCartPage:this.isCartPage(this.props),pageContext:d,trackDGEvent:this.trackDGEvent,trackDiscoveryContentClickEvent:this.trackDiscoveryContentClickEvent,overrideProgressPercent:u,columnSpanMap:h,windowWidth:this.screenWidth}))},this.onScrollBeginDrag=e=>{this.state.isCarouselAnimating||this.setState({isCarouselAnimating:!0})},this.onMomentumScrollEnd=e=>{const t=e.nativeEvent.contentOffset.x,i=Math.round(t/this.screenWidth);(this.state.currentCarouselIndex!==i||this.state.isCarouselAnimating)&&this.setState({isCarouselAnimating:!1,currentCarouselIndex:i})},this.handleActivityStateChange=e=>{var t;if(e.pageUID===(null===(t=this.props.pageInfo)||void 0===t?void 0:t.pageUID))switch(e.state){case le.z.ON_RESUME:this.isResumed=!0;break;case le.z.ON_PAUSE:this.isResumed=!1}},this.screenWidth=this.props.appContext.uiContext.windowFrame.width,this.d2rData=this.getD2RDataFromProps(e),this.initializeD2RData(),this.isGxHL=(0,ae.fS)(null===(i=this.props.pageInfo)||void 0===i?void 0:i.pageURI),this.state=Object.assign(Object.assign({},super.getDerivedState(e,void 0)),{isCarouselAnimating:!1,isCelebrationAnimating:!1,hasWidgetEnteredViewport:!0,pendingCelebration:void 0,cartCount:e.appContext.userManager.getCartQuantity(null===(n=e.pageInfo)||void 0===n?void 0:n.marketPlace),cartCountV2:(0,pe.ph)(null===(a=e.pageInfo)||void 0===a?void 0:a.marketPlace)?(0,pe.cr)(e.basketData,null===(s=e.pageInfo)||void 0===s?void 0:s.marketPlace):void 0,currentCarouselIndex:this.getInitialCarouselIndex(null===(l=this.d2rData)||void 0===l?void 0:l.d2rBasketOffer)})}initializeD2RData(){var e,t,i,n;this.d2rData&&this.d2rData.d2rBasketOffer&&(this.visibleTiers=null!==(e=D(this.d2rData.d2rBasketOffer))&&void 0!==e?e:this.d2rData.d2rBasketOffer.tiers,this.noOfTiers=null!==(i=null===(t=this.visibleTiers)||void 0===t?void 0:t.length)&&void 0!==i?i:0,this.setState(Object.assign(Object.assign({},this.state),{currentCarouselIndex:this.getInitialCarouselIndex(null===(n=this.d2rData)||void 0===n?void 0:n.d2rBasketOffer)})))}getInitialCarouselIndex(e){var t,i;let n=0;return e?(n=(null==e?void 0:e.celebrationTiers)&&(null===(t=null==e?void 0:e.celebrationTiers.tiers)||void 0===t?void 0:t.length)&&(null===(i=null==e?void 0:e.celebrationTiers.tiers)||void 0===i?void 0:i.length)>0&&P(null==e?void 0:e.celebrationTiers)?b(e.tiers):I(e.tiers),n):n}UNSAFE_componentWillReceiveProps(e){var t,i;super.UNSAFE_componentWillReceiveProps(e);if(k((0,a.nS)(this.props.widgetSlotData),(0,a.nS)(e.widgetSlotData))&&(this.d2rData=this.getD2RDataFromProps(e),this.initializeD2RData()),(0,pe.ph)(null===(t=e.pageInfo)||void 0===t?void 0:t.marketPlace)){const t=(0,pe.cr)(e.basketData,null===(i=e.pageInfo)||void 0===i?void 0:i.marketPlace);t!==this.state.cartCountV2&&this.setState({cartCountV2:t})}}isCartPage(e){var t,i;return"D2R_REVAMPED"===(0,a.KJ)(e.widgetSlotData)||"CART"===(null===(i=null===(t=e.pageInfo)||void 0===t?void 0:t.pageName)||void 0===i?void 0:i.toUpperCase())}shouldComponentUpdate(e,t){var i,n;let r=!1;if(!this.isCartPage(e)){const o=(0,a.Qd)(this.props,M.j.D2R_CELEBRATIONS_DATA),s=(0,a.Qd)(e,M.j.D2R_CELEBRATIONS_DATA);r=(null===(i=null==o?void 0:o.d2rCelebrationData)||void 0===i?void 0:i.isAnimating)&&!(null===(n=null==s?void 0:s.d2rCelebrationData)||void 0===n?void 0:n.isAnimating)||this.state.isCarouselAnimating!==t.isCarouselAnimating||this.state.currentCarouselIndex!==t.currentCarouselIndex||super.shouldComponentUpdate(e,t)}if(this.state.isCarouselAnimating!==t.isCarouselAnimating||this.state.isCelebrationAnimating!==t.isCelebrationAnimating||this.state.hasWidgetEnteredViewport!==t.hasWidgetEnteredViewport||this.state.currentCarouselIndex!==t.currentCarouselIndex||this.state.pendingCelebration!==t.pendingCelebration||r)return!0;return!!k((0,a.nS)(this.props.widgetSlotData),(0,a.nS)(e.widgetSlotData))}getD2RDataFromProps(e){var t,i;const n=(0,a.nS)(e.widgetSlotData),r=null==n?void 0:n.data;return null===(i=null===(t=null==r?void 0:r.renderableComponents)||void 0===t?void 0:t[0])||void 0===i?void 0:i.value}componentDidMount(){var e,t;super.componentDidMount(),"ios"===o.Platform.OS&&le.N.addListener(de.t.HANDLE_ACTIVITY_STATE_CHANGE,this.handleActivityStateChange);(null===(t=null===(e=this.d2rData)||void 0===e?void 0:e.d2rBasketOffer)||void 0===t?void 0:t.celebrationTiers)?this.showCelebration():this.scrollToInitialIndex()}showCelebration(){var e,t,i;const n=null===(t=null===(e=this.d2rData)||void 0===e?void 0:e.d2rBasketOffer)||void 0===t?void 0:t.celebrationTiers,r=this.visibleTiers;n&&r&&(P(n)||this.state.pendingCelebration)?(this.setState(Object.assign(Object.assign({},this.state),{currentCarouselIndex:b(r)})),(null===(i=this.props.pageInfo)||void 0===i?void 0:i.responseType)!==he.yl.CACHED&&(this.isCartPage(this.props)?this.state.hasWidgetEnteredViewport?this.showCelebrationInline(n):this.state.pendingCelebration||this.setState({pendingCelebration:n}):this.dispatchActionToShowCelebration(n))):this.scrollToInitialIndex()}scrollToInitialIndex(){if(this.state.currentCarouselIndex>-1){const e=this.state.currentCarouselIndex*this.screenWidth;this.scrollX.setValue(e),this.rachetAnimationTimeout&&(clearTimeout(this.rachetAnimationTimeout),this.rachetAnimationTimeout=void 0),this.rachetAnimationTimeout=setTimeout((()=>{var t,i,n,r;"web"===o.Platform.OS?null===(i=null===(t=this.carouselRef)||void 0===t?void 0:t.current)||void 0===i||i.snapToItem(this.state.currentCarouselIndex):null===(r=null===(n=this.scrollViewRef.current)||void 0===n?void 0:n.scrollTo)||void 0===r||r.call(n,{x:e,animated:!0})}),ce.Ay.defaultDeferredTimeoutForD2R())}}componentDidUpdate(e){var t,i,n,r,o,s;if(!this.d2rData||!(null===(t=this.d2rData.d2rBasketOffer)||void 0===t?void 0:t.tiers)||!this.visibleTiers)return;const l=(0,a.Qd)(e,M.j.D2R_CELEBRATIONS_DATA),d=(0,a.Qd)(this.props,M.j.D2R_CELEBRATIONS_DATA);(null===(i=null==l?void 0:l.d2rCelebrationData)||void 0===i?void 0:i.isAnimating)&&!(null===(n=null==d?void 0:d.d2rCelebrationData)||void 0===n?void 0:n.isAnimating)&&this.onCelebrationComplete(this.visibleTiers);if(k((0,a.nS)(e.widgetSlotData),(0,a.nS)(this.props.widgetSlotData))&&this.showCelebration(),(0,pe.ph)(null===(r=this.props.pageInfo)||void 0===r?void 0:r.marketPlace)){(0,pe.cr)(e.basketData,null===(o=e.pageInfo)||void 0===o?void 0:o.marketPlace)!==(0,pe.cr)(this.props.basketData,null===(s=this.props.pageInfo)||void 0===s?void 0:s.marketPlace)&&this._animate()}}onCelebrationComplete(e){e&&this.moveToNextLockedRatchet(e,0)}showCelebrationInline(e){"web"===o.Platform.OS?this.setState({isCelebrationAnimating:!0}):this.celebrationTimeout=setTimeout((()=>{this.setState({isCelebrationAnimating:!0})}),200),O(null==e?void 0:e.tiers)}dispatchActionToShowCelebration(e){var t,i,n,r,a,o;if(this.props.actionDispatcher&&this.isResumed){const l="number"==typeof(null===(n=null===(i=null===(t=this.d2rData)||void 0===t?void 0:t.basketValue)||void 0===i?void 0:i.value)||void 0===n?void 0:n.basketValue)&&(null===(o=null===(a=null===(r=this.d2rData)||void 0===r?void 0:r.basketValue)||void 0===a?void 0:a.value)||void 0===o?void 0:o.basketValue)>0&&!oe.a.isPersistentBottomBarEnabledOnMinutes(this.props);requestAnimationFrame((()=>{var t,i;this.props.actionDispatcher&&(null===(i=(t=this.props).actionDispatcher)||void 0===i||i.call(t,new s.YI(new s.qF(M.j.D2R_CELEBRATIONS_DATA,new N.A({d2rCelebrationTiers:e,isAnimating:!0,isStickyBasketVisible:l})))))})),O(null==e?void 0:e.tiers)}}swipeToGivenRatchetIndex(e){var t,i,n,r,a,s;"web"===o.Platform.OS&&(null===(t=this.carouselRef)||void 0===t?void 0:t.current)?null===(n=null===(i=this.carouselRef)||void 0===i?void 0:i.current)||void 0===n||n.snapToItem(e):null===(s=null===(a=null===(r=this.scrollViewRef)||void 0===r?void 0:r.current)||void 0===a?void 0:a.scrollTo)||void 0===s||s.call(a,{x:e*this.screenWidth,animated:!0}),this.state.currentCarouselIndex!==e&&this.setState(Object.assign(Object.assign({},this.state),{currentCarouselIndex:e})),this.setState({isCarouselAnimating:!1})}moveToNextLockedRatchet(e,t){if(!e||0===e.length)return;const i=I(e);i>=0&&(this.setState({isCarouselAnimating:!0}),"number"==typeof t&&t>=0?setTimeout((()=>{this.swipeToGivenRatchetIndex(i)}),t):this.swipeToGivenRatchetIndex(i))}renderD2RMessaging(e,t){return r.createElement(G.A,{d2rValue:e.d2rAggregateNavigationValue,clpAction:t,categoryClickCallback:this.navigate,actionDispatcher:this.props.actionDispatcher})}_renderBasketButton(e,t){var i,n,a,o,s;const l=this.localize({id:ne.H.rex_string_rupee}),d=this._cartRotate.interpolate({inputRange:[0,1],outputRange:["180deg","360deg"]}),c=null===(i=null==e?void 0:e.basketValue)||void 0===i?void 0:i.value;if(!c)return null;let u;if((0,pe.ph)(null===(n=this.props.pageInfo)||void 0===n?void 0:n.marketPlace)&&this.props.basketData&&(null===(a=this.props.pageInfo)||void 0===a?void 0:a.marketPlace)){const e=(0,pe.IL)(this.props.basketData,null===(o=this.props.pageInfo)||void 0===o?void 0:o.marketPlace);e>0&&(u=`${l}${(0,re.m3)(e)}`)}else c&&c.basketValue>=0&&(u=`${l}${(0,re.m3)(c.basketValue)}`);return r.createElement(te,{basketValue:c,basketAction:t,basketButtonText:u,rotateY:d,disablePriceInStickyWidget:this.disablePriceInStickyWidget,enableBasketExpImprovement:this.enableBasketExpImprovement,cartCount:this.state.cartCount,cartCountV2:this.state.cartCountV2,isCartManagerV2Enabled:(0,pe.ph)(null===(s=this.props.pageInfo)||void 0===s?void 0:s.marketPlace),onPress:this.navigate,addButtonText:this._addButtonText,isGxHL:this.isGxHL})}renderWidget(){var e,t,i;const n=this.visibleTiers;if(!n||0===n.length)return;this.noOfTiers=n.length;const s=!(oe.a.isPersistentBottomBarEnabledOnMinutes(this.props)||this.isCartPage(this.props)),l="web"!==o.Platform.OS&&this.state.isCarouselAnimating,d=r.createElement(F.az,{style:me.container},r.createElement(F.az,{style:{opacity:this.state.isCelebrationAnimating?0:1}},"web"===o.Platform.OS?r.createElement(ue.A,{ref:this.carouselRef,data:n,renderItem:this.renderCarouselItemWeb,sliderWidth:this.screenWidth,itemWidth:this.screenWidth,scrollEnabled:!0,firstItem:this.state.currentCarouselIndex,currentIndex:this.state.currentCarouselIndex,onSnapToItem:this.setCarouselActiveIndexWeb,onScrollBeginDrag:this.onScrollBeginDrag,onScrollEndDrag:this.onScrollEndDragWeb,useScrollView:!0,loop:!1,itemHeight:60}):r.createElement(o.Animated.ScrollView,{ref:this.scrollViewRef,horizontal:!0,showsHorizontalScrollIndicator:!1,scrollEventThrottle:16,decelerationRate:"fast",pagingEnabled:!0,onScrollBeginDrag:this.onScrollBeginDrag,onMomentumScrollEnd:this.onMomentumScrollEnd,onScroll:o.Animated.event([{nativeEvent:{contentOffset:{x:this.scrollX}}}],{useNativeDriver:!1})},n.map(this.renderCarouselItem))),!this.state.isCelebrationAnimating&&r.createElement(F.az,{style:me.paginatorStyles},r.createElement(H.A,{current:this.state.currentCarouselIndex+1,total:this.noOfTiers,showWhiteBackground:l,scrollX:this.scrollX,pageWidth:this.screenWidth})),this.state.isCelebrationAnimating&&(null===(t=null===(e=this.d2rData)||void 0===e?void 0:e.d2rBasketOffer)||void 0===t?void 0:t.celebrationTiers)&&r.createElement(U.A,{key:(0,a.M8)(this.props.widgetSlotData),d2rCelebrationsData:null===(i=this.d2rData)||void 0===i?void 0:i.d2rBasketOffer.celebrationTiers,onCelebrationEnd:this.hideCelebrationInline,isInlineAnimation:!0,actionDispatcher:this.props.actionDispatcher,currentTierIndex:this.state.currentCarouselIndex,noOfTiers:this.noOfTiers,isRevampedViewType:this.isCartPage(this.props)}));return this.isCartPage(this.props)?r.createElement(se.Ay,{conditions:this._widgetVisibilityCondition()},r.createElement(F.az,null,d)):r.createElement(F.az,null,d,s&&this._renderContent(this.d2rData))}renderDivider(){}componentWillUnmount(){var e;null===(e=super.componentWillUnmount)||void 0===e||e.call(this),"ios"===o.Platform.OS&&le.N.removeListener(de.t.HANDLE_ACTIVITY_STATE_CHANGE,this.handleActivityStateChange),void 0!==this.celebrationTimeout&&(clearTimeout(this.celebrationTimeout),this.celebrationTimeout=void 0)}getProgressPercentForTier(e){var t,i,n;if(!(0,pe.ph)(null===(t=this.props.pageInfo)||void 0===t?void 0:t.marketPlace)||!this.props.basketData)return;const r=null===(i=e.ratchetDetail)||void 0===i?void 0:i.huddleValue;if(!r||r<=0)return;const a=(0,pe.IL)(this.props.basketData,null===(n=this.props.pageInfo)||void 0===n?void 0:n.marketPlace);if(void 0===a||a<=0)return;const o=a/r;return Math.min(100*o,100)}static getWidgetHeight(e){var t,i,n,r,o,s;const l=(0,a.nS)(e.widgetSlotData),d=null==l?void 0:l.data,c=null===(i=null===(t=null==d?void 0:d.renderableComponents)||void 0===t?void 0:t[0])||void 0===i?void 0:i.value;return"number"==typeof(null===(r=null===(n=null==c?void 0:c.basketValue)||void 0===n?void 0:n.value)||void 0===r?void 0:r.basketValue)&&(null===(s=null===(o=null==c?void 0:c.basketValue)||void 0===o?void 0:o.value)||void 0===s?void 0:s.basketValue)>0&&!oe.a.isPersistentBottomBarEnabledOnMinutes(e)?116:60}}const me=o.StyleSheet.create({container:{height:60},paginatorStyles:{position:"absolute",height:60,right:0,bottom:0,marginHorizontal:(0,p.xl)()?C.ZP:0},webScrollSnap:o.Platform.select({default:{}}),webSnapItem:o.Platform.select({default:{}})})},798845:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeHTML=t.decodeHTMLStrict=t.decodeXML=void 0;var r=n(i(495891)),a=n(i(78607)),o=n(i(882165)),s=n(i(893095)),l=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function d(e){var t=u(e);return function(e){return String(e).replace(l,t)}}t.decodeXML=d(o.default),t.decodeHTMLStrict=d(r.default);var c=function(e,t){return e<t?1:-1};function u(e){return function(t){if("#"===t.charAt(1)){var i=t.charAt(2);return"X"===i||"x"===i?s.default(parseInt(t.substr(3),16)):s.default(parseInt(t.substr(2),10))}return e[t.slice(1,-1)]||t}}t.decodeHTML=function(){for(var e=Object.keys(a.default).sort(c),t=Object.keys(r.default).sort(c),i=0,n=0;i<t.length;i++)e[n]===t[i]?(t[i]+=";?",n++):t[i]+=";";var o=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=u(r.default);function l(e){return";"!==e.substr(-1)&&(e+=";"),s(e)}return function(e){return String(e).replace(o,l)}}()},801671:(e,t,i)=>{"use strict";i.d(t,{A:()=>s,X:()=>o});var n=i(296540),r=i(479892),a=i(877293);const o=a.StyleSheet.create({lineHeight:{lineHeight:1}});class s extends n.PureComponent{render(){const{style:e={},textStyle:t={},children:i=null}=this.props,o="web"===a.Platform.OS?{textOverflow:"clip"}:{};return n.createElement(a.View,{style:[s._viewStyles,e]},n.createElement(a.Text,{ellipsizeMode:"clip",numberOfLines:1,style:[r.XT.lightestGreyText,t,o]},"- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -"),i)}}s._viewStyles=[r.C1.col,r.C1.justifyContentCenter,o.lineHeight]},802438:(e,t)=>{"use strict";!function(e){e.TARGETED="TARGETED",e.NORMAL="NORMAL"}(t.C||(t.C={}))},803704:e=>{"use strict";e.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},807080:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>y});var n=i(465420),r=i(296540),a=i(347924),o=i(716249),s=i(52754),l=i(877293),d=i(914944),c=i(857850),u=(i(352254),i(398581)),h=i(331547),p=i(110941),g=(i(201159),i(927443)),m=i(492418);const v=({look:e,handleAction:t,getTrackableContentView:i,productCardDimension:n})=>{if(!e.value)return null;const{items:o}=e.value;return r.createElement(a.az,{bg:"v2.neutral.50",p:"s4",borderRadius:8,mr:"s4"},o&&o.length>0?r.createElement(_,{lookProducts:o,handleAction:t,getTrackableContentView:i,productCardDimension:n}):null)},_=e=>{const{lookProducts:t,productCardDimension:i,getTrackableContentView:n}=e;return 0===t.length?null:r.createElement(a.az,null,((e,t)=>{const i={products:e.slice(0,2),height:t.height},n=e.length>2?{products:e.slice(2),height:t.height}:void 0;return n?[i,n]:[i]})(t,i).map(((t,o)=>r.createElement(a.fI,{key:o},t.products.map(((t,o)=>{var s,d,u;const h=r.createElement(a.SB,{onPress:e.handleAction,onPressParam:t.action,tappableStyle:{backgroundColor:c.Jy.white}},r.createElement(a.az,{key:o,mr:0===o?"s2":"s0",borderColor:"v2.neutral.200",borderWidth:1,mb:"s2",width:i.width,height:i.height},(null===(d=null===(s=t.value)||void 0===s?void 0:s.images)||void 0===d?void 0:d[0])?r.createElement(l.ImageBackground,{source:{uri:E(null===(u=t.value)||void 0===u?void 0:u.images[0],i)},style:{width:p.A.getWidth(i.height,"5:6"),height:i.height,borderRadius:4,overflow:"hidden",justifyContent:"flex-end"},resizeMode:"contain"},r.createElement(C,{product:t,productCardDimension:i})):r.createElement(C,{product:t,productCardDimension:i})));return n(h,t.tracking)}))))))},C=e=>{if(!e.product.value)return null;const{productCardDimension:t}=e,{titles:i,pricing:n}=e.product.value,o={height:60,width:t.width};return r.createElement(a.az,null,r.createElement(u.W,{renderInWeb:!0,style:o,gradientColors:[m.hIQ.gradientGrey13,m.hIQ.clearColor],gradientStart:h._.BOTTOM,gradientEnd:h._.TOP},r.createElement(a.fv,{flex:1,justifyContent:"flex-end",borderRadius:4,style:o},r.createElement(a.az,{px:"s4",pb:"s2",minWidth:"100%"},i.title?r.createElement(a.JU,{color:"v2.neutral.50",font:"m",numberOfLines:1,ellipsizeMode:"tail"},i.title):null,(null==n?void 0:n.displayPrice)?r.createElement(a.JU,{color:"v2.neutral.50",font:"m"},(0,g.k1)(n.displayPrice)):null))))},E=(e,t)=>{const i={type:"ImageValue",dynamicImageUrl:e.imageUrl,aspectRatio:e.aspectRatio,width:t.width,height:t.height};return p.A.generateImageUrl(i,i.width,i.height)};var T;!function(e){e.UPVOTE="UPVOTE",e.DOWNVOTE="DOWNVOTE"}(T||(T={}));var f=i(727048),A=i(456874);class S extends o.A{constructor(e){super(e),this._carouselRef=r.createRef(),this.carouselStyle={flex:1},this.calculateHLVDimensions=()=>({height:2*this.productCardDimension.height+8+20,width:2*this.productCardDimension.width+8+20}),this.renderItem=e=>{var t;return(null==e?void 0:e.item)?r.createElement(v,{key:null===(t=e.item.value)||void 0===t?void 0:t.nodeId,productCardDimension:this.productCardDimension,look:e.item,handleAction:this._handleAction,getTrackableContentView:this.getTrackableContentView}):null},this._handleAction=(e,t)=>{t&&(this.trackDiscoveryContentClickEvent(t.tracking),t.type===c.aw.NAVIGATION&&this.dispatchAction(c.Q3.MAPI_ACTION,new d.rs(t)))},this.productCardDimension=S.calculateProductCardDimension(this.getScreenWidth()),this.productGridDimension=this.calculateHLVDimensions()}static getWidgetHeight(e){const t=e.appContext.uiContext.windowFrame.width;return 2*this.calculateProductCardDimension(t).height+20+58}renderHeader(e){var t;const i=null===(t=e.header)||void 0===t?void 0:t.value;if(!i)return null;const{titleValue:n,subTitleValue:o}=i;return r.createElement(a.az,{px:"s6",pt:"s6"},(null==n?void 0:n.text)?r.createElement(a.JU,{font:"l_medium",color:"text.primary"},n.text):null,(null==o?void 0:o.text)?r.createElement(a.JU,{font:"s",color:"text.secondary"},o.text):null)}renderWidget(){const e=(0,s.xH)(this.props.widgetSlotData),t=null==e?void 0:e.renderableComponents,i="android"===l.Platform.OS,n="web"===l.Platform.OS;if(t&&0!==t.length)return r.createElement(a.az,{px:"s6",mt:"s5",pb:"s6"},n?r.createElement(f.A,{ref:this._carouselRef,data:t,renderItem:this.renderItem,itemWidth:this.productGridDimension.width,sliderWidth:Math.round(this.props.appContext.uiContext.windowFrame.width),activeSlideAlignment:"start",firstItem:0,style:this.carouselStyle,scrollEnabled:!0}):r.createElement(A.A,{ref:this._carouselRef,data:t,renderItem:this.renderItem,itemWidth:this.productGridDimension.width,itemHeight:this.productGridDimension.height,sliderWidth:Math.round(this.props.appContext.uiContext.windowFrame.width),activeSlideAlignment:"start",firstItem:0,enableMomentum:!i,inactiveSlideScale:1,shouldOptimizeUpdates:!0}))}}S.calculateProductCardDimension=e=>{const t=(.88*e-28)/2;return{height:1.2*t,width:t}};class y extends n.A{getWidgetClass(e){return S}getWidgetHeight(e){return S.getWidgetHeight(e)}}},808883:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>w});var n,r=i(465420),a=i(296540),o=i(716249),s=i(877293),l=i(52754),d=i(761208),c=i(199835),u=i(57522),h=i(915742),p=i(479892),g=i(911294),m=i(198213);!function(e){e.APPLIED="APPLIED",e.IN_PROGRESS="IN_PROGRESS",e.PASSED="PASSED",e.FUTURE="FUTURE"}(n||(n={}));class v extends o.A{constructor(){super(...arguments),this.timerContainerStyle=[p.C1.margin_left_neg_4,p.C1.margin_top_6]}static getWidgetHeight(e){return 74+this.getAdditionalHeight(e)}renderDivider(){}renderWidget(){const e=(0,l.nS)(this.props.widgetSlotData),t=e&&e.data,{title:i,tiers:n,countdownTimerValue:r}=t||{},o=(0,l.Qd)(this.props,u.j.POST_ATC_URGENCY_DATA);if(n&&!(n.length<1))return a.createElement(s.View,{style:d.fv.outerContainer},this.renderTitle(i,null==o?void 0:o.timerEndTime,null==r?void 0:r.tracking),this.renderTiers(n))}shouldComponentUpdate(e,t,i){let n=!1;return n=(0,l.Qd)(this.props,u.j.POST_ATC_URGENCY_DATA)!==(0,l.Qd)(e,u.j.POST_ATC_URGENCY_DATA),super.shouldComponentUpdate(e,i,i)||n}renderTitle(e,t,i){if(!e)return;let n=0;const r=[p.XT.fontMedium_16];t&&(n=t-Date.now()),n<1&&r.push(p.XT.height_40);const l=a.createElement(s.View,{style:p.C1.margin_bottom_16},a.createElement(s.Text,{numberOfLines:1,style:r},e),n>0?a.createElement(s.View,{style:this.timerContainerStyle},a.createElement(h.Ay,{timestampInMillis:n,style:p.XT.fkGreenText,stringDelimiter:`${g.NH}:${g.NH}`,prependingText:"Offer ends in"})):null);if(i){const e=o.A.getTrackingParams(this.props,i),t=this.getContentViewTrackingData(e);return a.createElement(m.BA,{trackingInfo:t},l)}return l}renderTiers(e){return e.map(((t,i)=>{switch(t.status){case"APPLIED":default:return a.createElement(c.$I,{tier:t,index:i,length:e.length});case"IN_PROGRESS":return this.renderInProgressTier(t,i,e.length);case"PASSED":return a.createElement(c.y8,{tier:t,index:i,length:e.length});case"FUTURE":return a.createElement(c.rQ,{tier:t,index:i,length:e.length})}}))}renderInProgressTier(e,t,i){}}var _=i(492418),C=i(672748),E=i(278941);const T=e=>{const{progress:t,title:i,description:n}=e.tier,{currentValue:r,targetValue:o}=t||{},l=(0,C.VO)(r,o),c=`${_.y3o}${r} / ${_.y3o}${o}`;return a.createElement(s.View,{style:p.C1.rowWithoutFlex,key:`Basket_offer_tier${e.index}`},a.createElement(s.View,{style:d.fv.leftBox},a.createElement(s.View,{style:d.fv.circleGreenBorder}),e.index+1!==e.length?a.createElement(s.View,{style:d.M6.greyLineProgress}):null),a.createElement(s.View,{style:p.C1.col},a.createElement(s.View,{style:[p.C1.rowSpaceBetween,p.C1.alignItemCenter]},a.createElement(s.Text,{numberOfLines:1,style:[d.fv.titleStyle,p.XT.fkGreenText]},i),a.createElement(s.Text,{numberOfLines:1,style:p.XT.fontRegular_12},c)),a.createElement(f,{valueInPercent:l}),a.createElement(s.Text,{numberOfLines:1,style:d.fv.subTitleStyle},n)))},f=e=>{const t=[d.M6.greenProgressLine,d.fv.leftRoundBorder,100===e.valueInPercent?d.fv.rightRoundBorder:void 0],i=[d.M6.greyProgressLine,d.fv.leftRoundBorder,d.fv.rightRoundBorder],n=e.valueInPercent/100;return a.createElement(s.View,{style:d.M6.progressContainer},a.createElement(s.View,{style:[d.M6.greyProgressLine,d.fv.leftRoundBorder,d.fv.rightRoundBorder]}),a.createElement(E.A,{progress:n,backgroundStyle:i,progressStyle:t,renderWithoutSvg:!0}))};class A extends v{renderInProgressTier(e,t,i){return a.createElement(T,{tier:e,index:t,length:i})}}var S=i(938777);class y extends v{renderInProgressTier(e,t,i){const{progress:n,title:r,description:o}=e,{currentValue:l,targetValue:c}=n||{currentValue:0,targetValue:0};return a.createElement(s.View,{style:p.C1.row,key:`Basket_offer_tier${t}`},a.createElement(s.View,{style:d.fv.leftBox},a.createElement(s.View,{style:d.fv.circleGreenBorder}),t+1!==i?a.createElement(s.View,{style:d.TZ.greyLineProgress}):null),a.createElement(s.View,{style:p.C1.col},a.createElement(s.View,{style:[p.C1.row_space_between,p.C1.alignItemCenter]},a.createElement(s.Text,{numberOfLines:1,style:[d.fv.titleStyle,p.XT.fkGreenText]},r),a.createElement(s.Text,{numberOfLines:1,style:p.XT.fontRegular_12},`${l} / ${c} ${S.zpw}`)),a.createElement(s.View,{style:d.TZ.progressContainer},this.renderProgressBar(l,c)),a.createElement(s.Text,{numberOfLines:1,style:d.fv.subTitleStyle},o)))}renderProgressBar(e,t){if(t)return Array(t).fill(1).map(((i,n)=>n<(e||0)?a.createElement(s.View,{style:[d.TZ.greenProgressLine,0===n?d.fv.leftRoundBorder:void 0,n===t-1?d.TZ.rightRoundBorder:void 0]}):a.createElement(s.View,{style:[d.TZ.greyProgressLine,0===n?d.fv.leftRoundBorder:void 0,n===t-1?d.TZ.rightRoundBorder:void 0]})))}}class w extends r.A{getWidgetClass(e){switch((0,l.KJ)(e.widgetSlotData)){case"VALUE":return A;case"UNIT":return y}return A}getWidgetHeight(e){switch((0,l.KJ)(e.widgetSlotData)){case"VALUE":return A.getWidgetHeight(e);case"UNIT":return y.getWidgetHeight(e)}return A.getWidgetHeight(e)}}},808912:e=>{"use strict";e.exports=JSON.parse('{"Aacute":"","aacute":"","Acirc":"","acirc":"","acute":"","AElig":"","aelig":"","Agrave":"","agrave":"","amp":"&","AMP":"&","Aring":"","aring":"","Atilde":"","atilde":"","Auml":"","auml":"","brvbar":"","Ccedil":"","ccedil":"","cedil":"","cent":"","copy":"","COPY":"","curren":"","deg":"","divide":"","Eacute":"","eacute":"","Ecirc":"","ecirc":"","Egrave":"","egrave":"","ETH":"","eth":"","Euml":"","euml":"","frac12":"","frac14":"","frac34":"","gt":">","GT":">","Iacute":"","iacute":"","Icirc":"","icirc":"","iexcl":"","Igrave":"","igrave":"","iquest":"","Iuml":"","iuml":"","laquo":"","lt":"<","LT":"<","macr":"","micro":"","middot":"","nbsp":"","not":"","Ntilde":"","ntilde":"","Oacute":"","oacute":"","Ocirc":"","ocirc":"","Ograve":"","ograve":"","ordf":"","ordm":"","Oslash":"","oslash":"","Otilde":"","otilde":"","Ouml":"","ouml":"","para":"","plusmn":"","pound":"","quot":"\\"","QUOT":"\\"","raquo":"","reg":"","REG":"","sect":"","shy":"","sup1":"","sup2":"","sup3":"","szlig":"","THORN":"","thorn":"","times":"","Uacute":"","uacute":"","Ucirc":"","ucirc":"","Ugrave":"","ugrave":"","uml":"","Uuml":"","uuml":"","Yacute":"","yacute":"","yen":"","yuml":""}')},814227:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ViewTypes:()=>J,default:()=>K});var n=i(465420),r=i(296540),a=i(877293),o=i(716249),s=i(766110),l=i(52754),d=i(950534),c=i(914944),u=i(787921),h=i(387393),p=i(887261),g=i(492418),m=i(670563);const v=a.StyleSheet.create({aspectRowContainer:{flex:1,flexDirection:"column",marginLeft:16,marginRight:16},aspectValuesContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",marginTop:-8,marginLeft:-8,marginRight:8},aspectTextContainer:{backgroundColor:g.Jyk.white,borderRadius:24,borderWidth:1,borderColor:m.V9.darkestGrey,marginLeft:8,marginTop:8,overflow:"hidden"},aspectTextCtn:{paddingHorizontal:16,paddingVertical:8,textAlignVertical:"center",textAlign:"center"},aspectText:{fontSize:14,fontFamily:p.$u,includeFontPadding:!1,color:m.Cf.fkBlueColor},aspectsTitle:{fontSize:14,fontFamily:p.A$,color:g.jY,marginLeft:16,marginRight:16,marginBottom:16},colorsIcon:{width:20,height:20,alignItems:"center",marginTop:8},text:{fontFamily:p.A$,color:g.Jyk.blackPrimary,marginLeft:4,fontSize:14}});var _=i(720920),C=i(45426),E=i(280713),T=i(876505),f=i(495176),A=i(479892),S=i(727e3),y=i(257246);const w=e=>{const t=e.sentimentAspects&&e.sentimentAspects.value,i=e.trackingParams;return t?r.createElement(a.View,null,(!e.showSomeAspects||e.showSomeAspects.POSITIVE)&&I(s.Mn,3,t.positive,e.onClick,i,e.isScrollView,e.aspectTextStyle,e.aspectHeaderStyle),(!e.showSomeAspects||e.showSomeAspects.NEUTRAL)&&I(s.Mn,2,t.neutral,e.onClick,i,e.isScrollView,e.aspectTextStyle,e.aspectHeaderStyle),(!e.showSomeAspects||e.showSomeAspects.NEGATIVE)&&I(s.Mn,1,t.negative,e.onClick,i,e.isScrollView,e.aspectTextStyle,e.aspectHeaderStyle)):null};function I(e,t,i,n,o,s,l,d){return i&&i.baseAspectDetails&&i.description&&i.baseAspectDetails.length>0?r.createElement(S.w.Consumer,null,(c=>{var u,h;return(null===(u=null==i?void 0:i.baseAspectDetails)||void 0===u?void 0:u.length)&&r.createElement(a.View,{style:[v.aspectRowContainer,{marginBottom:e},s&&A.C1.margin_right_0]},r.createElement(f.A,{style:[v.text,d,(0,y.Qn)(c)],text:null===(h=i.description)||void 0===h?void 0:h.text}),function(e,t,i,n,o,s){const l=r.createElement(a.ScrollView,{showsHorizontalScrollIndicator:!1,horizontal:o},r.createElement(a.View,{style:v.aspectValuesContainer},e.map(((e,o)=>function(e,t,i,n,o,s){var l;const d=e.value;let c,u;if(d){const i=null!==(l=d.areAspectReviewsAvailable)&&void 0!==l&&l?A.XT.fkRoyalBlueText:A.XT.fkDarkBlack;u=r.createElement(S.w.Consumer,null,(l=>r.createElement(_.y,{key:`aspect_${t}`,shadowOpacity:.02,style:v.aspectTextContainer},r.createElement(C.S,{onPress:n,onPressParam:{action:e.action,trackingInfo:o}},r.createElement(a.View,{style:[v.aspectTextCtn,(0,y.No)(l),(0,y.l1)(l)]},r.createElement(a.Text,{style:[v.aspectText,i,s,(0,y.Qn)(l)]},d.aspectName))))))}return o&&d?(c=function(e,t,i,n,r,a,o){if(!(i&&n&&a&&r&&o))return;return new E.A(o,n,t+1,i,r,a,e)}(i.valueOf(),t,o.impressionId,d.aspectName,d.aspectId,o.productId,o.fetchId),r.createElement(T.A,{trackingInfo:c},u)):u}(e,o,t,i,n,s)))));return l}(i.baseAspectDetails,t,n,o,s,l))})):null}var b=i(738656),D=i(352254),x=i(879052);const P=e=>{const t=e.sentimentAspects&&e.sentimentAspects.value,i=e.trackingParams;return t?r.createElement(a.View,null,(!e.showSomeAspects||e.showSomeAspects.POSITIVE)&&R(s.Mn,3,t.positive,e.onClick,i,e.isScrollView,e.aspectTextStyle,e.aspectHeaderStyle),(!e.showSomeAspects||e.showSomeAspects.NEUTRAL)&&R(s.Mn,2,t.neutral,e.onClick,i,e.isScrollView,e.aspectTextStyle,e.aspectHeaderStyle),(!e.showSomeAspects||e.showSomeAspects.NEGATIVE)&&R(s.Mn,1,t.negative,e.onClick,i,e.isScrollView,e.aspectTextStyle,e.aspectHeaderStyle)):null};function O(e){return 1===e?"Negative":2===e?"Neutral":3===e?"Positive":""}function R(e,t,i,n,o,s,l,d){return i&&i.baseAspectDetails&&i.description&&i.baseAspectDetails.length>0?r.createElement(S.w.Consumer,null,(c=>{var u,h,p,g;return(null===(u=null==i?void 0:i.baseAspectDetails)||void 0===u?void 0:u.length)&&r.createElement(a.View,Object.assign({},(0,x.Z)(`Aspect_Rating_${O(t)}_Review_Container`),{style:[v.aspectRowContainer,{marginBottom:e},s&&A.C1.margin_right_0,A.C1.padding_top_16]}),r.createElement(a.View,{style:[A.C1.flex,A.C1.row,A.C1.margin_bottom_10,A.C1.alignItemCenter]},(null===(h=null==i?void 0:i.sentimentImageValue)||void 0===h?void 0:h.dynamicImageUrl)?r.createElement(D.A,{source:null===(p=null==i?void 0:i.sentimentImageValue)||void 0===p?void 0:p.dynamicImageUrl,height:24,width:24}):null,r.createElement(f.A,Object.assign({},(0,x.Z)(`Aspect_Rating_${O(t)}_Description`),{style:[v.text,d,(0,y.Qn)(c)],text:null===(g=i.description)||void 0===g?void 0:g.text}))),function(e,t,i,n,o,s){const l=r.createElement(a.ScrollView,Object.assign({},(0,x.Z)("Aspect_Text_Scroll_Container"),{showsHorizontalScrollIndicator:!1,horizontal:o}),r.createElement(a.View,{style:[v.aspectValuesContainer]},e.map(((e,o)=>function(e,t,i,n,o,s){var l;const d=e.value;let c,u;if(d){const c=null!==(l=d.areAspectReviewsAvailable)&&void 0!==l&&l;u=r.createElement(S.w.Consumer,null,(l=>r.createElement(_.y,{key:`aspect_${t}`,shadowOpacity:.02,style:v.aspectTextContainer},r.createElement(C.S,Object.assign({},(0,x.Z)(`Aspect_Rating_${O(i)}_Review_Pill_Container`),{onPress:n,onPressParam:{action:e.action,trackingInfo:o}}),r.createElement(a.View,{style:[v.aspectTextCtn,(0,y.No)(l),(0,y.l1)(l)]},r.createElement(a.Text,Object.assign({},(0,x.Z)(`Aspect_Rating_${O(i)}_Review_Pill_Text`),{style:[v.aspectText,{color:c?(0,b.FH)("primary.main"):(0,b.FH)("text.primary")},s,(0,y.Qn)(l)]}),d.aspectName))))))}return o&&d?(c=function(e,t,i,n,r,a,o){if(!(i&&n&&a&&r&&o))return;return new E.A(o,n,t+1,i,r,a,e)}(i.valueOf(),t,o.impressionId,d.aspectName,d.aspectId,o.productId,o.fetchId),r.createElement(T.A,{trackingInfo:c},u)):u}(e,o,t,i,n,s)))));return l}(i.baseAspectDetails,t,n,o,s,l))})):null}var k=i(730106),V=i(311676),L=i(6921),M=i(410752),N=i(302019),H=i(420721);const W=N.JU.extendComponent({name:"ShowMoreLessButtonContainer",defaultProps:{font:"m_medium",color:"raw.blue.500",mb:"s3"}});class B extends r.PureComponent{constructor(e,t){super(e,t),this.getRatingView=(e,t)=>{const i=e.value,n=i.average?i.average:0,a=i.name?i.name:void 0,o=i.id?i.id:void 0,s=e.tracking?e.tracking.impressionId:void 0,l=e.tracking?this._getViewTrackingData(n,t,s,a,o):void 0;return r.createElement(k.F,{aspectRating:n,aspectName:a,didClickAspectItem:this._didClickAspectItem,aspectValue:e,trackingInfo:l,showAspectRatingPill:this.props.showAspectRatingPill})},this.renderShowMoreCalloutButton=e=>{const t=(0,H.ak)(this.props.appContextLocale,{id:M.H.rex_string_COUNT_MORE},{Count:`${e}`});return r.createElement(W,null,t)},this.renderShowLessCalloutButton=()=>{const e=(0,H.ak)(this.props.appContextLocale,{id:M.H.rex_string_SHOW_LESS});return r.createElement(W,null,e)},this._didClickAspectItem=(e,t,i,n)=>{this._trackAspectClick(t,i,n),this.props.actionDispatcher&&this.props.actionDispatcher(new c.E8(new c.rs(e)))},this._getViewTrackingData=(e,t,i,n,r)=>{if(!(i&&n&&this.props.productId&&r))return;return new E.A(this.props.fetchId,n,t+1,i,r,this.props.productId,e)},this._trackAspectClick=(e,t,i)=>{if(!e)return;const n=new V.k78(this.props.fetchId,e,i,t,this.props.productId);this.props.trackDGEvent(n)},this.state=this.getDerivedState(e,void 0)}getDerivedState(e,t){const i=Math.floor(this.props.screenWidth/80);return{aspectCount:this.props.scaleAspectComponents&&i>this.props.scaleAspectComponents.length?this.props.scaleAspectComponents.length:i}}render(){var e;if(!this.props||!this.props.scaleAspectComponents)return null;const t=this.props.showAspectRatingPill?this.props.scaleAspectComponents:null===(e=this.props.scaleAspectComponents)||void 0===e?void 0:e.slice(0,this.state.aspectCount);return t?r.createElement(a.View,{style:[A.C1.row_wrap,A.C1.margin_top_16,this.props.containerStyle,this.props.showAspectRatingPill&&A.C1.margin_horizontal_16]},this.props.showAspectRatingPill?r.createElement(L.A,{items:t,maxNumberOfItems:5,maxNumberOfLines:3,renderItem:this.getRatingView,renderShowMoreCalloutButton:this.renderShowMoreCalloutButton,renderShowLessCalloutButton:this.renderShowLessCalloutButton,dispatchAction:this.props.dispatchAction}):t.map(this.getRatingView)):null}}var U=i(347953);const F=(0,h.A)(w,P);class G extends s.Ay{constructor(e,t){super(e,t),this.isRnrImagesRevampEnabled=!!U.A.getExperimentValue("isRnrImagesRevampEnabled"),this._dispatchAction=(e,t)=>{const i=t.action;if(this.props.actionDispatcher&&i){this.props.actionDispatcher({type:u.A.MAPI_ACTION,payload:new c.Oy(i)});const e=i.params.aspectName,n=i.params.aspectId,r=t.trackingInfo?t.trackingInfo.impressionId:void 0;this.trackDiscoveryContentClickEvent(null==i?void 0:i.tracking),this.trackAspectClick(r,e,n)}};const i=(0,l.nS)(e.widgetSlotData),n=i&&i.data;let r;r=n&&n.sentimentAspectComponentWithText&&n.sentimentAspectComponentWithText.tracking&&n.sentimentAspectComponentWithText.tracking.impressionId,this._trackingParams={fetchId:this.getFetchId(),productId:this.getProductId(),impressionId:r}}static getWidgetHeight(e){let t=0;const i=(0,l.nS)(e.widgetSlotData),n=i&&i.data;return n&&(t+=this.MINIMAL_RATING_VIEW_HEIGHT+this._getAspectRatingsViewHeight(n.sentimentAspectComponentWithText&&n.sentimentAspectComponentWithText.value)),t+o.A.getAdditionalHeight(e)}renderWidget(){const e=(0,l.nS)(this.props.widgetSlotData),t=e&&e.data;if(t){const e=t.rating&&t.rating.value;return r.createElement(a.View,null,e&&(null==e?void 0:e.ratingCount)?r.createElement(d.G,{ratingAdjective:e.ratingAdjective,ratingCount:e.ratingCount,reviewCount:e.reviewCount,averageRating:e.average}):null,t.sentimentAspectComponentWithText?r.createElement(F,{sentimentAspects:t.sentimentAspectComponentWithText,onClick:this._dispatchAction,trackingParams:this._trackingParams}):t.scaleAspectComponents?r.createElement(B,{scaleAspectComponents:t.scaleAspectComponents,screenWidth:this.props.appContext.uiContext.windowFrame.width,fetchId:this.getFetchId(),productId:this.getProductId(),actionDispatcher:this.props.actionDispatcher,trackDGEvent:this.trackDGEvent,containerStyle:A.C1.margin_bottom_12,showAspectRatingPill:this.isRnrImagesRevampEnabled,appContextLocale:this.props.appContext.locale,dispatchAction:this.dispatchAction}):null)}}static _getAspectRatingsViewHeight(e){let t=0;return e&&e.positive&&e.negative&&e.neutral&&(t+=this._getEachAspectSentimentHeight(e.positive.baseAspectDetails)+this._getEachAspectSentimentHeight(e.neutral.baseAspectDetails)+this._getEachAspectSentimentHeight(e.negative.baseAspectDetails)),t}}var z=i(560203),j=i(927443),X=i(632518);const Y=(0,h.A)(w,P);class q extends s.Ay{constructor(e,t){super(e,t),this._dispatchAction=(e,t)=>{const i=t.action;if(this.props.actionDispatcher&&i){this.props.actionDispatcher({type:u.A.MAPI_ACTION,payload:new c.Oy(i)});const e=i.params.aspectName,n=i.params.aspectId,r=t.trackingInfo?t.trackingInfo.impressionId:void 0;this.trackAspectClick(r,e,n)}};const i=(0,l.nS)(e.widgetSlotData),n=i&&i.data,r=n&&n.sentimentAspectComponentWithText&&n.sentimentAspectComponentWithText.tracking&&n.sentimentAspectComponentWithText.tracking.impressionId;this._trackingParams={fetchId:this.getFetchId(),productId:this.getProductId(),impressionId:r}}static getWidgetHeight(e){let t=0;const i=(0,l.nS)(e.widgetSlotData),n=i&&i.data;return n&&(t+=this.MINIMAL_RATING_VIEW_HEIGHT+this._getAspectRatingsViewHeight(n.sentimentAspectComponentWithText&&n.sentimentAspectComponentWithText.value)),t+o.A.getAdditionalHeight(e)}renderWidget(){const e=(0,l.nS)(this.props.widgetSlotData),t="SCROLLABLE_ASPECTS"===(0,l.KJ)(this.props.widgetSlotData),i=e&&e.data,n=t?{POSITIVE:!0,NEGATIVE:!0,NEUTRAL:!0}:{POSITIVE:!0};if(e){if(i){const e=i.rating&&i.rating.value,t=e&&this.getReviewString(e.ratingCount,e.reviewCount);if(e)return r.createElement(S.w.Consumer,null,(o=>r.createElement(a.View,{style:(0,y.No)(o)},r.createElement(d.G,{ratingAdjective:e.ratingAdjective,ratingCount:e.ratingCount,reviewCount:e.reviewCount,averageRating:e.average,containerStyle:q.CONTAINER_STYLE,textStyle:q.TEXT_STYLE}),e.average&&e.base&&this.renderRating(e.average,e.base),t&&r.createElement(X.g,{style:[q.REVIEW_STRING_STYLE,(0,y.oO)(o)],numberOfLines:2,text:this.getReviewString(e.ratingCount,e.reviewCount)}),i.sentimentAspectComponentWithText&&r.createElement(Y,{sentimentAspects:i.sentimentAspectComponentWithText,onClick:this._dispatchAction,trackingParams:this._trackingParams,isScrollView:!0,aspectTextStyle:q.ASPECT_RATING_TEXT_STYLE,aspectHeaderStyle:q.ASPECT_HEADER_STYLE,showSomeAspects:n}),r.createElement(z.A,{heightVal:1,backgroundColor:(0,y.gj)(o)}))))}return r.createElement(r.Fragment,null)}}renderRating(e,t){if(e&&t)return r.createElement(S.w.Consumer,null,(i=>r.createElement(a.View,Object.assign({},(0,x.Z)("Rating_Container"),{style:q.RATING_CONTAINER_STYLE}),r.createElement(a.Text,Object.assign({},(0,x.Z)("Rating_Average_Text"),{style:[q.MINIMALASPECT_STYLE,(0,y.Qn)(i)]}),e),r.createElement(a.Text,Object.assign({},(0,x.Z)("Rating_Base_Text"),{style:[q.BASE_TEXT_STYLE,(0,y.Qn)(i)]}),`/${t}`))))}getReviewString(e,t){var i;if(!e||!t||!(null===(i=this.props.appContext)||void 0===i?void 0:i.locale))return;const n=this.props.appContext.locale,r=(0,j.m3)(e),a=(0,j.m3)(t),o=e>1?(0,H.ak)(n,{id:M.H.rex_string_RATINGS}):(0,H.ak)(n,{id:M.H.rex_string_RATING}),s=t>1?(0,H.ak)(n,{id:M.H.rex_string_REVIEWS}):(0,H.ak)(n,{id:M.H.rex_string_REVIEW});return q.REVIEW_TEXT_PREFIX+g.NH+r+g.NH+o+g.NH+(0,H.ak)(n,{id:M.H.rex_string_AND_TEXT})+g.NH+a+g.NH+s}static _getAspectRatingsViewHeight(e){let t=0;return e&&e.positive&&(t+=this._getEachAspectSentimentHeight(e.positive.baseAspectDetails)),t}}var J;q.CONTAINER_STYLE=[A.C1.margin_bottom_0,A.C1.col],q.RATING_CONTAINER_STYLE=[A.C1.displayFlex,A.C1.rowAlignFlex,A.C1.margin_horizontal_16,A.C1.margin_vertical_10],q.ASPECT_RATING_TEXT_STYLE=[A.XT.fontFamilyInterSemiBold,A.XT.fkRoyalBlueText],q.TEXT_STYLE=[A.C1.displayNone],q.ASPECT_HEADER_STYLE=[A.XT.fontMedium_14],q.MINIMALASPECT_STYLE=[A.XT.fontMedium_24,A.XT.letterSpacing_50],q.REVIEW_STRING_STYLE=[A.XT.lightGreyText,A.C1.margin_left_16,A.XT.fontRegular_14,A.C1.margin_bottom_16],q.BASE_TEXT_STYLE=[q.MINIMALASPECT_STYLE,A.XT.fkBlackSecondaryText],q.REVIEW_TEXT_PREFIX="based on",function(e){e.SCROLLABLE_POSITIVE_ASPECTS="SCROLLABLE_POSITIVE_ASPECTS",e.SCROLLABLE_ASPECTS="SCROLLABLE_ASPECTS"}(J||(J={}));class K extends n.A{getWidgetClass(e){switch((0,l.KJ)(e.widgetSlotData)){case"SCROLLABLE_ASPECTS":case"SCROLLABLE_POSITIVE_ASPECTS":return q;default:return G}}getWidgetHeight(e){switch((0,l.KJ)(e.widgetSlotData)){case"SCROLLABLE_ASPECTS":case"SCROLLABLE_POSITIVE_ASPECTS":return q.getWidgetHeight(e);default:return G.getWidgetHeight(e)}}}},817769:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>g});var n=i(465420),r=i(296540),a=i(347924),o=i(716249),s=i(52754),l=i(877293);const d=a.az.extendComponent({name:"PriceContainer",defaultProps:{padding:"s5",borderRadius:4,bg:"v2.neutral.50",ml:"s5",mr:"s5",mb:"s8"}}),c=l.StyleSheet.create({priceText:{maxWidth:"85%"}});var u=i(723372),h=i(525987);class p extends o.A{renderWidget(){var e;const t=(0,s.nS)(this.props.widgetSlotData);if(!((null==t?void 0:t.data)&&p._isComboPriceSummaryWidgetData(t.data)&&(null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.prices)))return;const{prices:i}=null==t?void 0:t.data;return r.createElement(d,null,i.map(((e,t)=>{if(!e.formattedLabel)return;const n=t===i.length-1?"s0":"s5";return r.createElement(a.fI,{justifyContent:"space-between",mb:n},r.createElement(u.A,{useInline:!0,style:c.priceText,messages:e.formattedLabel}),e.value&&r.createElement(h.Ay,{textStyle:e.formattedLabel.data[0].value.style,price:e.value,priceType:e.priceType,strikeoff:e.strikeOff,showFreeTextInCaps:!0,showCoinPriceAsDiscount:!0,prefixText:e.prefixText}))})))}static getWidgetHeight(e){var t;let i=20;const n=(0,s.nS)(e.widgetSlotData);if(!(null==n?void 0:n.data)||!this._isComboPriceSummaryWidgetData(n.data))return i;const r=null===(t=null==n?void 0:n.data)||void 0===t?void 0:t.prices;return r?(r.map(((e,t)=>{const n=t===r.length-1?0:12;i=i+20+n})),i+24):i}}p._isComboPriceSummaryWidgetData=e=>"prices"in e;class g extends n.A{getWidgetClass(e){return p}getWidgetHeight(e){return p.getWidgetHeight(e)}}},818434:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(918210),r=i(90513);class a{handleAction(e,t,i){const a=t.pageDataResponse&&t.pageDataResponse.pageContext?t.pageDataResponse.pageContext:void 0,o=a&&a.trackingDataV2?a.trackingDataV2:void 0,s={};return s[r.Ay.PRODUCTS]=o&&o.sproduct?o.sproduct:"",s[r.Ay.PROP3]=t.pageMeta.pageType,n.A.addEventData(s),n.A.trackEventUnderName("PP_sticky price callout"),!0}}},820101:(e,t,i)=>{"use strict";i.d(t,{P:()=>S});var n=i(877293),r=i(49697),a=i(144312),o=i(794058),s=i(415283),l=i(238814),d=i(764981),c=i(849979),u=i(53606),h=i(880189);function p(e,t){var i;let n=(0,c.fS)(e,t);if(n){if(n.navigationBarViewModel&&!u.Ay.shouldPreserveSearchQuery()&&(n.navigationBarViewModel.title=void 0),t.type===s.Q3.HANDLE_MULTIWIDGET_RESPONSE){const n=(null===(i=null==e?void 0:e.navigationBarViewModel)||void 0===i?void 0:i.marketPlace)||"",r=h.Ay.isNewSearchBarEnabledOnProductPage(n);return(0,c.E8)(e,t,r)}return n}return e}var g=i(877370),m=i(488659),v=i(492418),_=i(938777),C=i(347953),E=i(700036),T=i(670563),f=i(37580),A=i(586347);class S extends r.J{getPageMeta(){const e=a.A.build(this.action),t=this.action.tracking;return Object.assign(Object.assign({},super.getPageMeta()),{productId:this.action.params.pid,listingId:this.action.params.lid,pageType:e.pageType,shortPageType:e.shortPageType,pageTrackingData:t,previewData:this.action.params.productPageLoadingStateV2ViewModel,categoryViewType:this.action.params.categoryViewType,thumbnailUrl:this.action.params.thumbnailUrl})}getPageClass(){return l.N}getMiddleWare(){const e=new o.A,t=new Map([[s.Q3.CART_CHANGE,e],[s.Q3.WISHLIST_CHANGE,e]]);return new s.R5(this.dgPageData,void 0,t,this.actionMapper).getActionMiddleware()}prepareViewModel(e,t){var i,r;S.isMallModeABEnabled="elite"===E.A.getString("FK_MODE_KEY_PP")&&this.getPageMeta().marketPlace===_.fOd.MARKETPLACE_FLIPKART;const a=super.prepareViewModel(e,t),o=u.Ay.constantTopNavBarEnabled()&&this.getPageMeta().marketPlace===_.fOd.MARKETPLACE_FLIPKART,s=!!C.A.getExperimentValue("groceryPPVFixedNavBar")&&this.getPageMeta().marketPlace===_.fOd.MARKETPLACE_GROCERY;if((o||s)&&a.navigationBarViewModel&&(a.navigationBarViewModel.scrollBehaviour={scrollEffect:0,maxHeight:v.vzS}),this.getPageMeta().marketPlace===_.fOd.MARKETPLACE_GROCERY&&a.navigationBarViewModel&&(a.navigationBarViewModel.logo=void 0),"web"!==n.Platform.OS&&S.isMallModeABEnabled&&u.Ay.getMallModeSupportedLocales().includes(e.locale)&&a.navigationBarViewModel&&a.appBarViewModel){const e=A.j.isMallModeOn(E.A.getString(f.Ml))?u.Ay.getMallModeColor()||T.Cf.mallModeColor:void 0;e&&(a.appBarViewModel.backgroundColor=e,a.navigationBarViewModel.backgroundColor=e,a.navigationBarViewModel.isInMallMode=!0)}const l=u.Ay.shouldPreserveSearchQuery();return h.Ay.isNewSearchBarEnabledOnProductPage(this.getPageMeta().marketPlace)&&(a.hideActionBar=!0,(null===(r=null===(i=a.navigationBarViewModel)||void 0===i?void 0:i.scrollBehaviour)||void 0===r?void 0:r.maxHeight)&&(a.navigationBarViewModel.scrollBehaviour.maxHeight=0)),g.P.prepareViewModel(a,this.getPageMeta().marketPlace,e,l?this.action.params.searchQuery:void 0)}getBarActions(e,t){return g.P.getBarActions(this.pageMeta,e,t,this._getMarketPlace(),void 0,this.pageMeta.pageURI,this.action,this.pageMeta.businessUnit)}getReducer(){const e=new d.z;return e.setViewModelReducer(p),e.build()}_getMarketPlace(){return new m.Ay(this.action.params).getMarketPlaceId()}}S.isMallModeABEnabled=!1},820417:(e,t,i)=>{"use strict";i.d(t,{A:()=>g});var n=i(296540),r=i(877293),a=i(492418),o=i(887261);const s=r.StyleSheet.create({container:{backgroundColor:a.Jyk.white,borderRadius:4,paddingRight:8,shadowRadius:1,elevation:5},reviewImages:{flexDirection:"row",marginTop:8},flexWrap:{flexWrap:"wrap",alignItems:"flex-start"},footer:{flexDirection:"row",alignItems:"center",marginTop:0,paddingLeft:8,marginBottom:8},footerText:{alignItems:"center",justifyContent:"center",fontSize:14,color:a.Cf1.fkBlueColor,fontFamily:o.$u,includeFontPadding:!1,marginRight:3},imgCtn:{marginLeft:8,marginBottom:8,position:"relative"},overlayStyle:{position:"absolute",top:0,justifyContent:"center",alignItems:"center"},opaqueStyle:{backgroundColor:a.Jyk.black,opacity:.4},additionalImageCount:{color:a.Jyk.white,fontFamily:o.$u,backgroundColor:"transparent"},marginZero:{marginLeft:0},marginTop:{marginTop:8}});var l=i(352254),d=i(813652),c=i(45426),u=i(415283),h=i(914944),p=i(479892);class g extends n.Component{constructor(e,t){super(e,t),this.TOTAL_IMAGE_COUNT=3,this.IMAGE_MARGIN_LEFT=8,this.REVIEW_IMAGE_SIZE=69,this.CHEVRON_WIDTH=20,this.footerTextHeight=16,this._getImageView=e=>e?n.createElement(l.A,{source:e.imageURL,width:this.REVIEW_IMAGE_SIZE,height:this.REVIEW_IMAGE_SIZE,resizeMode:"cover",downloadSizeMultiplier:2}):null,this._getOverlayCountView=e=>{if(!e)return null;const t=e.filter((e=>e&&"MULTIMEDIA_OVERLAY_COUNT_VIEW"===e.viewType));if(t&&1===t.length){const e=t[0];let i={};return 1===this.props.noOfCohorts&&(i=s.marginZero),n.createElement(r.View,{style:[s.imgCtn,i]},this._getImageView(e),e.additionalImageCount&&e.additionalImageCount>0?n.createElement(r.View,{style:[s.overlayStyle,s.opaqueStyle,{width:this.REVIEW_IMAGE_SIZE},{height:this.REVIEW_IMAGE_SIZE}]}):null,e.additionalImageCount&&e.additionalImageCount>0?n.createElement(r.View,{style:[s.overlayStyle,{width:this.REVIEW_IMAGE_SIZE},{height:this.REVIEW_IMAGE_SIZE}]},n.createElement(r.Text,{style:s.additionalImageCount},`+${e.additionalImageCount}`)):null)}return null},this._onReviewBucketClick=(e,t)=>{if(this.props.actionDispatcher&&t){this._sendReviewImageOnCarouselClickTracking();const e=new h.rs(t);this.props.actionDispatcher({type:u.Q3.MAPI_ACTION,payload:e})}},this._sendReviewImageOnCarouselClickTracking=()=>{const{bucket:e}=this.props,t=e.action,i=e.value,n=i&&i.reviewImages;this.props.trackReviewBucketClick&&this.props.trackReviewBucketClick("Cohortized_Image_RnR_Gallery","ImageCarousel_CustomerImages",t&&t.tracking.position||"",(n&&n.length||0).toString(),t&&t.params.bucketName||"")},this._setEachImageHeight=()=>{this.REVIEW_IMAGE_SIZE=this.props.eachBucketHeight-this.TOTAL_IMAGE_COUNT*this.IMAGE_MARGIN_LEFT-this.footerTextHeight},this._setEachImageHeight()}render(){const{bucket:e,noOfCohorts:t}=this.props,i=e.value,a=e.action,o=i&&i.reviewImages,u=i&&i.footer;let h={},g={};1===t?h=s.flexWrap:0!==this.props.index&&(g=s.marginTop);const m=this._getOverlayCountView(o);let v=2;return m||(v=3),n.createElement(c.S,{onPress:this._onReviewBucketClick,onPressParam:a},n.createElement(r.View,{style:[s.container,g]},n.createElement(r.View,{style:[s.reviewImages,h,{width:this.REVIEW_IMAGE_SIZE*this.TOTAL_IMAGE_COUNT+this.TOTAL_IMAGE_COUNT*this.IMAGE_MARGIN_LEFT}]},o?o.map(((e,i)=>i>=v&&t>1?null:e?n.createElement(r.View,{style:s.imgCtn},"MULTIMEDIA_VIEW"===e.viewType?this._getImageView(e):null):null)):null,m),u&&u.titleValue?n.createElement(r.View,{style:[s.footer,{height:this.footerTextHeight}]},n.createElement(r.Text,{style:[s.footerText,{width:this.REVIEW_IMAGE_SIZE*this.TOTAL_IMAGE_COUNT+this.TOTAL_IMAGE_COUNT*this.IMAGE_MARGIN_LEFT-this.CHEVRON_WIDTH}],numberOfLines:1},u.titleValue.text),n.createElement(l.A,{style:p.C1.justifyContentFlexEnd,source:d.chevronBlue,width:12,height:12})):null))}}},833274:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>x});var n=i(465420),r=i(52754),a=i(302019),o=i(296540),s=i(352254),l=i(914944),d=i(787921),c=i(492418);const u=a.az.extendComponent({name:"SubventionContainer",defaultProps:{m:"s6"}}),h=a.fI.extendComponent({name:"HeaderBox",defaultProps:{pb:"s6",alignItems:"center"}}),p=a.JU.extendComponent({name:"HeaderBox",defaultProps:{font:"l_medium",ml:"s4"}}),g=a.fI.extendComponent({name:"Subtitlebox",defaultProps:{pb:"s2",justifyContent:"space-between",alignItems:"center"}}),m=a.az.extendComponent({name:"ApplyButton",defaultProps:{width:88,height:32,borderWidth:1,borderColor:c.V9u.linkWaterGrey,alignItems:"center",justifyContent:"center",borderRadius:4}}),v=a.JU.extendComponent({name:"OfferClickButtonText",defaultProps:{font:"m_medium",color:"info.primary"}}),_=a.JU.extendComponent({name:"OfferAppliedText",defaultProps:{font:"s_medium",color:"success.primary"}}),C=a.fI.extendComponent({name:"OfferTncBox",defaultProps:{mt:"s5",p:"s4",borderWidth:1,borderColor:c.znH.backgroundLight,borderRadius:4}}),E=a.JU.extendComponent({name:"OfferTncDescription",defaultProps:{font:"s",ml:"s2",flex:1}});var T=i(45426),f=i(614006),A=i(489692),S=i(690423),y=i(644598),w=i(163256),I=i(463528),b=i(322392);class D extends w.o{constructor(){super(...arguments),this._onPress=(e,t)=>{var i,n,r;(null===(i=t.action)||void 0===i?void 0:i.type)!==b.X.OPERATOR_SUBVENTION_APPLY_OFFER_ACTION&&(null===(n=t.action.url)||void 0===n||n.replace("{@offerApplied}","applied")),this.dispatchAction(d.A.MAPI_ACTION,new l.rs(t.action));const a=(null===(r=this.props.pageInfo)||void 0===r?void 0:r.pageContext).analyticsData;(null==a?void 0:a.category)&&(t.trackingInfo.category=a.category),(null==a?void 0:a.subCategory)&&(t.trackingInfo.subCategory=a.subCategory),(null==a?void 0:a.superCategory)&&(t.trackingInfo.superCategory=a.superCategory),(null==a?void 0:a.vertical)&&(t.trackingInfo.vertical=a.vertical),t.trackingInfo.impressionId=t.impressionId,this.trackDiscoveryContentClickEvent(t.trackingInfo)},this.updateAggregatedCTATransientData=()=>{var e,t,i,n,a;const o=(0,r.xH)(this.props.widgetSlotData),s=null===(t=null===(e=null==o?void 0:o.offerDataList)||void 0===e?void 0:e.renderableComponents)||void 0===t?void 0:t[0].value,l=r.wU(this.props.widgetSlotData)||f.n.OPERATOR_SUBVENTION_OFFER;if(!s)return;const c={},u=s.applyButton,h=null==u?void 0:u.value;if(!(null==h?void 0:h.secondaryAction))return;const p=null===(i=null==h?void 0:h.secondaryAction)||void 0===i?void 0:i.action,g=null==p?void 0:p.params,m=null==g?void 0:g.attachedContext,v=null==m?void 0:m.parentProductContext,_=(null==m?void 0:m.childProducts)&&(null==m?void 0:m.childProducts[0]),C=(null===(n=s.offerHeader)||void 0===n?void 0:n.text)?s.offerHeader.text:"";if(!_||!_.productId||!_.listingId)return;const E=S.A.generateTransientDataKey(_.productId);v&&(c[E]={listingId:_.listingId,aggregatedCartContext:S.A.createCartContext(_&&(null==_?void 0:_.productId),1,null===(a=s.applyButton)||void 0===a?void 0:a.tracking,C,!1,!1,l,undefined,v.productId,v.listingId)},this.dispatchAction(d.A.AGGREGATED_CTA,new y.Y(y.m.UPDATE_CTA_STATE,c,[])))}}componentDidMount(){var e,t,i;super.componentDidMount();const n=(0,r.xH)(this.props.widgetSlotData);!!(null===(i=null===(t=null===(e=null==n?void 0:n.offerDataList)||void 0===e?void 0:e.renderableComponents)||void 0===t?void 0:t[0].value)||void 0===i?void 0:i.offerSelectedCallout)&&(this.updateCartContext(0),this.updateAggregatedCTATransientData())}componentDidUpdate(e,t,i){var n,a,o;super.componentDidUpdate(e,t,i);const s=(0,r.xH)(this.props.widgetSlotData);!!(null===(o=null===(a=null===(n=null==s?void 0:s.offerDataList)||void 0===n?void 0:n.renderableComponents)||void 0===a?void 0:a[0].value)||void 0===o?void 0:o.offerSelectedCallout)&&this.updateAggregatedCTATransientData()}renderWidget(){var e,t,i,n,l,d,c,f,A,S,y,w,b,D,x,P,O,R;const k=(0,r.nS)(this.props.widgetSlotData),V=(0,r.xH)(this.props.widgetSlotData),L=null==k?void 0:k.tracking,M=null==L?void 0:L.impressionId,N=null===(t=null===(e=null==V?void 0:V.offerDataList)||void 0===e?void 0:e.renderableComponents)||void 0===t?void 0:t[0].value,H=null===(n=null===(i=null==V?void 0:V.offerDataList)||void 0===i?void 0:i.renderableComponents)||void 0===n?void 0:n[0].tracking,W=Object.assign(Object.assign({},L),H);if(!N)return;const B=null===(l=null==N?void 0:N.offerHeader)||void 0===l?void 0:l.image,U=o.createElement(u,null,N.offerHeader&&o.createElement(h,null,B&&o.createElement(s.A,{source:null==B?void 0:B.dynamicImageUrl,width:24,height:24}),o.createElement(p,null,N.offerHeader.text)),N.offerTitle&&o.createElement(g,null,o.createElement(a.JU,{font:"m_medium"},N.offerTitle.text),N.applyButton&&o.createElement(T.S,{onPress:this._onPress,onPressParam:{action:N.applyButton.action,impressionId:M,trackingInfo:N.applyButton.tracking}},o.createElement(m,null,o.createElement(v,null,null===(c=null===(d=N.applyButton.value)||void 0===d?void 0:d.richText)||void 0===c?void 0:c.text)))),N.offerSelectedCallout&&o.createElement(a.fI,{alignItems:"center"},N.offerSelectedCallout.image&&o.createElement(s.A,{source:null===(f=N.offerSelectedCallout.image)||void 0===f?void 0:f.dynamicImageUrl,width:16,height:16}),o.createElement(_,null,N.offerSelectedCallout.text)),N.offerTnC&&o.createElement(C,{style:{backgroundColor:"#FAFAFA"}},N.offerTnC.tncImage&&o.createElement(a.az,{width:16},o.createElement(s.A,{source:null===(A=N.offerTnC.tncImage)||void 0===A?void 0:A.dynamicImageUrl,width:16,height:16})),o.createElement(E,null,null===(y=null===(S=N.offerTnC.tncText)||void 0===S?void 0:S.text)||void 0===y?void 0:y.concat(" "),o.createElement(I.A,{onTextPress:this._onPress,onPressParam:{action:null===(b=null===(w=N.offerTnC)||void 0===w?void 0:w.tncAction)||void 0===b?void 0:b.action,impressionId:M,trackingInfo:null===(D=N.offerTnC.tncAction)||void 0===D?void 0:D.tracking},font:"s_medium",color:"info.primary"},null===(P=null===(x=N.offerTnC.tncAction)||void 0===x?void 0:x.value)||void 0===P?void 0:P.text))));if(W){const e=(null===(O=this.props.pageInfo)||void 0===O?void 0:O.pageContext).analyticsData;(null==e?void 0:e.category)&&(W.category=e.category),(null==e?void 0:e.subCategory)&&(W.subCategory=e.subCategory),(null==e?void 0:e.superCategory)&&(W.superCategory=e.superCategory),(null==e?void 0:e.vertical)&&(W.vertical=e.vertical);const t=null===(R=N.applyButton)||void 0===R?void 0:R.tracking;if((null==t?void 0:t.offerTitle)&&(W.offerTitle=t.offerTitle),(null==t?void 0:t.offerId)&&(W.offerId=t.offerId),null===this.getTrackableContentView(U,W))return;return this.getTrackableContentView(U,W)}return U}updateCartContext(e){const t=this.props.widgetSlotData.slotData.dataId;if(this.state.dataId!==t){const i={itemIndex:e,widgetType:r.wU(this.props.widgetSlotData)||f.n.OPERATOR_SUBVENTION_OFFER,shouldTrackAction:!0,uniqueViewId:this.state.uniqueViewId};this.dispatchAction(d.A.ATTACH_ACTION,new A.KC(i)),this.setState({dataId:t})}}static getWidgetHeight(e){var t;let i=0;const n=(0,r.xH)(e.widgetSlotData);if(!n||!n.offerDataList)return i+this.getAdditionalHeight(e);const a=(null===(t=n.offerDataList)||void 0===t?void 0:t.renderableComponents)&&n.offerDataList.renderableComponents[0].value;return i+=64,i+=24,i+=32,i+=a&&a.offerSelectedCallout?18:0,i+=70,i+this.getAdditionalHeight(e)}}class x extends n.A{getWidgetClass(e){return D}getWidgetHeight(e){return D.getWidgetHeight(e)}}},836106:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>te});var n=i(465420),r=i(796840),a=i(296540),o=i(347924),s=i(52754),l=i(877293),d=i(561310),c=i(624801),u=i(370365),h=i(241598);const p=e=>(0,u.nm)({borderWidth:c.OutlineKeysBasic.o2,borderColor:"outline.neutral.subtle",borderRadius:c.CRKeysBasic.cr4,width:154},e),g=e=>{const t=(0,u.nm)({flex:1,px:"s5",pt:"s5",borderWidth:c.OutlineKeysBasic.o2,borderColor:"outline.neutral.subtle",borderRadius:c.CRKeysBasic.cr4,width:154,gap:"s4"},e);return t.marginTop="web"!==l.Platform.OS?36:-18,t},m=e=>(0,h.kE)({flex:1,justifyContent:"space-between",alignItems:"center",px:"s5"},e),v=e=>(0,h.kE)({typography:"subtext",color:"foreground.default.primary"},e),_=e=>(0,h.kE)({typography:"label",color:"foreground.default.primary"},e),C=e=>({dropDownContainerStyle:g(e),selectedComponentStyle:p(e),dropDownLabelStyle:v(e),dropDownSelectedLabelStyle:_(e),labelContainerStyle:m(e)}),E=Object.assign(Object.assign({},"web"!==l.Platform.OS&&{position:"absolute"}),{bottom:0,width:"100%",margin:0,overflow:"hidden",borderTopLeftRadius:16,borderTopRightRadius:16});var T=i(547134),f=i(914944),A=i(415283),S=i(45426),y=i(67473),w=i(352254),I=i(171539),b=i(815946),D=i(813652),x=i(795492),P=i(128881);class O extends P.m{constructor(){super(...arguments),this.scrollViewProps={bounces:!1,showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1},this.disableBaseTouchableFeedback=!0}}var R=i(927443),k=i(166057),V=i(876505),L=i(390437),M=i(672748),N=i(439322),H=i(186850);const{az:W,fI:B,fv:U,JU:F,wv:G}=o.zN;class z extends r.A{constructor(){super(...arguments),this._renderItem=(e,t)=>{const i=e.value;if(!i)return null;const n=this.state.planSelectionIndexes[t],r=this._isProductAdded(n,t);return a.createElement(V.A,{trackingInfo:this._getVASWIEvent(t)},a.createElement(X,{data:i,selectedPlanIndex:n,isProductAdded:r,onPlanSelect:e=>{this._onPlanSelect(e,t)},onButtonAction:e=>{this._didSelectPlan(e,{planIndex:n,cardIndex:t,isFreebie:i.freebie})},onMoreDetailsClick:e=>{var t;const n=null===(t=i.hyperlink)||void 0===t?void 0:t.action;n&&(this.dispatchAction(A.Q3.MAPI_ACTION,new f.Oy(n)),this.trackDiscoveryContentEngagementEvent(n.tracking,L.O.CLICK))}}))}}renderHeader(e){var t;return a.createElement(j,{collapsed:this.state.widgetCollapsed,headerValue:null===(t=null==e?void 0:e.header)||void 0===t?void 0:t.value,onHeaderClick:e=>{this.onHeaderCollapseButtonClick(e),this._trackDWEEvent()}})}_trackDWEEvent(){const e=this.state.widgetCollapsed?L.O.UNHIDE:L.O.HIDE;this.trackDiscoveryWidgetEngagementEvent(e)}renderWidget(){const e=(0,s.xH)(this.props.widgetSlotData);if(e&&(null==e?void 0:e.products))return a.createElement(U,null,a.createElement(l.ScrollView,{horizontal:!0,showsHorizontalScrollIndicator:!1},a.createElement(B,{pl:"s6",pr:"s4",mt:"s4",mb:"s6"},e.products.map(((e,t)=>this._renderItem(e,t))))),a.createElement(G,{height:1,backgroundColor:"outline.neutral.seperator",marginRight:"s6",marginLeft:"s6"}))}_getVASWIEvent(e){const t=this._getProductTracking(this.state.planSelectionIndexes[e],e)||{},{productId:i,listingId:n,fid:r,isAlreadyAttached:a,socialMarketingId:o,parentListId:s,userState:l,attachType:d}=t,c=(0,M.lk)();if(r&&i&&n&&d)return new N.A(c,r,i,n,d,s,a,l,o)}_showAbbPopup(e,t,i){var n;const r=(0,R.h2)(e),a=r.data,o=null==a?void 0:a.actions.find((e=>{var t;return(null===(t=e.action)||void 0===t?void 0:t.type)===k.a.CART_REMOVE}));o&&o.action&&(o.action.params={remove:t},i&&(o.action.params.add=i,o.action.params.snackBar=null===(n=o.value)||void 0===n?void 0:n.snackBar)),this._openPopup(r)}_openPopup(e){const t={modalType:"BOTTOM_SHEET",widgetType:T.A.ABB_BOTTOM_SHEET,widgetData:e.data,modalStyle:E},i=new d.iM(d.xH.OPEN_MODAL,t);this.props.actionDispatcher&&this.props.actionDispatcher(i)}}const j=({collapsed:e,headerValue:t,onHeaderClick:i})=>{var n,r;const o=null===(n=null==t?void 0:t.titleValue)||void 0===n?void 0:n.text,s=null===(r=null==t?void 0:t.subTitleValue)||void 0===r?void 0:r.text;return o?a.createElement(S.S,{onPress:(e,t)=>i(t),onPressParam:t,disableFeedback:!0},a.createElement(U,null,a.createElement(B,{px:"s6",pt:"s6",pb:"s4",justifyContent:"space-between",alignItems:"start"},a.createElement(U,{pt:"s2",flex:1},a.createElement(F,{typography:"heading",color:"foreground.default.primary"},o),s?e&&a.createElement(F,{typography:"subtext",color:"foreground.default.secondary",pt:"s2",pb:"s4",numberOfLines:1},s):null),a.createElement(W,{borderRadius:c.CRKeysBasic.cr4,bg:"backgroundSubtle.neutral.group",height:32,width:32},a.createElement(y.A,{name:e?"CaretDownIcon":"CaretUpIcon",size:16,m:"s4"}))),e&&a.createElement(G,{height:1,backgroundColor:"outline.neutral.seperator",marginRight:"s6",marginLeft:"s6"}))):null},X=({data:e,selectedPlanIndex:t,isProductAdded:i,onMoreDetailsClick:n,onButtonAction:r,onPlanSelect:o})=>{var s,l,d,u,h,p,g;const m=e.planDetails[t];return a.createElement(U,{borderRadius:c.CRKeysBasic.cr4,borderWidth:c.OutlineKeysBasic.o1,borderColor:"outline.neutral.subtle",mr:"s4",p:"s5",gap:"s6",width:313},a.createElement(Y,{imageUrl:null===(d=null===(l=null===(s=e.bannerContent)||void 0===s?void 0:s.value)||void 0===l?void 0:l.imageValue)||void 0===d?void 0:d.dynamicImageUrl,title:null===(u=e.titles)||void 0===u?void 0:u.title,price:null===(h=null==m?void 0:m.titles)||void 0===h?void 0:h.title,duration:null===(p=null==m?void 0:m.titles)||void 0===p?void 0:p.subtitle}),a.createElement(q,{features:e.desriptionText,moreDetails:e.hyperlink,onMoreDetailsClick:n}),a.createElement(B,{gap:"s4"},a.createElement(Q,{allPlans:e.planDetails,selectedPlanIdx:t,onPlanSelect:o}),a.createElement(K,{isPlanAdded:i,buttonData:null===(g=m.actionButton)||void 0===g?void 0:g.value,onPress:e=>{r(e)}})))},Y=({imageUrl:e,title:t,price:i,duration:n})=>a.createElement(B,{gap:"s5",pb:"s5",alignItems:"center",borderBottomWidth:c.OutlineKeysBasic.o2,borderColor:"outline.neutral.seperator"},a.createElement(w.A,{height:40,width:40,source:e}),a.createElement(F,{flex:1,typography:"label",color:"foreground.default.primary",numberOfLines:2},t),a.createElement(U,{alignItems:"flex-end"},a.createElement(F,{typography:"label",mb:"s1"},i),a.createElement(F,{typography:"footnote"},n))),q=({features:e,moreDetails:t,onMoreDetailsClick:i})=>a.createElement(U,{gap:"s4"},null==e?void 0:e.map((e=>a.createElement(J,{feature:e}))),t&&a.createElement(S.S,{onPress:e=>i(e)},a.createElement(F,{typography:"label",color:"foreground.brandPrimary.link"},t.text))),J=({feature:e})=>{var t,i;return a.createElement(B,{alignItems:"center"},a.createElement(W,{height:32,width:32},a.createElement(y.A,{name:null===(t=e.value)||void 0===t?void 0:t.icon,size:32})),a.createElement(F,{typography:"subtext",color:"foreground.default.primary",pl:"s4",maxWidth:258},null===(i=e.value)||void 0===i?void 0:i.title))},K=({isPlanAdded:e,buttonData:t,onPress:i})=>t?a.createElement(I.$n,{onPress:e=>{i(e)},text:e?t.disabledTitle:t.actualTitle,size:"medium",width:128,hierarchy:e?"tertiary":"secondary",iconAlignment:"right",NativeLinearGradient:b.d}):null,Q=({allPlans:e,selectedPlanIdx:t,onPlanSelect:i})=>{const n=(0,H.w)(),r=C(n),o="web"===l.Platform.OS?"up":"down";return a.createElement(O,{dropdownContainerStyle:Object.assign(Object.assign({},r.dropDownContainerStyle),{height:Z(e.length)}),direction:o,backdrop:!1,componentStyle:r.selectedComponentStyle,customChevronIcon:D.chevronGreyDown,labelContainerStyle:r.labelContainerStyle,labelTextStyle:r.dropDownLabelStyle,dataProvider:ee(e),rowRenderer:(e,t,i,r)=>$(e,t,i,r,n),labelExtractor:(e,t,i)=>{var n;return(null===(n=null==t?void 0:t.subtitle)||void 0===n?void 0:n.text)||""},selected:t,onItemSelect:(e,t)=>{i(e)},showChevron:1!==e.length,disabled:1===e.length,itemHeight:28,hideArrow:!0})},Z=e=>12*(e+1)+16*e,$=(e,t,i,n,r)=>{var o;const s=C(r);return a.createElement(F,{numberOfLines:1,style:n?s.dropDownSelectedLabelStyle:s.dropDownLabelStyle},null===(o=t.subtitle)||void 0===o?void 0:o.text)},ee=e=>new x.M9(((e,t)=>e!==t)).cloneWithRows(e);class te extends n.A{getWidgetClass(){return z}getWidgetHeight(e){return 354}}},836868:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>gt});var n=i(465420),r=i(296540),a=i(347924),o=i(415283),s=i(614006),l=i(52754),d=i(479892),c=i(877293),u=i(887261),h=i(492418);const p=a.az.extendComponent({name:"BoxImageContainer",defaultProps:{height:44,width:44,padding:"s2",borderWidth:1,borderRadius:4,borderColor:"v2.neutral.200",bg:"v2.neutral.0"}}),g=a.az.extendComponent({name:"DetailsBox",defaultProps:{flex:1,flexDirection:"column",ml:"s5"}}),m=a.az.extendComponent({name:"ProductCardContainer",defaultProps:{mt:"s2"}}),v=a.az.extendComponent({name:"RightArrowCircle",defaultProps:{width:20,height:20,padding:"s2",borderRadius:10,alignItems:"center",justifyContent:"center",bg:"v2.primary.500"}}),_=a.az.extendComponent({name:"HeaderContainer",defaultProps:{marginHorizontal:"s6",mt:"s6",mb:"s2"}}),C=a.JU.extendComponent({name:"ComboProductHeader",defaultProps:{font:"l_medium",mb:"s2"}}),E=a.JU.extendComponent({name:"ComboProductSubTitleHeader",defaultProps:{font:"m",color:"v2.neutral.700"}}),T=a.JU.extendComponent({name:"TitleText",defaultProps:{flex:1,font:"m",mb:"s2",mr:"s7",color:"v2.neutral.900",fontFamily:"inter"}}),f=a.az.extendComponent({name:"TitleWrapper",defaultProps:{flexDirection:"row",alignItems:"center"}}),A=a.az.extendComponent({name:"PriceAndRatingContainer",defaultProps:{flexDirection:"column",mb:"s2"}}),S=a.az.extendComponent({name:"RatingContainer",defaultProps:{mr:"s2",flexDirection:"row",alignItems:"center"}}),y=a.az.extendComponent({name:"PriceContainer",defaultProps:{mt:"s2"}}),w=a.JU.extendComponent({name:"CallOutText",defaultProps:{font:"m_medium",color:"v2.success.500",fontFamily:"inter"}}),I=a.az.extendComponent({name:"ComboContainerBox",defaultProps:{flexDirection:"row",paddingHorizontal:"s6",width:c.Dimensions.get("window").width}}),b=c.StyleSheet.create({ratingCountStyle:{color:h.Jyk.fkGrayForty,fontSize:12,lineHeight:16,maxHeight:20,marginLeft:2,fontFamily:"inter"},smallRoundedPillBorderStyle:{borderRadius:4,height:20,maxWidth:39,paddingVertical:2,paddingHorizontal:4},offerPrimaryTextStyle:{color:h.HNt,fontSize:12,lineHeight:16,paddingLeft:6,fontFamily:u.$u,includeFontPadding:!1},strikeOutTextStyle:{color:h.Jyk.fkGrayForty,fontSize:14,lineHeight:20,textDecorationLine:"line-through"},productPriceTextStyle:{color:h.Jyk.blackPrimary,fontSize:14,lineHeight:20,fontFamily:"inter"}});var D=i(352254),x=i(539517),P=i(285669),O=i(813652),R=i(950337),k=i(5813);class V extends r.Component{constructor(){super(...arguments),this._renderProductImage=e=>r.createElement(p,null,r.createElement(D.A,{source:e,height:36,width:36})),this._renderPriceAndRatingView=(e,t,i)=>{const{ratingCountStyle:n,smallRoundedPillBorderStyle:a,productPriceTextStyle:o,strikeOutTextStyle:s,offerPrimaryTextStyle:l}=b;return r.createElement(A,null,r.createElement(S,null,r.createElement(x.i2,{rating:e,countType:"ratings",parentStyle:d.C1.rowWithoutFlex,ratingCountStyle:n,pillBorderStyle:a}),this._renderFAssuredTag(i)),t&&r.createElement(y,null,r.createElement(P.A,{pricing:t,priceStyle:o,sellingPriceStyle:s,discountStyle:l,hideDiscount:!0})))}}static getHeight(){return 154}_renderFAssuredTag(e){var t;const i=null==e?void 0:e.filter((e=>e.type===R.a.F_ASSURED));if(i&&(null===(t=i[0].image)||void 0===t?void 0:t.dynamicImageUrl))return r.createElement(a.az,{ml:"s4"},r.createElement(D.A,{source:i[0].image.dynamicImageUrl,height:16,width:59}))}render(){var e,t,i,n,o,s,l;const{comboProduct:{swatchComponent:d,ratingsAndReviews:c,exchangeSubTitleList:u,exchangeTitleList:h},showRightArrow:p}=this.props,m=null===(e=null==d?void 0:d.value)||void 0===e?void 0:e.products;if(!m||m.length)return;const _=m[null!==(t=this.props.vcProductId)&&void 0!==t?t:Object.keys(m)[0]],C=null===(i=null==_?void 0:_.images)||void 0===i?void 0:i[0].url,E=null===(n=null==c?void 0:c.value)||void 0===n?void 0:n.rating,{pricing:A,productCardTagDetails:S}=_;return r.createElement(I,null,C&&this._renderProductImage(C),r.createElement(g,null,r.createElement(f,null,r.createElement(T,{numberOfLines:2,ellipsizeMode:"tail"},null===(o=_.titles)||void 0===o?void 0:o.title),p&&r.createElement(v,null,r.createElement(D.A,{height:22,width:22,source:O.chevronViewAllRightBlue}))),this._renderPriceAndRatingView(E,A,S),(null===(s=null==A?void 0:A.extraDiscount)||void 0===s?void 0:s.name)&&r.createElement(w,null,null===(l=null==A?void 0:A.extraDiscount)||void 0===l?void 0:l.name),(h||u)&&r.createElement(a.az,{mt:"s2"},h&&r.createElement(k.Ay,{messages:h,numberOfLines:1,ellipsizeMode:"tail"}),u&&r.createElement(k.Ay,{messages:u,numberOfLines:1,ellipsizeMode:"tail"}))))}}var L=i(672748),M=i(45426),N=i(914944),H=i(644598),W=i(876505),B=i(690423),U=i(716249),F=i(580555),G=i(439322),z=i(422018),j=i(88502),X=i(302019),Y=i(448865),q=i(388447),J=i(161829),K=i(787921),Q=i(395567),Z=i(166057),$=i(537415),ee=i(8374),te=i(805220),ie=i(424584),ne=i(697575),re=i(122019),ae=i(834930),oe=i(347953);const se=X.az.extendComponent({name:"SwatchOptionImageContainer",defaultProps:e=>({my:"s4",py:"s1",mx:"s0",borderRadius:2,flex:e.expand?1:void 0,borderStyle:e.isProductSelected?"solid":"dashed",borderColor:e.isProductSelected&&e.isProductAvailable?"raw.blue.500":"raw.grey.100",borderWidth:e.isProductSelected&&!e.isProductAvailable?2:1})}),le=X.JU.extendComponent({name:"SwatchOptionImageText",defaultProps:e=>({font:"s_medium",textAlign:"center",textAlignVertical:"center",p:"s1",mb:"s1",width:j.WY,numberOfLines:1,color:e.isProductAvailable?e.isProductSelected?"raw.blue.500":"text.primary":"raw.grey.400"})}),de=X.JU.extendComponent({name:"SwatchOptionImageOnlyScarcityText",defaultProps:{font:"s",textAlign:"center",textAlignVertical:"center",alignSelf:"center",includeFontPadding:!1,numberOfLines:1,color:"raw.magenta.500"}}),ce=X.az.extendComponent({name:"SwatchOptionContainer",defaultProps:e=>({alignItems:"center",ml:"s4",height:e.isBottomSheet?j.M9:void 0,minHeight:e.isBottomSheet?void 0:j.MI})}),ue=X.az.extendComponent({name:"SwatchOptionOnlyScarcityBoxImageContainer",defaultProps:{flex:1,alignItems:"center",justifyContent:"center",marginLeft:j.O9,marginBottom:j.cA}}),he=X.az.extendComponent({name:"SwatchOptionScarcityContainer",defaultProps:{borderRadius:2,borderColor:"raw.magenta.500",borderWidth:j.RB,paddingHorizontal:j.qY,paddingVertical:j.K9}}),pe=X.az.extendComponent({name:"SwatchOptionStartingContainer",defaultProps:{alignSelf:"flex-start"}});var ge=i(879052);class me extends r.PureComponent{static getHeight(){const e=j.MI,t=2*j.dQ+j.WY+2*j.XL+2*j.tA+j.F5+j.oP;return Math.max(e,t)}static getWidth(e){return me._isSwatchDiscoveryExperience(e)?j.Pb:j.WY+j.lX}render(){const e=this.props.option;if(!e)return null;const t=me._isSwatchDiscoveryExperience(this.props.option.viewType),i=t?j.$l.containerWithImageInBottomSheet:j.$l.containerWithImage,n=e.data.disabled||e.data.outOfStock,a=e.selected&&!n&&t?j.$l.beautySwatchSelected:{};return r.createElement(M.S,{onPress:this.props.clickHandler,disableFeedback:!0},t?me._renderSwatchImageOptionInBottomSheet(e,i,a,this.props.themeContext):me._renderSwatchImageOption(e,t))}static _renderSwatchImageOptionInBottomSheet(e,t,i,n){var a,o;const s=null===(o=null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.productSwatchInfo)||void 0===o?void 0:o.nudgeMessage,l=!!oe.A.getExperimentValue("showShimmerEffectForPopularNudge");return r.createElement(c.View,{style:[t,i]},r.createElement(c.View,{style:[j.$l.imageV2Container,Ae._getBorderStyle(e.data,e.selected,void 0,void 0,n)]},r.createElement(D.A,{source:e.data.imageUrl,height:j.uG,width:j.Pb}),r.createElement(c.Text,{style:[j.$l.imageTextStyleWithBottomSheet,Ae._getTextStyle(e.data,e.selected,void 0,n)],numberOfLines:1},e.data.value)),s?me._renderPopularNudge(s,l):void 0)}static _renderSwatchImageOption(e,t){var i,n,a,o,s,d,c,u;const h=null===(n=null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.productSwatchInfo)||void 0===n?void 0:n.nudgeMessage,p=e.selected,g=!(e.data.outOfStock||e.data.disabled),m=!h,v=(0,l.nS)(null===(a=e.widgetProps)||void 0===a?void 0:a.widgetSlotData),_=null===(s=null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.productSwatchInfo)||void 0===s?void 0:s.scarcityCallout;let C=0;const E=null==v?void 0:v.data,T=null==E?void 0:E.swatchData,f=null===(d=null==T?void 0:T.swatchComponent)||void 0===d?void 0:d.value;C=e.attributeOptionsLength?e.attributeOptionsLength:null===(c=null==f?void 0:f.attributeOptions)||void 0===c?void 0:c.length;const A=null===(u=e.data.productSwatchInfo)||void 0===u?void 0:u.tracking,S=A&&e.widgetProps&&U.A.getTrackingParams(e.widgetProps,A),y=S&&e.getContentViewTrackingData&&e.getContentViewTrackingData(S),w=r.createElement(ce,Object.assign({},(0,ge.Z)("Swatch_Option"),{isBottomSheet:t}),r.createElement(se,{expand:m,isProductSelected:p,isProductAvailable:g},r.createElement(D.A,{source:e.data.imageUrl,height:j.WY,width:j.WY})),r.createElement(le,{isProductSelected:p,isProductAvailable:g},e.data.value),!_||e.data.disabled||e.data.outOfStock||h?r.createElement(ce,null):r.createElement(ue,null,r.createElement(he,null,r.createElement(de,null,`${_}`))));return 1===C?r.createElement(pe,null,y?r.createElement(W.A,{trackingInfo:y},w):w):r.createElement(ce,{isBottomSheet:t},r.createElement(se,{isProductSelected:p,isProductAvailable:g},r.createElement(D.A,{source:e.data.imageUrl,height:j.WY,width:j.WY})),r.createElement(le,{isProductSelected:p,isProductAvailable:g},e.data.value),h?me._renderPopularNudge(h,!0):void 0)}static _isSwatchDiscoveryExperience(e){return!1}}me._renderPopularNudge=(e,t)=>t?r.createElement(ae.A,{animating:!0,speed:200,duration:1e3,shimmeringOpacity:1,highlightAlpha:.5},me._nudgeComponent(e)):me._nudgeComponent(e),me._nudgeComponent=e=>r.createElement(c.View,{style:j.$l.popularNudgeContainer},r.createElement(c.Text,{style:j.$l.popularNudgeText},e.toUpperCase()));var ve,_e=i(353653),Ce=i(287727),Ee=i(667689),Te=i(257246);!function(e){e.BOX_TEXT="BOX_TEXT",e.BOX_IMAGE="BOX_IMAGE",e.CIRCLE_TEXT="CIRCLE_TEXT",e.CIRCLE_COLOR="CIRCLE_COLOR",e.BOX_HIGHLIGHTED="BOX_HIGHLIGHTED",e.BOX_WITH_PRODUCT_INFO="BOX_WITH_PRODUCT_INFO",e.EMERALD_TABLE="EMERALD_TABLE"}(ve||(ve={}));const fe=ve.BOX_TEXT;class Ae extends r.PureComponent{constructor(){super(...arguments),this._renderContentBasedOnType=(e,t)=>{let i;switch(e){case ve.BOX_IMAGE:i=me;break;case ve.CIRCLE_COLOR:i=te.A;break;case ve.EMERALD_TABLE:i=ie.A;break;case ve.BOX_HIGHLIGHTED:i=ne.A;break;case ve.BOX_WITH_PRODUCT_INFO:i=_e.A;break;case ve.CIRCLE_TEXT:case ve.BOX_TEXT:default:i=re.A}return r.createElement(i,{option:t,clickHandler:this._onClick,isCollapsedIndex:this.props.isCollapsedIndex,getContentViewTrackingData:this.props.getContentViewTrackingData,themeContext:this.props.themeContext,dispatchAction:this.props.dispatchAction,fireDCCTracking:this.props.fireDCCTracking})},this._onClick=()=>{this.props.selected||this.props.onPress(this.props.optionIndex,this.props.data.value)}}static getHeight(e){switch(e=e||fe){case ve.BOX_HIGHLIGHTED:return ne.A.getHeight();case ve.CIRCLE_COLOR:return te.A.getHeight();case ve.BOX_IMAGE:return me.getHeight();case ve.BOX_WITH_PRODUCT_INFO:return _e.A.getHeight();case ve.BOX_TEXT:case ve.CIRCLE_TEXT:default:return re.A.getHeight(e)}}static getWidth(e,t,i){switch(e=e||fe){case ve.CIRCLE_COLOR:return te.A.getWidth();case ve.CIRCLE_TEXT:case ve.BOX_TEXT:return re.A.getWidth(t);case ve.BOX_IMAGE:return me.getWidth(i);default:return 0}}static getSwatchDisplayType(e){if(!e)return fe;switch(e.viewType){case q.q.BOX_WITH_PRODUCT_INFO:return ve.BOX_WITH_PRODUCT_INFO;case q.q.BOX:switch(e.type){case ee.Z.IMAGE:return ve.BOX_IMAGE;case ee.Z.CIRCLE_TEXT:return ve.CIRCLE_TEXT;default:case ee.Z.TEXT:return ve.BOX_TEXT}case q.q.CIRCLE:return ve.CIRCLE_COLOR;case q.q.BOX_HIGHLIGHTED:return ve.BOX_HIGHLIGHTED;case q.q.EMERALD_TABLE:return ve.EMERALD_TABLE}return fe}static _getTextStyle(e,t,i,n,r){if(e.customDenominationText)return j.$l.textStyleCustomDenomination;if(e.disabled||e.outOfStock)return j.$l.textStyleDisabled;if(t&&(e.disabled||e.outOfStock))return j.$l.textStyleDisabledSelected;if(t||i){const e=r?(0,Te.aw)(n):(0,Te.nC)(n),t=e?{color:e}:{};return[j.$l.textStyleSelected,t]}return j.$l.textStyleNormal}static _getBorderStyle(e,t,i,n,r){return t&&(e.disabled||e.outOfStock)?i===Ce.I.BEAUTY?j.$l.borderStyleDisabledSelectedBeauty:j.$l.borderStyleDisabledSelected:t?(0,Ee.A)()?j.$l.borderStyleSelectedDls:[j.$l.borderStyleSelected,this._getMallModeSwatchBorderStyle(r)]:e.disabled||e.outOfStock?n===ve.CIRCLE_TEXT?j.$l.borderStyleDisabledV2:j.$l.borderStyleDisabled:j.$l.borderStyleNormal}static _getMallModeSwatchBorderStyle(e){return(0,Te.Hm)(e)?{borderColor:(0,Te.Hm)(e),backgroundColor:void 0}:void 0}static getContainerStyle(e){switch(e){case ve.BOX_IMAGE:case ve.BOX_HIGHLIGHTED:return j.wm.swatchListWrapComponentContainer;case ve.BOX_WITH_PRODUCT_INFO:return j.wm.swatchListVerticalComponentContainer;case ve.CIRCLE_COLOR:return j.wm.swatchListColorCircleComponentContainer;case ve.CIRCLE_TEXT:return[j.wm.swatchListCircleComponentContainer,{minHeight:this.getHeight(e)}];case ve.BOX_TEXT:return j.wm.swatchListWrapComponentContainer;case ve.EMERALD_TABLE:return[j.wm.emeraldSwatchListWrapComponentContainer];default:return[j.wm.swatchListNoWrapComponentContainer]}}render(){const e=this.props.swatchType;return this.props.isGrid?r.createElement(c.View,{style:j.$l.gridContainer},this._renderContentBasedOnType(e,this.props)):e===ve.EMERALD_TABLE?r.createElement(c.View,{style:j.$l.gradeContainer},this._renderContentBasedOnType(e,this.props)):this.props.isVertical?r.createElement(c.View,{style:j.$l.verticalContainer},this._renderContentBasedOnType(e,this.props)):r.createElement(X.fI,{onLayout:this.props.onLayout,m:"s0",minHeight:40,alignItems:"flex-start",justifyContent:"center"},this._renderContentBasedOnType(e,this.props))}}var Se=i(320071),ye=i(362509),we=i(300952),Ie=i(263048),be=i(49529),De=i(398581);const xe=X.fI.extendComponent({name:"SwatchListVerticalContainer",defaultProps:e=>({flexDirection:"row"})}),Pe=X.az.extendComponent({name:"CustomSwatchScrollIndicator",defaultProps:{mx:"s6",height:6,borderRadius:8,bg:"common.white"}}),Oe=X.az.extendComponent({name:"LinearGradientOverlayContainer",defaultProps:{position:"absolute",width:58,height:58}});var Re=i(867953);const ke=[h.hIQ.transparentWhite,h.hIQ.translucentWhite,h.hIQ.white],Ve=c.Dimensions.get("window").width;class Le extends r.PureComponent{constructor(e,t){var i,n;super(e,t),this.isScrollAnimationRequired=-1===(null===(n=null===(i=this.props)||void 0===i?void 0:i.data)||void 0===n?void 0:n.selectedOptionIndex),this.callStopOnUserInteract=!0,this.onContentSizeChangeHandler=e=>this.setState({completeScrollBarWidth:e}),this.onLayoutHandler=e=>this.setState({visibleScrollBarWidth:e.nativeEvent.layout.width}),this.chipsPostions=[],this.isPopularNudgePresent=e=>!!e&&(null==e?void 0:e.some((e=>{var t;return null===(t=null==e?void 0:e.productSwatchInfo)||void 0===t?void 0:t.nudgeMessage}))),this.isScarcityCalloutPresent=()=>{var e,t;const i=null===(t=null===(e=this.state)||void 0===e?void 0:e.listViewModel)||void 0===t?void 0:t.getItems();return!!i&&(null==i?void 0:i.some((e=>{var t;return null===(t=null==e?void 0:e.productSwatchInfo)||void 0===t?void 0:t.scarcityCallout})))},this._isSwatchDiscoveryExperience=()=>"SWATCH_IN_BOTTOMSHEET"===this.props.viewType||"PPV_VARIANT_LISTVIEW"===this.props.viewType,this._isBeautyLayout=()=>this.props.layoutKey===Ce.I.BEAUTY||this._isSwatchDiscoveryExperience(),this.onViewStarted=()=>{this.isScrollAnimationRequired&&this.props.scrollToEndControl&&this.props.scrollToEndControl(this.scrollDurationLeft,2e3,this.state.offsetWidth)},this.onViewEnded=()=>{this.isScrollAnimationRequired&&this.props.stopScrollAnimation&&this.props.stopScrollAnimation()},this.stopAnimationOnUserInteraction=()=>((this.callStopOnUserInteract||this.isScrollAnimationRequired)&&(this.props.stopScrollAnimation&&this.props.stopScrollAnimation(!0),this.isScrollAnimationRequired=!1,this.callStopOnUserInteract=!1),!1),this.calculateHiddenContentWidth=e=>{const t=e-(Ve+j.er);this.scrollDurationLeft=Math.max(Math.floor(1200/360*t),300),this.scrollDurationLeft<800?this.scrollDurationRight=Math.max(Math.floor(800/360*t),300):this.scrollDurationRight=800,this.setState({offsetWidth:t+16})},this._renderLinearGradientOverlay=e=>{var t;if(null===(t=this.props.widgetProps)||void 0===t?void 0:t.themeContext)return null;const i="right"===e?d.C1.absolute_right_0:d.C1.absolute_left_0,n="web"===c.Platform.OS,a=n?"right"===e?[0,1]:[1,0]:"right"===e?[0,.5]:[1,.5],o=n?"right"===e?[0,1]:[1,0]:"right"===e?[1,.5]:[0,.5];return r.createElement(Oe,Object.assign({},i),r.createElement(De.W,{style:j.wm.gradientOverlay,gradientColors:ke,gradientStart:a,gradientEnd:o,renderInWeb:n}))},this._setScrollRef=e=>{this.scrollRef=e},this._isGrid=e=>this.props.layoutKey===Ce.I.LIFESTYLE&&Ae.getSwatchDisplayType(e.data)===ve.BOX_TEXT,this._isVertical=e=>Ae.getSwatchDisplayType(e.data)===ve.BOX_WITH_PRODUCT_INFO||Ae.getSwatchDisplayType(e.data)===ve.EMERALD_TABLE,this._onPress=(e,t)=>{this.props.stopScrollAnimation&&this.props.stopScrollAnimation(!0),this.isScrollAnimationRequired=!1,this.state.listViewModel&&this.state.listViewModel.collapsed&&e===this.state.listViewModel.collapsedSwatchIndex?(this.props.onSwatchExpanded&&this.props.onSwatchExpanded(),this.setState(this._getState(this.props,!1))):this.props.onSwatchClicked(e,t)},this._rowRenderer=(e,t)=>{var i;return this.props.data?r.createElement(Ae,{isCollapsedIndex:this.state.listViewModel&&this.state.listViewModel.collapsed&&t===this.state.listViewModel.collapsedSwatchIndex,data:e,optionIndex:e.optionIndex<0?t:e.optionIndex,extraMargin:this.props.data.autoSelected?d.C1.margin_vertical_6:{},selected:!e.more&&e.optionIndex===this.props.data.selectedOptionIndex,isAutoSelected:!e.more&&e.optionIndex===this.props.data.selectedOptionIndex&&this.props.data.autoSelected,onPress:this._onPress,swatchType:Ae.getSwatchDisplayType(this.props.data),isGrid:!(this.state.listViewModel&&this.state.listViewModel.isHorizontal()),isVertical:null===(i=this.state.listViewModel)||void 0===i?void 0:i.isVertical(),showLargeSwatch:this.props.showLargeSwatch,showOOSCross:this.props.showOOSCross,layoutKey:this.props.layoutKey,viewType:this.props.viewType,uiContext:this.props.uiContext,widgetProps:this.props.widgetProps,attributeOptionsLength:this.props.data.attributeOptionsLength,isFixedWidth:this.props.isEGVWidget,getContentViewTrackingData:this.props.getContentViewTrackingData,onLayout:e=>{this.props.onChildrenLayout&&this.props.onChildrenLayout(e,t),this._onChildrenLayout(e,t)},themeContext:this.props.themeContext}):null},this._onChildrenLayout=(e,t)=>{const i=e.nativeEvent.layout;this.chipsPostions[t]=i.x},this._shake=()=>{this._shakeAnimation.setValue(0),c.Animated.spring(this._shakeAnimation,{toValue:1,friction:10,tension:8,useNativeDriver:!1}).start((()=>{this._shakeAnimation.setValue(0)}))},this._getAnimatedStyle=()=>({transform:[{translateX:this._shakeAnimation.interpolate({inputRange:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],outputRange:[0,5,0,-5,0,5,0,-5,0,5,0]})}]}),this._onScroll=e=>{const{layoutMeasurement:t,contentOffset:i,contentSize:n}=e.nativeEvent,r=i.x,a=r>10,o=t&&t.width+Math.round(r)+j.er||0;this.callStopOnUserInteract&&this.isScrollAnimationRequired&&n&&o>=Math.round(n.width)&&(this.props.scrollToStartControl&&this.props.scrollToStartControl(this.scrollDurationRight,1e3),this.isScrollAnimationRequired=!1);const s=t&&n&&o<Math.round(n.width)||!1;this.setState({shouldShowLeftGradient:a,shouldShowRightGradient:s})},this.state=this.getDerivedState(e,void 0);const a=this.props.adjustedWidth;this.widthAdjustStyle={},a&&(this.widthAdjustStyle={width:a,justifyContent:"flex-start",alignItems:"flex-start"})}UNSAFE_componentWillMount(){this._shakeAnimation=new c.Animated.Value(0),this.scrollIndicator=new c.Animated.Value(0)}componentDidMount(){this._scrollSwatchToView(this.props),this.props.setupListener&&this.props.setupListener(this.scrollRef)}componentWillUnmount(){this.scrollTimeout&&(clearTimeout(this.scrollTimeout),this.scrollTimeout=null),this.props.removeListener&&this.props.removeListener()}getItemHeight(){return Ae.getHeight(Ae.getSwatchDisplayType(this.props.data))+j.xu}render(){var e,t;const i=Ae.getSwatchDisplayType(this.props.data),n=Ae.getContainerStyle(i),a=this._getAnimatedStyle(),o=i===ve.CIRCLE_TEXT;this.scrollIndicator.setValue(0);const s=this.isPopularNudgePresent(null===(t=null===(e=this.state)||void 0===e?void 0:e.listViewModel)||void 0===t?void 0:t.getItems());if(this.state&&this.state.listViewModel){const e=!s&&!this.isScarcityCalloutPresent()||this._isBeautyLayout()?void 0:d.C1.alignItemFlexStart;return this._isGrid(this.props)?o?this.getHorizontalScrollView(n):r.createElement(c.View,{style:[n,e]},this.state.listViewModel.getItems().map(this._rowRenderer)):this._isVertical(this.props)?r.createElement(c.View,{style:n},this.state.listViewModel.getItems().map(this._rowRenderer)):r.createElement(Re.Ay,{conditions:this.getConditions()},r.createElement(X.az,{onMoveShouldSetResponderCapture:this.stopAnimationOnUserInteraction},r.createElement(c.Animated.ScrollView,{onScroll:this._onScroll,ref:this._setScrollRef,horizontal:!0,style:[n,this.props.containerStyle,a],showsHorizontalScrollIndicator:!1,onContentSizeChange:this.calculateHiddenContentWidth},r.createElement(xe,{isPopularNudgePresent:s&&!(i===ve.CIRCLE_COLOR)},this.state.listViewModel.getItems().map(this._rowRenderer)),r.createElement(X.az,Object.assign({width:20},this.widthAdjustStyle))),i===ve.CIRCLE_TEXT&&this.state.shouldShowLeftGradient&&this._renderLinearGradientOverlay("left"),i===ve.CIRCLE_TEXT&&this.state.shouldShowRightGradient&&this._renderLinearGradientOverlay("right")))}}getConditions(){const e=[];return e.push(new Re.D_("_sizeScrollView",0,90,this.onViewStarted,this.onViewEnded)),e}getHorizontalScrollView(e){var t;const i=this.state.completeScrollBarWidth>this.state.visibleScrollBarWidth?Math.pow(this.state.visibleScrollBarWidth,2)/this.state.completeScrollBarWidth:0,n=this.state.visibleScrollBarWidth>i?this.state.visibleScrollBarWidth-i:1,a=[j.wm.customSwatchScrollIndicator,this.getScrollAnimatedInterpolation(n),{width:i}];return r.createElement(r.Fragment,null,r.createElement(c.ScrollView,{horizontal:!0,style:e,showsHorizontalScrollIndicator:!1,scrollEventThrottle:16,onContentSizeChange:this.onContentSizeChangeHandler,onLayout:this.onLayoutHandler,onScroll:c.Animated.event([{nativeEvent:{contentOffset:{x:this.scrollIndicator}}}],{useNativeDriver:!1})},null===(t=this.state.listViewModel)||void 0===t?void 0:t.getItems().map(this._rowRenderer)),r.createElement(Pe,null,r.createElement(c.Animated.View,{style:a})))}getScrollAnimatedInterpolation(e){return{transform:[{translateX:c.Animated.multiply(this.scrollIndicator,this.state.visibleScrollBarWidth/this.state.completeScrollBarWidth).interpolate({inputRange:[0,e],outputRange:[0,e]})}]}}getDerivedState(e,t){return this._getState(e,!e.isExpanded,t)}UNSAFE_componentWillReceiveProps(e,t){e.showWiggleAnimation&&this._shake(),this.shouldStateUpdate(e,t)&&this.setState(this.getDerivedState(e,this.state)),this._scrollSwatchToView(e)}shouldStateUpdate(e,t){return!(0,be.b)(e.data,this.props.data)}_getState(e,t=!0,i){var n,r,a,o,s,l,d,c,u,h,p,g,m,v,_,C,E,T;if(e.data&&void 0!==e.data.selectedOptionIndex){const h=!!e.data.dropNonWhitelistedOptions,p=this._isGrid(e),g=this._isVertical(e),m=p?"GRID":g?"VERTICAL":"HORIZONTAL",v=!!t&&!this.props.isExpanded,_=new Ie.Yo(e.uiContext,h,m,e.data.options,e.data.selectedOptionIndex,v);return{listViewModel:_,minListHeight:this.getItemHeight()*_.getDisplayRowCount(),visibleScrollBarWidth:(null===(n=this.state)||void 0===n?void 0:n.visibleScrollBarWidth)||0,completeScrollBarWidth:(null===(r=this.state)||void 0===r?void 0:r.completeScrollBarWidth)||1,shouldShowLeftGradient:null!==(s=null!==(o=null===(a=this.state)||void 0===a?void 0:a.shouldShowLeftGradient)&&void 0!==o?o:null==i?void 0:i.shouldShowLeftGradient)&&void 0!==s&&s,shouldShowRightGradient:null===(c=null!==(d=null===(l=this.state)||void 0===l?void 0:l.shouldShowRightGradient)&&void 0!==d?d:null==i?void 0:i.shouldShowRightGradient)||void 0===c||c,offsetWidth:(null===(u=this.state)||void 0===u?void 0:u.offsetWidth)||0}}return{listViewModel:void 0,minListHeight:j.aL,visibleScrollBarWidth:(null===(h=this.state)||void 0===h?void 0:h.visibleScrollBarWidth)||0,completeScrollBarWidth:(null===(p=this.state)||void 0===p?void 0:p.completeScrollBarWidth)||1,shouldShowLeftGradient:null!==(v=null!==(m=null===(g=this.state)||void 0===g?void 0:g.shouldShowLeftGradient)&&void 0!==m?m:null==i?void 0:i.shouldShowLeftGradient)&&void 0!==v&&v,shouldShowRightGradient:null===(E=null!==(C=null===(_=this.state)||void 0===_?void 0:_.shouldShowRightGradient)&&void 0!==C?C:null==i?void 0:i.shouldShowRightGradient)||void 0===E||E,offsetWidth:(null===(T=this.state)||void 0===T?void 0:T.offsetWidth)||0}}_scrollSwatchToView(e){var t;if(this.scrollRef){const i=Ae.getSwatchDisplayType(e.data);switch(i){case ve.BOX_TEXT:case ve.CIRCLE_TEXT:if(e.data&&(null===(t=e.data)||void 0===t?void 0:t.selectedOptionIndex)>0){const t=e.data.selectedOptionIndex;this.scrollTimeout=setTimeout((()=>{this.scrollRef&&"function"==typeof this.scrollRef.getNode&&"function"==typeof this.scrollRef.getNode().scrollTo&&this.scrollRef.getNode().scrollTo({x:this.chipsPostions[t],y:0})}),100)}else this.scrollTimeout=setTimeout((()=>{this.scrollRef&&"function"==typeof this.scrollRef.getNode&&"function"==typeof this.scrollRef.getNode().scrollTo&&this.scrollRef.getNode().scrollTo({x:0,y:0})}),100);break;default:const n=Ae.getWidth(i);e.data&&n&&(this.scrollTimeout=setTimeout((()=>{var t,i,r;e.data&&this.scrollRef&&"function"==typeof this.scrollRef.getNode&&"function"==typeof this.scrollRef.getNode().scrollTo&&(-1!==(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.selectedOptionIndex)?this.scrollRef.getNode().scrollTo({x:n*((null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.selectedOptionIndex)-1),y:0}):-1===(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.selectedOptionIndex)&&this.scrollRef.getNode().scrollTo({x:0,y:0}))}),100))}}}}var Me=i(770039),Ne=i(294422),He=i(410752),We=i(420721),Be=i(110825);const Ue={color:"error.primary"},Fe={color:"primary.main"},Ge={font:"l",color:"text.primary"},ze=X.fI.extendComponent({name:"WrapSwatch",defaultProps:e=>({mx:"s4",alignItems:e.isPopularNudgePresent?"stretch":"center",flexWrap:"wrap",width:"100%"})}),je=X.JU.extendComponent({name:"TitleTextV2",defaultProps:{font:"m_medium",mt:"s6",mb:"s3",mx:"s6",color:"text.primary"}}),Xe=X.JU.extendComponent({name:"TitleText",defaultProps:e=>({font:"l_medium",mt:"s4",mx:"s6",color:e.isLargeSwatch?"text.secondary":"text.primary"})}),Ye=X.JU.extendComponent({name:"Title",defaultProps:e=>({color:e.isWiggleAnimation&&!e.isWiggled?"error.primary":void 0})}),qe=X.JU.extendComponent({name:"ErrorText",defaultProps:e=>({color:e.isWiggleAnimation&&!e.isWiggled?"text.secondary":void 0,ml:e.isWiggleAnimation&&!e.isWiggled?"s1":void 0})});var Je=i(459974);const Ke=!!oe.A.getExperimentValue("sizeWidgetAutoScrollAnimation");class Qe extends r.PureComponent{constructor(e){super(e),this._renderTitleView=(e,t,i,n)=>{var r,a;if(!e)return;if(Ae.getSwatchDisplayType(this.props.data)===ve.BOX_WITH_PRODUCT_INFO)return;const o=(0,Te.C_)(null===(r=this.props.widgetProps)||void 0===r?void 0:r.themeContext),s=o?{color:o}:{},l={selectedText:t?`  ${t}`:void 0,mrpDecimalValue:this.props.price?` | ${h.y3o}${Number(this.props.price)}`:void 0,showOOSText:void 0,optionsStyle:i&&(i.disabled||i.outOfStock)?Ue:(null===(a=this.props.widgetProps)||void 0===a?void 0:a.themeContext)?s:Fe,errorMessage:void 0};return this.props.showWiggleAnimation&&!this.state.wiggled&&(l.errorMessage=He.H.rex_string_no_swatch_selected),n&&(l.optionsStyle=Ge,l.showOOSText=i&&(i.disabled||i.outOfStock)?[(0,We.ak)(this.context.locale,{id:He.H.rex_string_out_of_stock})]:void 0),"PPV_VARIANT_LISTVIEW"===this.props.viewType?this._renderTitleV2(e):this._renderTitle(l,e)},this._renderTitleV2=e=>r.createElement(je,Object.assign({},(0,ge.Z)("Swatch_Box_Furniture_Title")),e),this._renderTitle=(e,t)=>r.createElement(Xe,{isLargeSwatch:this.props.showLargeSwatch},r.createElement(Ye,Object.assign({},(0,ge.Z)("Swatch_Box_Furniture_Title"),{isWiggleAnimation:this.props.showWiggleAnimation,isWiggled:this.state.wiggled}),t,":"),e.errorMessage?r.createElement(qe,Object.assign({},(0,ge.Z)("Swatch_Box_Furniture_Error_Text"),{isWiggleAnimation:this.props.showWiggleAnimation,isWiggled:this.state.wiggled}),e.errorMessage):null,e.selectedText&&!e.errorMessage?r.createElement(X.JU,Object.assign({},(0,ge.Z)("Swatch_Box_Furniture_Selected_Text"),e.optionsStyle,{font:"m_medium"}),e.selectedText,e.showOOSText?r.createElement(X.JU,{mx:"s3"}," | "):null):null,e.showOOSText?r.createElement(X.JU,Object.assign({},(0,ge.Z)("Swatch_Box_Furniture_Show"),{color:"error.light"}),e.showOOSText):null,e.mrpDecimalValue&&!e.showOOSText?r.createElement(X.JU,Object.assign({},(0,ge.Z)("Swatch_Box_Furniture_MRP"),e.optionsStyle,{font:"m_medium"}),e.mrpDecimalValue):null),this._renderSizeChartInfo=e=>{if(e)return r.createElement(Se.A,{onTextPress:this._openSizeChartInfo,onPressParam:e},r.createElement(X.JU,{font:"s_medium",alignSelf:"center",color:"primary.500"},e.displayText))},this._renderTipText=e=>{if(e)return r.createElement(X.JU,{font:"s",color:"text.primary",flex:1,flexWrap:"wrap"},e+" ")},this._renderSwatchOptions=(e,t,i,n,a,o)=>{var s,l;if(!t)return;const d=Ae.getSwatchDisplayType(this.props.data),c=we.A.extractSwatchPillColorsToDraw(t),u=n&&d===ve.CIRCLE_COLOR,h=48+2*j.vJ+25+5,p=null===(s=this.props.data)||void 0===s?void 0:s.attributeOptionsLength,g=(null===(l=this.props.widgetProps)||void 0===l?void 0:l.appContext.locale)===We.Vn.EN,m=we.A.extractScarcityCalloutForSwatch(t);if(n&&d===ve.BOX_TEXT)return this._renderWrappedSwatch(d,e,t);const v=X.ov.extendComponent({name:"ColorPillViewContainer",defaultProps:{position:"absolute",top:8,py:"s4",px:"s7",right:0,bottom:0,width:106,bg:"common.white"}}),_=X.ov.extendComponent({name:"ColorPillViewScarcityContainer",defaultProps:{position:"absolute",top:0,py:"s7",px:"s7",right:0,bottom:6,width:106,bg:"common.white"}}),C=r.createElement(Le,{containerStyle:[j.qF.swatchOptionsContainer,i],data:this.props.data,viewModel:this.props.viewModel,onSwatchClicked:this._onSwatchClicked,uiContext:this.props.uiContext,layoutKey:this.props.layoutKey,showLargeSwatch:o||!0,showOOSCross:a,adjustedWidth:n?h:0,isCircularOverlaySwatch:u,totalSwatchCount:t.length,showWiggleAnimation:this.props.showWiggleAnimation&&!this.state.wiggled,viewType:this.props.viewType,widgetProps:this.props.widgetProps,getContentViewTrackingData:this.props.getContentViewTrackingData,themeContext:this.props.themeContext});return r.createElement(X.az,null,Ke?r.createElement(Je.A,null,C):C,u?r.createElement(D.A,{style:j.GY.blurShadow,source:"https://rukminim1.flixcart.com/www/{@width}/{@height}/promos/02/07/2019/98fab961-50fb-49cb-927d-7ccdc286cb20.png?q={@quality}",width:25,height:50}):null,u&&1===p&&g&&m?r.createElement(_,null,r.createElement(M.S,{onPress:this._onOpenSwatchBottomsheet,onPressParam:this.props.overlaySwatchAction},r.createElement(X.ov,{shadow:1,borderRadius:20,bg:"common.white",px:"s6"},r.createElement(ye.gA,{circleHexCodes:c,circleDiameter:16,countTextSize:16,shadowRadius:16,variantCount:t.length})))):u?r.createElement(v,null,r.createElement(M.S,{onPress:this._onOpenSwatchBottomsheet,onPressParam:this.props.overlaySwatchAction},r.createElement(X.ov,{shadow:1,borderRadius:20,bg:"common.white",px:"s6"},r.createElement(ye.gA,{circleHexCodes:c,circleDiameter:16,countTextSize:16,shadowRadius:16,variantCount:t.length})))):null)},this._renderToolTipInfo=(e,t,i)=>{if(e&&e.text||t)return r.createElement(X.fI,{mt:"s4",mx:"s6",mb:"s2",style:i},e&&this._renderTipText(e.text),this._renderSizeChartInfo(t))},this._onSwatchClicked=(e,t)=>{this.setState({wiggled:!0},(()=>{this.props.onSwatchOptionPressed&&this.props.onSwatchOptionPressed(this.props.swatchIndex,e,this.props.data?this.props.data.id:void 0,t,this.props.onSwatchPressParams)}))},this._openSizeChartInfo=(e,t)=>{if(t&&this.props.actionDispatcher){const e={screenType:"webView",type:Z.a.NAVIGATION,url:t.url,params:{url:t.url,title:t.displayText,openInBottomSheet:!0,hideMenuItem:!0},tracking:{},loginType:$.G.LOGIN_NOT_REQUIRED},i=new N.Oy(e);this.props.actionDispatcher({type:K.A.MAPI_ACTION,payload:i}),this.props.actionDispatcher(new Q.m0(new Q.YKJ))}},this._renderWrappedSwatch=(e,t,i)=>{const n=this._getTextSwatchCollapsed(i,this.state.collapsedTextSwatch).getItemsForDisplay(),a=we.A.isPopularVariantPresent(n);return r.createElement(ze,{isPopularNudgePresent:a},n.map(((i,n)=>{var a;if("string"==typeof i.value){const o=i.optionIndex;return r.createElement(X.az,null,r.createElement(Ae,{data:i,onPress:this._onSwatchClicked,optionIndex:"number"!=typeof o?n:o,swatchType:e,selected:o===t,isGrid:!1,layoutKey:this.props.layoutKey,attributeOptionsLength:null===(a=this.props.data)||void 0===a?void 0:a.attributeOptionsLength}))}return i.value&&"string"!=typeof i.value?r.createElement(Ne.N,{onXMoreClick:this._onXMoreClick,text:i.value.title,stylesheet:j.md}):null})))},this._getTextSwatchCollapsed=(e,t)=>new Me.s(t,0,0,j.cH,j.cH,j.cH,j.Vt,-1,this.props.uiContext,e,2),this._onXMoreClick=()=>{this.setState({collapsedTextSwatch:!1},(()=>{this.props.onSwatchExpand&&this.props.onSwatchExpand()}))},this._onOpenSwatchBottomsheet=(e,t)=>{if(this.props.actionDispatcher&&t){this._sendStylePickerClickTracking();const e=Be.dv.modifyActionWithColorSwatchBottomSheetBehaviour(t,this.props.data?this.props.data.options.length:0),i=new N.rs(e);this.props.actionDispatcher&&i&&this.props.actionDispatcher({type:K.A.MAPI_ACTION,payload:i})}},this._sendStylePickerClickTracking=()=>{this.props.onColorPickerClick&&this.props.onColorPickerClick()},this.state={collapsedTextSwatch:!0,wiggled:!1}}static getHeight(e){const t=Ae.getSwatchDisplayType(e);return t?Ae.getHeight(t)+j.p9+j.N3+j.PO:0}_getItemLayout(e,t){const i=te.A.getWidth();return{length:i,offset:i*t,index:t}}render(){if(!this.props.data)return null;const e="PPV_VARIANT_LISTVIEW"===this.props.viewType?this.props.data.singleAttributeSwatchTitle:this.props.data.text;return r.createElement(X.az,{mb:"s4",bg:"common.white"},this._renderTitleView(e,this.props.data.selectedOptionText,this.props.data.options[this.props.data.selectedOptionIndex],this.props.showLargeSwatch),this._renderSwatchOptions(this.props.data.selectedOptionIndex,this.props.data.options,this.props.containerStyle,this.props.showCollapsedSwatches,this.props.showOOSCross,this.props.showLargeSwatch),this._renderToolTipInfo(this.props.data.tooltip,this.props.data.sizeChartInfo,this.props.toolTipStyle))}}Qe.contextType=We.V8;var Ze=i(598511),$e=i(505671),et=i(387674),tt=i(594880);const it="SCROLL_WITH_OVERLAY",nt="PRICE_EXTENDED",rt=[it,nt],at=[it,nt];class ot extends r.PureComponent{static getHeight(e,t){return e?t===Ce.I.LIFESTYLE?e.viewType===q.q.DROPDOWN?Ze.n.getHeight(e)+j.p9+j.N3+j.PO:J.G.getHeight(e):Qe.getHeight(e):0}static getMaxHeight(e,t){if(e){return $e.V.getSwatchDisplayType(e)===$e.B.BOX_TEXT?J.G.getMaxHeight(e,t):J.G.getHeight(e)}return 0}render(){if(!this.props.data)return null;if(this.props.layoutKey===Ce.I.LIFESTYLE)return this.props.data.viewType===q.q.DROPDOWN?r.createElement(Ze.n,Object.assign({},this.props)):r.createElement(J.G,Object.assign({},this.props));{const e=this.props.viewType===it,t=!!(this.props.viewType&&rt.indexOf(this.props.viewType)>-1),i=!!(this.props.viewType&&at.indexOf(this.props.viewType)>-1),n=this.props.layoutKey===Ce.I.TRYITON?et.Ay:this.props.layoutKey===Ce.I.MULTI_TRY_ON?tt.Ay:Qe;return r.createElement(n,Object.assign({},this.props,{showCollapsedSwatches:e,showOOSCross:t,showExtraLargeSwatch:!0,showLargeSwatch:i,getContentViewTrackingData:this.props.getContentViewTrackingData,themeContext:this.props.themeContext}))}}}var st=i(29960),lt=i(944083),dt=i(74175);class ct extends r.Component{constructor(e){super(e),this._renderAvailableSwatches=e=>{if(!e||!e.swatches)return;const t=e.swatches.map(((e,t)=>r.createElement(ot,{key:t,scrollProps:this.props.scrollProps,uiContext:this.props.appContext.uiContext,containerStyle:j.wm.expandedSwatchOptionContainer,headerStyle:j.wm.headerText,toolTipStyle:j.qF.expandedWidgetToolTipText,swatchIndex:t,data:e,viewModel:this.state.viewModel,onSwatchOptionPressed:this._onSwatchSelected,actionDispatcher:this.props.actionDispatcher,layoutKey:this.state.layoutKey,isSwatchExpanded:!0,widgetProps:this.props})));return r.createElement(X.az,null,t)},this._onSwatchSelected=(e,t,i,n,r)=>{if(this.state.viewModel){const i=Y.J.selectSwatchOption(this.state.viewModel,e,t,this.state.swatchCombinationToPidMap,this.state.swatchWhitelistProductInfoMap),n=i.selectedPid;if(!n)return;this.setState({viewModel:i}),n&&this.state.swatchWhitelistProductInfoMap&&this.props.actionDispatcher&&this.props.actionDispatcher(new z.lX(new z.$g(n,this.state.swatchWhitelistProductInfoMap,i.swatches)))}},this.state=this.getDerivedState(e)}overrideInitialPid(e){return e.vcProductId}getDerivedState(e){var t;const i=null===(t=null==e?void 0:e.swatchComponent)||void 0===t?void 0:t.value,n=i&&i.products?dt.L.createSwatchCombinationToPidMap(i.products):new Map,r=i&&i.products,a=e.pageInfo&&e.pageInfo.pageContext,o=a&&a.fetchId?a.fetchId:"",s=this.overrideInitialPid(e),l=s||(null==a?void 0:a.productId),d=ct._getSwatchTypeFromProductSwatchValue(i);return{swatchCombinationToPidMap:n,swatchWhitelistProductInfoMap:r,viewModel:new st.L(i,n,r,l),initialPid:l,fetchId:o,swatchType:d,layoutKey:"LIFESTYLE",viewType:"EXPANDED"}}shouldComponentUpdate(e,t,i){var n,r;return(null===(n=this.props.swatchComponent)||void 0===n?void 0:n.value)!==(null===(r=e.swatchComponent)||void 0===r?void 0:r.value)||this.props.pageInfo!==e.pageInfo}componentDidUpdate(e){var t,i;(null===(t=this.props.swatchComponent)||void 0===t?void 0:t.value)!==(null===(i=e.swatchComponent)||void 0===i?void 0:i.value)&&this.setState(Object.assign({},this.getDerivedState(this.props)))}render(){const e=this.state.viewModel;return e&&e.swatches&&0!==e.swatches.length?r.createElement(X.DD,{my:"s4",justifyContent:"space-between"},this._renderAvailableSwatches(e)):null}static _getSwatchTypeFromProductSwatchValue(e){if(e&&e.attributes){switch(e.attributes.length){case 1:return lt.Bm.single;case 2:return lt.Bm.dual;default:return lt.Bm.triple}}return lt.Bm.unknown}}var ut=i(726625),ht=i(596907);class pt extends U.A{constructor(e){super(e),this._getContentViewTracking=(e,t)=>{var i,n,r,a;const o=null===(r=null===(n=null===(i=null==e?void 0:e.value)||void 0===i?void 0:i.swatchComponent)||void 0===n?void 0:n.value)||void 0===r?void 0:r.products;if(!o)return;const s=null===(a=Object.keys(o))||void 0===a?void 0:a[0],l=o[s].listingId;if(l){const i=this.props.appContext.userManager.isLIDInCart(l);if(null==e?void 0:e.value){const n=null==e?void 0:e.tracking;return new G.A((0,L.lk)(),(null==n?void 0:n.fetchId)||"",s,l,"PP:Combo",t,i)}}},this.getCalloutFont=e=>e&&e.fontWeight===ht.I.bold?"m_medium":"m",this.renderComboSwatchAvailabilityCallout=e=>e.title&&e.title.length>0?r.createElement(a.az,{bg:"warning.light",p:"s4",mx:"s6",mt:"s7",borderRadius:4},r.createElement(a.JU,null,e.title.map(((e,t)=>pt.isRichTextData(e.value)?r.createElement(a.JU,{key:t,font:this.getCalloutFont(e.value.value.style)},e.value.value.title):null)))):null}_generateAggregatedDataObject(e,t,i,n,r,a,o,s){const l={};return l.listingId=e,i&&(l.aggregatedCartContext=B.A.createCartContext(i,t||0,a,n||"",!1,!1,r,"",o||i,s||e)),l}getPrimaryListingId(e){var t,i,n,r,a;if(!e)return;const o=null===(r=null===(n=null===(i=null===(t=e[0])||void 0===t?void 0:t.value)||void 0===i?void 0:i.swatchComponent)||void 0===n?void 0:n.value)||void 0===r?void 0:r.products;if(!o)return;return o[null===(a=Object.keys(o))||void 0===a?void 0:a[0]].listingId}_updateAggregatedData(e){var t,i,n,r;const a=l.wU(this.props.widgetSlotData)||s.n.PRODUCTS_IN_COMBO,d={};if(!e)return;const c=null===(r=null===(n=null===(i=null===(t=e[0])||void 0===t?void 0:t.value)||void 0===i?void 0:i.swatchComponent)||void 0===n?void 0:n.value)||void 0===r?void 0:r.products;if(!c)return;const u=Object.keys(c)[0],h=c[u].listingId;null==e||e.map(((e,t)=>{var i,n,r;if(0===t)return;const o=null===(r=null===(n=null===(i=null==e?void 0:e.value)||void 0===i?void 0:i.swatchComponent)||void 0===n?void 0:n.value)||void 0===r?void 0:r.products;if(!o)return;const s=Object.keys(o)[0],l=o[s].titles.title,c=(null==e?void 0:e.tracking)||{},p=this._generateAggregatedDataObject(o[s].listingId,0,s,l,a,c,u,h);d[s]=p})),this.dispatchAction(o.Q3.AGGREGATED_CTA,new H.Y(H.m.UPDATE_CTA_STATE,d))}static getComboWidgetProductsDataFromProps(e){var t;const i=(0,l.nS)(e.widgetSlotData);if((null==i?void 0:i.data)&&this._isComboComposedSwatchWidgetData(i.data))return null===(t=i.data)||void 0===t?void 0:t.products}_onProductTapped(e,t){const i=null==e?void 0:e.action;i&&(this.dispatchAction(o.Q3.MAPI_ACTION,new N.rs(i)),this.trackDiscoveryContentClickEvent(i.tracking,!1,t))}renderHeader(e){var t,i,n,a;const o=null==e?void 0:e.header;return r.createElement(_,null,r.createElement(C,null,null===(i=null===(t=null==o?void 0:o.value)||void 0===t?void 0:t.titleValue)||void 0===i?void 0:i.text),r.createElement(E,null,null===(a=null===(n=null==o?void 0:o.value)||void 0===n?void 0:n.subTitleValue)||void 0===a?void 0:a.text))}renderDivider(){}renderWidget(){var e;const t=pt.getComboWidgetProductsDataFromProps(this.props);if(!t)return;this._updateAggregatedData(t);const i=this.getPrimaryListingId(t),n=null==t?void 0:t[0].tracking,o=n&&this.getContentViewTrackingData(new F.Ay(n)),s=(0,l.o6)(this.props.widgetSlotData),d=null===(e=null==s?void 0:s.value)||void 0===e?void 0:e.headerDetailsValue;return r.createElement(a.az,{pb:"s4"},r.createElement(W.A,{trackingInfo:o},d?this.renderComboSwatchAvailabilityCallout(d):null,t&&t.map(((e,t)=>{if(e.value)return r.createElement(W.A,{trackingInfo:this._getContentViewTracking(e,i||""),key:t},r.createElement(M.S,{onPress:()=>{this._onProductTapped(e,t)}},r.createElement(m,null,r.createElement(V,{comboProduct:e.value,showRightArrow:Boolean(e.action),vcProductId:this.getVCProductId(t)}))),e.value.swatchComponent?r.createElement(a.az,{mx:"s4",mt:"s6"},r.createElement(ct,Object.assign({},this.props,{swatchComponent:e.value.swatchComponent,productIdx:t,vcProductId:this.getVCProductId(t)}))):null)}))))}getVCProductId(e){var t,i,n;const r=null===(n=(0,ut.vA)(null!==(i=null===(t=this.props.pageInfo)||void 0===t?void 0:t.pageURI)&&void 0!==i?i:""))||void 0===n?void 0:n.pid;return r?r.split(",")[e]:void 0}getWidgetType(){return s.n.PRODUCTS_IN_COMBO}static getWidgetHeight(e){const t=pt.getComboWidgetProductsDataFromProps(e);let i=68;return t&&t.map((e=>{const t=e.value?V.getHeight()+20:0;i+=t})),i}}pt.isRichTextData=e=>Boolean((null==e?void 0:e.value)&&(e.value.title||e.value.text)),pt._isComboComposedSwatchWidgetData=e=>"products"in e;class gt extends n.A{getWidgetClass(e){return pt}getWidgetHeight(e){return pt.getWidgetHeight(e)}}},841620:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var n=i(296540),r=i(46071),a=i(877293),o=i(45426),s=i(479892),l=i(879052);class d extends n.Component{constructor(){super(...arguments),this._onTitleClick=()=>{this.props.action&&this.props.didSelectAction(this.props.action)}}static getHeight(e){let t=50;return t+=e?50:0,t}render(){const e=[r.e.titleContainer,this.props.productPageButtonStyle||{}];return this.props.subtitle?n.createElement(a.View,Object.assign({},(0,l.Z)("QnA_Post_Announcement_Container"),{style:r.e.container}),n.createElement(a.Text,Object.assign({},(0,l.Z)("QnA_Post_Announcement_Text"),{style:r.e.subTitle}),this.props.subtitle),n.createElement(o.S,Object.assign({},(0,l.Z)("QnA_Post_Announcement_Action_Button"),{onPress:this._onTitleClick}),n.createElement(a.View,{style:e},n.createElement(a.Text,{style:r.e.title},this.props.title)))):n.createElement(a.View,Object.assign({},(0,l.Z)("QnA_Post_Announcement_Container")),n.createElement(o.S,Object.assign({},(0,l.Z)("QnA_Post_Announcement_Action_Button"),{onPress:this._onTitleClick}),n.createElement(a.View,{style:s.C1.alignItemCenter},n.createElement(a.Text,{style:r.e.title},this.props.title))))}}},842e3:(e,t)=>{"use strict";!function(e){e.RED_MEDIA="RED_MEDIA",e.RED_FEATURE="RED_FEATURE",e.RED_CAROUSEL="RED_CAROUSEL",e.RED_HIGHLIGHTS="RED_HIGHLIGHTS",e.RED_FLOATING="RED_FLOATING"}(t.k||(t.k={}))},845077:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>S});var n=i(465420),r=i(296540),a=i(347924),o=i(716249),s=i(808584),l=i(479892),d=i(52754),c=i(723372),u=i(727e3),h=i(45426),p=i(352254),g=i(415283),m=i(257246),v=i(877293),_=i(914944),C=i(302543),E=i(37114);const T=a.fI.extendComponent({name:"ReasonToBuyWidgetWrapper",defaultProps:{px:"s6"}}),f=a.fI.extendComponent({name:"ReasonToBuyCalloutContainer",defaultProps:{alignItems:"center"}});class A extends o.A{constructor(e,t){super(e,t),this.imageStyles=[l.C1.margin_left_8,l.C1.margin_right_6],this.onClick=(e,t)=>{var i;if(t){const e="web"===v.Platform.OS&&(null===(i=t.params)||void 0===i?void 0:i.isSubPage)?g.Q3.SHOW_SUBPAGE:g.Q3.MAPI_ACTION;this.dispatchAction(e,new _.Oy(t))}},this.onClick=(0,C.debounce)(this.onClick,100)}static getWidgetHeight(e){var t,i,n;const r=(0,d.xH)(e.widgetSlotData);return(null===(n=null===(i=null===(t=null==r?void 0:r.spotlight)||void 0===t?void 0:t.value)||void 0===i?void 0:i.callout)||void 0===n?void 0:n.data)?24:0}hideWidgetEdgeDivider(){return!0}renderWidget(){var e,t,i,n,o,u,h,p,g,m,v;const _=(0,d.xH)(this.props.widgetSlotData);if(!_)return;const C=null==_?void 0:_.icon,E=null===(i=null===(t=null===(e=null==_?void 0:_.spotlight)||void 0===e?void 0:e.value)||void 0===t?void 0:t.callout)||void 0===i?void 0:i.data,A=null===(h=null===(u=null===(o=null===(n=null==_?void 0:_.spotlight)||void 0===n?void 0:n.value)||void 0===o?void 0:o.callout)||void 0===u?void 0:u.data)||void 0===h?void 0:h.containerStyle;return(null===(v=null===(m=null===(g=null===(p=this.props.widgetSlotData)||void 0===p?void 0:p.slotData)||void 0===g?void 0:g.widget)||void 0===m?void 0:m.params)||void 0===v?void 0:v.showGoodQualityTagOnPP)&&_?r.createElement(a.az,{flexDirection:"row",ml:"s5",mt:"s3"},this.renderQualityTag(_)):r.createElement(T,null,r.createElement(f,{style:[A,l.C1.padding_horizontal_8,l.C1.padding_vertical_4,l.C1.border_radius_2]},C&&r.createElement(s.A,{imageValue:C,width:16,height:16,style:l.C1.margin_right_6}),E&&r.createElement(c.A,{messages:E})))}renderQualityTag(e){var t,i,n,o,s,l,d,c,g,v,_,C,T;const f=null===(i=null===(t=null==e?void 0:e.renderableComponents)||void 0===t?void 0:t[0])||void 0===i?void 0:i.action,A=null===(g=null===(c=null===(d=null===(l=null===(s=null===(o=null===(n=null==e?void 0:e.renderableComponents)||void 0===n?void 0:n[0])||void 0===o?void 0:o.value)||void 0===s?void 0:s.data)||void 0===l?void 0:l.data)||void 0===d?void 0:d[0])||void 0===c?void 0:c.value)||void 0===g?void 0:g.text,S=null===(T=null===(C=null===(_=null===(v=null==e?void 0:e.renderableComponents)||void 0===v?void 0:v[0])||void 0===_?void 0:_.value)||void 0===C?void 0:C.imageValue)||void 0===T?void 0:T.dynamicImageUrl;if(!A&&!S)return null;const y={flexDirection:"row",alignItems:"center",paddingRight:"s3",bg:"v2.primary.50"},w={font:"m",paddingVertical:"s2",color:"v2.primary.700"};return r.createElement(u.w.Consumer,null,(e=>{const t=this.getPageTheme()===E.S.FAST_FASHION,i=t?"v2.neutral.900":"v2.primary.50",n=t?(0,m.o0)(e):"v2.primary.700",o=e?Object.assign(Object.assign({},y),{bg:i}):y,s=e?Object.assign(Object.assign({},w),{color:n}):w;return r.createElement(h.S,{onPress:this.onClick,onPressParam:f},r.createElement(a.az,Object.assign({},o),r.createElement(p.A,{source:S,height:17,width:17,style:this.imageStyles,resizeMode:"contain"}),r.createElement(a.JU,Object.assign({},s),A)))}))}}class S extends n.A{getWidgetClass(){return A}getWidgetHeight(e){return A.getWidgetHeight(e)}}},849497:(e,t,i)=>{"use strict";i.d(t,{A:()=>h});var n=i(296540),r=i(877293),a=i(988013),o=i(231679),s=i(813652),l=i(864084),d=i(352254),c=i(169211),u=i(479892);class h extends n.PureComponent{constructor(e,t){super(e,t),this.renderCustomThumbnailContent=()=>{var e,t;const i=this.props.mediaWidth,l=this.props.mediaHeight,c=(null===(e=this.props)||void 0===e?void 0:e.thumbnailHeight)?this.props.thumbnailHeight:l,h=(null===(t=this.props)||void 0===t?void 0:t.thumbnailWidth)?this.props.thumbnailWidth:i;return n.createElement(r.View,{style:u.C1.contentAlignCenter},n.createElement(d.A,{style:a.p.imageStyling,height:c,width:h,source:this.getThumbnailUrl(),resizeMode:"contain",bottomLeftRoundedCorner:4,topLeftRoundedCorner:4}),n.createElement(d.A,{width:26,height:26,style:o.M1.videoPlayButton,source:s.videoPlayButton}))},this.renderThumbnailContent=()=>{const e=this.props.mediaWidth,t=this.props.mediaHeight;return n.createElement(r.View,{style:u.C1.contentAlignCenter},n.createElement(d.A,{style:a.p.imageStyling,height:t,width:e,source:this.getThumbnailUrl(),resizeMode:"contain"}),n.createElement(d.A,{width:o.aH.PLAY_BUTTON_WIDTH,height:o.aH.PLAY_BUTTON_HEIGHT,style:o.M1.videoPlayButton,source:s.playIcon}))},this._onChangeState=e=>{"ENDED"===e&&this.setState({showThumbnail:!0}),this.props.onChangeState&&this.props.onChangeState(e,this.props.position)},this._startAutoPlayYoutubeTimer=e=>{this._autoPlayYoutubeTimer=setTimeout((()=>{this._onInlinePlayYoutubeClick()}),e)},this._stopAutoPlayYoutubeTimer=()=>{this._autoPlayYoutubeTimer&&(clearTimeout(this._autoPlayYoutubeTimer),this._autoPlayYoutubeTimer=void 0)},this._onInlinePlayYoutubeClick=()=>{this.setState({showThumbnail:!1}),this._stopAutoPlayYoutubeTimer()},this.state={showThumbnail:!0}}render(){const e=this.props.mediaWidth,t=this.props.mediaHeight,i=[];return i.push({height:t,width:e}),this.state.showThumbnail?n.createElement(c.S,{onPress:this._onInlinePlayYoutubeClick,disableFeedback:!0},this.props.showCustomThumbnail?this.renderCustomThumbnailContent():this.renderThumbnailContent()):n.createElement(l.nv,{src:{videoId:this.props.videoId,url:this.getThumbnailUrl(),mediaHeight:t,mediaWidth:e,impressionId:this.props.impressionId,position:this.props.position},style:i,showFullScreenButton:!0,showSeekBar:!0,showPlayPauseButton:!0,showVideoTitle:!1,showYoutubeButton:!1,loadVideo:!0,autoPlayVideo:!!this.props.mediaValue.autoPlayRequired&&this.props.mediaValue.autoPlayRequired,onChangeState:this._onChangeState})}componentDidMount(){if(this.props.mediaValue.autoPlayRequired){const e=this.props.mediaValue.autoPlayStartInMs;e&&e>0?this._startAutoPlayYoutubeTimer(e):this.setState({showThumbnail:!1})}}componentWillUnmount(){this._stopAutoPlayYoutubeTimer()}getThumbnailUrl(){const e=this.props.mediaValue.thumbnailImageUrl?this.props.mediaValue.thumbnailImageUrl:this.props.url;return e||""}}},852173:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ViewTypes:()=>s,default:()=>d});var n=i(465420),r=i(52754),a=i(186430);const o=e=>{const t=r.nS(e.widgetSlotData);if("CARD"===(t?t.viewType:void 0)){const t=(0,r.nS)(e.widgetSlotData),i=t?t.data:void 0;if(!t||!i)return 0;const n=i&&i.renderableComponents;return 86+94*(n&&n.length>0?n.length:0)}return 100};var s,l=i(60803);!function(e){e.CARD="CARD",e.VIEW_WITH_ACTION="VIEW_WITH_ACTION",e.GOOD_QUALITY_TAG_COMPREHENSION="GOOD_QUALITY_TAG_COMPREHENSION",e.EMI_CALLOUT="EMI_CALLOUT"}(s||(s={}));class d extends n.A{getWidgetClass(e){const t=o(e),n=r.nS(e.widgetSlotData);switch(n?n.viewType:void 0){case"CARD":return a.Vy.getLoadable(t+"FeatureAnnouncementCardWidget",(0,l.Ay)({resolved:{},chunkName:()=>"FeatureAnnouncementCardWidget",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(97724).then(i.bind(i,433346)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>433346},{fallback:(0,a.zb)(t),resolveComponent:i=>(a.Vy.triggerLayout(e,t+"FeatureAnnouncementCardWidget"),i.default)}));case"VIEW_WITH_ACTION":return a.Vy.getLoadable(t+"FeatureAnnouncementWidgetCategory",(0,l.Ay)({resolved:{},chunkName:()=>"FeatureAnnouncementWidgetCategory",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(58354).then(i.bind(i,375603)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>375603},{fallback:(0,a.zb)(t),resolveComponent:i=>(a.Vy.triggerLayout(e,t+"FeatureAnnouncementWidgetCategory"),i.default)}));case"GOOD_QUALITY_TAG_COMPREHENSION":return a.Vy.getLoadable(t+"FeatureAnnouncementTagComprehensionWidget",(0,l.Ay)({resolved:{},chunkName:()=>"FeatureAnnouncementTagComprehensionWidget",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(218).then(i.bind(i,257595)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>257595},{fallback:(0,a.zb)(t),resolveComponent:i=>(a.Vy.triggerLayout(e,t+"FeatureAnnouncementTagComprehensionWidget"),i.default)}));case"EMI_CALLOUT":return a.Vy.getLoadable(t+"FeatureAnnouncementEmiCalloutWidget",(0,l.Ay)({resolved:{},chunkName:()=>"FeatureAnnouncementEmiCalloutWidget",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(12607).then(i.bind(i,374298)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>374298},{fallback:(0,a.zb)(t),resolveComponent:i=>(a.Vy.triggerLayout(e,t+"FeatureAnnouncementEmiCalloutWidget"),i.default)}));default:return a.Vy.getLoadable(t+"FeatureAnnouncementWidget",(0,l.Ay)({resolved:{},chunkName:()=>"FeatureAnnouncementWidget",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(27178).then(i.bind(i,11581)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>11581},{fallback:(0,a.zb)(t),resolveComponent:i=>(a.Vy.triggerLayout(e,t+"FeatureAnnouncementWidget"),i.default)}))}}getWidgetHeight(e){return o(e)}}},855985:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>Et});var n=i(465420),r=i(716249),a=i(347924),o=i(296540),s=i(877293),l=i(809400),d=i(198213),c=i(415283),u=i(914944),h=i(479892),p=i(309865),g=i(241598),m=i(235232),v=i(624801);const{az:_,vp:C,JU:E,fI:T}=a.zN,f=C.extendComponent({name:"ProductTagContainer",defaultProps:{top:9,left:6,zIndex:10,alignItems:"center",px:"s3",py:"s1",borderRadius:v.CRKeysBasic.cr2,bg:"backgroundBold.success.group"}}),A=E.extendComponent({name:"ProductTagLabel",defaultProps:{typography:"helptext",overflow:"hidden",color:"foreground.constant.white"}}),S=C.extendComponent({name:"ratingContainer",defaultProps:{left:8,top:176,zIndex:10,alignItems:"center",justifyContent:"center",px:"s2",py:"s2",borderRadius:v.CRKeysBasic.cr2,bg:"backgroundSubtle.opacity.default",flexDirection:"row",gap:"s1"}}),y=E.extendComponent({name:"RatingLabel",defaultProps:{typography:"tag",color:"foreground.default.primary"}}),w=E.extendComponent({name:"PriceOfferCalloutLabel",defaultProps:{typography:"finePrint",color:"foreground.default.primary"}}),I=E.extendComponent({name:"StrikeOffPriceLabel",defaultProps:{typography:"subtext",color:"foreground.default.secondary",textDecorationLine:"line-through",mr:"s2"}}),b=E.extendComponent({name:"DisplayPriceLabel",defaultProps:{typography:"label",color:"foreground.default.primary"}}),D=T.extendComponent({name:"ActionButtonContainer",defaultProps:{width:"100%",borderRadius:v.CRKeysBasic.cr4,borderWidth:v.OutlineKeysBasic.o2,bg:"backgroundSubtle.neutral.base",alignItems:"center",justifyContent:"center",px:"s5",py:"s3",minHeight:26,gap:"s1"}}),x=_.extendComponent({name:"ProductImageContainer",defaultProps:{height:204,width:152,alignItems:"center",justifyContent:"center"}}),P=C.extendComponent({name:"ImageOverlay",defaultProps:{bg:"overlay.other.imageOverlay",overflow:"hidden",zIndex:5,top:0,left:0,height:204,width:152}}),O=_.extendComponent({name:"ProductContentContainer",defaultProps:{px:"s3",mt:"s3",justifyContent:"space-between",flex:1}}),R=E.extendComponent({name:"ProductTitleLabel",defaultProps:{typography:"subtext",numberOfLines:3,color:"foreground.default.primary",mb:"s3",height:48}}),k=_.extendComponent({name:"AccessoryCardContainer",defaultProps:{pb:"s4",borderRadius:v.CRKeysBasic.cr6,borderWidth:v.OutlineKeysBasic.o2,mr:"s4",overflow:"hidden",width:152,height:338,bg:"backgroundSubtle.neutral.base"}});class V extends o.PureComponent{constructor(){super(...arguments),this.CARD_WIDTH=152,this.CARD_MARGIN=8,this.CARD_HEIGHT=338,this.HLV_PADDING=16,this.IMAGE_CONTAINER_HEIGHT=204,this.IMAGE_WIDTH=139,this.IMAGE_HEIGHT=134,this.STAR_FILL_COLOR="foreground.success.highlight",this.PLUS_ICON_COLOR="foreground.brandPrimary.link",this.listContainerStyle=[h.C1.padding_left_16,h.C1.padding_top_8,h.C1.padding_bottom_8,{height:this.CARD_HEIGHT+this.HLV_PADDING}],this._calculateDimensions=(e,t)=>({width:this.CARD_WIDTH+this.CARD_MARGIN,height:this.CARD_HEIGHT+this.HLV_PADDING}),this._renderProductTag=e=>(null==e?void 0:e.text)?o.createElement(f,null,o.createElement(A,null,e.text)):null,this._renderRatingDisplay=e=>(null==e?void 0:e.average)?o.createElement(S,null,o.createElement(y,null,e.average),o.createElement(p.I,{name:"StarIcon",size:12,fillColor:this.STAR_FILL_COLOR})):null,this._renderPriceInfo=e=>{const{displayPrice:t,strikeOffPrice:i,priceOfferCallout:n}=e,r="number"==typeof t?` ${m.A.getFormattedIndianCurrency(t)}`:t,a="number"==typeof i?` ${m.A.getFormattedIndianCurrency(i)}`:i;return o.createElement(o.Fragment,null,n&&o.createElement(w,null,n),o.createElement(g.fI,{mb:"s4"},i&&a&&o.createElement(I,null,a),r&&o.createElement(b,null,r)))},this._renderActionButton=(e,t)=>o.createElement(a.SB,{onPress:()=>this._handleSelect(t),disableFeedback:!0},o.createElement(D,{borderColor:e?"outline.neutral.subtle":"outline.brandPrimary.highlight"},!e&&o.createElement(p.I,{name:"StepperPlusIcon",size:16,strokeColor:this.PLUS_ICON_COLOR}),o.createElement(g.JU,{typography:"label",color:e?"foreground.default.primary":"foreground.brandPrimary.link"},e?this.props.localizedStrings.remove:this.props.localizedStrings.add))),this._renderProductImage=e=>(null==e?void 0:e.imageUrl)?o.createElement(x,null,o.createElement(P,null),o.createElement(d.Dk,{source:e.imageUrl,height:this.IMAGE_HEIGHT,width:this.IMAGE_WIDTH})):null,this._renderProductContent=(e,t,i)=>{const{title:n,pricing:r}=e;return o.createElement(O,null,n&&o.createElement(R,null,n),r&&this._renderPriceInfo(r),this._renderActionButton(t,i))},this._renderAccessoryCard=(e,t)=>{const{value:i}=e;if(!i)return null;const{image:n,rating:r,tag:s}=i,l=o.createElement(a.SB,{onPress:()=>this._handleCartNavigation(e.action),disableFeedback:!0},o.createElement(k,{borderColor:t?"foreground.defaultOpaque.primary":"outline.neutral.seperator"},this._renderProductTag(s),this._renderRatingDisplay(r),this._renderProductImage(n),this._renderProductContent(i,t,e)));return this.props.getTrackableContentView?this.props.getTrackableContentView(l,e.tracking):l},this._renderItem=(e,t,i,n)=>{var r;const a=t.value,o=null===(r=null==a?void 0:a.productMeta)||void 0===r?void 0:r.productId;if(!o||!a)return null;const s=(null==n?void 0:n.selectedItems)||this.props.selectedItems,l=s&&s.includes(o);return this._renderAccessoryCard(t,l)},this._handleCartNavigation=e=>{e&&this.props.actionDispatcher&&this.props.actionDispatcher({type:c.Q3.MAPI_ACTION,payload:new u.Oy(e)})},this._handleSelect=e=>{var t,i,n,r;const{selectedItems:a,onSelectionChange:o}=this.props,s=null===(i=null===(t=e.value)||void 0===t?void 0:t.productMeta)||void 0===i?void 0:i.productId;if(!s)return;o(s,!a.includes(s),(null===(r=null===(n=e.value)||void 0===n?void 0:n.productMeta)||void 0===r?void 0:r.listingId)||"",void 0,null==e?void 0:e.tracking)}}render(){var e;const{data:t,selectedItems:i}=this.props,n=null!==(e=null==t?void 0:t.renderableComponents)&&void 0!==e?e:[];return n.length?o.createElement(l.E,{data:n,renderItem:this._renderItem,calculateDimensions:this._calculateDimensions,forceNonDeterministicRendering:!0,containerStyle:this.listContainerStyle,extendedState:{selectedItems:i}}):null}}var L=i(67473);const M=g.fI.extendComponent({name:"TabsContainer",defaultProps:{alignItems:"center",px:"s5",justifyContent:"center"}}),N=g.fv.extendComponent({name:"TabContentCol",defaultProps:{alignItems:"center",position:"relative",paddingBottom:"s6",width:120}}),H=g.az.extendComponent({name:"TabIconContainer",defaultProps:{alignItems:"center",justifyContent:"center",position:"relative",borderRadius:v.CRKeysBasic.cr6,p:"s3",minWidth:56,height:56}}),W=g.az.extendComponent({name:"CheckmarkOverlay",defaultProps:{alignItems:"center",justifyContent:"center",position:"absolute",borderRadius:v.CRKeysBasic.cr5,top:14,right:14,width:11,height:11}}),B=g.JU.extendComponent({name:"TabTitleLabel",defaultProps:{textAlign:"center",position:"absolute",top:48}}),U=g.az.extendComponent({name:"IconWrapperBox",defaultProps:{}}),F=g.az.extendComponent({name:"ConnectorBar",defaultProps:{position:"relative",zIndex:2,width:65,height:1.5,mb:"s5",mx:"-s9"}}),G=({tabsData:e,activeTabIndex:t,data:i,handleTabPress:n})=>{const[r,a]=(0,o.useState)(t);return(0,o.useEffect)((()=>{a(t)}),[t]),o.createElement(M,null,e.map((({id:t,title:l,selectedProducts:d},c)=>{var u;const p=null!==r&&c<=r,g=c===e.length-1,m=r===c,v=d.length>0,_=null===(u=null==i?void 0:i[c])||void 0===u?void 0:u.image;return o.createElement(o.Fragment,{key:t},o.createElement(s.TouchableOpacity,{onPress:()=>{a(c),n(c)},style:h.C1.alignItemCenter},o.createElement(N,null,o.createElement(H,null,o.createElement(U,null,_&&o.createElement(L.A,{name:_,size:32,fillColor:p?"backgroundBold.brandPrimary.emphasis":"backgroundSubtle.neutral.emphasisDark"})),v&&p&&o.createElement(W,{style:{backgroundColor:"white"}},o.createElement(L.A,{name:"AppliedGreen",size:10}))),o.createElement(B,{typography:m?"label":"footnote",color:p?"foreground.default.primary":"foreground.default.secondary"},l))),!g&&o.createElement(F,{bg:null!==r&&r>=c+1?"foreground.brandPrimary.link":"outline.neutral.subtle"}))})))};var z=i(670563),j=i(437842);const X=g.JU.extendComponent({name:"TitleLabel",defaultProps:{my:"s4",alignItems:"center",typography:"subheading"}}),Y=g.az.extendComponent({name:"OuterContainer",defaultProps:{justifyContent:"center",top:24,zIndex:10}}),q=g.az.extendComponent({name:"FadingTextContianer",defaultProps:{width:"100%",height:84}}),J=g.vp.extendComponent({name:"OuterAbsoluteContainer",defaultProps:{zIndex:2,mx:"s6",alignSelf:"flex-start"}}),K=g.JU.extendComponent({name:"OuterAbsoluteTitleLabel",defaultProps:{typography:"title",color:"foreground.brandPrimary.highlight",maxWidth:269}}),Q=g.vp.extendComponent({name:"TabbedComponentAbsoluteBox",defaultProps:{zIndex:10,alignSelf:"center"}});class Z extends o.Component{constructor(e){super(e),this.fadeAnimationTriggered=!1,this.runCrossFadeAnimation=()=>{s.Animated.parallel([s.Animated.timing(this.initialTextOpacity,{toValue:0,duration:300,easing:s.Easing.ease,useNativeDriver:!1}),s.Animated.timing(this.newTextOpacity,{toValue:1,duration:400,easing:s.Easing.ease,useNativeDriver:!1})]).start()},this.initialTextOpacity=new s.Animated.Value(1),this.newTextOpacity=new s.Animated.Value(0)}componentDidUpdate(e){e.startAnimation||!this.props.startAnimation||this.fadeAnimationTriggered||(this.runCrossFadeAnimation(),this.fadeAnimationTriggered=!0)}render(){return o.createElement(q,{mb:"s6"},o.createElement(s.Animated.View,{style:{opacity:this.newTextOpacity,zIndex:1,alignItems:"center",justifyContent:"center"}},o.createElement(j.A,{containerStyle:h.C1.overflowHidden,gradientViewStyle:{height:30,width:40},gradientEnd:[1,1],gradientStart:[0,1],duration:1e3,easing:s.Easing.linear,iterations:4,gradientColors:[z.hI.transparentWhite,z.hI.white80,z.hI.transparentWhite]},o.createElement(X,null,this.props.title))),o.createElement(Y,null,o.createElement(J,null,o.createElement(s.Animated.View,{style:{opacity:this.initialTextOpacity,alignItems:"center"}},o.createElement(j.A,{containerStyle:h.C1.overflowHidden,gradientViewStyle:{height:100,width:40},gradientEnd:[1,1],gradientStart:[0,1],duration:1e3,easing:s.Easing.linear,iterations:2,gradientColors:[z.hI.transparentWhite,z.hI.white80,z.hI.transparentWhite]},o.createElement(K,null,this.props.title)))),o.createElement(Q,null,o.createElement(s.Animated.View,{style:{opacity:this.newTextOpacity}},o.createElement(G,{data:this.props.data,tabsData:this.props.tabsData,activeTabIndex:this.props.activeTabIndex,handleTabPress:this.props.handleTabPress})))))}}var $=i(408791),ee=i(52754),te=i(352254),ie=i(398581),ne=i(492418),re=i(110941);const{az:ae,vp:oe,JU:se,fI:le}=a.zN,de=ae.extendComponent({name:"CardContainer",defaultProps:{borderRadius:v.CRKeysBasic.cr4,overflow:"hidden",borderWidth:v.OutlineKeysBasic.o1,enableBorderSmoothing:!0,height:333}}),ce=ae.extendComponent({name:"ImageSectionContainer",defaultProps:{alignItems:"center",justifyContent:"center",height:124}}),ue=oe.extendComponent({name:"TagContainer",defaultProps:{top:5,left:5,px:"s3",py:"s2",borderRadius:v.CRKeysBasic.cr2,zIndex:10}}),he=se.extendComponent({name:"TagLabel",defaultProps:{typography:"helptext"}}),pe=oe.extendComponent({name:"GradientOverlay",defaultProps:{width:"100%",height:"100%",zIndex:0}}),ge=oe.extendComponent({name:"CloseIconContainer",defaultProps:{padding:"s1",top:7,right:9,bg:"backgroundSubtle.neutral.base",borderRadius:v.CRKeysBasic.cr5}}),me=ae.extendComponent({name:"TitlePricingContainer",defaultProps:{mx:"s5"}}),ve=se.extendComponent({name:"CardTitleLabel",defaultProps:{typography:"subheading",color:"foreground.default.primary",my:"s4",numberOfLines:2,alignItems:"baseline"}}),_e=le.extendComponent({name:"PriceRow",defaultProps:{alignItems:"center",mb:"s1"}}),Ce=se.extendComponent({name:"PlanDetailLabel",defaultProps:{typography:"footnote",color:"foreground.default.secondary"}}),Ee=ae.extendComponent({name:"FeatureGroupContainer",defaultProps:{pt:"s5",pb:"s5"}}),Te=le.extendComponent({name:"FeatureRow",defaultProps:{alignItems:"center",px:"s2",py:"s2",borderRadius:"cr3"}}),fe=le.extendComponent({name:"FeatureRow",defaultProps:{alignItems:"center",paddingBottom:"s2"}}),Ae=se.extendComponent({name:"FeatureLabel",defaultProps:{pl:"s4",mr:"s5",typography:"subtext",numberOfLines:1}}),Se=ae.extendComponent({name:"DetailsContainer",defaultProps:{pb:"s6",flex:1}}),ye=ae.extendComponent({name:"HighlightsContainer",defaultProps:{mt:"s5",mb:"s2",mx:"s5"}}),we=le.extendComponent({name:"HighlightRow",defaultProps:{mb:"s2",alignItems:"center"}}),Ie=ae.extendComponent({name:"RemoveButtonContainer",defaultProps:{borderColor:"outline.neutral.subtle",my:"s5",py:"s2",borderRadius:v.CRKeysBasic.cr3,borderWidth:v.OutlineKeysBasic.o1,alignItems:"center",justifyContent:"center",enableBorderSmoothing:!0}}),be=oe.extendComponent({name:"FloatingRemoveButtonWrapper",defaultProps:{bottom:-16,left:0,right:0,alignItems:"center"}}),De=le.extendComponent({name:"FloatingRemoveButtonRow",defaultProps:{alignItems:"center",bg:"foreground.constant.white",px:"s4",py:"s2",borderColor:"outline.neutral.subtle",borderWidth:v.OutlineKeysBasic.o1,borderRadius:v.CRKeysBasic.cr4}}),{JU:xe,_t:Pe,fI:Oe,az:Re}=a.zN;var ke;!function(e){e.close="close",e.remove="remove",e.none="none"}(ke||(ke={}));const Ve=o.memo((e=>{var t,i;const{isExpanded:n,isSelected:r,isLeftCard:l,cardStyle:d,data:c,onPress:u}=e;if(!c)return null;const{tag:g,gradient:v,pricing:_,title:C,planHighlights:E,expandedFeatureGroups:T,image:f,planDetail:A}=c,{discountPercentage:S,strikeOffPrice:y,displayPrice:w}=_,I=f.imageUrl,b=re.A.getHeight(124,f.aspectRatio||"1:1")-16,D=[(null==v?void 0:v.startBleedingColor)||"#FCF5E4",(null==v?void 0:v.stopBleedingColor)||ne.hIQ.white],x="number"==typeof w?` ${m.A.getFormattedIndianCurrency(w)}`:w,P=(e,t=ke.none)=>{n&&t===ke.none||u(l?Le.left:Le.right,t)},O=()=>o.createElement(me,{maxWidth:n?"50%":"100%"},!!C&&o.createElement(ve,null,o.createElement(xe,null,C),!n&&o.createElement(xe,null," ")),o.createElement(Re,{my:"s2"},o.createElement(_e,null,S&&o.createElement(p.I,{strokeColor:"foreground.success.highlight",name:"DownArrowIcon",size:13}),o.createElement(xe,{typography:"label"},S&&o.createElement(xe,{color:"foreground.success.highlight"},`${S}% `),y&&o.createElement(xe,{typography:"subtext",color:"foreground.default.secondary",textDecorationLine:"line-through"},y),x&&o.createElement(xe,null,` ${x}`))),A&&o.createElement(Ce,null,A)));return o.createElement(s.Animated.View,{style:d},o.createElement(de,{borderColor:r&&!n?"foreground.defaultOpaque.primary":"outline.neutral.subtle"},o.createElement(a.SB,{onPress:P,disableFeedback:!0},o.createElement(ce,null,(null==g?void 0:g.text)&&o.createElement(ue,{style:{backgroundColor:g.backgroundColor}},o.createElement(he,{style:{color:g.textColor}},g.text)),v&&o.createElement(pe,null,o.createElement(ie.W,{gradientColors:D,style:{height:"50%",position:"absolute",top:0,left:0,right:0},gradientStart:Pe.TOP,gradientEnd:Pe.BOTTOM,renderInWeb:!0}),o.createElement(ie.W,{gradientColors:D,style:{height:"50%",position:"absolute",bottom:0,left:0,right:0},gradientStart:Pe.BOTTOM,gradientEnd:Pe.TOP,renderInWeb:!0})),!(!f&&!n)&&o.createElement(Oe,{alignItems:"center",gap:"s6",mt:"s5",mb:"s2"},f&&o.createElement(te.A,{height:b,width:124,source:I}),n&&o.createElement(O,null)),n&&o.createElement(a.SB,{onPress:P,onPressParam:ke.close,disableFeedback:!0},o.createElement(ge,null,o.createElement(te.A,{height:12,width:12,source:"https://rukminim1.flixcart.com/www/{@width}/{@height}/promos/15/07/2025/14b4fe19-a810-49c0-a3d0-5eab2a4a4722.png?q={@quality}"}))))),n?o.createElement(s.ScrollView,{persistentScrollbar:!0,nestedScrollEnabled:!0,showsVerticalScrollIndicator:!0,style:h.C1.padding16H},null==T?void 0:T.map(((e,t)=>o.createElement(Re,{key:t},e.featureGroupName&&o.createElement(Ee,null,o.createElement(xe,{typography:"label"},e.featureGroupName)),e.features.map(((t,i)=>o.createElement(fe,null,t.icon&&o.createElement(Te,{key:i,bg:e.backgroundColor},o.createElement(p.I,{name:t.icon,size:24,fillColor:e.backgroundColor})),t.text&&o.createElement(Ae,null,t.text))))))),o.createElement(a.SB,{onPress:P,onPressParam:ke.remove,disableFeedback:!0},o.createElement(Ie,null,o.createElement(xe,{typography:"label"},null!==(t=e.localizedStrings.remove)&&void 0!==t?t:"Remove")))):o.createElement(a.SB,{onPress:P,disableFeedback:!0},o.createElement(Se,null,o.createElement(O,null),o.createElement(ye,null,null==E?void 0:E.map(((e,t)=>e.icon||e.text?o.createElement(we,{key:t},e.icon&&o.createElement(p.I,{name:e.icon,size:16}),e.text&&o.createElement(xe,{pl:"s2",numberOfLines:1,mr:"s4",typography:"subtext"},e.text)):null)))))),r&&!n&&o.createElement(a.SB,{onPress:P,onPressParam:ke.remove,disableFeedback:!0},o.createElement(be,null,o.createElement(De,null,o.createElement(p.I,{name:"Close",size:16}),o.createElement(xe,{typography:"label",ml:"s1"},null!==(i=e.localizedStrings.remove)&&void 0!==i?i:"Remove")))))}));var Le,Me=i(390437),Ne=i(876505),He=i(46277),We=i(311676),Be=i(672748),Ue=i(439322);!function(e){e.left="LEFT",e.right="RIGHT",e.none="NONE"}(Le||(Le={}));const{width:Fe}=s.Dimensions.get("window"),Ge=.87,ze=333,je=Fe-32,Xe=321/1.74,Ye=6.89159730479588,qe=174,Je=173.5632183908046,Ke=6.75,Qe=({data:e,selectedItems:t,onSelectionChange:i,localizedStrings:n,trackDiscoveryContentEngagementEvent:r,actionDispatcher:a})=>{var l,d;const c=(0,o.useCallback)((()=>{var i,n,r,a,o,s,l,d,c,u,h,p;if((null!==(n=null===(i=null==e?void 0:e.renderableComponents)||void 0===i?void 0:i.length)&&void 0!==n?n:0)>=1&&t.length>0){if((null===(s=null===(o=null===(a=null===(r=null==e?void 0:e.renderableComponents)||void 0===r?void 0:r[0])||void 0===a?void 0:a.value)||void 0===o?void 0:o.productMeta)||void 0===s?void 0:s.productId)===(null==t?void 0:t[0]))return Le.left;if((null!==(d=null===(l=null==e?void 0:e.renderableComponents)||void 0===l?void 0:l.length)&&void 0!==d?d:0)>=2&&(null===(p=null===(h=null===(u=null===(c=null==e?void 0:e.renderableComponents)||void 0===c?void 0:c[1])||void 0===u?void 0:u.value)||void 0===h?void 0:h.productMeta)||void 0===p?void 0:p.productId)===(null==t?void 0:t[0]))return Le.right}return Le.none}),[e,t]),[u,h]=(0,o.useState)(c),[p,g]=(0,o.useState)(Le.none),m=(0,o.useRef)({width:new s.Animated.Value(c()===Le.left?qe:c()===Le.right?Je:Xe),translateX:new s.Animated.Value(c()===Le.right?-6.75:Ye),opacity:new s.Animated.Value(1),scale:new s.Animated.Value(c()===Le.left?1:Ge)}).current,v=(0,o.useRef)({width:new s.Animated.Value(c()===Le.right?qe:c()===Le.left?Je:Xe),translateX:new s.Animated.Value(c()===Le.left?Ke:-6.89159730479588),opacity:new s.Animated.Value(1),scale:new s.Animated.Value(c()===Le.right?1:Ge)}).current,_=(0,o.useCallback)((e=>{s.Animated.parallel(e).start()}),[]),C=(0,o.useCallback)((e=>{_([s.Animated.timing(m.scale,{toValue:e===Le.left?1:Ge,duration:300,useNativeDriver:!1}),s.Animated.timing(m.width,{toValue:e===Le.left?qe:e===Le.right?Je:Xe,duration:300,useNativeDriver:!1}),s.Animated.timing(m.translateX,{toValue:e===Le.right?-6.75:Ye,duration:300,useNativeDriver:!1}),s.Animated.timing(v.scale,{toValue:e===Le.right?1:Ge,duration:300,useNativeDriver:!1}),s.Animated.timing(v.width,{toValue:e===Le.right?qe:e===Le.left?Je:Xe,duration:300,useNativeDriver:!1}),s.Animated.timing(v.translateX,{toValue:e===Le.left?Ke:-6.89159730479588,duration:300,useNativeDriver:!1}),s.Animated.timing(m.opacity,{toValue:1,duration:300,useNativeDriver:!1}),s.Animated.timing(v.opacity,{toValue:1,duration:300,useNativeDriver:!1})])}),[m,v,_]),E=(0,o.useCallback)((e=>{let t=[];if(e===Le.left)t=[s.Animated.timing(m.width,{toValue:je,duration:300,useNativeDriver:!1}),s.Animated.timing(m.translateX,{toValue:0,duration:300,useNativeDriver:!1}),s.Animated.timing(v.width,{toValue:0,duration:300,useNativeDriver:!1}),s.Animated.timing(v.opacity,{toValue:0,duration:200,useNativeDriver:!1})];else if(e===Le.right)t=[s.Animated.timing(v.width,{toValue:je,duration:300,useNativeDriver:!1}),s.Animated.timing(m.width,{toValue:0,duration:300,useNativeDriver:!1}),s.Animated.timing(v.translateX,{toValue:0,duration:300,useNativeDriver:!1}),s.Animated.timing(m.opacity,{toValue:0,duration:200,useNativeDriver:!1})];else{const e=u===Le.left,i=u===Le.right;t=[s.Animated.timing(m.width,{toValue:e?qe:i?Je:Xe,duration:300,useNativeDriver:!1}),s.Animated.timing(v.width,{toValue:i?qe:e?Je:Xe,duration:300,useNativeDriver:!1}),s.Animated.timing(m.translateX,{toValue:i?-6.75:Ye,duration:300,useNativeDriver:!1}),s.Animated.timing(v.translateX,{toValue:e?Ke:-6.89159730479588,duration:300,useNativeDriver:!1}),s.Animated.timing(m.opacity,{toValue:1,duration:200,useNativeDriver:!1}),s.Animated.timing(v.opacity,{toValue:1,duration:200,useNativeDriver:!1})]}_(t)}),[m,v,_,u]),T=(e,t)=>{const{attachType:i,planTerm:n,finalPrice:r,fetchId:a}=e||{},o=Number(r),s=Number(n);return{productId:null==t?void 0:t.productId,attachType:i,planTerm:s,finalPrice:o,fid:a,listingId:null==t?void 0:t.listingId}},f=(t,i)=>{var n,r,a;if(null==t?void 0:t.tracking){const o=T(null==t?void 0:t.tracking,null===(n=null==t?void 0:t.value)||void 0===n?void 0:n.productMeta)||{},s=null===(a=null===(r=null==e?void 0:e.renderableComponents)||void 0===r?void 0:r[0].value)||void 0===a?void 0:a.parentProductContext,{productId:l,listingId:d,fid:c,isAlreadyAttached:h,socialMarketingId:p,attachType:g}=o,m=(0,Be.lk)();if(!c||!l||!d)return;const v=u===i?He.Ic.Expanded:He.Ic.Collapse;return new Ue.A(m,c,l,d,g,null==s?void 0:s.listingId,h,v,p)}},A=(e,t,i=!1)=>{((e,t,i=!1)=>{const{productId:n,listingId:r,finalPrice:a,fid:o,parentListId:s,userState:l,attachType:d,planTerm:c}=e,u=(0,Be.lk)();if(a&&isNaN(a)||c&&isNaN(c))return;if(!o||!n||!r)return;const h=i?1:2,p=new We.dX2(u,o,n,r,h,a,l,s,d,c);t&&t(new We.ax6(p))})(T(e,t)||{},a,i)},S=(0,o.useCallback)(((t,n)=>{var a,o,s,l,d,c;const p=null===(s=null===(o=null===(a=null==e?void 0:e.renderableComponents)||void 0===a?void 0:a[0])||void 0===o?void 0:o.value)||void 0===s?void 0:s.parentProductContext,m=null===(l=null==e?void 0:e.renderableComponents)||void 0===l?void 0:l[0],v=null===(d=null==e?void 0:e.renderableComponents)||void 0===d?void 0:d[1],_=t===Le.left?m:v,T=(n,r)=>{var a;const o=null===(a=null==n?void 0:n.value)||void 0===a?void 0:a.productMeta;if(o){i(o.productId,r,o.listingId||"",p,null==n?void 0:n.tracking);const a=null==e?void 0:e.renderableComponents;if(a&&a.length>1){const e=t===Le.left?a[0]:a[1],i=null==e?void 0:e.tracking;A(i,o,r)}}};if(n===ke.remove)E(Le.none),C(Le.none),h(Le.none),g(Le.none),T(_,!1);else if(n===ke.close)E(Le.none),C(u),g(Le.none);else if(u!==t){C(t),h(t),g(Le.none);const e=u===Le.left?m:v;e&&u!==Le.none&&T(e,!1),T(_,!0)}else if(E(t),g(t),r&&_){const i=null==e?void 0:e.renderableComponents;if(i&&i.length>1){const e=t===Le.left?i[0]:i[1],n=null==e?void 0:e.tracking;r(Object.assign(Object.assign({},n),{contentTitle:(null===(c=null==e?void 0:e.value)||void 0===c?void 0:c.title)||""}),Me.O.CLICK)}}}),[u,e,i,C,E,r,A,a]);(0,o.useEffect)((()=>{const e=c(),t="ios"===s.Platform.OS?600:400;let i;return e===Le.none&&(i=setTimeout((()=>{S(Le.left,ke.none)}),t)),()=>{i&&clearTimeout(i)}}),[]);const y={width:m.width,opacity:m.opacity,transform:[{translateX:m.translateX},{scale:m.scale}]},w={width:v.width,opacity:v.opacity,transform:[{translateX:v.translateX},{scale:v.scale}]};return o.createElement(s.View,{style:[Ze.cardContainer,p!==Le.none&&Ze.containerExpanded]},(null===(l=null==e?void 0:e.renderableComponents)||void 0===l?void 0:l[0])&&o.createElement(Ne.A,{trackingInfo:f(null==e?void 0:e.renderableComponents[0],Le.left)},o.createElement(s.Animated.View,{style:y},o.createElement(Ve,{isExpanded:p===Le.left,isSelected:u===Le.left,onPress:S,isLeftCard:!0,currentlyExpanded:p,data:e.renderableComponents[0].value,localizedStrings:n}))),(null===(d=null==e?void 0:e.renderableComponents)||void 0===d?void 0:d[1])&&o.createElement(Ne.A,{trackingInfo:f(null==e?void 0:e.renderableComponents[1],Le.right)},o.createElement(s.Animated.View,{style:w},o.createElement(Ve,{isExpanded:p===Le.right,isSelected:u===Le.right,onPress:S,isLeftCard:!1,currentlyExpanded:p,data:e.renderableComponents[1].value,localizedStrings:n}))))},Ze=s.StyleSheet.create({cardContainer:{height:ze,width:ze,alignSelf:"center",flexDirection:"row",justifyContent:"center",alignItems:"center"},containerExpanded:{width:je,justifyContent:"center"}});var $e=i(410752),et=i(889995),tt=i(537415),it=i(787921),nt=i(166057),rt=i(331547),at=i(175968),ot=i(736581),st=i(470496),lt=i(354397);const dt=g.az.extendComponent({name:"PrimaryButtonBox",defaultProps:{flex:1,borderRadius:v.CRKeysBasic.cr6,py:"s3",px:"s8",alignItems:"center",justifyContent:"center",height:44,overflow:"hidden",position:"relative"}}),ct=g.JU.extendComponent({name:"PrimaryButtonLabel",defaultProps:{typography:"subheading",color:"foreground.constant.black",zIndex:1}}),ut=g.az.extendComponent({name:"SecondaryButtonBox",defaultProps:{flex:1,bg:"backgroundSubtle.neutral.base",borderColor:"outline.neutral.subtle",borderWidth:v.OutlineKeysBasic.o2,borderRadius:v.CRKeysBasic.cr6,py:"s3",px:"s8",alignItems:"center",justifyContent:"center",height:44}}),ht=g.JU.extendComponent({name:"SecondaryButtonLabel",defaultProps:{typography:"subheading",color:"foreground.default.primary"}});var pt=i(294188);const{az:gt,JU:mt}=a.zN;var vt;!function(e){e.ADD="ADD",e.DELETE="DELETE"}(vt||(vt={}));class _t extends r.A{localizeAndCapitalize(e){const t=this.localize({id:e});return t.charAt(0).toLocaleUpperCase()+t.slice(1).toLowerCase()}constructor(e){super(e),this.savingsMap={},this.localProductsData={},this.BUY_NOW_ACTION="BUY_NOW",this.SKIP_ALL="SKIP_ALL",this.CONTINUE="CONTINUE",this.WIDGET_NAME="GROUPED_PMU_V2",this.gradientColors=(0,v.resolveGradients)("secondary.500To700",at.default),this.handleTabPress=e=>{this.trackDCE(e,Me.O.CLICK),this.setState((t=>Object.assign(Object.assign({},t),{activeTabIndex:e,isTabRendered:!0})))},this.handleSelectionChange=(e,t,i,n,r)=>{var a,o,s;this.setState((i=>{var n,r;const a=[...i.tabs],{activeTabIndex:o}=i,s=a[o].selectedProducts;let l,d=i.totalSavings;const c=this.savingsMap[e],u=c&&c.id===a[o].id;return t?(l=[...s,e],u&&(d=i.totalSavings+(null!==(n=null==c?void 0:c.savings)&&void 0!==n?n:0))):(l=s.filter((t=>t!==e)),u&&(d=i.totalSavings-(null!==(r=null==c?void 0:c.savings)&&void 0!==r?r:0))),a[o]=Object.assign(Object.assign({},a[o]),{selectedProducts:l}),{tabs:a,totalSavings:d}})),this.updateLocalData(e,i,null==n?void 0:n.productId,null==n?void 0:n.listingId,t);const l=null===(s=null===(o=null===(a=this.props.pageInfo)||void 0===a?void 0:a.pageContext)||void 0===o?void 0:o.actionContext)||void 0===s?void 0:s.product_page_action;t&&this.props.actionDispatcher&&(l===this.BUY_NOW_ACTION?this.trackBuyNow(e,i,r):this.trackAddToCart(e,i,r))},this.trackAddToCart=(e,t,i)=>{var n,r,a,o;const s=new We.jto(t,null!==(n=null==i?void 0:i.contextType)&&void 0!==n?n:"",void 0,new st.A(null!==(r=null==i?void 0:i.impressionId)&&void 0!==r?r:""),void 0,e,null==i?void 0:i.brand,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,null==i?void 0:i.findingMethod,void 0,void 0,void 0,void 0,null==i?void 0:i.contentMarketPlace,void 0,void 0,void 0,void 0,!1);null===(o=(a=this.props).actionDispatcher)||void 0===o||o.call(a,new We.ax6(s))},this.trackBuyNow=(e,t,i)=>{var n,r;const a=(null==i?void 0:i.instanceId)||"",o=new We.ax6(new We.bTG(a,t,e,{fsn:e,ua:1,dfm:null==i?void 0:i.findingMethod,ip:!1}));null===(r=(n=this.props).actionDispatcher)||void 0===r||r.call(n,o)},this.performActionAndNavigate=e=>{var t,i,n;const r=null===(n=null===(i=null===(t=this.props.pageInfo)||void 0===t?void 0:t.pageContext)||void 0===i?void 0:i.actionContext)||void 0===n?void 0:n.product_page_action,a={cartContext:this.localProductsData},o={type:r===this.BUY_NOW_ACTION?nt.a.BUY_NOW_ADD_ONS:nt.a.ADD_TO_CART_ADD_ONS,tracking:{},params:{},loginType:tt.G.CHECKOUT_LOGIN,storeValue:{}};if(0===Object.keys(this.localProductsData).length)return void this.dispatchAction(it.A.MAPI_ACTION,new u.Oy(e));const s=new et.I(o,e,a);this.dispatchAction(it.A.MAPI_ACTION,Object.assign({},s))},this.updateLocalData=(e,t,i,n,r=!0)=>{r?(this.localProductsData[t]={cashifyDiscountApplied:!1,quantity:1,vulcanDiscountApplied:!1,productId:e},n&&(this.localProductsData[t]=Object.assign(Object.assign({},this.localProductsData[t]),{parentProductContext:{hasBundleOffer:!1,productId:i,listingId:n}}))):this.localProductsData[t]&&delete this.localProductsData[t]},this.handleLottieAnimationFinish=()=>{this.setState((e=>Object.assign(Object.assign({},e),{lottiePlaying:!1})))},this.getPrimaryButton=e=>e?o.createElement(dt,null,o.createElement(ie.W,{gradientColors:this.gradientColors,gradientStart:rt._.LEFT,gradientEnd:rt._.RIGHT,style:[s.StyleSheet.absoluteFill,{zIndex:0}],renderInWeb:!0,pointerEvents:"none"}),o.createElement(ct,null,e)):null,this.getSecondaryButton=e=>e?o.createElement(ut,null,o.createElement(ht,null,e)):null,this.renderButtons=(e,t)=>{var i,n,r,s;const{activeTabIndex:l,tabs:d}=this.state;if(!(null==e?void 0:e.value))return null;const c=(null==e?void 0:e.value.actionType)===lt.Q.INTERSTITIAL_CAROUSEL_NAVIGATION;let u=!1;l<d.length&&0===l&&(u=null!==(i=null==e?void 0:e.value.shouldUseAlternateText)&&void 0!==i&&i);let h,p=u&&(null===(n=null==e?void 0:e.value)||void 0===n?void 0:n.alternateText)?null===(r=null==e?void 0:e.value)||void 0===r?void 0:r.alternateText:null===(s=null==e?void 0:e.value)||void 0===s?void 0:s.text,g=u;return h=(null==e?void 0:e.value.makePrimary)?this.getPrimaryButton(p):this.getSecondaryButton(p),o.createElement(a.SB,{onPress:()=>this.handleButtonTap(c,g,null==e?void 0:e.action)},h)},this.state=this.init(e),this.viewMap={protection_plans:Qe,accessories:V,more_products:V},this.localizedStrings={add:this.localizeAndCapitalize($e.H.rex_string_ADD),remove:this.localizeAndCapitalize($e.H.rex_string_REMOVE)}}componentDidMount(){var e,t;super.componentDidMount();const i=null===(t=null===(e=this.props)||void 0===e?void 0:e.pageInfo)||void 0===t?void 0:t.pageContext;i&&ot.F.triggerPPBSEvent(i,this.trackDGEvent)}init(e){var t,i,n;const r=(0,ee.nS)(e.widgetSlotData),a=null==r?void 0:r.data,o=null==a?void 0:a.tabComponents,s=[];this.savingsMap={},this.localProductsData={};const l=null===(n=null===(i=null===(t=e.pageInfo)||void 0===t?void 0:t.pageContext)||void 0===i?void 0:i.actionContext)||void 0===n?void 0:n.product_page_action;o&&o.forEach((e=>{var t;const i=e.identifier,n=e.savings;n&&"object"==typeof n&&Object.keys(n).forEach((e=>{this.savingsMap[e]={id:i||"",savings:n[e]}}));const r=[];null===(t=null==e?void 0:e.renderableComponents)||void 0===t||t.map((e=>{const t=null==e?void 0:e.value;if(t&&(null==t?void 0:t.addedByDefault)&&(null==t?void 0:t.productMeta)){const e=t.productMeta,i=e.productId,n=e.listingId||"";r.push(i),this.updateLocalData(i,n)}})),s.push({id:e.identifier||"",title:e.title||"",selectedProducts:r})}));let d=0;if(l!==this.BUY_NOW_ACTION){const e=this.props.appContext.userManager.getCartContents();Object.values(e).forEach((e=>{const t=e.pid;if(this.savingsMap[t]){d+=this.savingsMap[t].savings;const i=this.savingsMap[t],n=s.findIndex((e=>e.id===i.id));-1!==n&&(s[n].selectedProducts.includes(t)||(s[n].selectedProducts.push(t),this.updateLocalData(t,e.listId,void 0,e.parentContext)))}}))}return Object.assign(Object.assign({},this.state),{activeTabIndex:0,lottiePlaying:!0,totalSavings:d,tabs:s,isTabRendered:!1})}static getWidgetHeight(e){return 542+r.A.getAdditionalHeight(e)}componentDidUpdate(e,t,i){this.isWidgetDataChanged(e)&&this.setState(this.init(this.props))}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i)||this.state.activeTabIndex!==t.activeTabIndex||this.state.lottiePlaying!==t.lottiePlaying||this.state.totalSavings!==t.totalSavings||this.state.isTabRendered!==t.isTabRendered||(0,pt.A)(this.state.tabs,t.tabs)}trackDCE(e,t){const i=(0,ee.nS)(this.props.widgetSlotData),n=null==i?void 0:i.data,r=null==n?void 0:n.tabComponents;if(r&&r.length>e){const n=r[e].title;this.trackDiscoveryContentEngagementEvent(Object.assign(Object.assign({},null==i?void 0:i.tracking),{contentType:this.WIDGET_NAME+"_"+n}),t)}}handleButtonTap(e,t,i){var n,r,a,o,s,l,d,c,u,h,p;const{activeTabIndex:g,tabs:m}=this.state;if(e){const e=g+1;if(e<m.length)return this.trackDCE(g,Me.O.CONTINUE_CLICK),void this.setState((t=>Object.assign(Object.assign({},t),{activeTabIndex:e,isTabRendered:!0})))}else t&&(this.localProductsData={});const v=null===(a=null===(r=null===(n=this.props.pageInfo)||void 0===n?void 0:n.pageContext)||void 0===r?void 0:r.actionContext)||void 0===a?void 0:a.product_page_action,_=(null===(d=null===(l=null===(s=null===(o=this.props.pageInfo)||void 0===o?void 0:o.pageContext)||void 0===s?void 0:s.fdpEventTracking)||void 0===l?void 0:l.commonContext)||void 0===d?void 0:d.fid)||"";if(v&&_){let i=t?this.SKIP_ALL:e?this.CONTINUE:v;const n=(null===(p=null===(h=null===(u=null===(c=this.props.pageInfo)||void 0===c?void 0:c.pageContext)||void 0===u?void 0:u.fdpEventTracking)||void 0===h?void 0:h.events)||void 0===p?void 0:p.IS.pplid)||"",r=new We.wEC(_,i,n);this.trackDGEvent(r);const a={cartContext:this.localProductsData};this.trackDGEvent(new We.YUY(i,a))}i&&this.performActionAndNavigate(i)}renderActiveView(){const e=(0,ee.nS)(this.props.widgetSlotData),t=null==e?void 0:e.data,i=null==t?void 0:t.tabComponents,{activeTabIndex:n,tabs:r}=this.state;if(!r||0===r.length||n>=r.length)return null;const a=r[n],s=this.viewMap[a.id];return s?o.createElement(s,{startAnimation:!this.state.lottiePlaying,selectedItems:a.selectedProducts,autoSelectionTriggered:!this.state.isTabRendered,onSelectionChange:this.handleSelectionChange,data:null==i?void 0:i[n],actionDispatcher:this.props.actionDispatcher,localizedStrings:this.localizedStrings,trackDiscoveryContentEngagementEvent:this.trackDiscoveryContentEngagementEvent,getTrackableContentView:this.getTrackableContentView}):null}renderWidget(){var e;const{activeTabIndex:t,tabs:i,lottiePlaying:n}=this.state,r=(0,ee.nS)(this.props.widgetSlotData),a=null==r?void 0:r.data;if(!a||0===i.length)return;const{title:l,tabComponents:d,lottieUrl:c}=a,u=null==a?void 0:a.savingsCallout,h=this.state.totalSavings,p=null!=c?c:"https://static-assets-web.flixcart.com/apex-static/lottie/golden-confetti.json",g="number"==typeof h?`${m.A.getFormattedIndianCurrency(h)}`:h;return o.createElement(gt,{style:Ct.container},o.createElement(gt,null,o.createElement(Z,{title:l,data:d,startAnimation:!n,tabsData:i,activeTabIndex:t,handleTabPress:this.handleTabPress}),o.createElement(gt,{style:Ct.viewContainer},this.renderActiveView()),n&&o.createElement($.n,{style:s.StyleSheet.absoluteFill,sourceUrl:p,speed:1,autoPlay:!0,loop:!1,onAnimationFinish:this.handleLottieAnimationFinish})),o.createElement(gt,{bg:"backgroundSubtle.neutral.base",mt:"web"===s.Platform.OS?"s8":"s6",style:"web"===s.Platform.OS?Ct.footerContainer:null},o.createElement(gt,{width:"100%",bg:h>0?"backgroundSubtle.success.group":"backgroundSubtle.neutral.base",px:"s6",py:"s3",alignItems:"center"},o.createElement(mt,{typography:"label",color:h>0?"foreground.success.highlight":"backgroundSubtle.neutral.base"},`${u} ${g}`)),o.createElement(gt,{flexDirection:"row",py:"s4",px:"s6",justifyContent:"space-between",gap:"s4"},null===(e=null==a?void 0:a.actionButtons)||void 0===e?void 0:e.map(this.renderButtons))))}}const Ct=s.StyleSheet.create({container:{flex:1,justifyContent:"center",backgroundColor:"#fff"},viewContainer:{flex:1,height:348},footerContainer:{paddingBottom:16}});class Et extends n.A{getWidgetClass(e){return _t}getWidgetHeight(e){return _t.getWidgetHeight(e)}}},865167:(e,t,i)=>{"use strict";i.d(t,{n:()=>v});var n,r=i(296540),a=i(877293),o=i(475588),s=i(352254),l=i(495176),d=i(169211),c=i(198213),u=i(257246),h=i(879052),p=i(347924),g=i(294188);!function(e){e[e.FADED=0]="FADED",e[e.TRANSLATED=1]="TRANSLATED",e[e.COLLAPSIBLE=2]="COLLAPSIBLE",e[e.NONE=3]="NONE"}(n||(n={}));const m=p.az.extendComponent({name:"SneekImagePlaceHolder",defaultProps:{borderRadius:10,borderWidth:1,borderColor:"common.white",shadow:10,overflow:"hidden",bg:"common.white"}});class v extends r.PureComponent{Animation(){a.Animated.parallel([a.Animated.sequence([a.Animated.timing(this.scaleAnimatedValue,{toValue:1,duration:400,easing:a.Easing.out(a.Easing.ease),useNativeDriver:!0}),a.Animated.delay(500),a.Animated.timing(this.scaleAnimatedValue,{toValue:0,duration:400,easing:a.Easing.out(a.Easing.ease),useNativeDriver:!0})]),a.Animated.sequence([a.Animated.timing(this.transformAnimatedValue,{toValue:0,duration:400,easing:a.Easing.out(a.Easing.ease),useNativeDriver:!0}),a.Animated.delay(500),a.Animated.timing(this.transformAnimatedValue,{toValue:40,duration:400,easing:a.Easing.out(a.Easing.ease),useNativeDriver:!0})])]).start()}constructor(e){super(e),this.transformAnimatedValue=new a.Animated.Value(40),this.scaleAnimatedValue=new a.Animated.Value(0),this._animatedValueListener=e=>this.setState({currentAnimatedValue:e.value}),this._getAnimationOpacityValue=e=>e.interpolate({inputRange:[0,1],outputRange:[1,0]}),this._getAnimationTranslationValue=e=>e.interpolate({inputRange:[0,1],outputRange:[0,120]}),this._getAnimationResizeValue=e=>e.interpolate({inputRange:[0,1],outputRange:[this.state.expandedWidth,v.COLLAPSED_WIDTH]}),this._renderAnimatedSneakImages=e=>r.createElement(a.Animated.View,{style:{transform:[{translateY:this.transformAnimatedValue},{scale:this.scaleAnimatedValue}],opacity:this.scaleAnimatedValue}},r.createElement(p.az,null,r.createElement(p.fI,null,e.map(((e,t)=>r.createElement(m,{style:{transform:[{rotate:15*(t-1)+"deg"}]},top:1===t?-8:-3,zIndex:1===t?1:0},r.createElement(s.A,{source:e.dynamicImageUrl,height:v.SNEAK_IMAGE_HEIGHT,width:v.SNEAK_IMAGE_WIDTH}))))))),this.updateCollapsibleWidth=e=>{if(2!==this.props.animatedWrap)return;const t=this.state.expandedWidth,i=e.nativeEvent.layout.width;(0===t||i>t&&i>v.COLLAPSED_WIDTH)&&this.setState({expandedWidth:i})},this.state=Object.assign(Object.assign({},this.state),{currentAnimatedValue:0,expandedWidth:0})}componentWillUnmount(){var e;null===(e=this.props.overlayActionValue)||void 0===e||e.removeAllListeners()}componentDidMount(){var e,t;(null===(t=null===(e=this.props.component)||void 0===e?void 0:e.value)||void 0===t?void 0:t.animationImages)&&this.Animation()}componentDidUpdate(e,t,i){(0,g.A)(e.component,this.props.component)&&this.Animation()}render(){return this.props.trackingInfo?r.createElement(c.BA,{trackingInfo:this.props.trackingInfo},this._renderOverlayContent()):this._renderOverlayContent()}_renderOverlayContent(){if(this.props.overlayActionValue)switch(this.props.animatedWrap){case 0:const e=this._getAnimationOpacityValue(this.props.overlayActionValue);return r.createElement(a.Animated.View,{style:[this.props.viewStyle,{opacity:e}]},this._renderContent());case 1:const t=this._getAnimationTranslationValue(this.props.overlayActionValue);return r.createElement(a.Animated.View,{style:[this.props.viewStyle,{transform:[{translateX:t}]}]},this._renderContent());case 2:this.props.overlayActionValue.addListener(this._animatedValueListener);const i=0!==this.state.expandedWidth?{width:this._getAnimationResizeValue(this.props.overlayActionValue)}:void 0;return r.createElement(a.Animated.View,{style:[this.props.viewStyle,i]},this._renderContent());default:return this._renderContent()}return this._renderContent()}_renderContent(){var e,t,i,n,c,p,g,m,v,_,C,E,T,f,A,S,y;const w="number"==typeof this.props.defaultImageSize?this.props.defaultImageSize:(null===(e=this.props.defaultImageSize)||void 0===e?void 0:e.height)||0,I="number"==typeof this.props.defaultImageSize?this.props.defaultImageSize:(null===(t=this.props.defaultImageSize)||void 0===t?void 0:t.width)||0,b=!(!this.props.imageStyle||!(null===(n=null===(i=this.props.component)||void 0===i?void 0:i.value)||void 0===n?void 0:n.iconRight)&&!this.props.defaultImageSource||!w||!I),D=b?{height:w,width:I,style:this.props.imageStyle,source:(null===(g=null===(p=null===(c=this.props.component)||void 0===c?void 0:c.value)||void 0===p?void 0:p.iconRight)||void 0===g?void 0:g.dynamicImageUrl)||(null===(_=null===(v=null===(m=this.props.component)||void 0===m?void 0:m.value)||void 0===v?void 0:v.image)||void 0===_?void 0:_.dynamicImageUrl)||this.props.defaultImageSource}:void 0,x=0===this.state.currentAnimatedValue&&!!this.props.textStyle&&!!(null===(E=null===(C=this.props.component)||void 0===C?void 0:C.value)||void 0===E?void 0:E.text),P=x?{style:[this.props.textStyle,(0,u.Yx)(this.props.themeContext)],text:null===(f=null===(T=this.props.component)||void 0===T?void 0:T.value)||void 0===f?void 0:f.text}:void 0,O=this.props.disableElevation?this.props.containerStyle:[o.a.overlayShadow,this.props.containerStyle],R=null===(S=null===(A=this.props.component)||void 0===A?void 0:A.value)||void 0===S?void 0:S.animationImages,k=r.createElement(a.View,Object.assign({},(0,h.Z)("Overlay_Container"),{style:O,onLayout:this.updateCollapsibleWidth}),b&&(null==D?void 0:D.source)&&r.createElement(s.A,Object.assign({},(0,h.Z)("Overlay_Image"),D)),x&&(null==P?void 0:P.text)&&r.createElement(l.A,Object.assign({},(0,h.Z)("Overlay_Text"),P)),this.props.children),V=(null===(y=this.props.component)||void 0===y?void 0:y.action)||this.props.onPressParam;return this.props.onPress&&V?r.createElement(r.Fragment,null,R&&this._renderAnimatedSneakImages(R),r.createElement(d.S,Object.assign({},(0,h.Z)("Overlay_Container_Tappable"),{hitSlop:this.props.hitSlop,onPress:this.props.onPress,onPressParam:V,disableFeedback:!0}),k)):k}}v.COLLAPSED_WIDTH=36,v.SNEAK_IMAGE_HEIGHT=51,v.SNEAK_IMAGE_WIDTH=38,v.defaultProps={disableElevation:!1}},868882:(e,t,i)=>{"use strict";i.d(t,{A:()=>R});var n=i(296540),r=i(285669),a=i(877293),o=i(927443),s=i(479892),l=i(184452),d=i(723372),c=i(169211),u=i(915742),h=i(912830),p=i(50745),g=i(914944),m=i(492418),v=i(415283),_=i(437842),C=i(198213),E=i(408791),T=i(229022),f=i(876505),A=i(721503),S=i(580555),y=i(311676),w=i(257246),I=i(808584),b=i(146387),D=i(57522),x=i(545992),P=i(879052);const O=a.Dimensions.get("window").width;class R extends r.A{constructor(e,t){super(e,t),this._fadeAnimation=new a.Animated.Value(1),this._EASE_IN_ANIMATION_CONFIG={toValue:1,duration:300,easing:a.Easing.ease,useNativeDriver:!1},this.couponApplied=()=>{var e,t,i;const r=[{backgroundColor:null===(t=null===(e=this.props.couponApplied)||void 0===e?void 0:e.renderAttributes)||void 0===t?void 0:t.background,maxWidth:155},s.C1.padding_horizontal_6,s.C1.padding_vertical_2,s.C1.border_radius_2,s.C1.wrap];return n.createElement(a.View,{style:r},n.createElement(a.Text,{style:[s.XT.fontMedium_10,s.XT.letterSpacing_40,s.XT.whiteText]},null===(i=this.props.couponApplied)||void 0===i?void 0:i.text))},this.couponCTA=()=>{var e,t,i,r,o;const l=[s.C1.backgroundWhite,s.C1.alignItemCenter,s.C1.justifyContentCenter,s.C1.padding_horizontal_12,s.C1.padding_vertical_10,s.C1.border_radius_4,s.C1.border_width_1,s.C1.wrap,s.C1.color_border_grey,{maxWidth:140},(0,w.No)(this.props.pageThemeContext)];return n.createElement(a.View,{style:l},n.createElement(a.Text,{style:[s.XT.fontMedium_12,s.XT.letterSpacing_30,{color:null===(i=null===(t=null===(e=this.props.couponCta)||void 0===e?void 0:e.value)||void 0===t?void 0:t.renderAttributes)||void 0===i?void 0:i.background},(0,w.z5)(this.props.pageThemeContext)]},null===(o=null===(r=this.props.couponCta)||void 0===r?void 0:r.value)||void 0===o?void 0:o.text))},this.couponCTAWithShimmer=()=>{var e,t,i,r;const o=this.state.isPriceSummaryOverlapping&&[s.C1.padding_top_10,s.C1.rowWithoutFlex];return n.createElement(C.BA,{onViewStarted:this.onViewStarted,postDelayed:!0,trackingConfig:{minViewVisibleTime:2e3,minViewVisiblePercentage:100},onLayout:e=>{const{width:t}=e.nativeEvent.layout;this.setState({couponWidth:t})},style:o},n.createElement(a.Animated.View,{style:{transform:[{scale:this._easeInValue}]}},n.createElement(c.S,{disableFeedback:!0,onPress:this.onCouponRedeem,onPressParam:null===(e=this.props.couponCta)||void 0===e?void 0:e.action},n.createElement(a.View,{style:[s.C1.border_radius_4,s.C1.overflowHidden]},n.createElement(_.A,{gradientViewStyle:{width:50,height:35},gradientStart:[0,1],gradientEnd:[1,1],gradientColors:[m.hIQ.transparentWhite,"rgba(242, 247, 255, 0.8)",m.hIQ.transparentWhite],duration:1500,easing:a.Easing.linear},this.couponCTA())))),(null===(t=this.props)||void 0===t?void 0:t.offerExpiryInfo)&&n.createElement(a.Text,{style:[this.state.isPriceSummaryOverlapping&&s.C1.padding_left_8,s.C1.margin_top_4,s.C1.alignSelfCenter,s.XT.letterSpacing_40,s.XT.fontMedium_10,s.XT.fkGreenText]},null===(r=null===(i=this.props.offerExpiryInfo)||void 0===i?void 0:i.data)||void 0===r?void 0:r[0].value.text))},this.couponAppliedWithShimmer=()=>n.createElement(a.View,{style:[s.C1.wrap,s.C1.overflowHidden,s.C1.justifyContentCenter]},n.createElement(_.A,{gradientViewStyle:{width:30,height:16},gradientStart:[0,1],gradientEnd:[1,1],gradientColors:[m.hIQ.transparentWhite,m.hIQ.white30,m.hIQ.transparentWhite],duration:1500,easing:a.Easing.linear},this.couponApplied()),!!this.props.offerExpiryTime&&n.createElement(a.View,{style:[s.C1.margin_top_4,s.C1.alignItemCenter]},n.createElement(u.Ay,{timestampInMillis:this.props.offerExpiryTime-Date.now(),prependingText:"Valid for",threshold:h.hR,thresholdStyle:p.hK.couponExpiryTimeThresholdTextStyle,timerType:h.De.THRESHOLD_TIMER_DAYS,style:p.hK.couponExpiryTextStyle}))),this._renderGamifiedCoupon=()=>{var e,t,i,r,o,l,c,u,h,g,m,v,_,f,A,S;const y=null===(t=null===(e=this.props)||void 0===e?void 0:e.couponSummaryVariant)||void 0===t?void 0:t[0],w=null===(i=null==y?void 0:y.value)||void 0===i?void 0:i.claimButton;if(!y)return;let b;const D=this.gamifiedCouponStyle(null===(r=null==y?void 0:y.value)||void 0===r?void 0:r.style);(null===(l=null===(o=null==y?void 0:y.value)||void 0===o?void 0:o.imageIcon)||void 0===l?void 0:l.value)&&(b=y.value.imageIcon.value);const x=(null===(c=null==y?void 0:y.value)||void 0===c?void 0:c.style)?[D,p.xJ.container]:p.xJ.container;return n.createElement(a.View,{style:x},w?this._getDCITrackingData(n.createElement(a.View,{style:s.C1.col},n.createElement(a.View,{style:p.xJ.couponContainer},n.createElement(a.View,{style:p.xJ.titleContainer},n.createElement(a.View,{style:s.C1.padding_right_8},b&&n.createElement(I.A,{width:b.width,height:b.height,imageValue:b})),(null===(u=y.value)||void 0===u?void 0:u.iconUrl)&&n.createElement(a.View,{style:p.xJ.lottie},n.createElement(E.n,{sourceUrl:null===(h=null==y?void 0:y.value)||void 0===h?void 0:h.iconUrl,loop:!0,autoPlay:!0,speed:1})),n.createElement(a.View,Object.assign({},(0,P.Z)("Product_Price_Coupon_Text_Container"),{style:s.C1.flex}),(null===(g=y.value)||void 0===g?void 0:g.newTitle)&&n.createElement(d.A,{textDefaultStyle:p.xJ.title,numberOfLines:2,messages:y.value.newTitle}),(null===(m=y.value)||void 0===m?void 0:m.subTitle)&&n.createElement(d.A,{textDefaultStyle:p.xJ.title,style:s.C1.margin_top_2,numberOfLines:2,messages:y.value.subTitle}))),n.createElement(a.View,Object.assign({},(0,P.Z)("Product_Price_Coupon_Claim_Btn"),{style:p.xJ.claimBtnContainer}),n.createElement(T.A,{btnData:w,borderWidth:1,onPress:this.onClaimClick,onPressParam:w,btnViewStyle:[p.xJ.claimBtn,(null===(v=y.value)||void 0===v?void 0:v.checked)?[s.C1.padding0H,s.C1.padding_vertical_0]:{}],btnTextStyle:p.xJ.btnText,inlineTitle:!0}))),(null===(_=y.value)||void 0===_?void 0:_.expiryDate)&&n.createElement(a.View,Object.assign({},(0,P.Z)("Product_Price_Coupon_Expiry_Date"),{style:[s.C1.rowCenter,{marginLeft:b?b.width+8:0}]}),n.createElement(d.A,{textDefaultStyle:p.xJ.title,style:s.C1.margin_top_4,numberOfLines:2,messages:y.value.expiryDate}))),y.tracking,this.props.uniqueViewId):n.createElement(a.View,null,n.createElement(a.Animated.View,{style:{opacity:this._fadeAnimation}},n.createElement(a.View,{style:p.xJ.rewardTextContainer},(null===(f=y.value)||void 0===f?void 0:f.iconUrl)&&n.createElement(C.Dk,{source:null===(A=y.value)||void 0===A?void 0:A.iconUrl,height:16,width:16,style:s.C1.margin_right_8}),(null===(S=y.value)||void 0===S?void 0:S.newTitle)&&n.createElement(d.A,{textDefaultStyle:p.xJ.rewardTitle,numberOfLines:1,messages:y.value.newTitle})))))},this.onCouponRedeem=(e,t)=>{this.props.actionDispatcher&&t&&this.props.actionDispatcher({type:v.Q3.MAPI_ACTION,payload:new g.rs(t)})},this.onClaimClick=(e,t)=>{if(this.props.actionDispatcher){if(null==t?void 0:t.tracking){const e=this.getDGActionOnContentClick(t.tracking);this.props.actionDispatcher(e)}(null==t?void 0:t.action)&&(this.props.actionDispatcher(new b.YI(new b.qF(D.j.SWC_COUPON_APPLIED_DATA,new x.R(!0)))),this.props.actionDispatcher({type:v.Q3.MAPI_ACTION,payload:new g.rs(t.action)}))}},this.getDGActionOnContentClick=e=>{let t;const i=new S.Ay(e),n=i?i.getImpressionInfo():void 0;t=new y.dv9(i,n,void 0);return new y.ax6(t)},this.onViewStarted=()=>{this._easeInAnimation.start()},this.applyAnimation=()=>{a.Animated.loop(a.Animated.sequence([a.Animated.timing(this._fadeAnimation,{toValue:1,duration:1e3,useNativeDriver:!0,easing:a.Easing.linear}),a.Animated.timing(this._fadeAnimation,{toValue:0,duration:1e3,useNativeDriver:!0,easing:a.Easing.linear})])).start()},this.stopAnimation=()=>{setTimeout((()=>{this._fadeAnimation.stopAnimation(((e=1)=>this._fadeAnimation.setValue(e)))}),5e3)},this._easeInValue="web"===a.Platform.OS?new a.Animated.Value(1):new a.Animated.Value(1.2),this._easeInAnimation=a.Animated.timing(this._easeInValue,this._EASE_IN_ANIMATION_CONFIG)}componentWillUnmount(){this._easeInAnimation.stop(),this._fadeAnimation.stopAnimation(((e=1)=>this._fadeAnimation.setValue(e)))}componentDidMount(){var e,t;this.props.couponSummaryVariant&&!(null===(t=null===(e=this.props.couponSummaryVariant)||void 0===e?void 0:e[0].value)||void 0===t?void 0:t.claimButton)&&(this.applyAnimation(),this.stopAnimation())}_getDCITrackingData(e,t,i){if(!e)return null;if(!t||!i)return e;const r=new S.Ay(t),a=r?r.getImpressionInfo():void 0,o=A.A.createNewInstance(i,r,a,void 0);return n.createElement(f.A,{style:s.C1.flex,trackingInfo:o},e)}gamifiedCouponStyle(e){var t,i,n,r;return{paddingTop:null===(t=null==e?void 0:e.padding)||void 0===t?void 0:t.top,paddingRight:null===(i=null==e?void 0:e.padding)||void 0===i?void 0:i.right,paddingBottom:null===(n=null==e?void 0:e.padding)||void 0===n?void 0:n.bottom,paddingLeft:null===(r=null==e?void 0:e.padding)||void 0===r?void 0:r.left,backgroundColor:null==e?void 0:e.backgroundColor,borderRadius:null==e?void 0:e.borderRadius,borderWidth:null==e?void 0:e.borderWidth,borderColor:null==e?void 0:e.borderColor}}render(){var e;if(!this.props.freebieCallout&&!this.state.mrp&&!this.state.finalPrice)return null;const t=[this.state.secondRowDiscountFinalSellingPriceStyle],i=(0,o.m3)(this.state.mrp),r=this.state.productPrice,c=!(!this.props.hideCNCInfo&&this.state.plusPriceInfo),u=this.props.isDealsTagPresent,h=[this.state.isPriceSummaryOverlapping?[s.C1.col,s.C1.alignItemFlexStart]:[s.C1.row,s.C1.alignItemCenter],u?[s.C1.padding_bottom_10,s.C1.border_bottom_radius_4]:[s.C1.padding_vertical_10,s.C1.margin_top_8,s.C1.border_radius_4],{backgroundColor:(0,w.zm)(this.props.pageThemeContext)||m.Jyk.couponGreen},s.C1.padding_horizontal_16,s.C1.justifyContentSpaceBetween],p=Number(a.StyleSheet.flatten(h).paddingHorizontal);return this.calculatePriceSummaryOverlapping(p),n.createElement(a.View,{style:[s.C1.flex,s.C1.margin_bottom_16]},n.createElement(a.View,{style:h},n.createElement(a.View,{style:s.C1.colWithoutFlex,onLayout:e=>{const{width:t}=e.nativeEvent.layout;this.setState({priceWidth:t})}},n.createElement(a.View,{style:s.C1.row},n.createElement(a.View,null,this.props.layoutKey===this.OFFER_IN_2ND_LINE_LAYOUT?n.createElement(a.View,{style:this.props.showSecondLineDiscountInCenter?l.cR:{}},n.createElement(a.View,{style:this.state.rowParentStyle},this.state.hasDiscount?n.createElement(a.Text,{style:t},i):null,this.props.currencySymbolStyle?this.state.productPriceFormatted:n.createElement(a.Text,{style:this.state.secondRowDiscountFinalPriceStyle},r)),n.createElement(a.View,{style:this.props.showNewDesignToImproveRecommendation?[this.state.finalOfferRowStyle,s.C1.padding_top_2]:this.state.finalOfferRowStyle},this.state.discountText&&!this.state.showDiscountAsAmount?this._renderDiscountView(this.state.discountText):this.state.discountAmountText?this._renderDiscountView(this.state.discountAmountText):null,this.props.fAssuredView)):this.isPriceVariationsABEnabled()?this.renderPriceVariationsAB():n.createElement(a.View,{style:this.state.rowParentStyle},n.createElement(a.View,{style:this.state.rowParentStyle},this._renderStrikedOffMrp(),this._renderFinalPrice()),this.props.freebieCallout?this._renderFreebieCallout(this.props.freebieCallout):null,!this.props.hideDiscount&&n.createElement(a.View,{style:this.state.defaultDiscountStyle},!this.state.discountText||this.state.showDiscountAsAmount||this.props.freebieCallout?this.state.discountAmountText&&!this.props.freebieCallout?this._renderDiscountView(this.state.discountAmountText):null:this._renderDiscountView(this.state.discountText))),c&&this.renderPricePerUnitText&&this.renderPricePerUnitText(this.props.isSpecialPriceHighlightEnabled,this.props.pricePerUnitText)),this.props.couponSummariesEnabled&&this.props.couponSummaries&&n.createElement(a.View,{style:this.state.rowParentStyle},this.renderCouponView())),!this.props.hideCNCInfo&&this.state.plusPriceInfo&&n.createElement(a.View,{style:s.C1.colWithoutFlex},n.createElement(d.A,{style:[l.iI,this.props.plusPriceStyle],messages:this.state.plusPriceInfo,textDefaultStyle:[this.props.plusPriceDefaultTextStyle,(0,w.Qn)(this.props.pageThemeContext)]}),this.renderPricePerUnitText&&this.renderPricePerUnitText(this.props.isSpecialPriceHighlightEnabled,this.props.pricePerUnitText)),this.props.couponCta&&this.couponCTAWithShimmer(),(null===(e=this.props.couponApplied)||void 0===e?void 0:e.text)&&this.couponAppliedWithShimmer())),this.props.couponSummaryVariant&&this._renderGamifiedCoupon())}calculatePriceSummaryOverlapping(e){if(this.state.couponWidth&&this.state.priceWidth){const t=2*Number(this.props.parentHorizontalPadding)+e+this.state.priceWidth+this.state.couponWidth,i=O<=t;this.setState({isPriceSummaryOverlapping:i})}}renderPricePerUnitText(e,t){const i=[s.C1.margin_left_0,{color:m.Jyk.grey}];return n.createElement(a.View,null,t&&n.createElement(a.View,{style:s.C1.margin_top_4},n.createElement(a.Text,{style:i},t)))}}},872550:(e,t,i)=>{var n=i(885809);e.exports=function(e){if(e>=55296&&e<=57343||e>1114111)return"";e in n&&(e=n[e]);var t="";e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e);return t+=String.fromCharCode(e)}},872926:(e,t,i)=>{"use strict";i.d(t,{A:()=>f});var n=i(296540),r=(i(605556),i(173620)),a=i(877293),o=i(12987),s=i.n(o),l=i(242276);const{width:d}=a.Dimensions.get("window"),c={backgroundColor:"transparent"};class u extends n.PureComponent{constructor(e){super(e),this.state={width:this.props.style.width||1,height:this.props.style.height||1}}componentDidMount(){this.props.style.width||this.props.style.height||a.Image.getSize(this.props.source.uri,((e,t)=>{this.setState({width:e,height:t})}))}render(){const e={};if(this.state.width>d){e.width=d;const t=d/this.state.width;e.height=this.state.height*t}const t=Object.assign(c,this.props.style,this.state,e);let i={};return i=e.width&&e.height?Object.assign(i,this.props.source,e):Object.assign(i,this.props.source,this.state),(0,r.A)(a.Image,{style:t,source:i})}}const h={lineBreak:"\n",paragraphBreak:"\n\n",bullet:" ",TextComponent:a.Text,textComponentProps:null,NodeComponent:a.Text,nodeComponentProps:null},p=e=>{const t=parseInt(e.attribs.width,10)||parseInt(e.attribs["data-width"],10)||0,i=parseInt(e.attribs.height,10)||parseInt(e.attribs["data-height"],10)||0,n={width:t,height:i},a={uri:e.attribs.src,width:t,height:i};return(0,r.A)(u,{source:a,style:n})};const g={fontWeight:"500"},m={fontStyle:"italic"},v={textDecorationLine:"line-through"},_={fontFamily:"ios"===a.Platform.OS?"Menlo":"monospace"},C=a.StyleSheet.create({b:g,strong:g,i:m,em:m,u:{textDecorationLine:"underline"},s:v,strike:v,pre:_,code:_,a:{fontWeight:"500",color:"#007AFF"},h1:{fontWeight:"500",fontSize:36},h2:{fontWeight:"500",fontSize:30},h3:{fontWeight:"500",fontSize:24},h4:{fontWeight:"500",fontSize:18},h5:{fontWeight:"500",fontSize:14},h6:{fontWeight:"500",fontSize:12}}),E=["lineBreak","paragraphBreak","bullet","TextComponent","textComponentProps","NodeComponent","nodeComponentProps"];class T extends n.PureComponent{constructor(){super(),this.state={element:null}}componentDidMount(){this.mounted=!0,this.startHtmlRender(this.props.value)}componentWillReceiveProps(e){this.props.value===e.value&&this.props.stylesheet===e.stylesheet&&this.props.textComponentProps===e.textComponentProps&&this.props.nodeComponentProps===e.nodeComponentProps||this.startHtmlRender(e.value,e.stylesheet,e.textComponentProps,e.nodeComponentProps)}componentWillUnmount(){this.mounted=!1}startHtmlRender(e,t,i,o){const{addLineBreaks:d,onLinkPress:c,onLinkLongPress:u,stylesheet:g,renderNode:m,onError:v}=this.props;e||this.setState({element:null});const _={addLineBreaks:d,linkHandler:c,linkLongPressHandler:u,styles:{...C,...g,...t},customRenderer:m};E.forEach((e=>{void 0!==this.props[e]&&(_[e]=this.props[e])})),i&&(_.textComponentProps=i),o&&(_.nodeComponentProps=o),function(e,t={},i){const o={...h,...t};function d(e){if(!e)return null;const t=a.StyleSheet.flatten(o.styles[e.name])||{};return{...d(e.parent)||{},...t}}function c(e,t){if(!e)return null;const i=o.customRenderer;let a=1;return e.map(((e,s,u)=>{if(i){const n=i(e,s,u,t,c);if(n||null===n)return n}const{TextComponent:h}=o;if("text"===e.type){const i=o.textComponentProps?o.textComponentProps.style:null,r=d(t);return n.createElement(h,Object.assign({},o.textComponentProps,{key:s,style:[i,r]}),l.decodeHTML(e.data))}if("tag"===e.type){if("img"===e.name)return(0,r.A)(p,{attribs:e.attribs},s);let i=null,g=null;"a"===e.name&&e.attribs&&e.attribs.href&&(i=()=>o.linkHandler(l.decodeHTML(e.attribs.href)),o.linkLongPressHandler&&(g=()=>o.linkLongPressHandler(l.decodeHTML(e.attribs.href))));let m=null,v=null;if(o.addLineBreaks)switch(e.name){case"pre":m=o.lineBreak;break;case"p":s<u.length-1&&(v=o.paragraphBreak);break;case"br":case"h1":case"h2":case"h3":case"h4":case"h5":v=o.lineBreak}let _=null;if("li"===e.name){const e=o.textComponentProps?o.textComponentProps.style:null,i=d(t);"ol"===t.name?_=(0,r.A)(h,{style:[e,i]},void 0,a+++". "):"ul"===t.name&&(_=(0,r.A)(h,{style:[e,i]},void 0,o.bullet)),o.addLineBreaks&&s<u.length-1&&(v=o.lineBreak)}const{NodeComponent:C,styles:E}=o;return n.createElement(C,Object.assign({},o.nodeComponentProps,{key:s,onPress:i,style:e.parent?null:E[e.name],onLongPress:g}),m,_,c(e.children,e),v)}}))}const u=new(s().DomHandler)((function(e,t){e&&i(e),i(null,c(t))})),g=new(s().Parser)(u);g.write(e),g.done()}(e,_,((e,t)=>{e&&v(e),this.mounted&&this.setState({element:t})}))}render(){const{RootComponent:e,style:t}=this.props,{element:i}=this.state;return i?n.createElement(e,Object.assign({},this.props.rootComponentProps,{style:t}),i):n.createElement(e,Object.assign({},this.props.rootComponentProps,{style:t}))}}T.defaultProps={addLineBreaks:!0,onLinkPress:e=>a.Linking.openURL(e),onLinkLongPress:null,onError:console.error.bind(console),RootComponent:e=>n.createElement(a.View,e)};const f=T},873009:(e,t,i)=>{"use strict";i.d(t,{BD:()=>p,Es:()=>l,Eu:()=>d,Sj:()=>g,TW:()=>c,cG:()=>h,kt:()=>m,oz:()=>u,vx:()=>s});var n=i(302019),r=i(492418),a=i(479892),o=i(305459);const s={UP:-2,DOWN:8},l={BAR_HEIGHT:64,BAR_WIDTH:4,DIVIDER_HEIGHT:.8,SELECTED_IMAGE_DIM:48,UNSELECTED_IMAGE_DIM:38,SELECTED_TEXT_SIZE:14,UNSELECTED_TEXT_SIZE:12,SELECTED_CORNER_RADIUS:8,BAR_CORNER_RADIUS:4},d=n.az.extendComponent({name:"SelectedTabHighlighter",defaultProps:({bgColor:e,shouldShow:t,tabHighlightHeight:i,barCornerRadius:n})=>({height:t?i:0,width:l.BAR_WIDTH,alignSelf:"center",borderTopRightRadius:n,borderBottomRightRadius:n,style:{backgroundColor:e||r.Jyk.royalBlue}})}),c=o.xM.extendComponent({name:"TabStyle",defaultProps:({selectedIndex:e,currentIndex:t,selectedBgColor:i,unselectedBgColor:n,selectedCornerRadius:a})=>({alignSelf:"stretch",borderTopRightRadius:(t||0)-1===e?a:0,borderBottomRightRadius:(t||0)+1===e?a:0,style:{backgroundColor:e===t?i||r.Jyk.white:n||r.Jyk.paleBlue}})}),u=n.DD.extendComponent({name:"TabStyle",defaultProps:({selectedIndex:e,currentIndex:t})=>({justifyContent:"center",alignItems:"center",paddingTop:e===t?"s4":"s2",paddingBottom:e===t?"s4":(t||0)+1===e?"s2":"s0"})}),h=n.az.extendComponent({name:"SelectedTabHighlighter",defaultProps:({bgColor:e,height:t,noHorizontalMargin:i})=>({alignSelf:"stretch",mx:i?"s0":"s4",mt:"s3",height:null!=t?t:l.DIVIDER_HEIGHT,style:{backgroundColor:e||r.Jyk.blueGrey}})}),p=(e,t)=>({labelProps:{mx:"s2",mt:"s2",alignSelf:"center",textAlign:"center",font:"s_medium"},titleSize:e?(null==t?void 0:t.selectedTitleSize)||l.SELECTED_TEXT_SIZE:(null==t?void 0:t.unselectedTitleSize)||l.UNSELECTED_TEXT_SIZE,titleColor:e?(null==t?void 0:t.selectedTitleColor)||r.Jyk.royalBlue:(null==t?void 0:t.unselectedTitleColor)||r.Jyk.lavender}),g=[a.C1.flex,a.C1.justifyContentStart,a.C1.alignItemCenter],m={mt:"s2",width:"100%",flex:1}},873644:(e,t,i)=>{"use strict";i.d(t,{F:()=>a,H:()=>r});var n=i(877293);const r=(e,t,i)=>{if(t&&i)return{transform:[{translateX:t.interpolate({inputRange:[0,e/4,e/2,3*e/4,e],outputRange:[0,e/4,e/2,3*e/4,e]})},{scaleX:i.interpolate({inputRange:[0,1/4,.5,3/4,1],outputRange:[1,1.5,2,1.5,1]})}]}},a=(e,t,i,r)=>{i&&r&&(i.setValue(t),r.setValue(0),n.Animated.parallel([n.Animated.timing(i,{toValue:e,duration:500,useNativeDriver:!1,easing:n.Easing.out(n.Easing.quad)}),n.Animated.timing(r,{toValue:1,duration:500,useNativeDriver:!1,easing:n.Easing.out(n.Easing.quad)})]).start((()=>{i.setValue(e),r.setValue(0)})))}},881593:(e,t,i)=>{"use strict";i.d(t,{A:()=>kt});var n={};i.r(n);var r,a=i(296540),o=i(716249),s=i(52754),l=i(259243),d=i(914944),c=i(787921),u=i(302019);class h extends a.Component{constructor(e){super(e),this.newTree=a.createElement(a.Fragment,null),this.props.renderTree&&(this.newTree=a.cloneElement(this.props.renderTree,{onComplete:()=>this.onCallBackFired(this.props.data)}))}render(){return this.newTree}onCallBackFired(e){let t="DEFAULT";switch(e&&e.value&&e.value.callBackType&&(t=e.value.callBackType.toUpperCase()),t){case u.YO.ACTION:e&&e.action&&this.props.dispatchAction(c.A.MAPI_ACTION,new d.Oy(e.action));case u.YO.TRACKING:case u.YO.ACTION_WITH_TRACKING:}}}class p{constructor(e){this.wrapComponentIfRequired=(e,t,i)=>{let n=this._resolveWrapper(t),r=e;return n&&n.length>0&&(r=n.reduce(((e,t)=>this.wrapperProvider.provideWrapper(t.wrapper,e,t.data,i.isActionHandledByAtom)||e),e)),r},this._resolveWrapper=e=>{var t;const i=[];if(e){e.value&&e.value.callBackType?i.push({wrapper:"CALLBACK",data:e}):e.action&&((null===(t=e.action.params)||void 0===t?void 0:t.customTappable)?i.push({wrapper:"CUSTOM_TAPPABLE",data:e.action}):i.push({wrapper:"TAPPABLE",data:e.action}))}return i},this.wrapperProvider=e}}!function(e){e.TAPPABLE="TAPPABLE",e.CALLBACK="CALLBACK",e.CUSTOM_TAPPABLE="CUSTOM_TAPPABLE"}(r||(r={}));var g=i(347924),m=i(877293),v=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};const _=(0,m.requireNativeComponent)("SnazzyHorizontalListView");class C extends a.Component{render(){const{height:e,width:t}=this.props.calculateDimensions(),i=this.props.containerStyle||{},{minHeight:n}=i,r=v(i,["minHeight"]),{viewStyle:o}=this.props;return a.createElement(g.az,Object.assign({},r),a.createElement(_,{data:this.props.data,cardHeight:e,cardWidth:t,viewStyle:o}))}}const E=C;var T=i(212247),f=i(109494),A=i(155805);const S=(0,m.requireNativeComponent)("SnappyCarousel");var y,w;!function(e){e[e.RIGHT=0]="RIGHT",e[e.LEFT=1]="LEFT"}(y||(y={})),function(e){e.LeftAlignView="LeftAlignView",e.CenterCyclic="CenterCyclic"}(w||(w={}));class I extends a.Component{constructor(e){super(e),this._setCarouselRef=e=>{this._carouselRef=e}}render(){var e,t,i,n,r,o,s,l,d,c,u,h;const p=this.props.autoSwipeContentDuration||3e3;let m=0,v=!!this.props.autoSwipeContentDuration&&this.props.autoSwipeContentDuration>0,_=null===(e=this.props.loop)||void 0===e||e,C=null===(t=this.props.showIndicator)||void 0===t||t,E="100%";const y=(0,A.xl)();if("LeftAlignView"===this.props.type){let e;if(void 0!==this.props.screenSizeIndex&&this.props.screenSizeIndex<2){const t=360,a={};let s=0;(null===(i=this.props)||void 0===i?void 0:i.interContentSpacing)&&(s=2*Math.floor((null!==(r=null===(n=this.props)||void 0===n?void 0:n.interContentSpacing)&&void 0!==r?r:0)/t*this.props.width/2),s=1===this.props.data.length?0:s,_?a.paddingHorizontal=s/2:a.paddingRight=s),e=null!==(o=this.props.contentWidth)&&void 0!==o?o:t,m=this.props.screenSizeIndex&&this.props.screenSizeIndex>0?1.5*e+s:e+s}else e=null!==(s=this.props.contentWidth)&&void 0!==s?s:this.props.width,m=1.5*e+(null!==(l=this.props.interContentSpacing)&&void 0!==l?l:0);const t=!(this.props.screenSizeIndex&&this.props.screenSizeIndex>1&&this.props.data.length<4);if(v&&t){const e={productWidth:m},t=this.props.data,i=[],n={width:m,paddingRight:null!==(d=this.props.interContentSpacing)&&void 0!==d?d:0};t.map((e=>{i.push(a.createElement(g.az,{style:n},e))}));const r={"will-change":"transform",flex:1},o=void 0!==this.props.containerStyle?this.props.containerStyle:{};return a.createElement(g.az,{style:[r,o]},a.createElement(f.A,{style:e,loop:_,products:i,outOfViewportAutoStop:_,delay:p,autoplay:v,backgroundStyle:{background:"transparent"},userScrollEnabled:null===(c=this.props.userScrollEnabled)||void 0===c||c,dotsBelowContent:y&&this.props.showIndicator,isGalleryMode:y}))}C=!1,_=!1,E=`${m}px`}return a.createElement(g.az,null,a.createElement(S,{data:this.props.data,ref:this._setCarouselRef,sliderWidth:this.props.width,itemWidth:m,autoplay:v,autoplayInterval:p,loop:_,indicatorComponent:C?T.A:null,interContentSpacing:this.props.interContentSpacing,containerStyle:this.props.containerStyle,gridAutoColumns:1===this.props.data.length?"auto":E,userScrollEnabled:null===(u=this.props.userScrollEnabled)||void 0===u||u,hideSliderButtons:null!==(h=this.props.hideSliderButtons)&&void 0!==h&&h}))}}const b=I;var D,x=i(6940),P=i(938777),O=i(347953),R=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};class k{constructor(e,t,i){this.setWindowWidth=e=>{this.windowWidth=e},this.setIndexId=e=>{this.indexId=e},this.setViewType=e=>{this.viewType=e},this.setIOSLayoutHackForHPEnabled=e=>{this.isiOSLayoutHackForHPEnabled=e},this.applyFormation=(e,t,i,n,r,o,s)=>{var l,d;const{px:c,py:h,pl:p,pr:m,pt:v,pb:_,p:C}=t,T=R(t,["px","py","pl","pr","pt","pb","p"]);switch(e){case"GRID":return a.createElement(g.gf,Object.assign({key:t.columnCount},t,{columnCount:t.columnCount,rowCount:t.rowCount,data:i,carouselWidth:this.windowWidth,renderables:r}));case"MULTI_ROW_COLUMN_SCROLL_VIEW":return a.createElement(g.Y9,Object.assign({key:`${this.indexId}-multi-row-column-scroll-view`,data:i,width:t.width,direction:t.direction,maxRowCount:t.maxRowCount,maxColumnCount:t.maxColumnCount},t,{renderables:r}));case"FLIP_VIEW":return a.createElement(g.tl,Object.assign({key:`${this.indexId}-flip-view`},t,{data:i}));case"THREE_CHILD_GRID":return a.createElement(g.Qg,Object.assign({},t,{data:i}));case"STAGED_CAROUSEL":const e=null==r?void 0:r.tabs;return a.createElement(g.FU,Object.assign({ref:e=>this.storeFormationRef(e,"STAGED_CAROUSEL",o),data:i,tabs:null==e?void 0:e.props.children},t,{enableAutoChange:null==t?void 0:t.enableAutoChange}));case"HORIZONTAL_LIST":const s=(0,u.nm)({p:C,px:c,py:h,pl:p,pr:m,pt:v,pb:_}),f=this.calculateDimensions(t,n,this.windowWidth);return a.createElement(E,{key:`${this.indexId}-hlv`,data:i,disableRecycling:null!==(l=t.disableRecycling)&&void 0!==l&&l,forceNonDeterministicRendering:null!==(d=t.forceNonDeterministicRendering)&&void 0!==d&&d,renderItem:(e,n,r)=>this.renderHorizontalListItem(n,r,i,f,t),calculateDimensions:()=>f,renderFooter:()=>{var e;return null!==(e=null==r?void 0:r.footer)&&void 0!==e?e:null},containerStyle:Object.assign(Object.assign({},T),{minHeight:f.height}),viewStyle:s});case"CAROUSEL":const{customContainerStyle:A,finalOtherToken:S,type:y}=this.getCarouselViewProps(n,t);let w;return O.A.getExperimentValue(P.ZLM.PASS_LOOP_CLONES)&&(w=i.length>2?3:i.length),a.createElement(b,Object.assign({key:this.indexId,data:i,width:this.windowWidth,containerStyle:A,screenSizeIndex:n,type:y,loopClonesPerSide:w},S));case"ROLLING_VIEW_ANIMATION":return a.createElement(u.v_,Object.assign({data:i,renderList:[]},T));case"AvatarGroup":return a.createElement(g.Z7,Object.assign({},T,{renderTree:i,size:T.size}));default:return null}},this.pinnedScrollTypes=["default_fk_hp_pinned_scroll_left-align","default_fk_hp_pinned_scroll_left-align_double-padding","default_fk_hp_reco_corousel-cards_3"],this.leftAlignCarouselTypes=["default_fk_hp_hpw_regular","default_fk_hp_hpw_multi_grid"],this.isPinnedScrollType=e=>e&&this.pinnedScrollTypes.includes(e),this.revertCenterCylicPropsForPinnedScroll=e=>{const{activeSlideAlignment:t,autoSwipeContentDuration:i,loop:n}=e;return{updatedOtherTokens:R(e,["activeSlideAlignment","autoSwipeContentDuration","loop"]),pl:"s6",pr:"s2",loop:!1}},this.renderHorizontalListItem=(e,t,i,n,r)=>{const o=n.childGap?n.childGap/2:0,s=0!==t?o:0,l=i.length-1!==t?o:0;return r.forceNonDeterministicRendering?a.createElement(g.az,{style:{marginLeft:s,marginRight:l}},e):a.createElement(g.az,{style:{marginLeft:s,marginRight:l},width:n.width,height:n.height},e)},this.calculateDimensions=(e,t,i)=>{const{px:n,py:r,pl:a,pr:o,pt:s,pb:l,p:d}=e,c=(0,u.nm)({p:d,px:n,py:r,pl:a,pr:o,pt:s,pb:l,m:e.childGap}),h=c.margin?Number(c.margin):0;if(!e.childWidthFraction)return{width:e.childWidth,height:e.childHeight,childGap:h};const p=Number(c.padding)||Number(c.paddingLeft)||Number(c.paddingHorizontal)||0,g=(this.windowWidth-p-h*Math.floor(e.childWidthFraction))/e.childWidthFraction,m=g/e.childWidth,v=e.childHeight*m;return{width:Math.round(g),height:Math.round(v),childGap:Math.round(h)}},this.customCollectionPadding=(e,t)=>{var i,n,r,a;const o=x.Ay.getRectFromString(e,this.isiOSLayoutHackForHPEnabled);return{paddingLeft:null!==(i=t.paddingLeft)&&void 0!==i?i:o?o.left:0,paddingTop:null!==(n=t.paddingTop)&&void 0!==n?n:o?o.top:0,paddingRight:null!==(r=t.paddingRight)&&void 0!==r?r:o?o.right:0,paddingBottom:null!==(a=t.paddingBottom)&&void 0!==a?a:o?o.bottom:0}},this.getCarouselViewProps=(e,t)=>{var i;const{pl:n,pr:r,pt:a,pb:o,interContentSpacing:s}=t,l=R(t,["pl","pr","pt","pb","interContentSpacing"]);let d;const c="web"===m.Platform.OS,h=this.isPinnedScrollType(this.viewType);let p;if(c&&h){d="LeftAlignView";l.loop&&(p=this.revertCenterCylicPropsForPinnedScroll(l))}e>=2&&this.viewType&&this.leftAlignCarouselTypes.includes(this.viewType)&&(d="LeftAlignView");let g=0;if("number"==typeof s&&isFinite(s))g=s;else if("string"==typeof s){const e=Number(s);if(""===s.trim()||isNaN(e)){const e=(0,u.nm)({m:t.interContentSpacing}).margin;"number"==typeof e&&isFinite(e)&&(g=e)}else g=e}const v=(0,u.nm)({pl:(null==p?void 0:p.pl)||n,pr:(null==p?void 0:p.pr)||r,pt:a,pb:o});return{type:d,customContainerStyle:this.customCollectionPadding(null!==(i=t.contentCollectionPadding)&&void 0!==i?i:"",Object.assign(Object.assign({},v),{margin:g})),spaceInBetween:g,finalOtherToken:(null==p?void 0:p.updatedOtherTokens)||l}},this.storeFormationRef=(e,t,i)=>{e&&i&&this.atomProviderRef.shouldHaveAtomRef(t,i)&&this.atomProviderRef.saveAtomRef(e,t,i)},this.indexId=i,this.windowWidth=e,this.atomProviderRef=t}}!function(e){e.MULTI_ROW_COLUMN_SCROLL_VIEW="MULTI_ROW_COLUMN_SCROLL_VIEW",e.THREE_CHILD_GRID="THREE_CHILD_GRID",e.GRID="GRID",e.HORIZONTAL_LIST="HORIZONTAL_LIST",e.CAROUSEL="CAROUSEL",e.STAGED_CAROUSEL="STAGED_CAROUSEL",e.ROLLING_VIEW_ANIMATION="ROLLING_VIEW_ANIMATION",e.FLIP_VIEW="FLIP_VIEW",e.AVATAR_GROUP="AvatarGroup",e.L1_TABBED_HEADER="L1_TABBED_HEADER",e.TAB_ITEMS_LIST="TAB_ITEMS_LIST",e.TAB_PANELS_LIST="TAB_PANELS_LIST",e.TABS_COLLECTION="TABS_COLLECTION",e.MULTI_SIZE_GRID_VIEW="MultiSizeGridView",e.SCROLL_TO_LIST="SCROLL_TO_LIST",e.MULTI_MEDIA_VIEW="MULTI_MEDIA_VIEW",e.PERSPECTIVE_CAROUSEL="PERSPECTIVE_CAROUSEL",e.D0_FILTERS="D0_FILTERS"}(D||(D={}));var V=i(738656),L=i(339599),M=i(152050),N=i(145169),H=i(219814);class W{constructor(){this.atomRefMap={},this.invokeAllAtomsCalled=!1,this.shouldHaveAtomRef=(e,t)=>{if(t)switch(e){case"FkVideo":case"STAGED_CAROUSEL":return!0}return!1},this.saveAtomRef=(e,t,i)=>{i&&e&&(this.atomRefMap.hasOwnProperty(t)||(this.atomRefMap[t]={}),this.atomRefMap[t][i]||(this.atomRefMap[t][i]=e),this.invokeAllAtomsCalled&&this.invokeAtomRef(this.atomRefMap[t][i]))},this.invokeAllAtomsRef=()=>{this.invokeAllAtomsCalled=!0,this.iterateAndHandleRef(this.invokeAtomRef)},this.revokeAllAtomsRef=()=>{this.invokeAllAtomsCalled=!1,this.iterateAndHandleRef(this.revokeAtomRef)},this.iterateAndHandleRef=e=>{this.atomRefMap&&Object.keys(this.atomRefMap).forEach((t=>{Object.keys(this.atomRefMap[t]).forEach((i=>{e(this.atomRefMap[t][i])}))}))},this.invokeAtomRef=e=>{var t;switch(!0){case e instanceof H.A:break;case e instanceof g.FU:null===(t=null==e?void 0:e.startAutoChange)||void 0===t||t.call(e)}},this.revokeAtomRef=e=>{var t;switch(!0){case e instanceof H.A:break;case e instanceof g.FU:null===(t=null==e?void 0:e.clearAutoChangeTimeout)||void 0===t||t.call(e)}}}}var B=i(294188),U=i(229833),F=i(56),G=i(36940),z=i(245391);const j={"ta-da":{timings:[],amplitudes:[],fallbackTimings:[]},boo:{timings:[],amplitudes:[],fallbackTimings:[]},error:{timings:[],amplitudes:[],fallbackTimings:[]},touch:{timings:[],amplitudes:[],fallbackTimings:[]},rapid:{timings:[],amplitudes:[],fallbackTimings:[]},"heart-beat":{timings:[],amplitudes:[],fallbackTimings:[]}},X=e=>{const{children:t,isHapticEnabled:i=!1,hapticValues:n}=e;return a.createElement(z.l,{isHapticEnabled:i,hapticValues:(null==n?void 0:n.patterns)||j},t)};var Y=i(257246),q=i(592260),J=i(641252),K=i(53606),Q=i(602808),Z=i(171539);const{az:$}=g.zN;class ee extends a.Component{constructor(){super(...arguments),this._setCarouselRef=e=>{this._carouselRef=e}}render(){var e,t,i,n,r,o,s,l,d,c,u;const h=this.props.autoSwipeContentDuration||3e3;let p=0,g=!!this.props.autoSwipeContentDuration&&this.props.autoSwipeContentDuration>0,m=null===(e=this.props.loop)||void 0===e||e,v=null===(t=this.props.showIndicator)||void 0===t||t,_="100%";if("LeftAlignView"===this.props.type){let e;if(void 0!==this.props.screenSizeIndex&&this.props.screenSizeIndex<2){const t=360,a={};let s=0;(null===(i=this.props)||void 0===i?void 0:i.interContentSpacing)&&(s=2*Math.floor((null!==(r=null===(n=this.props)||void 0===n?void 0:n.interContentSpacing)&&void 0!==r?r:0)/t*this.props.width/2),s=1===this.props.data.length?0:s,m?a.paddingHorizontal=s/2:a.paddingRight=s),e=null!==(o=this.props.contentWidth)&&void 0!==o?o:t,1===this.props.screenSizeIndex&&(e*=this.props.scaleFactor||1),this.props.childWidthFraction&&(e/=this.props.childWidthFraction),p=e+s}else e=null!==(s=this.props.contentWidth)&&void 0!==s?s:this.props.width,p=e+(null!==(l=this.props.interContentSpacing)&&void 0!==l?l:0);if(g){const t={productWidth:p},i=this.props.data,n=[],r={width:e};i.map((e=>{n.push(a.createElement($,{style:r},e))}));const o={"will-change":"transform",flex:1},s=void 0!==this.props.containerStyle?this.props.containerStyle:{};return a.createElement($,{style:[o,s]},a.createElement(f.A,{style:t,loop:m,products:n,outOfViewportAutoStop:m,delay:h,autoplay:g,backgroundStyle:{background:"transparent"},userScrollEnabled:null===(d=this.props.userScrollEnabled)||void 0===d||d}))}v=!1,m=!1,_=`${p}px`}return a.createElement($,null,a.createElement(S,{data:this.props.data,ref:this._setCarouselRef,sliderWidth:this.props.width,itemWidth:p,autoplay:g,autoplayInterval:h,loop:m,indicatorComponent:v?T.A:null,interContentSpacing:this.props.interContentSpacing,containerStyle:this.props.containerStyle,gridAutoColumns:1===this.props.data.length?"auto":_,userScrollEnabled:null===(c=this.props.userScrollEnabled)||void 0===c||c,hideSliderButtons:null!==(u=this.props.hideSliderButtons)&&void 0!==u&&u}))}}const te=ee;var ie=i(795492),ne=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};const{az:re}=g.zN,ae=e=>{var{containerStyle:t,estimatedContentHeight:i,style:n,rowRenderer:r,forceReRenderWidgetListView:o,cachedHeight:s,onHeightCalculated:l}=e,d=ne(e,["containerStyle","estimatedContentHeight","style","rowRenderer","forceReRenderWidgetListView","cachedHeight","onHeightCalculated"]);const c=s||i||0,[u,h]=(0,a.useState)(c),p=(0,a.useRef)(c);(0,a.useEffect)((()=>{const e=s||i||0;e>p.current&&(p.current=e,h(e))}),[i,s]);const g=(0,a.useCallback)((e=>{const{height:t}=e.nativeEvent.layout;i&&t>p.current&&(p.current=t,h(t),null==l||l(t))}),[i,l]),v=(0,a.useCallback)(((e,t,n,o)=>{const s=r(e,t,n,o);return i?a.createElement(m.View,{onLayout:g},s):s}),[r,i,g]),_=[t,{minHeight:i?u:void 0,maxHeight:void 0}],C=[{minHeight:1,minWidth:1,flex:1},n];return a.createElement(re,{style:_},a.createElement(ie.PP,Object.assign({},d,{renderAheadOffset:0,style:C,rowRenderer:v})))};var oe=i(580016);class se extends a.Component{constructor(e){super(e),this.HORIZONTAL_LIST_VIEW_TYPE="HORIZONTAL_LIST_VIEW_TYPE",this._rowRenderer=(e,t,i)=>this.props.renderItem(e,t,i),this.onItemLayout=e=>{var t,i;null===(i=(t=this.props).onItemLayout)||void 0===i||i.call(t,e)},this.handleHeightCalculated=e=>{this.props.onHeightCalculated&&this.props.onHeightCalculated(e),this.props.pageUID&&this.props.uniqueId&&oe.x.getInstance().setHeight(this.props.pageUID,this.props.uniqueId,e)},this.state={dataProvider:new ie.M9(((e,t)=>e!==t)).cloneWithRows(e.data)},this.setLayoutForType=this.setLayoutForType.bind(this),this.getLayoutTypeForIndex=this.getLayoutTypeForIndex.bind(this),this._layoutProvider=new ie.UY(this.getLayoutTypeForIndex,this.setLayoutForType)}componentDidUpdate(e){e.data!==this.props.data&&this.setState({dataProvider:this.state.dataProvider.cloneWithRows(this.props.data)})}getLayoutTypeForIndex(e){return this.HORIZONTAL_LIST_VIEW_TYPE}getCachedHeight(){if(this.props.pageUID&&this.props.uniqueId)return oe.x.getInstance().getHeight(this.props.pageUID,this.props.uniqueId)}setLayoutForType(e,t,i){var n;const r=this.props.calculateDimensions(e,this.props.data[i],i),a=r.childGap||0,o=this.props.data.length;let s=0;o>1&&(s=0===i||i===o-1?a/2:a),t.width=(null!==(n=r.width)&&void 0!==n?n:0)+s;const l=this.getCachedHeight();t.height=l||r.height||this.props.estimatedContentHeight||0}render(){const{viewStyle:e,scrollViewProps:t}=this.props,i=t,n=null==i?void 0:i.contentContainerStyle,r=Object.assign(Object.assign({},t),{contentContainerStyle:e?[n,e]:n,showsHorizontalScrollIndicator:!1});return a.createElement(ae,{containerStyle:this.props.containerStyle,estimatedContentHeight:this.props.estimatedContentHeight,layoutProvider:this._layoutProvider,dataProvider:this.state.dataProvider,rowRenderer:this._rowRenderer,isHorizontal:!0,forceNonDeterministicRendering:!0,renderFooter:this.props.renderFooter,scrollViewProps:r,renderAheadOffset:0,onItemLayout:this.onItemLayout,extendedState:this.props.extendedState,layoutSize:this.props.initialDimension,initialRenderIndex:this.props.initialRenderIndex,forceReRenderWidgetListView:this.props.forceReRenderWidgetListView,cachedHeight:this.getCachedHeight(),onHeightCalculated:this.handleHeightCalculated})}}const le=se;var de=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};const{az:ce}=g.zN;class ue extends a.Component{render(){const{height:e,width:t}=this.props.calculateDimensions(),i=this.props.containerStyle||{},{minHeight:n}=i,r=de(i,["minHeight"]),{viewStyle:o}=this.props;return a.createElement(ce,Object.assign({},r),a.createElement(_,{data:this.props.data,cardHeight:e,cardWidth:t,viewStyle:o,hideSliderButtons:this.props.hideSliderButtons,showSliderButtonsOnHover:this.props.showSliderButtonsOnHover,enableMouseWheelScroll:this.props.enableMouseWheelScroll}))}}const he=ue;var pe=i(80733),ge=i(857850),me=i(479892);const ve=({width:e,indicatorTranslateX:t,indicatorColor:i,staticTranslateX:n})=>{const r=a.createElement(m.View,{style:[{backgroundColor:i,height:4},me.C1.margin_horizontal_8,me.C1.border_radius_2]});return"web"===m.Platform.OS&&"number"==typeof n?a.createElement(m.View,{style:[_e.indicator,{width:e},{transform:[{translateX:n||0}]},_e.webIndicatorTransition]},r):a.createElement(m.Animated.View,{style:[_e.indicator,{width:e,transform:[{translateX:t}]}]},r)},_e=m.StyleSheet.create({indicator:{position:"absolute",bottom:0,height:4,borderRadius:2},webIndicatorTransition:{transition:"transform 350ms ease-in-out"}});var Ce,Ee=i(311676),Te=i(337497),fe=i(439572),Ae=i(188011),Se=i(700036),ye=i(614941),we=i(948080),Ie=i(726625),be=i(398581),De=i(217541),xe=i(689173),Pe=i(927443),Oe=i(364604),Re=i(492418);!function(e){e.UP="UP",e.DOWN="DOWN"}(Ce||(Ce={}));const ke=Math.min(Re.RW0,m.Dimensions.get("window").width),Ve=["/flipkart-minutes-store","/"];function Le(e){if(!e||!Array.isArray(e))return{"/":0};const t={"/":0};return e.forEach(((e,i)=>{var n,r,a,o,s,l;const d=null===(l=null===(s=null===(o=null===(a=null===(r=null===(n=e.props)||void 0===n?void 0:n.children)||void 0===r?void 0:r[0])||void 0===a?void 0:a.props)||void 0===o?void 0:o.tappableProps)||void 0===s?void 0:s.action)||void 0===l?void 0:l.url;if(d&&"string"==typeof d)if("/"===d[0])t[d]=i;else{const e=new URL(d);t[e.pathname]=i}})),t}class Me extends a.PureComponent{constructor(e){var t,i,n,r,o,s,l,c;super(e),this.scrollViewRef=a.createRef(),this.itemRefs={},this.indicatorTranslateX=new m.Animated.Value(0),this.getDefaultL1LocalStoreData=(e,t,i)=>({scrollX:null!=e?e:0,selectedId:null!=t?t:0,indicatorScrollPos:null!=i?i:0}),this.verticalPadding=8,this.tabUrlIndexMap=null,this.scrollPositionsMap={},this.evtKey=`[${this.props.identifier}]_contentOffset_updated`,this.imageDimension=0,this.lastScrollY=0,this.scrollDelta=0,this.currentDirection=null,this.SCROLL_THRESHOLD=250,this.animationWithAppBarEnabled=!1,this.calculateScrollAndIndicatorPosition=e=>{var t;if(this.scrollPositionsMap[e])return this.scrollPositionsMap[e];const i=(0,fe.getSpaceValue)(null===(t=this.props)||void 0===t?void 0:t.childGap)||0,n=e>0?e*(i+this.navItemBoxWidth):0,r=n-(ke/2-this.navItemBoxWidth/2);return this.scrollPositionsMap[e]={indicatorPos:n,scrollX:r},this.scrollPositionsMap[e]},this.eventEmitterAnimation=({selectedId:e,indicatorPos:t})=>{"web"!==m.Platform.OS?(t>=0&&m.Animated.timing(this.indicatorTranslateX,{toValue:t,duration:350,easing:m.Easing.in(m.Easing.ease),useNativeDriver:!0}).start(),this.setState({selectedId:e})):t>=0?this.setState({selectedId:e,webIndicatorTranslateX:t}):this.setState({selectedId:e})},this._onScroll=e=>{var t;const{scrollX:i,indicatorScrollPos:n}=this._getLocalStoreData();if(this._scrollToPosition(i),this._updateTabSelectionIfNeeded(),this._animateTabIndicator(n),"web"!==m.Platform.OS&&(0,Pe.sc)())return;const r=null===(t=e.contentOffset)||void 0===t?void 0:t.y,a=r-(this.lastScrollY||0);if(this.lastScrollY=r,Math.abs(a)<1)return;const o=a>0,s=o?Ce.DOWN:Ce.UP;this.currentDirection!==s?(this.currentDirection=s,this.scrollDelta=Math.abs(a)):this.scrollDelta+=Math.abs(a),(this.scrollDelta>=this.SCROLL_THRESHOLD&&this.props.isSlotSticky&&!this.animationWithAppBarEnabled||"web"===m.Platform.OS)&&(this._handleScrollAnimations(o),this.scrollDelta=0)},this._scrollToPosition=e=>{var t;(null===(t=this.scrollViewRef)||void 0===t?void 0:t.current)&&this.lastScrollX!==e&&(this.scrollViewRef.current.scrollTo({x:e,animated:!1}),this.lastScrollX=e)},this._animateTabIndicator=e=>{"web"!==m.Platform.OS?this.indicatorTranslateX.stopAnimation((t=>{e>=0&&t!==e&&m.Animated.timing(this.indicatorTranslateX,{toValue:e,duration:0,easing:m.Easing.out(m.Easing.bounce),useNativeDriver:!0}).start()})):e>=0&&this.state.webIndicatorTranslateX!==e&&this.setState({webIndicatorTranslateX:e})},this._handleScrollAnimations=e=>{const{containerHeight:t}=this.state,{height:i}=this.props;let n=t;e&&16!==t?n=16:e||t===i||(n=i),this.animationTimeoutId&&clearTimeout(this.animationTimeoutId),t!==n&&(this.animationTimeoutId=setTimeout((()=>{"web"!==m.Platform.OS?(m.Animated.timing(this.imageScale,{toValue:e?0:1,duration:100,easing:m.Easing.in(m.Easing.ease),useNativeDriver:!0}).start(),m.LayoutAnimation.configureNext(m.LayoutAnimation.Presets.easeInEaseOut),this.setState({containerHeight:n})):this.setState({containerHeight:n,webImageScale:e?0:1,webContainerOpacity:e?.9:1})}),0))},this.handleSelect=(e,t,i,n)=>{var r;if(this.getSelectedId()===e)return;const{indicatorPos:a,scrollX:o}=this.calculateScrollAndIndicatorPosition(e),s={scrollX:o,selectedId:e,indicatorScrollPos:a};this._updateLocalStorageData(s),ye.A.getInstance().emit(this.evtKey,{selectedId:e,indicatorPos:a}),"web"!==m.Platform.OS&&(m.LayoutAnimation.configureNext(m.LayoutAnimation.create(300,m.LayoutAnimation.Types.easeInEaseOut,m.LayoutAnimation.Properties.opacity)),this._runSelectionAnimation(e),this.setState({selectedId:e})),"web"===m.Platform.OS?(this.setState({selectedId:e,containerHeight:this.props.height,webImageScale:1,webContainerOpacity:1}),this.lastScrollY=0,window.scrollTo({top:0,behavior:"instant"}),setTimeout((()=>{this._onTabSelection(t,i,n),this._scrollToCenter(o)}),0)):null===(r=null==t?void 0:t.scrollToSlotPosition)||void 0===r||r.call(t,0,!1).then((e=>{e&&(setTimeout((()=>this._onTabSelection(t,i,n)),0),this._scrollToCenter(o))}))},this._runSelectionAnimation=e=>{var t,i;const n=this.getSelectedId();!this.props.data||e<0||e>this.props.data.length||!(null===(t=this.state)||void 0===t?void 0:t.scales[e])||!(null===(i=this.state)||void 0===i?void 0:i.scales[n])||m.Animated.parallel([m.Animated.spring(this.state.scales[e],{toValue:1.125,useNativeDriver:!this.animationWithAppBarEnabled}),m.Animated.spring(this.state.scales[n],{toValue:1,useNativeDriver:!this.animationWithAppBarEnabled})]).start()},this._onTabSelection=(e,t,i)=>{var n,r,a,o;if(!e.action)return;const s=Object.assign({},e.action);s.params=Object.assign(Object.assign({},s.params),{fromSlotPosition:t,isHeaderWidget:i,pageLoadState:13,shimmerType:"L1_TAB"}),e.dispatchAction(ge.Q3.MAPI_ACTION,new d.Oy(s));const{customTrackingEvents:l,triggerExtraStandardEvents:c}=e.action;l&&l.length?null===(n=e.trackDGEvent)||void 0===n||n.call(e,new Ee.ziJ(l[0])):c&&c.includes(Te.A.DISCOVERY_WIDGET_CLICK)?null===(r=e.dispatchDWCEvent)||void 0===r||r.call(e):e.action.tracking&&(null===(a=e.dispatchDCCEvent)||void 0===a||a.call(e,null===(o=e.action)||void 0===o?void 0:o.tracking))},this._calculateChildWidth=e=>{var t,i,n,r;return(e-Number((null===(i=null===(t=this.props)||void 0===t?void 0:t.viewStyles)||void 0===i?void 0:i.paddingLeft)||0)-((0,fe.getSpaceValue)(this.props.childGap)||0)*Math.floor(null===(n=this.props)||void 0===n?void 0:n.childFractionValue)||0)/(null===(r=this.props)||void 0===r?void 0:r.childFractionValue)||0},this._scrollToCenter=e=>{var t,i;null===(i=null===(t=null==this?void 0:this.scrollViewRef)||void 0===t?void 0:t.current)||void 0===i||i.scrollTo({x:e,animated:!0})},this._handleContainerScroll=e=>{if("web"===m.Platform.OS)return;const{contentOffset:t}=e.nativeEvent,{selectedId:i,indicatorScrollPos:n}=this._getLocalStoreData();this.lastScrollX!==t.x&&(this.lastScrollX=t.x);const r={scrollX:t.x,selectedId:i,indicatorScrollPos:n};this._updateLocalStorageData(r)},"web"===m.Platform.OS&&(this.tabUrlIndexMap=Le(this.props.data)),this.navItemBoxWidth=this._calculateChildWidth(ke);const{selectedId:u,scrollX:h}=this._getLocalStoreData(),p="web"===m.Platform.OS||this.props.isSlotSticky||(null===(t=this.props.initialWidgetData)||void 0===t?void 0:t.loadingState)!==q.LA.loaded?u:this.props.defaultSelectedIndex,{indicatorPos:g,scrollX:v}=this.calculateScrollAndIndicatorPosition(p),_=this.props.isSlotSticky?h:v;this.state={selectedId:p,scales:Array.from({length:this.props.data?this.props.data.length:0},((e,t)=>new m.Animated.Value(t===p?1.125:1))),scrollX:_,containerHeight:this.props.height,webIndicatorTranslateX:g,webImageScale:1,webContainerOpacity:1},this.lastScrollX=h,this.imageScale=new m.Animated.Value(1),this.scrollViewStyle={borderBottomWidth:1,borderColor:"#0000000F",paddingLeft:null===(i=this.props.viewStyles)||void 0===i?void 0:i.paddingLeft,paddingRight:null===(n=this.props.viewStyles)||void 0===n?void 0:n.paddingRight,paddingTop:null!==(o=null===(r=this.props.viewStyles)||void 0===r?void 0:r.paddingTop)&&void 0!==o?o:this.verticalPadding};const C={scrollX:_,selectedId:p,indicatorScrollPos:g};this._updateLocalStorageData(C),"android"===m.Platform.OS&&m.UIManager.setLayoutAnimationEnabledExperimental&&m.UIManager.setLayoutAnimationEnabledExperimental(!0),this.imageDimension=Math.ceil(32/360*ke*2),this.animatedImageScale=new m.Animated.Value(1),this.animatedLabelScale=new m.Animated.Value(1),this.appBarscrollBehaviourOffset=null===(s=this.props.scrollProps)||void 0===s?void 0:s.appBarscrollBehaviourOffset,this.stickyScrollBehaviourOffset=null===(l=this.props.scrollProps)||void 0===l?void 0:l.stickyScrollBehaviourOffset,this.stickyScrollState=null===(c=this.props.scrollProps)||void 0===c?void 0:c.stickyScrollState,1===this.stickyScrollState&&this.stickyScrollBehaviourOffset?this._handleStickyStateInterpolations(this.stickyScrollBehaviourOffset):void 0!==this.appBarscrollBehaviourOffset&&(this.animatedImageScale=this.appBarscrollBehaviourOffset.interpolate({inputRange:[0,1],outputRange:[1,0],extrapolate:"clamp"}),this.animatedLabelScale=this.appBarscrollBehaviourOffset.interpolate({inputRange:[0,1],outputRange:[0,-36],extrapolate:"clamp"}),this.animationWithAppBarEnabled=!0)}_handleStickyStateInterpolations(e){this.animatedLabelScale=e.interpolate({inputRange:[0,1],outputRange:[-36,-36-Oe.F5],extrapolate:"clamp"}),this.animationWithAppBarEnabled=!0}componentDidMount(){var e,t;ye.A.getInstance().on(this.evtKey,this.eventEmitterAnimation);const{indicatorScrollPos:i,selectedId:n}=this._getLocalStoreData();if(i>=0)if("web"===m.Platform.OS){this.setState({webIndicatorTranslateX:i});const{scrollX:e}=this.calculateScrollAndIndicatorPosition(n);this._scrollToCenter(e)}else m.Animated.timing(this.indicatorTranslateX,{toValue:i,duration:0,easing:m.Easing.out(m.Easing.ease),useNativeDriver:!0}).start();null===(t=null===(e=this.props)||void 0===e?void 0:e.scrollProps)||void 0===t||t.scrollComponentEventEmitter.addListener(pe.th.ON_SCROLL,this._onScroll,this)}UNSAFE_componentWillReceiveProps(e,t){var i,n,r,a,o,s,l,d;"web"===m.Platform.OS&&(this.tabUrlIndexMap=Le(e.data));const c=(null===(i=e.initialWidgetData)||void 0===i?void 0:i.pageURI)&&(0,Ie.n0)(null===(n=null==e?void 0:e.initialWidgetData)||void 0===n?void 0:n.pageURI),u=(null===(r=this.props.initialWidgetData)||void 0===r?void 0:r.pageURI)&&(0,Ie.n0)(null===(o=null===(a=this.props)||void 0===a?void 0:a.initialWidgetData)||void 0===o?void 0:o.pageURI);if(c&&u!==c&&(null==Ve?void 0:Ve.includes(c))&&0!==this.getSelectedId()){this.setState({selectedId:0,scrollX:0,containerHeight:e.height,webIndicatorTranslateX:0,webImageScale:1});const t={scrollX:0,selectedId:0,indicatorScrollPos:0};"web"!==m.Platform.OS&&this.indicatorTranslateX.setValue(0),this._updateLocalStorageData(t)}this.appBarscrollBehaviourOffset=null===(s=e.scrollProps)||void 0===s?void 0:s.appBarscrollBehaviourOffset,this.stickyScrollState=null===(l=e.scrollProps)||void 0===l?void 0:l.stickyScrollState,this.stickyScrollBehaviourOffset=null===(d=e.scrollProps)||void 0===d?void 0:d.stickyScrollBehaviourOffset,1===this.stickyScrollState&&this.stickyScrollBehaviourOffset?this._handleStickyStateInterpolations(this.stickyScrollBehaviourOffset):void 0!==this.appBarscrollBehaviourOffset&&(this.animatedImageScale=this.appBarscrollBehaviourOffset.interpolate({inputRange:[0,1],outputRange:[1,0],extrapolate:"clamp"}),this.animatedLabelScale=this.appBarscrollBehaviourOffset.interpolate({inputRange:[0,1],outputRange:[0,-36],extrapolate:"clamp"}),this.animationWithAppBarEnabled=!0)}componentWillUnmount(){var e,t;null===(t=null===(e=this.props)||void 0===e?void 0:e.scrollProps)||void 0===t||t.scrollComponentEventEmitter.removeListenerForEvent(pe.th.ON_SCROLL,this._onScroll),ye.A.getInstance().off(this.evtKey,this.eventEmitterAnimation),this.animationFrameId&&cancelAnimationFrame(this.animationFrameId),this.animationTimeoutId&&clearTimeout(this.animationTimeoutId)}_renderItem(e,t,i){var n,r,o,s;const l=null!==(r=null===(n=this.props.data)||void 0===n?void 0:n.length)&&void 0!==r?r:0,d={marginLeft:0!==t?(0,fe.getSpaceValue)(null===(o=this.props)||void 0===o?void 0:o.childGap,i):0,paddingRight:l-1===t?null===(s=this.props.viewStyles)||void 0===s?void 0:s.paddingRight:0,paddingBottom:4};return this.props.renderTabItem?a.createElement(g.az,{width:this.navItemBoxWidth,style:d},this.props.renderTabItem(e,t)):null}render(){var e,t,i,n;const r="web"===m.Platform.OS?null!==(e=this.state.webImageScale)&&void 0!==e?e:1:this.animationWithAppBarEnabled?this.animatedImageScale:this.imageScale,o=null!==(i=null===(t=this.props.data)||void 0===t?void 0:t.length)&&void 0!==i?i:0,s=("ios"===m.Platform.OS?o:null===(n=this.props)||void 0===n?void 0:n.childFractionValue)||5,l=Math.max(s,this.state.selectedId+Math.ceil(s/2));return a.createElement(we.Dx.Consumer,null,(e=>a.createElement(Ae.vT,{value:{selectedId:this.getSelectedId(),handleSelect:this.handleSelect,itemRefsObject:this.itemRefs,animations:{imageScale:r,scales:this.state.scales,containerHeight:this.state.containerHeight,animationWithAppBarEnabled:this.animationWithAppBarEnabled,animatedLabelScale:this.animatedLabelScale},imageDimension:this.imageDimension,iconHeight:36,theme:e}},a.createElement(De.J.Consumer,null,(t=>{var i,n,o,s,d,c,u;const h=this.getStylesFromTheme(e,t);return a.createElement(m.ScrollView,{style:[this.scrollViewStyle,Object.assign({backgroundColor:(null===(i=this.props)||void 0===i?void 0:i.bgColor)?(0,fe.getColorValue)(this.props.bgColor,e):"transparent",borderColor:h.borderColor},"web"===m.Platform.OS?{position:"absolute",width:"100%",backgroundColor:ge.Jy.white,opacity:null!==(n=this.state.webContainerOpacity)&&void 0!==n?n:1,transition:"opacity 300ms ease-in-out, height 300ms cubic-bezier(0.4, 0.0, 0.2, 1)"}:{})],horizontal:!0,ref:this.scrollViewRef,scrollEventThrottle:16,showsHorizontalScrollIndicator:!1,bounces:!1,contentOffset:{x:null!==(o=this.state.scrollX)&&void 0!==o?o:0,y:0},onScrollEndDrag:this._handleContainerScroll,contentContainerStyle:{paddingRight:(null===(s=this.props)||void 0===s?void 0:s.contentContainerPaddingRight)?(0,fe.getSpaceValue)(this.props.contentContainerPaddingRight,e):16}},"web"===m.Platform.OS?this.props.data&&this.props.data.map(((t,i)=>this.props.renderTabItem&&this._renderItem(t,i,e))):a.createElement(m.FlatList,{data:this.props.data,renderItem:({item:t,index:i})=>this._renderItem(t,i,e),keyExtractor:(e,t)=>`l1tabbedheader-${t}`,horizontal:!0,initialNumToRender:l}),"web"===m.Platform.OS?a.createElement(g.az,{style:[Ne.animatedGradientStyle,Ne.webAnimatedGradient,{left:.2*this.navItemBoxWidth,transform:[{translateX:null!==(d=this.state.webIndicatorTranslateX)&&void 0!==d?d:0}],width:.6*this.navItemBoxWidth}]},a.createElement(g.az,{style:[Ne.webScaledView,{transform:[{scale:null!==(c=this.state.webImageScale)&&void 0!==c?c:1}],width:.6*this.navItemBoxWidth,height:this.props.height}]},a.createElement(be.W,{renderInWeb:!0,gradientColors:[h.gradientStart,h.gradientEnd],borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8,style:Ne.gradientStyle}))):this.animationWithAppBarEnabled?a.createElement(m.Animated.View,{style:[Ne.animatedGradientStyle,{left:.2*this.navItemBoxWidth,transform:[{translateX:this.indicatorTranslateX}],width:.6*this.navItemBoxWidth}]},a.createElement(m.Animated.View,{style:{transform:[{scale:r}],width:.6*this.navItemBoxWidth,height:38}},a.createElement(be.W,{renderInWeb:!0,gradientColors:[h.gradientStart,h.gradientEnd],borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8,style:Ne.gradientStyle}))):null,a.createElement(ve,{indicatorColor:h.indicatorColor,width:this.navItemBoxWidth,indicatorTranslateX:this.indicatorTranslateX,staticTranslateX:"web"===m.Platform.OS?null!==(u=this.state.webIndicatorTranslateX)&&void 0!==u?u:this.calculateScrollAndIndicatorPosition(this.getSelectedId()).indicatorPos:void 0}))})))))}getStylesFromTheme(e,t){var i;if(!this.animationWithAppBarEnabled&&"web"!==m.Platform.OS)return{borderColor:ge.Jy.dimGraybackground,indicatorColor:(null===(i=this.props)||void 0===i?void 0:i.indicatorColor)?(0,fe.getColorValue)(this.props.indicatorColor,e):ge.Jy.mediumSlateBlue,gradientStart:"",gradientEnd:""};const{currentState:n}=t;let r,a,o,s;switch(n){case"light":r=xe.$.OUTLINE_CONSTANT_OPAQUE_DARK,a=xe.$.OVERLAY_STATE_PRESSED,o=xe.$.OVERLAY_OTHER_TRANSPARENT,s=xe.$.BACKGROUNDBOLD_NEUTRAL_GROUP;break;case"dark":r=xe.$.OUTLINE_CONSTANT_OPAQUE_LIGHT,a=xe.$.BACKGROUNDBOLD_OPACITY_DEFAULT,o=xe.$.OVERLAY_OTHER_TRANSPARENT,s=xe.$.BACKGROUNDSUBTLE_NEUTRAL_BASE;break;default:r=xe.$.OUTLINE_CONSTANT_OPAQUE_DARK,a=xe.$.GRADIENT_BRAND_200,o=xe.$.BACKGROUNDSUBTLE_NEUTRAL_BASE,s=xe.$.BACKGROUNDBOLD_BRANDPRIMARY_EMPHASIS}return{borderColor:(0,fe.getColorValue)(r,e),gradientStart:(0,fe.getColorValue)(a,e),gradientEnd:(0,fe.getColorValue)(o,e),indicatorColor:(0,fe.getColorValue)(s,e)}}_updateLocalStorageData(e){"web"!==m.Platform.OS&&Se.A.setObject("L1TabData",e)}getSelectedId(){return"web"===m.Platform.OS?this._getLocalStoreData().selectedId:this.state.selectedId}_getLocalStoreData(){var e,t,i,n,r;if("web"===m.Platform.OS){let r="";"undefined"!=typeof window?r=window.location.pathname:(null===(e=this.props.initialWidgetData)||void 0===e?void 0:e.pageURI)&&(r=(0,Ie.n0)(this.props.initialWidgetData.pageURI));const a=null!==(i=null===(t=this.tabUrlIndexMap)||void 0===t?void 0:t[r])&&void 0!==i?i:0,o=(0,fe.getSpaceValue)(null===(n=this.props)||void 0===n?void 0:n.childGap)||0,s=a>0?a*(o+this.navItemBoxWidth):0;return{scrollX:s-(ke/2-this.navItemBoxWidth/2),selectedId:a,indicatorScrollPos:s}}return null!==(r=Se.A.getObject("L1TabData"))&&void 0!==r?r:this.getDefaultL1LocalStoreData(0,0,0)}_updateTabSelectionIfNeeded(){const{selectedId:e}=this._getLocalStoreData();this.setState((t=>t.selectedId===e?null:{selectedId:e||0}))}}const Ne=m.StyleSheet.create({gradientStyle:{position:"absolute",width:44,height:38,borderRadius:8},animatedGradientStyle:{top:0,alignItems:"center",justifyContent:"center",zIndex:-1,overflow:"hidden",position:"absolute",borderRadius:8,opacity:.8},webAnimatedGradient:{transition:"transform 350ms ease-in-out",top:9},webScaledView:{transition:"transform 300ms cubic-bezier(0.4, 0.0, 0.2, 1), opacity 300ms ease-in-out"}});var He=i(575898),We=i(82515);const Be=(0,m.requireNativeComponent)("SnappyCarousel");const Ue=function(e){return a.createElement(We.Z,Object.assign({},e,{Swipeable:f.A,SnappyCarousel:Be}))};var Fe=i(815946),Ge=i(580555),ze=i(390437),je=i(573266),Xe=i(876505),Ye=i(879052),qe=i(721503),Je=i(672748);const Ke=function(e){const[t,i]=(0,a.useState)((0,Je.KQ)()),n=(0,a.useCallback)((e=>{const i=new Ge.Ay(e,e.impressionId||"",e.position);if(!i.getImpressionId())return;const n=e.parentImpressionId?{impressionId:e.parentImpressionId}:void 0,r=e.tabImpressionId?{impressionId:e.tabImpressionId}:void 0;return qe.A.createNewInstance(t,i,n,r)}),[t]),r=(0,a.useCallback)((e=>{i((0,Je.KQ)())}),[]),o=(0,a.useCallback)(((e,t,i)=>{if(!e)return null;if(t){const o=n(t);if(o)return a.createElement(Xe.A,Object.assign({},(0,Ye.Z)(i),{trackingInfo:o,onTrackableViewEnded:r}),e)}return a.createElement(a.Fragment,Object.assign({},(0,Ye.Z)(i)),e)}),[n,r]);return a.createElement(je.r,Object.assign({},e,{NativeLinearGradient:Fe.d,trackDiscoveryContentEngagementEvent:t=>{if(t){const i=t,n=new Ge.Ay(i,i.impressionId),r={impressionId:i.impressionId},a=new Ee.bTP(i.interactionType||ze.O.CLICK,Number(i.uniqueViewId||0),n,{},r,r,!1);if(e.actionDispatcher){const t=new Ee.ax6(a);e.actionDispatcher(t)}}},getTrackableContentView:o}))};var Qe=i(289484),Ze=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};const{az:$e,gf:et,Y9:tt,Qg:it,tl:nt,Z7:rt,Hw:at,qd:ot,nm:st,PZ:lt,av:dt,J:ct}=g.zN;class ut extends k{constructor(e,t,i){super(e,t,i),this.isHorizontalListViewV4Enabled=!1,this.isHorizontalListViewV4FlagChecked=!1,this.applyFormation=(e,t,i,n,r,o,s,l)=>{var d,c,u,h;const{px:p,py:g,pl:v,pr:_,pt:C,pb:E,p:T}=t,f=Ze(t,["px","py","pl","pr","pt","pb","p"]),A=(null==s?void 0:s.windowWidth)||this.windowWidth,S=(null==s?void 0:s.slotWidth)?s.slotWidth:A;switch(e){case"GRID":return a.createElement(et,Object.assign({key:t.columnCount},t,{columnCount:t.columnCount,rowCount:t.rowCount,data:i,carouselWidth:S,renderables:r}));case"MULTI_ROW_COLUMN_SCROLL_VIEW":const e=this.calculateWidth(t,n,S);return a.createElement(tt,Object.assign({key:`${this.indexId}-multi-row-column-scroll-view`},t,{data:i,maxRowCount:t.maxRowCount,interRowGap:t.interRowGap,width:e,renderables:r,screenSizeIndex:n}));case"FLIP_VIEW":return a.createElement(nt,Object.assign({key:`${this.indexId}-flip-view`},t,{data:i}));case"THREE_CHILD_GRID":return a.createElement(it,Object.assign({},t,{data:i}));case"HORIZONTAL_LIST":const o=(0,L.getScreenSizeFromScreenIndex)(n),A=st({p:T,px:p,py:g,pl:v,pr:_,pt:C,pb:E,gap:"web"===m.Platform.OS?f.childGap:void 0},void 0,o),y=this.calculateDimensions(t,n,S),w=f||{},{hideSliderButtons:I,showSliderButtonsOnHover:b,enableMouseWheelScroll:D}=w,x=Ze(w,["hideSliderButtons","showSliderButtonsOnHover","enableMouseWheelScroll"]);return this.isHorizontalListViewV4FlagChecked||(this.isHorizontalListViewV4FlagChecked=!0,this.isHorizontalListViewV4Enabled=!!O.A.getExperimentValue("enableHorizontalListViewV4")||K.Ay.enableHorizontalListViewV4()),this.isHorizontalListViewV4Enabled?a.createElement(le,{key:`${this.indexId}-hlv`,data:i,renderItem:(e,n,r)=>this.renderHorizontalListItem(n,r,i,y,t),calculateDimensions:()=>y,renderFooter:()=>this.renderHorizontalListFooter(t,y,null==r?void 0:r.footer),containerStyle:x,viewStyle:A,forceNonDeterministicRendering:null!==(d=t.forceNonDeterministicRendering)&&void 0!==d&&d,estimatedContentHeight:t.estimatedContentHeight||(t.height?void 0:1),hideSliderButtons:I,showSliderButtonsOnHover:b,enableMouseWheelScroll:D,pageUID:null==s?void 0:s.pageUID,uniqueId:`${this.indexId}_hlv_height`,initialDimension:{width:S,height:y.height||t.estimatedContentHeight||200}}):a.createElement(he,{key:`${this.indexId}-hlv`,data:i,forceNonDeterministicRendering:null!==(c=t.forceNonDeterministicRendering)&&void 0!==c&&c,renderItem:(e,n,r)=>this.renderHorizontalListItem(n,r,i,y,t),calculateDimensions:()=>y,renderFooter:()=>this.renderHorizontalListFooter(t,y,null==r?void 0:r.footer),containerStyle:x,viewStyle:A,hideSliderButtons:I,showSliderButtonsOnHover:b,enableMouseWheelScroll:D});case"PERSPECTIVE_CAROUSEL":return a.createElement(Ke,Object.assign({data:i,key:`${this.indexId}-card-list`},t,{actionDispatcher:null==s?void 0:s.actionDispatcher}));case"CAROUSEL":const{customContainerStyle:R,spaceInBetween:k,finalOtherToken:V,type:M}=this.getCarouselViewProps(n,t);let N;return O.A.getExperimentValue(P.ZLM.PASS_LOOP_CLONES)&&(N=i.length>2?3:i.length),a.createElement(te,Object.assign({key:this.indexId,data:i,width:S,containerStyle:R,screenSizeIndex:n,type:M,maxWindowWidth:1200,interContentSpacing:k,loopClonesPerSide:N},V));case"ROLLING_VIEW_ANIMATION":return a.createElement(Z.v_,Object.assign({data:i,renderList:[]},f));case"AvatarGroup":return a.createElement(rt,Object.assign({},f,{renderTree:i,size:f.size}));case"L1_TABBED_HEADER":const H=st({pl:v,pr:_,pt:C,pb:E});return a.createElement(Me,Object.assign({bgColor:f.bgColor,indicatorColor:f.indicatorColor,height:f.height,childGap:f.childGap,childFractionValue:f.childFractionValue,defaultSelectedIndex:f.defaultSelectedIndex,initialWidgetData:s,scrollProps:null==s?void 0:s.scrollProps,isSlotSticky:null==s?void 0:s.isSlotSticky,renderTabItem:this._renderTabListItem,data:i,viewStyles:H,identifier:`${this.indexId}-hlv`},f));case"TAB_ITEMS_LIST":return a.createElement(at,Object.assign({},t),i);case"TAB_PANELS_LIST":return a.createElement(ot,Object.assign({},t),i);case"TABS_COLLECTION":return a.createElement(lt,{itemsContainer:null==r?void 0:r.itemsContainer,panelsContainer:null==r?void 0:r.panelsContainer},i);case"MultiSizeGridView":return a.createElement(dt,Object.assign({},t,{data:i,slotWidth:S}));case"SCROLL_TO_LIST":return a.createElement(ct,Object.assign({key:`${this.indexId}-scroll-to-list-view`},t,{data:i,renderables:r}));case"MULTI_MEDIA_VIEW":return a.createElement(Ue,Object.assign({key:this.indexId,data:i,width:S},t,{renderables:r,pageContext:null==s?void 0:s.pageContext,formationChildrenData:l,appContext:null==s?void 0:s.appContext}));case"D0_FILTERS":return a.createElement(Qe.A,Object.assign({},t,{windowWidth:null!==(h=null===(u=null==s?void 0:s.appContext)||void 0===u?void 0:u.uiContext.windowFrame.width)&&void 0!==h?h:0}),i);default:return null}},this.getViewStyleAndChildGap=(e,t)=>{const{px:i,py:n,pl:r,pr:a,pt:o,pb:s,p:l}=e,d=st({p:l,px:i,py:n,pl:r,pr:a,pt:o,pb:s,m:e.childGap},void 0,(0,L.getScreenSizeFromScreenIndex)(t));return{viewStyle:d,childGap:d.margin?Number(d.margin):0,initialPadding:Number(d.padding)||Number(d.paddingLeft)||Number(d.paddingHorizontal)||0}},this.calculateWidth=(e,t,i)=>{if(!e.childWidthFraction)return(0,He.qp)(e.width,t)?e.width*(e.scaleFactor||1):e.width;const{childGap:n,initialPadding:r}=this.getViewStyleAndChildGap(e,t);return(0,He.$q)(i,r,n,e.childWidthFraction)},this.calculateDimensions=(e,t,i)=>{const{childGap:n,initialPadding:r}=this.getViewStyleAndChildGap(e,t);if(!e.childWidthFraction)return(0,He.ob)(e,n,t);const a=(0,He.$q)(i,r,n,e.childWidthFraction);return{width:Math.round(a),height:e.childHeight,childGap:Math.round(n)}},this._renderTabListItem=e=>e,this.renderHorizontalListItem=(e,t,i,n,r)=>{if(!e)return a.createElement(a.Fragment,null);const o=n.childGap?n.childGap/2:0,s=0!==t?o:0,l=i.length-1!==t?o:0;return r.forceNonDeterministicRendering?a.createElement($e,{style:{marginLeft:s,marginRight:l}},e):a.createElement($e,{style:{marginLeft:s,marginRight:l},width:n.width,height:n.height},e)}}renderHorizontalListFooter(e,t,i){return i?e.matchFooterDimenToItem?a.createElement($e,{width:t.width,flex:1},i):i:null}}var ht=i(728236),pt=i(624801);const gt=(0,we.Nx)(we.Ji,we.fS,we.LP,we.Le,we.Zd,we.mC,we.qC,we.zr,we.Yf),mt=(0,we.Nx)(we.Ji,we.fS,we.LP,we.Le,we.Zd,we.mC,we.zr,we.Yf),vt=(0,we.FY)("a",{propsTransformer:gt,name:"LinkLabel",defaultProps:{boxSizing:"border-box",display:"inline",typography:"heading",margin:"s0",padding:"s0",whiteSpace:"pre-wrap",overflowWrap:"break-word",borderWidth:pt.OutlineKeysBasic.o0,borderStyle:"solid"},themeContext:we.Dx}),_t=(0,we.FY)("a",{propsTransformer:mt,name:"LinkView",defaultProps:{alignItems:"stretch",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",flexShrink:0,minHeight:0,minWidth:0,margin:"s0",position:"relative",zIndex:0,borderWidth:pt.OutlineKeysBasic.o0,borderStyle:"solid"},themeContext:we.Dx});class Ct extends ht.SB{render(){var e,t,i,n,r,o;return a.createElement("Label"===(null===(e=this.props.anchorProps)||void 0===e?void 0:e.atom)?vt:_t,Object.assign(Object.assign({href:null===(i=null===(t=this.props.onPressParam)||void 0===t?void 0:t.action)||void 0===i?void 0:i.url,onClick:this._onClick},null===(n=this.props.anchorProps)||void 0===n?void 0:n.defaultProps),null===(r=this.props.anchorProps)||void 0===r?void 0:r.containerProps),null===(o=this.props.anchorProps)||void 0===o?void 0:o.containerInnerTree)}canIgnoreEventFromChildIfPrevented(){return!0}}class Et extends l.A{render(){var e,t,i,n,r,o,s,l,d;return this.props.children&&this.props.isActionHandledByAtom?a.cloneElement(this.props.children,{tappableProps:{onPress:this._onTap.bind(this),onPressParam:{action:this.props.action,dispatchAction:this.props.dispatchAction.bind(this),dispatchActionObject:this.props.dispatchActionObject.bind(this),dispatchDCCEvent:this.props.dispatchDCCEvent.bind(this),dispatchDCEEvent:null===(t=null===(e=this.props)||void 0===e?void 0:e.dispatchDCEEvent)||void 0===t?void 0:t.bind(this),trackDGEvent:null===(i=this.props.trackDGEvent)||void 0===i?void 0:i.bind(this),dispatchDWCEvent:null===(n=this.props.dispatchDWCEvent)||void 0===n?void 0:n.bind(this),widgetSlotData:this.props.widgetSlotData,widgetIndex:this.props.widgetIndex,widgetSlotId:this.props.widgetSlotId}}},null===(r=this.props.anchorProps)||void 0===r?void 0:r.containerInnerTree):a.createElement(Ct,{onPress:this._onTap,onPressParam:{action:this.props.action,dispatchAction:this.props.dispatchAction,dispatchDCCEvent:this.props.dispatchDCCEvent,trackDGEvent:this.props.trackDGEvent,dispatchDWCEvent:this.props.dispatchDWCEvent,dispatchDCEEvent:null===(o=this.props)||void 0===o?void 0:o.dispatchDCEEvent,dispatchActionObject:this.props.dispatchActionObject,widgetSlotData:this.props.widgetSlotData,widgetIndex:this.props.widgetIndex},disabled:null===(d=null===(l=null===(s=this.props)||void 0===s?void 0:s.action)||void 0===l?void 0:l.params)||void 0===d?void 0:d.isClickDisabled,anchorProps:this.props.anchorProps},this.props.children)}}var Tt=i(671501),ft=i(675076),At=i(881568),St=i(530565),yt=i(931591),wt=i(529548),It=i(110941);class bt extends l.A{constructor(){super(...arguments),this.scale=new m.Animated.Value(1),this.handleTap=()=>{m.Animated.sequence([m.Animated.timing(this.scale,{toValue:.95,duration:40,easing:m.Easing.inOut(m.Easing.ease),useNativeDriver:!1}),m.Animated.timing(this.scale,{toValue:1,duration:40,easing:m.Easing.inOut(m.Easing.ease),useNativeDriver:!1})]).start()},this.onPressIn=e=>{m.Animated.timing(this.scale,{toValue:.95,duration:120,easing:m.Easing.inOut(m.Easing.ease),useNativeDriver:!1}).start()},this.onPressOut=e=>{m.Animated.timing(this.scale,{toValue:1,duration:120,easing:m.Easing.inOut(m.Easing.ease),useNativeDriver:!1}).start()},this._onTapHandler=(e,t)=>{this.handleTap(),this._onTap(e,t)}}render(){var e,t,i,r,o,s;return this.props.children&&this.props.isActionHandledByAtom?a.cloneElement(this.props.children,{tappableProps:{onPress:this._onTapHandler,onPressParam:{action:this.props.action,dispatchAction:this.props.dispatchAction.bind(this),dispatchActionObject:this.props.dispatchActionObject.bind(this),dispatchDCCEvent:this.props.dispatchDCCEvent.bind(this),dispatchDCEEvent:null===(t=null===(e=this.props)||void 0===e?void 0:e.dispatchDCEEvent)||void 0===t?void 0:t.bind(this),trackDGEvent:null===(i=this.props.trackDGEvent)||void 0===i?void 0:i.bind(this),dispatchDWCEvent:null===(r=this.props.dispatchDWCEvent)||void 0===r?void 0:r.bind(this),widgetSlotData:this.props.widgetSlotData,widgetIndex:this.props.widgetIndex}}},null===(o=this.props.anchorProps)||void 0===o?void 0:o.containerInnerTree):a.createElement(n.Tappable,{onPress:this._onTapHandler,onPressIn:this.onPressIn,onPressOut:this.onPressOut,onPressParam:{action:this.props.action,dispatchAction:this.props.dispatchAction,dispatchDCCEvent:this.props.dispatchDCCEvent,trackDGEvent:this.props.trackDGEvent,dispatchDWCEvent:this.props.dispatchDWCEvent,dispatchDCEEvent:null===(s=this.props)||void 0===s?void 0:s.dispatchDCEEvent,dispatchActionObject:this.props.dispatchActionObject,widgetSlotData:this.props.widgetSlotData,widgetIndex:this.props.widgetIndex},anchorProps:this.props.anchorProps},a.createElement(m.Animated.View,{style:{transform:[{scale:this.scale}]}},this.props.children))}}var Dt=i(773830),xt=i(521722),Pt=i(160251),Ot=i(446065);const{wv:Rt}=g.zN;class kt extends o.A{static calculateWindowWidth(e){return e.isDesktopBottomSheet?Pt.wc:Math.min(xt.RW,e.appContext.uiContext.windowFrame.width)}static calculateSlotWidth(e){var t,i;const n=kt.calculateWindowWidth(e);return n/ft.rb*(null!==(i=null===(t=e.widgetSlotData.columnSpanMap)||void 0===t?void 0:t[(0,L.getScreenSize)(n)])&&void 0!==i?i:ft.rb)}calculateWindowWidth(e){return kt.calculateWindowWidth(e||this.props)}calculateSlotWidth(e){return kt.calculateSlotWidth(e||this.props)}constructor(e,t){var i,n,r;super(e,t),this.paginationPerfTracker=(0,yt.A)(),this.hapticContextProps={isHapticEnabled:(0,Dt.Rk)(),hapticValues:K.Ay.getHapticConfig()},this.onViewStarted=e=>{this.shouldPrefetchOnViewability()&&this._prefetchPage(),this.atomRefProvider.invokeAllAtomsRef()},this.getWidgetTrackingParams=e=>o.A.getTrackingParams(this.props,e),this.isDlsPage=()=>this.props.appContext.isDlsScreen||!1,this.wrapComponent=(e,t,i,n)=>{const r=(0,Dt.Rk)();switch(e){case"TAPPABLE":if("web"===m.Platform.OS&&"AddressBarCollapsableView"===t.type.displayName)return t;const e=t.props,o=e.children,s=t.type.displayName,d=(0,M.C)(s),c=!!(null==i?void 0:i.interactionType),u=!!O.A.getExperimentValue("enableTouchFeedback"),p=(0,Q.vN)(this.dlsVersion)?Et:l.A,g=null==i?void 0:i.interactionConfig,v=!r&&c&&"NONE"!==(null==i?void 0:i.interactionType)&&u?bt:p;return i?a.createElement(v,{anchorProps:{containerInnerTree:o,containerProps:e,defaultProps:d,atom:s},action:i,dispatchAction:this.dispatchAction,dispatchActionObject:this.dispatchActionObject,dispatchDCCEvent:this.trackDiscoveryContentClickEvent,dispatchDCEEvent:this.trackDiscoveryContentEngagementEvent.bind(this),scrollToSlotPosition:this.props.scrollToSlotPosition,dispatchDWCEvent:this.trackDiscoveryWidgetClickEvent.bind(this),trackDGEvent:this.trackDGEvent,pageInfo:this.props.pageInfo,widgetSlotData:this.props.widgetSlotData,widgetIndex:this.props.index,onTappableCallback:t.props.onTappableCallback,isActionHandledByAtom:n,interactionType:g,widgetSlotId:this.props.widgetSlotData.slotData.id},t):t;case"CALLBACK":return a.createElement(h,{renderTree:t,data:i,dispatchAction:this.dispatchAction});case"CUSTOM_TAPPABLE":return a.cloneElement(t,Object.assign(Object.assign({},t.props),{tappableProps:{action:i,dispatchAction:this.dispatchAction,dispatchActionObject:this.dispatchActionObject,scrollToSlotPosition:this.props.scrollToSlotPosition,dispatchDCCEvent:this.trackDiscoveryContentClickEvent,dispatchDWCEvent:this.trackDiscoveryWidgetClickEvent.bind(this),trackDGEvent:this.trackDGEvent,widgetSlotData:this.props.widgetSlotData,widgetIndex:this.props.index,onTappableCallback:t.props.onTappableCallback}}),t.props.children)}},this.dlsStoreUtil=new F.k(e.widgetSlotData.dlsWidgetStore,(0,s.xH)(e.widgetSlotData)),this.atomRefProvider=new W,this.dlsVersion=null===(r=null===(i=e.dlsWidgetBuilder)||void 0===i?void 0:i.dslProvider.getDSL((null===(n=s.nS(e.widgetSlotData))||void 0===n?void 0:n.viewType)||""))||void 0===r?void 0:r.dlsVersion,this.dlsComponentWrapper=new p({provideWrapper:this.wrapComponent}),this.windowWidth=this.calculateWindowWidth(e),this.slotWidth=this.calculateSlotWidth(e),(0,Q.vN)(this.dlsVersion)?this.dlsFormation=new ut(this.windowWidth,this.atomRefProvider):this.dlsFormation=new k(this.windowWidth,this.atomRefProvider),this.cartCountLocal=this.props.appContext.userManager.getCartItems().length}UNSAFE_componentWillReceiveProps(e,t){var i,n,r,a,o;super.UNSAFE_componentWillReceiveProps(e,t),(null===(i=this.props.widgetSlotData.slotData.widget)||void 0===i?void 0:i.widgetName)!==(null===(n=e.widgetSlotData.slotData.widget)||void 0===n?void 0:n.widgetName)&&(this.dlsStoreUtil=new F.k(e.widgetSlotData.dlsWidgetStore,(0,s.xH)(e.widgetSlotData)),this.dlsVersion=null===(o=null===(r=e.dlsWidgetBuilder)||void 0===r?void 0:r.dslProvider.getDSL((null===(a=s.nS(e.widgetSlotData))||void 0===a?void 0:a.viewType)||""))||void 0===o?void 0:o.dlsVersion,this.windowWidth=this.calculateWindowWidth(e),this.slotWidth=this.calculateSlotWidth(e),(0,Q.vN)(this.dlsVersion)?this.dlsFormation=new ut(this.windowWidth,this.atomRefProvider):this.dlsFormation=new k(this.windowWidth,this.atomRefProvider))}componentDidMount(){var e,t,i,n,r,a;super.componentDidMount(),U.A.trackAtlasOmnitureTracking(null===(r=null===(n=null===(i=null===(t=null===(e=this.props)||void 0===e?void 0:e.widgetSlotData)||void 0===t?void 0:t.slotData)||void 0===i?void 0:i.widget)||void 0===n?void 0:n.omnitureTracking)||void 0===r?void 0:r.ON_LOAD,null===(a=this.props.widgetSlotData.slotData.widget)||void 0===a?void 0:a.tracking,this.dispatchAction),this.trackWidgetLoadMetricForPagination()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.trackWidgetLoadMetricForPagination()}_shouldTraceEvent(){var e,t;return!!(0,St.e2)(null===(e=this.props.widgetSlotData.slotData.widget)||void 0===e?void 0:e.serverTracking)&&(!!(null===(t=this.props.pageInfo)||void 0===t?void 0:t.pageURI)&&!(0,St.qg)(this.props.pageInfo.pageURI,this.props.widgetSlotData.position,At.s.VIEW_DWELL_TIME))}_trackContextAwareEventsIfRequired(e){var t,i,n,r;if(null===(t=this.props.pageInfo)||void 0===t?void 0:t.pageURI){const t={duration:e.nativeEvent.d,startTime:String(e.nativeEvent.st),slotPosition:this.props.widgetSlotData.position,type:At.s.VIEW_DWELL_TIME,status:At.f.UNCOLLECTED};(0,St.RW)({url:this.props.pageInfo.pageURI,type:At.s.VIEW_DWELL_TIME,context:t,serverTracking:null===(r=null===(n=null===(i=this.props.widgetSlotData)||void 0===i?void 0:i.slotData)||void 0===n?void 0:n.widget)||void 0===r?void 0:r.serverTracking,slotPosition:this.props.widgetSlotData.position,shouldTraceEvent:this._shouldTraceEvent.bind(this)})}}viewabilityEndedCallback(e){this._trackContextAwareEventsIfRequired(e),this.atomRefProvider.revokeAllAtomsRef()}shouldEnableViewCallbackForMsite(){return"web"===m.Platform.OS?"true":void 0}static getWidgetHeight(e){var t,i,n,r,a,o,l,d,c,u,h,p,g;const m=(0,s.xH)(e.widgetSlotData),v=(0,s.KJ)(e.widgetSlotData);if(!v)return 0;let _=0;const C=(0,N.q8)(v,e);if(null!==C)return C;const E=null===(t=e.dlsWidgetBuilder)||void 0===t?void 0:t.dslProvider.getDSL(v);if(null===(i=null==E?void 0:E.estimatedHeights)||void 0===i?void 0:i.length){const t=kt.calculateWindowWidth(e),i=L.tokenIndexForScreenSize[(0,L.getScreenSize)(t)],s=null==m?void 0:m.defaultState;let v=E.estimatedHeights[i];if(v){const m=null===(n=null==s?void 0:s.box_0)||void 0===n?void 0:n.optionalSublayout;if("true"===(null===(r=null==s?void 0:s.box_0)||void 0===r?void 0:r.isOptionalDataNull)&&m){const t=null===(a=e.dlsWidgetBuilder)||void 0===a?void 0:a.dslProvider.getDSL(m);v-=(null===(o=null==t?void 0:t.estimatedHeights)||void 0===o?void 0:o[i])||0}const _=(null===(l=null==s?void 0:s.atomData_0)||void 0===l?void 0:l.aspectRatio)||(null===(d=null==s?void 0:s["carouselData_1.atomData_0"])||void 0===d?void 0:d.aspectRatio)||(null===(c=null==s?void 0:s.image_0)||void 0===c?void 0:c.aspectRatio),C=(null===(u=null==s?void 0:s.atomData_0)||void 0===u?void 0:u.estimatedHeight)||(null===(h=null==s?void 0:s["carouselData_1.atomData_0"])||void 0===h?void 0:h.estimatedHeight)||(null===(p=null==s?void 0:s.image_0)||void 0===p?void 0:p.estimatedHeight),T=(null===(g=null==s?void 0:s.content)||void 0===g?void 0:g.width)||t;return _&&C&&(v=v-Number(C)+It.A.getHeight(T,_,0)),v>0?v:E.estimatedHeights[i]}}_+=(null==E?void 0:E.fixedHeight)||100;const T=Object.keys(m.dlsData);for(const e of T){const t=m.dlsData[e].value;if(Array.isArray(t)){_+=t.length*30}}if(K.Ay.widgetHeightFixEnabled())switch(v){case"default_fk_address_bar_regular_without_sla":_=Math.min(_,26);break;case"default_fk_address_bar_regular":_=Math.min(_,50);break;case"default_fk_nav_marketplace_hp_tab_2":case"default_fk_nav_marketplace_conainer":case"product-action":_=Math.min(_,60);break;case"default_fk_search_flipkart_1":_=Math.min(_,75);break;case"upi_action_bar":_=Math.min(_,56);break;case"upi_tabs":_=Math.min(_,47);break;case"rtbsticker":_=Math.min(_,36)}return _}shouldComponentUpdate(e,t,i){var n,r;this.dlsStoreUtil.updateStore(e.widgetSlotData.dlsWidgetStore);const a=e.appContext.userManager.getCartItems().length,o=a!==this.cartCountLocal;return o&&(this.cartCountLocal=a),this.props.dlsWidgetBuilder!==e.dlsWidgetBuilder||o||this.isClientDataChanged(e)||(e.loadingState===q.LA.loadingWithShimmer||this.props.loadingState===q.LA.loadingWithShimmer)&&this.props.loadingState!==e.loadingState||(K.Ay.isAtlasRowIdFixEnable()?super.shouldComponentUpdateForDlsWidget(e,t,i):super.shouldComponentUpdate(e,t,i))||this.props.widgetSlotData.dlsWidgetStore!==e.widgetSlotData.dlsWidgetStore||this.props.widgetSlotData.widgetLoadState!==e.widgetSlotData.widgetLoadState||(null===(n=this.props.scrollProps)||void 0===n?void 0:n.appBarscrollBehaviourOffset)!==(null===(r=e.scrollProps)||void 0===r?void 0:r.appBarscrollBehaviourOffset)}trackWidgetLoadMetricForPagination(){var e;if(!this.paginationPerfTracker.shouldTrackRenderTime())return;const t=null===(e=this.props.pageInfo)||void 0===e?void 0:e.pageNumber;requestAnimationFrame((()=>{"number"==typeof t&&this.paginationPerfTracker.stopFCPTime(t)}))}isClientDataChanged(e){const t=this.getDependentClientDataSources(),i=this.getClientData.call({props:e});return t.some((e=>(0,B.A)(this.getClientData()[e],i[e])))}getDependentClientDataSources(){var e;const t=(0,s.xH)(this.props.widgetSlotData);return(null===(e=null==t?void 0:t.statefulDependencies)||void 0===e?void 0:e.clientDataSources)||[]}getDLSWidgetComponent(e,t){var i,n,r,o,l,d,c,u,h,p,g,m,v,_,C,E,T,f,A,S,y,w,I,b,D,x,P,O,R,k,V,M,H,W,B,U,F,G,z,j,K,Q,Z;const $=null===(i=this.props.widgetSlotData.slotData.widget)||void 0===i?void 0:i.widgetName;if(this.props.loadingState===q.LA.loadingWithShimmer&&J.A.shouldShowShimmerLoader($)){const e=this.props.appContext.uiContext.getPageFrame().width,t=kt.getWidgetHeight(this.props);return(0,N.$d)(e,t,$)}const ee=this.props.isDesktopBottomSheet?L.ScreenSize.sm:this.context,te=(0,s.xH)(this.props.widgetSlotData),ie=s.KJ(this.props.widgetSlotData);if(!ie||!this.props.dlsWidgetBuilder)return;const ne=null===(n=this.props.dlsWidgetBuilder)||void 0===n?void 0:n.dslProvider.getDSL(ie),re=(null==ne?void 0:ne.colSpan)||[12,12,12],ae=L.tokenIndexForScreenSize[ee],oe=12/re[ae],se=(0,Y.d2)(this.props.widgetSlotData)||(0,Y.Lz)(void 0,this.props.pageInfo),le=null!==(o=null===(r=this.props.widgetSlotData.columnSpanMap)||void 0===r?void 0:r[ee])&&void 0!==o?o:ft.rb;this.slotWidth=this.windowWidth/ft.rb*le;const de={basketData:this.props.basketData,screenSizeIndex:ae,initialImageFactor:oe,trackableContentProvider:this.getTrackableContentView,clientData:this.getClientData(),actionDispatcher:this.dispatchActionObject,getNudgeData:this.getNudgeDataForRenderableComponent,pageTransientData:null===(l=this.props.pageInfo)||void 0===l?void 0:l.pageTransientData,themeId:se,storeUtil:this.dlsStoreUtil,atomData:{videoOrchestrator:this.props.videoOrchestrator,videoPool:this.props.videoPool,slotId:null===(u=null===(c=null===(d=this.props.widgetSlotData)||void 0===d?void 0:d.slotData)||void 0===c?void 0:c.id)||void 0===u?void 0:u.toString(),sessionData:null===(h=this.props.appContext.userState)||void 0===h?void 0:h.sessionData,userMembershipState:null===(m=null===(g=null===(p=this.props.appContext.userState)||void 0===p?void 0:p.versionedData)||void 0===g?void 0:g.lockinResponse)||void 0===m?void 0:m.userMembershipState,cartCount:(null===(E=null===(C=null===(_=null===(v=this.props.appContext.userState)||void 0===v?void 0:v.versionedData)||void 0===_?void 0:_.cart)||void 0===C?void 0:C.items)||void 0===E?void 0:E.length)||0,wishlistCount:(null===(S=null===(A=null===(f=null===(T=this.props.appContext.userState)||void 0===T?void 0:T.versionedData)||void 0===f?void 0:f.wishlist)||void 0===A?void 0:A.productIds)||void 0===S?void 0:S.length)||0,pageName:null===(y=this.props.pageInfo)||void 0===y?void 0:y.pageName,widgetIndex:null!==(I=null===(w=this.props.widgetSlotData)||void 0===w?void 0:w.position)&&void 0!==I?I:this.props.index},analyticsTracker:{parentImpressionInfo:null===(D=null===(b=this.state)||void 0===b?void 0:b.trackingParams)||void 0===D?void 0:D.getImpressionInfo(),getTrackingParams:this.getWidgetTrackingParams,trackDiscoveryContentClickEvent:this.trackDiscoveryContentClickEvent,getContentViewTrackingData:super.getContentViewTrackingData.bind(this)},index:this.props.index,scrollProps:null===(x=this.props)||void 0===x?void 0:x.scrollProps,isSlotSticky:null===(O=null===(P=this.props)||void 0===P?void 0:P.widgetSlotData)||void 0===O?void 0:O.isSlotSticky,loadingState:this.props.loadingState,widgetLoadState:this.props.widgetSlotData.widgetLoadState,windowWidth:this.windowWidth,pageURI:null===(R=this.props.pageInfo)||void 0===R?void 0:R.pageURI,pageUID:null===(k=this.props.pageInfo)||void 0===k?void 0:k.pageUID,slotWidth:this.slotWidth,pageContext:null===(M=null===(V=null==this?void 0:this.props)||void 0===V?void 0:V.pageInfo)||void 0===M?void 0:M.pageContext,pageNumber:null===(H=this.props.pageInfo)||void 0===H?void 0:H.pageNumber,columnSpan:le,marketPlaceId:null===(W=this.props.pageInfo)||void 0===W?void 0:W.marketPlace,responseType:null===(B=this.props.pageInfo)||void 0===B?void 0:B.responseType,appContext:this.props.appContext,tracking:null===(G=null===(F=null===(U=this.props.widgetSlotData)||void 0===U?void 0:U.slotData)||void 0===F?void 0:F.widget)||void 0===G?void 0:G.tracking,isDesktopBottomSheet:this.props.isDesktopBottomSheet,pageInstanceData:null===(z=this.props.pageInfo)||void 0===z?void 0:z.pageInstanceData,widgetViewType:null===(Q=null===(K=null===(j=this.props.widgetSlotData)||void 0===j?void 0:j.slotData)||void 0===K?void 0:K.widget)||void 0===Q?void 0:Q.viewType};this.dlsFormation&&(this.dlsFormation.setWindowWidth(this.windowWidth),this.dlsFormation.setIndexId(`${this.props.widgetSlotData.slotData.id}`),this.dlsFormation.setViewType(ie),this.dlsFormation.setIOSLayoutHackForHPEnabled(null===(Z=this.props.pageInfo)||void 0===Z?void 0:Z.isiOSLayoutHackForHPEnabled));const ce=a.createElement(a.Fragment,null,this.props.dlsWidgetBuilder.buildWidget(ie,te.dlsData,e,this.atomRefProvider,de)),ue=this.hapticContextProps.isHapticEnabled?a.createElement(X,Object.assign({},this.hapticContextProps),ce):ce;return se?a.createElement(t,{themeId:se,isDlsPage:this.isDlsPage()},ue):ue}applyLayoutDetailsToWidget(e){var t;if(!this.props.additonalStyles)return super.applyLayoutDetailsToWidget(e);let i=s.lf(this.props.widgetSlotData);return i=Object.assign(Object.assign({},i),this.props.additonalStyles),wt.A.apply(i,e,null===(t=this.props.pageInfo)||void 0===t?void 0:t.isiOSLayoutHackForHPEnabled,this.props.appContext.isDlsScreen,this.props.themeContext)}getClientData(){var e,t,i,n,r,a;return{cartCount:(0,Ot.ph)(null===(e=this.props.pageInfo)||void 0===e?void 0:e.marketPlace)?(0,Ot.cr)(this.props.basketData,null===(t=this.props.pageInfo)||void 0===t?void 0:t.marketPlace):this.props.appContext.userManager.getCartItems().length,pageTransientData:null===(i=this.props.pageInfo)||void 0===i?void 0:i.pageTransientData,pageSharedData:null===(n=this.props.pageInfo)||void 0===n?void 0:n.pageSharedData,cart:this.props.appContext.userManager.getCartContents(),xtraSaverState:null===(r=this.props.appContext)||void 0===r?void 0:r.xtraSaverState,basketData:this.props.basketData,pageInstanceData:null===(a=this.props.pageInfo)||void 0===a?void 0:a.pageInstanceData}}renderWidget(){var e,t,i,n,r,o,l,d,c,u,h;const p={wrapComponent:this.dlsComponentWrapper.wrapComponentIfRequired,applyFormation:this.dlsFormation.applyFormation};let m=this.getDLSWidgetComponent(p,(0,Q.vN)(this.dlsVersion)?Tt.A:G.A);const v=s.KJ(this.props.widgetSlotData);if(v){const s=null===(e=this.props.dlsWidgetBuilder)||void 0===e?void 0:e.dslProvider.getDSL(v);if((null==s?void 0:s.useScreenHeight)||!1){const e=this.props.appContext.uiContext.getPageFrame().height-(null!==(n=null===(i=null===(t=this.props.pageInfo)||void 0===t?void 0:t.pageLayoutInfo)||void 0===i?void 0:i.appBarHeight)&&void 0!==n?n:0)-(null!==(l=null===(o=null===(r=this.props.pageInfo)||void 0===r?void 0:r.pageLayoutInfo)||void 0===o?void 0:o.bottomBarHeight)&&void 0!==l?l:0);m=a.createElement(g.az,{height:e},m)}}return(null===(h=null===(u=null===(c=null===(d=this.props.widgetSlotData)||void 0===d?void 0:d.slotData)||void 0===c?void 0:c.widget)||void 0===u?void 0:u.properties)||void 0===h?void 0:h.separator)&&(0,Q.vN)(this.dlsVersion)?a.createElement(a.Fragment,null,m,a.createElement(Rt,{height:1,backgroundColor:"outline.neutral.seperator",marginRight:"s6",marginLeft:"s6"})):m}hideWidgetEdgeDivider(){return!0}}kt.contextType=V.ZP},882165:e=>{"use strict";e.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},883562:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>v});var n=i(465420),r=i(296540),a=i(716249),o=i(877293),s=i(52754),l=i(887261);const d=o.StyleSheet.create({container:{margin:16,flex:1},profileContainer:{marginTop:16,flexDirection:"row",alignItems:"center"},profileImage:{alignItems:"flex-start",borderRadius:28,overflow:"hidden"},verifiedImage:{borderRadius:8,overflow:"hidden",position:"absolute",top:40,left:40},profileName:{margin:16,fontFamily:l.$u,fontSize:20},profileDesc:{marginTop:16,fontSize:14,fontFamily:l.A$},additionalInfoContainer:{marginTop:5},additionalInfo:{fontSize:14,marginTop:11,flexDirection:"row"},socialHandlesContainer:{marginTop:24,flexDirection:"row"},socialHandleStyle:{flexDirection:"column",justifyContent:"center",padding:12,alignItems:"center"},socialHandleIcon:{marginBottom:12},socialHandleText:{fontFamily:l.A$,fontSize:12}});var c=i(352254),u=i(495176),h=i(479892),p=i(198213);class g extends r.Component{render(){var e,t;const i=null===(e=this.props.profileSummary)||void 0===e?void 0:e.profileDetails,n=null==i?void 0:i.image,a=null==i?void 0:i.title,s=null==i?void 0:i.subTitle,l=null===(t=this.props.profileSummary)||void 0===t?void 0:t.verifiedImage;return r.createElement(o.View,{style:this.props.containerStyle},(null==n?void 0:n.dynamicImageUrl)?r.createElement(p.Dk,{style:d.profileImage,height:56,width:56,source:n.dynamicImageUrl}):void 0,(null==l?void 0:l.dynamicImageUrl)?r.createElement(p.Dk,{style:this.props.verifiedImageStyle,height:18,width:18,source:l.dynamicImageUrl}):void 0,r.createElement(o.View,{style:this.props.profileNameContainer},(null==a?void 0:a.value)?r.createElement(u.A,{style:this.props.profileTitleStyle,richTextData:a.value}):void 0,(null==s?void 0:s.value)?r.createElement(u.A,{style:this.props.profileSubTitleStyle,richTextData:s.value}):void 0))}}class m extends a.A{constructor(){super(...arguments),this._renderAdditionalInfo=(e,t)=>{const i=e.title,n=e.text;return r.createElement(o.View,{style:d.additionalInfo,key:t},i?r.createElement(u.A,{text:i+": ",style:[h.XT.lightGreyText,h.XT.fontMedium]}):void 0,n?r.createElement(u.A,{text:n,style:h.XT.fontMedium}):void 0)},this._renderSocialHandles=(e,t)=>{const i=e.image,n=e.title,a=e.text;return r.createElement(o.View,{style:d.socialHandleStyle,key:t},i&&r.createElement(c.A,{style:d.socialHandleIcon,height:24,width:32,source:i.dynamicImageUrl}),n&&r.createElement(u.A,{style:d.socialHandleText,text:n,noSpaceAppend:!0}),a&&r.createElement(u.A,{style:d.socialHandleText,text:a,noSpaceAppend:!0}))}}static getWidgetHeight(e){return 360}renderWidget(){const e=(0,s.nS)(this.props.widgetSlotData),t=e&&e.data,i=null==t?void 0:t.expertProfileData,n=null==i?void 0:i.profileDetails,a=null==i?void 0:i.description,l=null==i?void 0:i.socialHandles,c=null==i?void 0:i.additionalInfo;return r.createElement(o.View,{style:d.container},r.createElement(g,{profileSummary:n,containerStyle:d.profileContainer,profileTitleStyle:d.profileName,verifiedImageStyle:d.verifiedImage}),a?r.createElement(u.A,{style:d.profileDesc,richTextData:a}):void 0,r.createElement(o.View,{style:d.additionalInfoContainer},c&&c.map(this._renderAdditionalInfo)),r.createElement(o.View,{style:d.socialHandlesContainer},l&&l.map(this._renderSocialHandles)))}renderDivider(){}}class v extends n.A{getWidgetClass(e){return m}getWidgetHeight(e){return m.getWidgetHeight(e)}}},885809:e=>{"use strict";e.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},889050:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>U});var n=i(296540),r=i(716249),a=i(877293),o=i(492418),s=i(52754),l=i(45426),d=i(352254),c=i(656757),u=i(294188),h=i(415283),p=i(914944),g=i(479892),m=i(410752),v=i(414908),_=i(938777),C=i(153491),E=i(700036),T=i(614941),f=i(400090),A=i(887903),S=i(468288),y=i(537415),w=i(345617),I=i(740766),b=i(347924),D=i(302019),x=i(879052),P=i(347953),O=i(638282),R=i(813652),k=i(47361),V=i(722984),L=i(927443),M=i(532667),N=i(446065),H=i(134919),W=i(832022),B=i(170498);class U extends r.A{constructor(e,t){var i,n,r,o,s,l,d;super(e,t),this.disablePriceInStickyWidget=!!P.A.getExperimentValue("disablePriceInStickyBasket")&&(null===(n=null===(i=this.props.pageInfo)||void 0===i?void 0:i.marketPlace)||void 0===n?void 0:n.toUpperCase())===_.fOd.MARKETPLACE_HYPERLOCAL,this.enableBasketExpImprovement=(0,O.dC)(null===(r=this.props.pageInfo)||void 0===r?void 0:r.marketPlace),this._handleBasketUpdate=e=>{const t={type:h.Q3.UPDATE_STICKY_BASKET_WITH_EVENT_EMITTER,params:Object.assign({},e),tracking:{},loginType:y.G.LOGIN_NOT_REQUIRED};this.dispatchAction&&this.dispatchAction(h.Q3.MAPI_ACTION,new p.rs(t))},this.handleActivityStateEvent=e=>{var t;if(e.pageUID===(null===(t=this.props.pageInfo)||void 0===t?void 0:t.pageUID))switch(e.state){case f.z.ON_RESUME:T.A.getInstance().on(w.A.EMIT_BASKET_DATA,this._handleBasketUpdate);break;case f.z.ON_PAUSE:T.A.getInstance().off(w.A.EMIT_BASKET_DATA,this._handleBasketUpdate)}},this._animate=()=>{this._cartRotate.setValue(0),a.Animated.timing(this._cartRotate,{toValue:1,duration:1e3,easing:a.Easing.linear,useNativeDriver:!1}).start()},this.setRef=e=>{this.viewWrapperChildRef=e},this.navigate=(e,t)=>{t&&this.dispatchAction(h.Q3.MAPI_ACTION,new p.rs(t))},this._cartChanged=e=>{e&&this.setState({cartCount:this._getCartItemsCount(e)})},this._cartRotate=new a.Animated.Value(1),this.state=Object.assign(Object.assign({},this.state),{cartCount:(0,N.ph)(null===(o=e.pageInfo)||void 0===o?void 0:o.marketPlace)?(0,N.cr)(e.basketData,null===(s=e.pageInfo)||void 0===s?void 0:s.marketPlace):e.appContext.userManager.getCartQuantity(null===(l=e.pageInfo)||void 0===l?void 0:l.marketPlace),hasViewWrapperChildRefChanged:!1}),this.isDesktopClient=null===(d=null===a.NativeModules||void 0===a.NativeModules?void 0:a.NativeModules.DesktopClientInfo)||void 0===d?void 0:d.isDesktopClient,this.isDesktopClient&&(0,V.d)(a.NativeModules.CartModule).addListener(S.tp.NAME_CART_CHANGED_EVENT,this._cartChanged)}componentWillUnmount(){this.isDesktopClient?(0,V.d)(a.NativeModules.CartModule).removeListener(S.tp.NAME_CART_CHANGED_EVENT,this._cartChanged):T.A.getInstance().off(w.A.EMIT_BASKET_DATA,this._handleBasketUpdate),f.N.removeListener(A.t.HANDLE_ACTIVITY_STATE_CHANGE,this.handleActivityStateEvent)}static getWidgetHeight(e){const t=(0,s.nS)(e.widgetSlotData),i=(0,s.KJ)(e.widgetSlotData),n=null==t?void 0:t.data,r=n&&n.renderableComponents&&n.renderableComponents[0].value,a=r&&r.basketValue&&r.basketValue.value,o=null==r?void 0:r.d2rBasketOffer;return a&&a.basketValue>=0?o?"D2R_ONLY"===i?c.Sg:(k.a.isPersistentBottomBarEnabledOnMinutes(e)?0:c.Ln)+c.Sg:k.a.isPersistentBottomBarEnabledOnMinutes(e)?0:c.Ln:0}UNSAFE_componentWillReceiveProps(e){var t,i,n,r,a,o,l,d;const c=(0,s.nS)(this.props.widgetSlotData),u=null==c?void 0:c.data,h=null===(i=null===(t=null==u?void 0:u.renderableComponents)||void 0===t?void 0:t[0])||void 0===i?void 0:i.value,p=null===(r=null===(n=null==h?void 0:h.basketValue)||void 0===n?void 0:n.value)||void 0===r?void 0:r.basketItemCount,g=(0,s.nS)(e.widgetSlotData),m=null==g?void 0:g.data,v=null===(a=null==m?void 0:m.renderableComponents)||void 0===a?void 0:a[0].value,C=null===(l=null===(o=null==v?void 0:v.basketValue)||void 0===o?void 0:o.value)||void 0===l?void 0:l.basketItemCount;E.A.setNumber(_.vZp,null!=C?C:0),(0,N.ph)(null===(d=e.pageInfo)||void 0===d?void 0:d.marketPlace)||p&&C&&p!==C&&this._animate()}shouldComponentUpdate(e,t){var i,n,r,a;const o=(0,s.nS)(this.props.widgetSlotData),l=null==o?void 0:o.data,d=null===(i=null==l?void 0:l.renderableComponents)||void 0===i?void 0:i[0].value,c=(0,s.nS)(e.widgetSlotData),h=null==c?void 0:c.data,p=h&&h.renderableComponents&&h.renderableComponents[0].value,g=(0,N.ph)(null===(n=e.pageInfo)||void 0===n?void 0:n.marketPlace)?(0,N.cr)(e.basketData,null===(r=e.pageInfo)||void 0===r?void 0:r.marketPlace):e.appContext.userManager.getCartQuantity(null===(a=e.pageInfo)||void 0===a?void 0:a.marketPlace);return(0,u.A)(d,p)||this.state.hasViewWrapperChildRefChanged!==t.hasViewWrapperChildRefChanged||this.state.cartCount!==g||this.state.cartCount!==t.cartCount||this.props.basketData!==e.basketData}componentDidMount(){var e,t,i,n,r,o,l,d;if(this.setState({hasViewWrapperChildRefChanged:!0}),!this.isDesktopClient&&T.A.getInstance().on(w.A.EMIT_BASKET_DATA,this._handleBasketUpdate),"ios"===a.Platform.OS&&f.N.addListener(A.t.HANDLE_ACTIVITY_STATE_CHANGE,this.handleActivityStateEvent),(0,N.ph)(null===(e=this.props.pageInfo)||void 0===e?void 0:e.marketPlace)){const e=(0,s.nS)(this.props.widgetSlotData),a=null==e?void 0:e.data,c=null===(o=null===(r=null===(n=null===(i=null===(t=null==a?void 0:a.renderableComponents)||void 0===t?void 0:t[0])||void 0===i?void 0:i.value)||void 0===n?void 0:n.basketValue)||void 0===r?void 0:r.value)||void 0===o?void 0:o.basketValue;if(void 0!==c&&c>=0){const e=null===(d=null===(l=this.props.pageInfo)||void 0===l?void 0:l.marketPlace)||void 0===d?void 0:d.toUpperCase();e&&(0,N.G1)(e,c)}}}renderWidget(){const e=(0,s.nS)(this.props.widgetSlotData),t=null==e?void 0:e.data,i=t&&t.renderableComponents&&t.renderableComponents[0].value;return this._renderContent(i)}_renderContent(e){var t,i,r,a;const s=e&&e.d2rAggregateNavigationValue&&e.d2rAggregateNavigationValue.action,l=e&&e.basketValue&&e.basketValue.action,d=null!==(r=null===(i=null===(t=this.props.pageInfo)||void 0===t?void 0:t.marketPlace)||void 0===i?void 0:i.toUpperCase())&&void 0!==r?r:"",c=this.isDesktopClient&&B.A.isHyperlocalMarketPlace(d)&&(0,M.Us)(d);if((null===(a=null==e?void 0:e.basketValue)||void 0===a?void 0:a.value)&&e.basketValue.value.basketValue>=0)return n.createElement(n.Fragment,null,e.d2rBasketOffer&&n.createElement(D.cG,{thickness:1,color:o.Jyk.tableLightBackground}),!c&&n.createElement(I.qd,Object.assign({},(0,x.Z)("BottomBar_Container")),this.renderD2RMessaging(e,s),this._renderBasketButton(e,l)))}renderD2RMessaging(e,t){var i,r,a,s,u,h,p;const m=null===(r=null===(i=e.d2rAggregateNavigationValue)||void 0===i?void 0:i.value)||void 0===r?void 0:r.title,C=null===(u=null===(s=null===(a=e.d2rAggregateNavigationValue)||void 0===a?void 0:a.value)||void 0===s?void 0:s.subTitle)||void 0===u?void 0:u.replace(">",""),E=e.d2rForwardNav,T=(null===(p=null===(h=e.d2rAggregateNavigationValue)||void 0===h?void 0:h.action)||void 0===p?void 0:p.params.marketplace)===_.fOd.MARKETPLACE_GROCERY,f=T?"s4":"s0";return n.createElement(I.LH,null,n.createElement(I.MG,null,n.createElement(b.az,null,m&&n.createElement(I.cf,Object.assign({},(0,x.Z)("Sticky_Widget_Title_Text"),{numberOfLines:1}),m),C&&n.createElement(I.T9,null,T&&this._renderHamburger(E,t),n.createElement(l.S,{tappableStyle:[g.C1.overflowHidden,g.C1.flex],onPress:this.navigate,onPressParam:t},n.createElement(I.T9,null,n.createElement(v.V,Object.assign({},(0,x.Z)("Sticky_Widget_Subtitle_Text"),{numberOfLines:1,color:"v2.primary.500",font:"m_sb",mr:"s2",ml:f}),C),!T&&n.createElement(d.A,{source:o.KUo,width:24,height:24,style:c.bv.chevronImage,overrideDimenFromStyle:!0})))))))}_renderHamburger(e,t){return n.createElement(C.A,{guidedNavTipList:e?[e]:void 0,childRef:this.viewWrapperChildRef},n.createElement(b.az,{ref:this.setRef,py:"s5"},n.createElement(l.S,Object.assign({},(0,x.Z)("Sticky_Widget_Hamburger_Icon"),{tappableStyle:[g.C1.overflowHidden,g.C1.flex],onPress:this.navigate,onPressParam:t}),n.createElement(d.A,{height:24,width:24,source:o.lCu}))))}_renderBasketButton(e,t){var i,r,o,s,u,h;const p=this.localize({id:m.H.rex_string_rupee}),g=this._cartRotate.interpolate({inputRange:[0,1],outputRange:["180deg","360deg"]}),v=null===(i=null==e?void 0:e.basketValue)||void 0===i?void 0:i.value;let _;const C=t?"v2.primary.500":"v2.neutral.600";if(v&&v.basketValue>=0){const e=this._getDisplayPrice(v.basketValue);_=`${p}${(0,L.m3)(e)}`}const E=this.disablePriceInStickyWidget?24:20;return n.createElement(l.S,Object.assign({},(0,x.Z)("Sticky_Widget_Basket_Button"),{onPress:this.navigate,onPressParam:t}),n.createElement(b.az,null,v&&n.createElement(I.Vt,{bg:C},n.createElement(b.az,{mr:this.disablePriceInStickyWidget?"s0":"s5"},v.iconImage&&v.iconImage.dynamicImageUrl&&n.createElement(d.A,{height:E,width:E,source:this.disablePriceInStickyWidget?R.basketWithDot:v.iconImage.dynamicImageUrl}),!this.disablePriceInStickyWidget&&v.basketItemCount>0&&n.createElement(a.Animated.View,{style:[{transform:[{rotateY:g}]},c.bv.cartCountViewDls,c.bv.cartCountViewBgColor]},n.createElement(I.nJ,Object.assign({},(0,x.Z)("Sticky_Widget_Cart_Count"),{allowFontScaling:!1}),(0,N.ph)(null===(r=this.props.pageInfo)||void 0===r?void 0:r.marketPlace)?(0,N.cr)(this.props.basketData,null===(o=this.props.pageInfo)||void 0===o?void 0:o.marketPlace):this.enableBasketExpImprovement?null===(s=this.state.cartCount)||void 0===s?void 0:s.toString():v.basketItemCount))),_&&!this.disablePriceInStickyWidget?(0,N.ph)(null===(u=this.props.pageInfo)||void 0===u?void 0:u.marketPlace)?this._renderPriceWithOdometer(_):n.createElement(I.Sm,Object.assign({},(0,x.Z)("Sticky_Widget_Cart_Btn_Text")),_):v.basketItemCount>0&&this.disablePriceInStickyWidget?n.createElement(I.Sm,Object.assign({},(0,x.Z)("Sticky_Widget_Cart_Btn_Text")),this.enableBasketExpImprovement?(null===(h=this.state.cartCount)||void 0===h?void 0:h.toString())+" "+this._addButtonText(this.state.cartCount):v.basketItemCount+" "+this._addButtonText(v.basketItemCount)):void 0)))}_addButtonText(e){return void 0===e?"":e>1?_.zpw:_.AnB}_getCartItemsCount(e){var t;const i=null!==(t=e.cartData)&&void 0!==t?t:{};return Object.keys(i).length}_getSupportedMarketplace(){var e,t;const i=null===(t=null===(e=this.props.pageInfo)||void 0===e?void 0:e.marketPlace)||void 0===t?void 0:t.toUpperCase();if(i===H.b.GROCERY||i===H.b.FLIPKART||i===H.b.HYPERLOCAL)return i}_getDisplayPrice(e){var t,i,n,r;if(!(0,N.ph)(null===(t=this.props.pageInfo)||void 0===t?void 0:t.marketPlace))return e;const a=this._getSupportedMarketplace();if(!a)return e;const o=(null===(r=null===(n=null===(i=this.props.basketData)||void 0===i?void 0:i.data)||void 0===n?void 0:n[a])||void 0===r?void 0:r.d2rPrice)||0;return o>0?o:e}_renderPriceWithOdometer(e){return n.createElement(b.az,Object.assign({flexDirection:"row",alignItems:"center",ml:"s4"},(0,x.Z)("Sticky_Widget_Cart_Btn_Text")),n.createElement(W.A,{value:e,lineHeight:16,toggleDuration:400,staggerDuration:50,animateOnMount:!1,v3TextProps:{color:"foreground.inverted.primary",typography:"label"}}))}}},893095:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(i(347950)),a=String.fromCodePoint||function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)};t.default=function(e){return e>=55296&&e<=57343||e>1114111?"":(e in r.default&&(e=r.default[e]),a(e))}},894508:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});var n=i(765701);class r extends n.A{constructor(){super(...arguments),this.isOneViewPage=!0}getModule(){return i(518521)}}},896167:(e,t,i)=>{"use strict";i.d(t,{A9:()=>h,AP:()=>u,BN:()=>p,BW:()=>m,Bx:()=>a,a$:()=>d,bA:()=>l,ck:()=>c,pH:()=>v,pU:()=>s,px:()=>g,wZ:()=>o});var n=i(302019),r=i(257246);const a=n.az.extendComponent({name:"AdDataContainer",defaultProps:{pl:"s5",flex:1,minWidth:0,justifyContent:"center",maxHeight:120}}),o=n.JU.extendComponent({name:"SuperTitleLabel",defaultProps:e=>{var t;return{font:"s_medium",color:null!==(t=(0,r.L7)(e.theme))&&void 0!==t?t:"raw.grey.400"}}}),s=n.JU.extendComponent({name:"TitleLabel",defaultProps:e=>{var t;return{font:"xs",color:null!==(t=(0,r.L7)(e.theme))&&void 0!==t?t:e.isRVSPage?"common.black":"raw.grey.400",pr:"s4"}}}),l=n.fI.extendComponent({name:"FAssuredContainer",defaultProps:e=>({display:"flex",alignItems:"center",pt:e.isViewButtonEnabled?"s0":"s1",pb:e.isViewButtonEnabled?"s0":"s1"})}),d=n.JU.extendComponent({name:"SponsoredLabel",defaultProps:{font:"xs",color:"raw.grey.200",alignSelf:"flex-end"}}),c=n.JU.extendComponent({name:"ViewButtonLabel",defaultProps:e=>{var t;return{font:"xs_medium",color:null!==(t=(0,r.L7)(e.theme))&&void 0!==t?t:"raw.blue.500",alignSelf:"flex-end"}}}),u=n.fI.extendComponent({name:"P0Container",defaultProps:{py:"s2",justifyContent:"space-between"}}),h=n.az.extendComponent({name:"DataContainer",defaultProps:{flex:1,minWidth:0}}),p=n.az.extendComponent({name:"SponsoredContainer",defaultProps:e=>({right:4,justifyContent:"BOTTOM"===e.labelPositionOrientation?"flex-end":"flex-start"})}),g=n.az.extendComponent({name:"ViewButtonContainer",defaultProps:{right:4,justifyContent:"flex-end",flexDirection:"row",alignItems:"center"}}),m=n.az.extendComponent({name:"PlaceholderContainer",defaultProps:{pl:"s4",pr:"s2",py:"s2",my:"s2",bg:"background.transparent"}}),v=n.fI.extendComponent({name:"RatingContainer",defaultProps:{pl:"s2",alignItems:"center",justifyContent:"flex-start"}})},896436:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ViewTypes:()=>_,default:()=>f});var n=i(465420),r=i(296540),a=i(52754),o=i(716249),s=i(877293),l=i(479892),d=i(270568),c=i(492418),u=i(495176),h=i(723372),p=i(857850),g=i(914944),m=i(45426);class v extends r.PureComponent{constructor(){super(...arguments),this.titleTextStyle=[l.XT.fontRegular_14,l.XT.lineHeight_20,l.C1.justifyContentCenter],this.couponOfferView=[l.C1.border_width_1,l.C1.margin_bottom_16,l.C1.margin_left_4,l.C1.margin_right_4,l.C1.margin_top_4,l.C1.border_radius_4,l.C1.padding12,l.C1.flexGrow],this.descriptionStyle=[l.C1.row,l.C1.margin_bottom_4],this.priceContainerStyle=[l.C1.flex,l.C1.margin_left_8],this.priceStyles=[l.C1.backgroundWhite,l.C1.border_radius_4,l.C1.contentSelfAlignEnd,l.C1.padding8H],this._buttonClickHandler=(e,t)=>{t&&this.props.actionDispatcher&&this.props.actionDispatcher({type:p.Q3.MAPI_ACTION,payload:new g.Oy(t)})}}render(){const{newTitle:e,price:t,style:i,cta:n,subTitle:a}=this.props.couponSummary,o=(null==i?void 0:i.backgroundColor)||c.Jyk.white,d=null==n?void 0:n.action,p=null==n?void 0:n.value,g=p?[l.C1.color_border_lightest_grey,l.C1.border_style_dashed]:{borderColor:c.Jyk.limeGreen};return r.createElement(s.View,{style:[this.couponOfferView,g,{backgroundColor:o}]},r.createElement(s.View,{style:this.descriptionStyle},e&&r.createElement(s.View,{style:l.C1.flex_3},r.createElement(h.A,{numberOfLinesForContainer:v.NUMBER_OF_LINES,imageHeight:10,imageDefaultStyle:l.C1.margin_left_2,messages:e,textDefaultStyle:this.titleTextStyle,useTextContainer:!0})),t&&r.createElement(s.View,{style:this.priceContainerStyle},r.createElement(s.View,{style:this.priceStyles},r.createElement(u.A,{style:l.XT.alignTextCenter,richTextData:t})))),a&&r.createElement(s.View,null,r.createElement(h.A,{messages:a,imageHeight:12,imageDefaultStyle:l.C1.margin_right_4})),p&&r.createElement(m.S,{onPress:this._buttonClickHandler,onPressParam:d,disableFeedback:!0},r.createElement(h.A,{messages:p,imageHeight:10,imageDefaultStyle:l.C1.margin_left_2})))}}v.NUMBER_OF_LINES=2;var _,C=i(537528),E=i(456874);class T extends o.A{constructor(){super(...arguments),this.titleDescriptionStyle=[l.XT.lineHeight_20,l.XT.fontRegular_14,l.XT.fkDimGrey],this.caraouselStyle={height:"auto"},this.renderTitle=e=>{const t=l.C1.margin_top_2,i=[this.titleDescriptionStyle,t];return r.createElement(s.View,{style:C.c.titleContainerStyle},r.createElement(h.A,{messages:e,useTextContainer:!0}),(null==e?void 0:e.description)&&r.createElement(s.Text,{style:i},e.description))},this.renderCouponOfferView=(e,t)=>{var i;const n=null===(i=(0,a.nS)(this.props.widgetSlotData))||void 0===i?void 0:i.viewType;return r.createElement(d.A,{couponSummary:e,viewType:n,key:t,actionDispatcher:this.props.actionDispatcher})},this.renderCartCouponOfferView=e=>{const t=this.props.appContext.uiContext.windowFrame.width,i=e.length>1?.9*t-C.J:t-C.J;return r.createElement(s.View,{style:C.c.carouselContainerStyles},r.createElement(E.A,{data:e,renderItem:this._renderItem,scrollEnabled:e.length>1,sliderWidth:t-C.J,itemWidth:i,loop:!1,inactiveSlideOpacity:1,inactiveSlideScale:1,activeSlideAlignment:"start",centerAlignWithoutLoop:!0,style:this.caraouselStyle}))},this._renderItem=e=>{const t=e&&e.item;return r.createElement(v,{couponSummary:t,actionDispatcher:this.props.actionDispatcher})}}static getWidgetHeight(e){const t=(0,a.xH)(e.widgetSlotData),{couponSummaries:i,title:n}=null!=t?t:{};if(!t)return 0;let r=32;return r+=n?32:0,r+=(null==i?void 0:i.length)?40*i.length:0,r+this.getAdditionalHeight(e)}renderWidget(){var e;const t=(0,a.xH)(this.props.widgetSlotData),{couponSummaries:i,title:n}=null!=t?t:{};if(!i)return;let o;return o="STATIC_COUPON"===(null===(e=(0,a.nS)(this.props.widgetSlotData))||void 0===e?void 0:e.viewType)?r.createElement(s.View,{style:C.c.staticCouponContainerStyle},n?this.renderTitle(n):null,this.renderCartCouponOfferView(i)):r.createElement(s.View,{style:C.c.couponContainerStyle},n?this.renderTitle(n):null,null==i?void 0:i.map(this.renderCouponOfferView)),o}}!function(e){e.STATIC="STATIC_COUPON",e.DYNAMIC="DYNAMIC_COUPON"}(_||(_={}));class f extends n.A{getWidgetClass(e){const t=a.nS(e.widgetSlotData);t&&t.viewType;return T}getWidgetHeight(e){return T.getWidgetHeight(e)}}},899235:(e,t,i)=>{"use strict";i.d(t,{A5:()=>s,fw:()=>o});var n=i(877293),r=i(492418),a=i(887261);const o=162,s=n.StyleSheet.create({outerContainer:{justifyContent:"center",alignItems:"center",overflow:"hidden"},dynamicBannerContainer:{backgroundColor:r.J38.white,justifyContent:"center",flexDirection:"row",minHeight:o},dynamicBannerLeft:{flex:.65,flexDirection:"column",justifyContent:"center",alignItems:"flex-start",paddingLeft:16,paddingRight:0},dynamicBannerRight:{flex:.35,justifyContent:"center",alignItems:"center",paddingHorizontal:16},dynamicBannerTitle:{color:r.J38.textColor,fontSize:16,height:24},dynamicBannerCallout:{fontSize:20,height:28,color:r.y_y,fontFamily:a.$u},dynamicBannerTitleSmall:{color:r.J38.textColor,fontSize:13,height:16},dynamicBannerCalloutSmall:{fontSize:16,height:24,color:r.y_y,fontFamily:a.$u}})},900690:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(965019),r=i(248481);class a{handleAction(e,t,i){if(t&&t.pageDataResponse&&t.pageDataResponse.pageEventResponseMap&&e instanceof r.Y){if(e.pageEventType===r.F.ONLOAD)return!1;return(new n.default).handleAction(e,t,i)}return!0}}},903670:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>y});var n=i(465420),r=i(296540),a=i(716249),o=i(347924),s=i(479892),l=i(52754),d=i(198213);class c extends r.PureComponent{render(){const{text:e,regex:t,defaultTextFont:i,parsedTextFont:n}=this.props,a=e.split(t).map(((e,t)=>t%2==1?r.createElement(o.JU,{key:t,font:n},e):r.createElement(o.JU,{key:t,font:i},e)));return r.createElement(o.JU,{flexDirection:"row",flex:1},a)}}var u=i(492418),h=i(876505),p=i(877293),g=i(311676),m=i(470496),v=i(580555),_=i(410752),C=i(1319),E=i(857850),T=i(257246),f=i(37114);const A=/\*\*(.*?)\*\*/;class S extends a.A{constructor(){super(...arguments),this.summaryIconStyles=[s.C1.margin_right_12,s.C1.margin_top_2],this.pillIconStyles=[s.C1.justifyContentCenter,s.C1.margin_horizontal_4],this.onExpandCollapseClick=(e,t)=>{if("web"===p.Platform.OS){const e={type:C.J.ExpandGenaiSummary};e&&this.dispatchAction(E.Q3.EXPAND_ACTION,new C.Z(e))}if(this.setState((e=>({isExpanded:!e.isExpanded}))),t){const e=t.parentImpressionId?new m.A(t.parentImpressionId):void 0,i=new v.Ay(t);i&&i.setContentType("expand_collapse");const n=new g.dv9(i,e);if(this.props.actionDispatcher){const e=new g.ax6(n);this.props.actionDispatcher(e)}}},this.onPillClick=(e,t)=>{if(t){const e=t.parentImpressionId?new m.A(t.parentImpressionId):void 0,i=new v.Ay(t);i&&i.setContentType("aspect_pill");const n=new g.dv9(i,e);if(this.props.actionDispatcher){const e=new g.ax6(n);this.props.actionDispatcher(e)}}},this.renderExpandCollapse=(e,t)=>{var i;const n=this.localize({id:_.H.rex_string_SHOW_LESS}),a=this.localize({id:_.H.rex_string_SHOW_MORE}),s=this.state.isExpanded?n:a;return r.createElement(o.az,{pb:"s7"},r.createElement(o.SB,{hitSlop:{top:10,bottom:10},onPress:this.onExpandCollapseClick,onPressParam:e},r.createElement(o.fI,{justifyContent:"center",alignItems:"center"},r.createElement(o.JU,{font:"s_medium",color:null!==(i=(0,T.C_)(t))&&void 0!==i?i:"raw.blue.500"},s),r.createElement(o.az,{ml:"s3",style:{transform:[{rotate:this.state.isExpanded?"180deg":"0deg"}]}},r.createElement(d.Dk,{disableDefaultPlaceholderImage:!0,source:this.getPageTheme()===f.S.MALL_MODE?u.chevronDownBlack:u.OSw,width:15,height:15})))))},this.renderAISummary=e=>r.createElement(o.az,{py:"s4"},this.state.isExpanded?e.map((e=>this.renderSummaryPoint(e))):e.slice(0,2).map((e=>this.renderSummaryPoint(e)))),this.renderSummaryPoint=e=>{var t,i,n,a,s,l;if(e&&(null===(i=null===(t=e.data[1])||void 0===t?void 0:t.value)||void 0===i?void 0:i.text))return r.createElement(o.fI,{mb:"s6",mx:"s6"},(null===(a=null===(n=null==e?void 0:e.data[0])||void 0===n?void 0:n.value)||void 0===a?void 0:a.dynamicImageUrl)&&r.createElement(d.Dk,{height:16,width:16,style:this.summaryIconStyles,source:this.getPageTheme()===f.S.MALL_MODE?u.blackSparkle:e.data[0].value.dynamicImageUrl}),(null===(l=null===(s=null==e?void 0:e.data[1])||void 0===s?void 0:s.value)||void 0===l?void 0:l.text)&&r.createElement(c,{text:e.data[1].value.text,regex:A,defaultTextFont:"m",parsedTextFont:"m_medium"}))},this.renderPills=(e,t,i)=>e.map((e=>this.renderPill(e,t,i))),this.renderPill=(e,t,i)=>{var n,a,s,l;if(e&&(null===(a=null===(n=e.title)||void 0===n?void 0:n[0])||void 0===a?void 0:a.text))return r.createElement(o.SB,{onPress:this.onPillClick,onPressParam:i},r.createElement(o.fI,{mb:"s5",mr:"s4",alignItems:"center",py:"s1",pl:"s2",pr:"s4",borderRadius:20,bg:t},(null===(l=null===(s=e.image)||void 0===s?void 0:s[0].value)||void 0===l?void 0:l.dynamicImageUrl)&&r.createElement(d.Dk,{style:this.pillIconStyles,height:16,width:16,source:e.image[0].value.dynamicImageUrl}),r.createElement(o.JU,{font:"m",numberOfLines:2},e.title[0].text)))}}getDerivedState(e,t){const i=!!t&&t.isExpanded;return Object.assign(Object.assign({},super.getDerivedState(e,t)),{isExpanded:i})}shouldComponentUpdate(e,t,i){return this.state.isExpanded!==t.isExpanded}static getWidgetHeight(e){let t=0;const i=(0,l.xH)(e.widgetSlotData),n=null==i?void 0:i.genAiPageContents;if(!i||!n)return t;const{summaries:r,positives:o,negatives:s,positiveAspects:d,negativeAspects:c}=n[0].value||{};return r&&r.length>0&&(t+=76*r.length),o&&o.length>0&&(t+=o.length<4?28:56),d&&d.length>0&&(t+=d.length<4?28:56),s&&s.length>0&&(t+=s.length<4?28:56),c&&c.length>0&&(t+=c.length<4?28:56),t+a.A.getAdditionalHeight(e)+16}renderWidget(){const e=(0,l.nS)(this.props.widgetSlotData),t=null==e?void 0:e.tracking,i=(0,l.xH)(this.props.widgetSlotData),n=null==i?void 0:i.genAiPageContents;if(!i||!n)return;const{summaries:s,positives:d,negatives:c,positiveAspects:u,negativeAspects:p}=n[0].value||{},g=null!=u?u:d,m=null!=p?p:c;if(0===(null==s?void 0:s.length)&&0===(null==d?void 0:d.length)&&0===(null==c?void 0:c.length))return;const v=this.props.themeContext,_=r.createElement(o.az,null,s&&s.length>0?this.renderAISummary(s):null,this.renderExpandCollapse(t,v),r.createElement(o.fI,{ml:"s6",flexWrap:"wrap",display:"flex"},g&&(null==g?void 0:g.length)>0&&this.renderPills(g,"v2.success.50",t),m&&(null==m?void 0:m.length)>0&&this.renderPills(m,"v2.warning.50",t)));if(t){const e=a.A.getTrackingParams(this.props,t),i=this.getContentViewTrackingData(e);return r.createElement(h.A,{trackingInfo:i},_)}return _}renderHeader(e){var t,i,n,a;const s=e.header,l=null===(i=null===(t=null==s?void 0:s.value)||void 0===t?void 0:t.titleValue)||void 0===i?void 0:i.text,d=null===(a=null===(n=null==s?void 0:s.value)||void 0===n?void 0:n.subTitleValue)||void 0===a?void 0:a.text;return l?r.createElement(o.az,{px:"s6",pt:"s6",pb:"s5"},r.createElement(o.JU,{font:"l_medium",color:"v2.neutral.900",mb:"s1"},l),d&&r.createElement(o.JU,{numberOfLines:1,font:"s",color:"v2.neutral.700"},d)):null}}class y extends n.A{getWidgetClass(){return S}getWidgetHeight(e){return S.getWidgetHeight(e)}}},909221:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(465420),r=i(791287);class a extends n.A{getWidgetClass(e){return r.A}getWidgetHeight(e){return r.A.getWidgetHeight(e)}}},910639:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(918210),r=i(90513),a=i(229833);class o{handleAction(e,t,i){if(e.payload&&t){const i={};return i[r.Mk.EVAR128]=e.payload.source||"",i[r.Ay.EVAR50]=t.pageMeta.pageName,a.A.addEvent(i,r.fM.EVENT330),n.A.addAndTrackEventData(i),!0}return!1}}},910933:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>E});var n=i(465420),r=i(716249),a=i(296540),o=i(877293),s=i(479892),l=i(352254);const d=e=>e>=0&&e<=1,c=.5,u=.5,h=(e,t,i)=>{if(!d((n=t).x)||!d(n.y))return e;var n;if(!(e=>e&&e.width>0&&e.height>0)(i))return e;let r=e.transform;if(!r)return e;if(!Array.isArray(r))return{transform:r};if(t.x!==c&&i.width){const e=[];e.push({translateX:i.width*(t.x-c)}),r=[...e,...r],r.push({translateX:i.width*(c-t.x)})}if(t.y!==u&&i.height){let e=[];e.push({translateY:i.height*(t.y-u)}),r=[...e,...r],r.push({translateY:i.height*(u-t.y)})}return{transform:r}};class p extends a.PureComponent{constructor(e,t){super(e,t),this.cardItemContainerStyle=[s.C1.positionAbsolute,{elevation:0}],this._renderCard=e=>a.createElement(o.View,{style:this.cardItemContainerStyle},a.createElement(o.View,{style:e},this.props.child)),this.state=p._getDerivedState(e,void 0)}static getDerivedStateFromProps(e,t){return p._getDerivedState(e,t)}static _getDerivedState(e,t){const i=-1*e.cardAngle*Math.floor(e.cardCount/2),n=e.cardAngle,r=[{alignItems:"center",justifyContent:"center"},Object.assign({},e.style)],a={width:e.cardSize.width,height:e.cardSize.height,elevation:8,justifyContent:"center",alignItems:"center",position:"relative",backgroundColor:"white",shadowOffset:{width:-2,height:2},shadowColor:"black",shadowOpacity:.1,shadowRadius:4},o={x:1,y:1},s=[];let l=i;for(let t=0;t<e.cardCount;t++){const t=h({transform:[{rotate:`${l}deg`}]},o,Object.assign({},e.cardSize));l+=n;const i=[a,t];s.push(i)}return{containerStyle:r,cardStyles:s}}render(){return a.createElement(o.View,{style:this.state.containerStyle},this.state.cardStyles.map(this._renderCard))}}var g=i(52754),m=i(45426),v=i(468248),_=i(868261);class C extends r.A{constructor(){super(...arguments),this._containerStyle=[s.C1.rowWithoutFlex,s.C1.padding_14,s.C1.alignItemCenter],this._cardFanContainerStyle={width:C.CARD_CONTAINER_SIZE,height:C.CARD_CONTAINER_SIZE},this._textContainerStyle=[s.C1.margin_16,s.C1.col],this._cardDimension={width:36,height:44},this._titleStyle=[s.XT.fontMedium_14,s.XT.fkBlackPrimaryText],this._subTitleStyle=[s.XT.fontRegular_14,s.XT.fkBlackSecondaryText,s.C1.margin_top_6],this._imageHeight=36,this._imageWidth=28}static getWidgetHeight(){return C.CARD_CONTAINER_SIZE+28}renderWidget(){var e;const t=(0,g.nS)(this.props.widgetSlotData),i=null==t?void 0:t.data,n=null===(e=null==i?void 0:i.banner)||void 0===e?void 0:e.value;if(!n)return;const r=n.image,d=n.title,c=n.callout,u=a.createElement(l.A,{style:[s.C1.margin_4],height:this._imageHeight,width:this._imageWidth,source:null==r?void 0:r.dynamicImageUrl,resizeMode:"contain"});return a.createElement(m.S,{onPress:this.dispatchAndTrackWidgetClick,disableFeedback:!0,onPressParam:null==i?void 0:i.banner},a.createElement(o.View,{style:this._containerStyle},a.createElement(p,{child:u,cardSize:this._cardDimension,cardCount:3,cardAngle:10,style:this._cardFanContainerStyle}),a.createElement(o.View,{style:this._textContainerStyle},a.createElement(o.Text,{style:this._titleStyle,numberOfLines:1,ellipsizeMode:"tail"},c),a.createElement(o.Text,{style:this._subTitleStyle,numberOfLines:2,ellipsizeMode:"tail"},d)),a.createElement(l.A,{style:s.C1.margin_left_12,source:v.j.getChevronSrc().uri,width:_.fs,height:_.fs})))}}C.CARD_CONTAINER_SIZE=64;class E extends n.A{getWidgetClass(e){return C}getWidgetHeight(e,t){return C.getWidgetHeight()}}},915070:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>O});var n=i(296540),r=i(877293),a=i(45426),o=i(586467),s=i(52754),l=i(492418),d=i(352254),c=i(716249),u=i(110941),h=i(521722),p=i(914944),g=i(415283),m=i(395567),v=i(97529),_=i(479892),C=i(876505),E=i(529548),T=i(975508),f=i(751259),A=i(912830),S=i(915742),y=i(410752),w=i(184452),I=i(813652),b=i(420721),D=i(927503),x=i(311676),P=i(52352);class O extends c.A{constructor(e,t){var i;super(e,t),this.CART_VERSIONING_CALLOUT_LOOPS=1,this._renderRichTitlesData=(e,t)=>{if(e)return n.createElement(r.View,{style:this.getContainerStyle()},n.createElement(a.S,{onPress:this.onClick,onPressParam:null==e?void 0:e.action,disableFeedback:!(null==e?void 0:e.action)},n.createElement(r.View,{style:o.F1.callout},(null==t?void 0:t.length)>1?n.createElement(D.A,{numberOfViews:null==t?void 0:t.length,individualWaitTime:2e3,animationDuration:500,numberOfLoops:this.CART_VERSIONING_CALLOUT_LOOPS,getViewAt:e=>this._renderCalloutWithRichValue(t[e]),mainContainerStyle:O.roallingContainerStyle,setDelay:!0,delayTimeOut:300}):1===(null==t?void 0:t.length)&&this._renderCalloutWithRichValue(null==t?void 0:t[0]),e.action&&n.createElement(d.A,{style:o.F1.arrowIconUpdated,source:l.aio,width:O.IMAGE_WIDTH,height:O.IMAGE_HEIGHT}))))},this._renderCalloutWithRichValue=e=>{var t,i;const a=null===(t=null==e?void 0:e.image)||void 0===t?void 0:t.dynamicImageUrl,s=null===(i=null==e?void 0:e.title)||void 0===i?void 0:i.text;return n.createElement(r.View,{style:o.F1.calloutContainer},a&&n.createElement(d.A,{source:a,height:O.CALLOUT_IMAGE_HEIGHT,width:O.CALLOUT_IMAGE_WIDTH}),n.createElement(r.Text,{numberOfLines:1,ellipsizeMode:"tail",style:O.calloutTextStyle},s))},this.onClick=(e,t)=>{var i,n;if(t){const e=(0,s.nS)(this.props.widgetSlotData);if(null==e?void 0:e.tracking){let r,a=c.A.getTrackingParams(this.props,null==e?void 0:e.tracking);(null===(i=null==e?void 0:e.tracking)||void 0===i?void 0:i.position)&&a.setPosition(Number(null===(n=null==e?void 0:e.tracking)||void 0===n?void 0:n.position)),r=new x.XU_(a,this.props.pageInfo?this.props.pageInfo.tabImpressionId:void 0),this.trackDGEvent(r);const o=(0,P.gV)(t.tracking,null==e?void 0:e.tracking),s=new x.Mtq(P.gF.CLICKS,o);this.trackDGEvent(s)}this._trackWidgetClick(t),this.dispatchAction(g.Q3.MAPI_ACTION,new p.rs(t))}},this._trackWidgetClick=e=>{this.trackDiscoveryContentClickEvent(e.tracking),this.trackOmnitureEvent(new m.wKV(v.A.BANNER_ANNOUNCEMENT_CLICK,c.A.getTrackingParams(this.props,e.tracking)))},this.renderTimer=(e,t)=>{const i=e&&e.endTime,a=(0,b.ak)(this.context.locale,{id:y.H.rex_string_ENDS_IN}),o=e&&e.timerArrangement,s=[w.$N,w.mV,w.cR];return i&&this.state.hasMounted?o===A.De.DIGITAL_TIMER?n.createElement(r.View,{style:[t.timer,s]},a?n.createElement(r.Text,{style:[t.timerPrefix,_.C1.margin_right_8]},a):null,n.createElement(S.Ay,{timestampInMillis:i-Date.now(),timerType:A.De.DIGITAL_TIMER,digitalStyle:t.digitalTimer,digitalTextStyle:t.digitalTimerText})):n.createElement(r.View,{style:s},n.createElement(d.A,{source:I.expiryClock,height:16,width:16}),n.createElement(r.Text,{style:t.timer},n.createElement(S.Ay,{timestampInMillis:i-Date.now(),style:t.timer})),n.createElement(r.Text,{style:[t.timer,w.Y]},(0,b.ak)(this.context.locale,{id:y.H.rex_string_REMAINING}))):null},this.state=Object.assign(Object.assign({},this.state),{hasMounted:!1});const u=null===(i=e.appContext.uiContext.windowFrame)||void 0===i?void 0:i.width;O.roallingContainerStyle=[o.F1.rollingTextMainContainerStyle,{width:u-60}],O.calloutTextStyle=[o.F1.calloutText,{width:u-90}]}static getWidgetHeight(e){const t=O._getAnnouncementValue(e),i=t&&t.value;if(!i)return 0;const n=i&&i.imageValue,r=n&&n.dynamicImageUrl,a=o.cz+o.Qi+2*o.a2+_.qj;if(r){return O.getImageHeight(e,h.yP)+a}return i.title?o.n+o.a6+a:i.subTitle?o.bS+a:a}static getImageHeight(e,t){const i=O._getAnnouncementValue(e),n=i&&i.value,r=n&&n.imageValue;return r&&r.dynamicImageUrl?u.A.getHeight(t,r&&r.aspectRatio,h.bX):0}renderWidget(){const e=O._getAnnouncementValue(this.props),t=e&&e.value,i=t&&t.imageValue,s=i&&i.dynamicImageUrl;if(!e||!t)return;const u=t.bleedingColor?t.bleedingColor:l.Jyk.white,h=this.getTextStyle()?this.getTextStyle():i&&s?o.F1.announcementDetailsWithImage:o.F1.announcementDetails,p=null==t?void 0:t.richTitles;let g=n.createElement(r.View,{style:this.getContainerStyle()},n.createElement(a.S,{onPress:this.onClick,onPressParam:e.action,disableFeedback:!e.action},n.createElement(r.View,{style:[this.getParentViewStyle(),{backgroundColor:u}]},i&&s&&n.createElement(d.A,{source:s,height:this.getImageHeight(),width:this.getImageWidth()}),n.createElement(r.View,{style:h},t.title&&n.createElement(r.Text,{style:this.getTitleTextStyle(),numberOfLines:this.getTitleNumberOfLines()},t.title),t.subTitle?n.createElement(r.Text,{numberOfLines:2,style:o.F1.subTitle},t.subTitle):t.timerValue&&this.renderTimer(t.timerValue,new T.F(void 0,f.S.custom))),e.action&&n.createElement(d.A,{style:o.F1.arrowIcon,source:l.aio,width:O.IMAGE_WIDTH,height:O.IMAGE_HEIGHT}))));if(p&&(null==p?void 0:p.length)>0&&(g=this._renderRichTitlesData(e,p)),e.tracking){const t=c.A.getTrackingParams(this.props,e.tracking),i=this.getContentViewTrackingData(t);return n.createElement(C.A,{trackingInfo:i},g)}return g}renderHeader(e){}getContainerStyle(){}getParentViewStyle(){return o.F1.announcementContainer}getTextStyle(){}getTitleTextStyle(){return o.F1.title}getTitleNumberOfLines(){return 1}getImageHeight(){return O.getImageHeight(this.props,h.yP)}getImageWidth(){return h.yP}applyLayoutDetailsToWidget(e){let t=(0,s.lf)(this.props.widgetSlotData);return t&&t.margin&&"0,0,0,0"!==t.margin||(t={padding:"0,8,0,8",elevation:1,backgroundColor:l.J38.borderGray}),E.A.apply(t,e,!1,this.props.appContext.isDlsScreen)}static _getAnnouncementValue(e){const t=(0,s.nS)(e.widgetSlotData),i=t&&t.data;return i&&i.renderableComponents&&i.renderableComponents[0]}}O.IMAGE_WIDTH=8,O.IMAGE_HEIGHT=10,O.contextType=b.V8,O.CALLOUT_IMAGE_HEIGHT=24,O.CALLOUT_IMAGE_WIDTH=24},919623:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(918210),r=i(90513),a=i(97529);class o{handleAction(e,t,i){if(e.payload)switch(e.payload.type){case a.A.MULTIMEDIA_IMAGE_CLICK:{const t=e.payload,i=t.position,a=t.previousValue,o=`${a}${a.length>0?";":""}ImageClick_P${i}`;n.A.appendPageData(o,r.Ay.PROP61);break}case a.A.MULTIMEDIA_IMAGE_IMPRESSION:{const t=e.payload,i=t.position,a=t.multimediaSwipeCount&&t.multimediaSwipeCount>0?t.multimediaSwipeCount.toString():void 0,o=`PP${i}`;if(a){const e={};e[r.fM.EVENT92]=a,n.A.addPageData(e)}n.A.appendPageData(o,r.Ay.PROP61);break}case a.A.STYLE_MATCH_IMAGE_CLICK:n.A.appendPageData("SMW_1",r.Ay.PROP61)}return!0}}},920456:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>G});var n=i(387393),r=i(31403),a=i(296540),o=i(560203),s=i(829270),l=i(602715),d=i(235232),c=i(948017),u=i(45426),h=i(253547),p=i(463528),g=i(501886),m=i(302019),v=i(879052);const _=m.az.extendComponent({name:"QnAViewContainer",defaultProps:{pl:"s6",py:"s4"}}),C={color:"text.primary",font:"m",my:"s4",mr:"s6"};class E extends a.PureComponent{constructor(){super(...arguments),this._highlightTextRender=e=>a.createElement(m.JU,{color:"text.primary",font:e.isBold?"m_medium":"m"},e.text),this._expandAnswer=()=>{this.props.didExpandHandler(this.props.index)},this._didSelectMenu=()=>{!!this.props.transientData&&this.props.transientData.showReportAbuse?this._toggleOverflowMenu():this.clickOverflow()},this._didClickQuestion=(e,t)=>{t&&this.props.didClickQuestionHandler&&this.props.didClickQuestionHandler(t)},this._didSelectUpVote=()=>{var e,t;const i=null===(e=this.props.questionRC)||void 0===e?void 0:e.value;if(i&&i&&this.props.didUpvoteHandler){const e=i.answers,n=e?e[0]:void 0;if(n){const e=null===(t=n.up)||void 0===t?void 0:t.action;e&&this.props.didUpvoteHandler(e,this.props.index)}}},this._didSelectDownVote=()=>{var e,t;const i=null===(e=this.props.questionRC)||void 0===e?void 0:e.value;if(i&&this.props.didDownvoteHandler){const e=i.answers,n=e?e[0]:void 0;if(n){const e=null===(t=n.down)||void 0===t?void 0:t.action;e&&this.props.didDownvoteHandler(e,this.props.index)}}},this._didShowOtherAnswersHandler=(e,t)=>{t&&this.props.didShowOtherAnswersHandler&&this.props.didShowOtherAnswersHandler(t)},this._toggleOverflowMenu=()=>{this.props.didShowMenuHandler(this.props.index)},this._didHideMenu=()=>{this.props.didHideMenuHandler(this.props.index)},this.clickOverflow=()=>{this._toggleOverflowMenu(),clearTimeout(this._timeoutHandle),this._timeoutHandle=setTimeout((()=>{this._didHideMenu()}),2e3)},this._isUpvoteSelected=e=>(this.props.transientData?this.props.transientData.feedback:void 0)===s.D.Up||!(!e.up||!e.up.value)&&e.up.value.isSelected,this._isDownvoteSelected=e=>(this.props.transientData?this.props.transientData.feedback:void 0)===s.D.Down||!(!e.down||!e.down.value)&&e.down.value.isSelected}static getHeight(e){let t=0;return e.answers&&e.answers.length>0&&(t+=153,e.viewAllAnswers&&(t+=18)),t+24}render(){var e,t;const i=null===(e=this.props.questionRC)||void 0===e?void 0:e.value;if(!i)return null;const n=i.answers&&i.answers.length>0?i.answers[0]:void 0,r=null===(t=this.props.questionRC)||void 0===t?void 0:t.tracking;return r&&this.props.getTrackableContentView?this.props.getTrackableContentView(this._renderQnaView(i,n),r):this._renderQnaView(i,n)}_getText(e,t){const i="A: "+t.text;return a.createElement(c.A,Object.assign({},(0,v.Z)("QnA_Answer_Text"),{text:i,isExpanded:e,onPress:this._expandAnswer,containerStyle:C,suffixStyle:{}}))}_renderQnaView(e,t){var i,n;const r=(null==t?void 0:t.authorStatusMap)?t.authorStatusMap:{},o=!!t&&this._isDownvoteSelected(t),s=!!t&&this._isUpvoteSelected(t),c=(null===(i=null==t?void 0:t.down)||void 0===i?void 0:i.value)?d.A.getRelativeNumber(t.down.value.count):"0",u=(null===(n=null==t?void 0:t.up)||void 0===n?void 0:n.value)?d.A.getRelativeNumber(t.up.value.count):"0",p=!!this.props.transientData&&this.props.transientData.isExpanded,g=!!this.props.transientData&&this.props.transientData.showReportAbuse,m="Q: "+e.text;return a.createElement(_,Object.assign({},(0,v.Z)(`QnA_Container_index_${this.props.index}`)),m&&this._displayText(m,e.offsetsOfQuestionHighlights),(null==t?void 0:t.text)?this._getText(p,t):null,t&&g&&a.createElement(h.A,{getItemViews:this.props.getMenuItemViews,menuViewContainerStyle:this.props.menuViewContainerStyle,hideMenuHandler:this._didHideMenu}),t&&this.props.authorComponentVisible&&a.createElement(l.h,{authorName:null==t?void 0:t.authorName,isDownvoteEnabled:o,downVoteCount:c,isUpvoteEnabled:s,upVoteCount:u,reviewPropertyMap:r,didDownvoteHandler:this._didSelectDownVote,didUpvoteHandler:this._didSelectUpVote,didShowMenuHandler:this._didSelectMenu}),t&&this.props.getModerationCommentView&&this.props.getModerationCommentView(),this._renderReadAllAnswer(e))}_renderReadAllAnswer(e){var t,i,n;const r=null===(i=null===(t=e.viewAllAnswers)||void 0===t?void 0:t.value)||void 0===i?void 0:i.title,o=null===(n=e.viewAllAnswers)||void 0===n?void 0:n.tracking;if(!r)return;const s=a.createElement(u.S,Object.assign({},(0,v.Z)("QnA_Read_All_Answers"),{onPress:this._didShowOtherAnswersHandler,onPressParam:e.viewAllAnswers}),a.createElement(m.JU,{flexDirection:"row",alignItems:"center",color:"text.secondary",font:"m_medium",mt:"s3"},r));return o&&this.props.getTrackableContentView?this.props.getTrackableContentView(s,o):s}_displayText(e,t){var i;return a.createElement(p.A,Object.assign({},(0,v.Z)("QnA_Question_Text"),{onTextPress:this._didClickQuestion,onPressParam:null===(i=this.props.questionRC)||void 0===i?void 0:i.action,font:"m_medium",color:"text.primary"}),t?(0,g.w$)(e,t,0,e.length,0).map(this._highlightTextRender):e)}}E.defaultProps={authorComponentVisible:!0};var T=i(911294),f=i(52754),A=i(415283),S=i(716249),y=i(914944),w=i(738656);const I=m.az.extendComponent({name:"ButtonContainer",defaultProps:{height:40,my:"s4",bg:"common.white",alignItems:"center",justifyContent:"center",borderRadius:4,borderStyle:"solid",borderWidth:1,borderColor:(0,w.FH)("divider")}}),b=m.JU.extendComponent({name:"ButtonText",defaultProps:{mr:"s1",font:"m_medium",color:"text.primary"}}),D=m.JU.extendComponent({name:"Subtitle",defaultProps:{mt:"s6",font:"m",color:"text.primary"}}),x=m.JU.extendComponent({name:"Title",defaultProps:{mr:"s1",font:"m_medium",color:"text.primary"}});class P extends a.Component{constructor(){super(...arguments),this._onTitleClick=()=>{this.props.action&&this.props.didSelectAction(this.props.action)}}static getHeight(e){let t=50;return t+=e?50:0,t}render(){return this.props.subtitle?a.createElement(m.az,{mx:"s6"},a.createElement(D,null,this.props.subtitle),a.createElement(u.S,{onPress:this._onTitleClick},a.createElement(I,null,a.createElement(b,null,this.props.title)))):a.createElement(m.az,null,a.createElement(u.S,{onPress:this._onTitleClick},a.createElement(m.az,{alignItems:"center"},a.createElement(x,null,this.props.title))))}}var O=i(580555),R=i(311676),k=i(780914),V=i(930568),L=i(201159),M=i(257246),N=i(155805);const H=m.eH.extendComponent({name:"QnAWidgetHeaderView",defaultProps:{flex:1,flexWrap:"wrap",justifyContent:"flex-end",px:"s6",py:"s7"}}),W=m.eH.extendComponent({name:"QnAWidgetHeaderSearchButtonView",defaultProps:{px:"s5",py:"s3",borderColor:"raw.grey.100",borderRadius:2,borderWidth:1,ml:"s6",alignSelf:"center"}});class B extends k.A{constructor(){super(...arguments),this.dispatchFooterAction=e=>{if(!e||!this.props.actionDispatcher)return;const t=(0,f.nS)(this.props.widgetSlotData),i=t?t.tracking:void 0,n=this.getProductId();if(n&&i){const e=new R.IDL(n,this._getImpressionInfo(new O.Ay(i)));this.trackDGEvent(e)}this.trackDiscoveryContentClickEvent(e.tracking),this.dispatchAction(A.Q3.MAPI_ACTION,new y.rs(e))},this._questionClickHandler=e=>{this.trackDiscoveryContentClickEvent(e.tracking),this._didClickQuestionHandler(e)},this.onQnaHeaderClick=(e,t)=>{this.onHeaderClick(t)},this.onQnaHeaderActionButtonClick=(e,t)=>{const i=t&&t.tracking;i&&this.trackDiscoveryContentClickEvent(i),this.onHeaderActionButtonClick(t)}}static getWidgetHeight(e){const t=(0,f.nS)(e.widgetSlotData),i=t?t.data:void 0;if(!i)return 0;let n=0;if(i.questions){const e=i.questions?Math.min(i.questions.length,3):0;for(let t=0;t<e;t++){const e=i.questions[t].value;e&&(n+=E.getHeight(e))}}return n+=i.postQuestionButton?100:0,S.A.getAdditionalHeight(e)+n}renderHeader(e){var t,i;const n=e&&e.header&&e.header?e.header:void 0,r=n&&n.value&&n.value.titleValue&&n.value.titleValue.text?n.value.titleValue.text:void 0,o=n&&n.action?n.action:void 0,s=n&&n.value&&n.value.actionButton?n.value.actionButton:void 0;return r?a.createElement(m.az,null,a.createElement(u.S,{onPress:this.onQnaHeaderClick,onPressParam:o,disableFeedback:!0},a.createElement(H,null,a.createElement(m.fv,{flex:1},a.createElement(m.JU,Object.assign({},(0,v.Z)("QnA_Header"),{color:"text.primary",font:"l_medium"}),r)),s&&!(0,N.wb)(null===(t=this.props.pageInfo)||void 0===t?void 0:t.pageURI,null===(i=this.props.pageInfo)||void 0===i?void 0:i.marketPlace)&&this._renderHeaderActionButton(s)))):void 0}_renderHeaderActionButton(e){const t=e&&e.value&&e.value.title?e.value.title:void 0,i=e&&e.action?e.action:void 0;if(!t)return;const n=(0,M.C_)(this.props.themeContext),r=n||"primary.main",o=a.createElement(u.S,Object.assign({},(0,v.Z)("QnA_Button"),{onPress:this.onQnaHeaderActionButtonClick,onPressParam:i}),a.createElement(W,null,a.createElement(m.az,Object.assign({},(0,v.Z)("QnA_Button_Search_Icon"),{mb:"s1"}),a.createElement(L.n4,{size:16,color:r})),a.createElement(m.JU,Object.assign({},(0,v.Z)("QnA_Button_Text"),{ml:"s3",font:"m_medium",color:r}),t))),s=e&&e.tracking;return s?this.getTrackableContentView(o,s):o}renderFooter(e){const t=e&&e.footer&&e.footer?e.footer:void 0,i=t&&t.tracking;if(!t)return;const n=a.createElement(V.Ay,{footerValue:t,footerSeparatorEnabled:this.isFooterSeparatorEnabled(),dispatchFooterAction:this.dispatchFooterAction,action:e.footer?e.footer.action:void 0});return i?this.getTrackableContentView(n,i):n}renderWidget(){var e,t;const i=(0,f.nS)(this.props.widgetSlotData),n=(0,f.Nt)(this.props.widgetSlotData),r=i?i.data:void 0;if(r){const i=r.questions;return a.createElement(m.az,null,i?i.map(((e,t)=>{if(t<3){const i=e.value&&this._getAbuseAction(e.value);return a.createElement(m.az,{key:t},a.createElement(E,{questionRC:e,transientData:n&&n.items?n.items[t]:void 0,index:t,getMenuItemViews:()=>this._getMenuItemViews(i,t),didExpandHandler:this.didExpandHandler,didUpvoteHandler:this.didUpvoteHandler,didDownvoteHandler:this.didDownvoteHandler,didShowMenuHandler:this.didShowAbuseHandler,didShowOtherAnswersHandler:this.didShowOtherAnswersHandler,didReportAbuseHandler:this.didReportAbuseHandler,didHideMenuHandler:this.didHideAbuseHandler,didClickQuestionHandler:this._questionClickHandler,fetchId:this.getFetchId(),getTrackableContentView:this.getTrackableContentView}),a.createElement(o.A,{heightVal:T.Ns}))}})):void 0,r.postQuestionButton&&r.postQuestionButton.value&&r.postQuestionButton.value.title&&!(0,N.wb)(null===(e=this.props.pageInfo)||void 0===e?void 0:e.pageURI,null===(t=this.props.pageInfo)||void 0===t?void 0:t.marketPlace)?a.createElement(m.az,null,a.createElement(P,{title:r.postQuestionButton.value.title,subtitle:r.postQuestionButton.value.subTitle,didSelectAction:this.didPostQuestion,action:r.postQuestionButton.action})):void 0)}}renderDivider(){}_getAbuseAction(e){let t;if(e.answers&&e.answers[0]){const i=e.answers[0].abuse;i&&(t=i.action)}return t}}var U=i(465420);const F=(0,n.A)(r.A,B);class G extends U.A{getWidgetClass(e){return F}getWidgetHeight(e){return F.getWidgetHeight(e)}}},920698:(e,t)=>{"use strict";!function(e){e.NO_COST_EMI="NO_COST_EMI",e.EMI="EMI",e.LOW_COST_EMI="LOW_COST_EMI"}(t.f||(t.f={}))},924882:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(395567),r=i(90513),a=i(918210);class o{handleAction(e,t,i){if(e.payload instanceof n.wKV&&e.payload.trackingParams){const t=e.payload.trackingParams.getProp47();if(t){const e={};e[r.Ay.PROP47]=t,a.A.addAndTrackEventData(e)}return!0}return!1}}},928005:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>T});var n=i(465420),r=i(296540),a=i(716249),o=i(52754),s=i(877293),l=i(479892),d=i(887261),c=i(492418);const u=s.StyleSheet.create({baseContainer:{padding:16,paddingBottom:8,flex:1,flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",width:"100%"},inputParentContainer:{borderWidth:1,borderRadius:4},inputContainer:{flex:1,flexDirection:"column",fontFamily:d.A$,fontSize:14},noteTextStyle:{paddingBottom:8,fontFamily:d.A$,fontSize:14,color:c.Jyk.darkGrey,paddingTop:12},errorTextStyle:{fontFamily:d.A$,fontSize:14,paddingTop:12,paddingBottom:8,color:c.Jyk.maroonRed},container:{width:"100%"}});var h=i(155902),p=i(670563),g=i(420721),m=i(410752),v=i(972904),_=i(914944),C=i(857850);class E extends v.A{constructor(){super(...arguments),this._onEnterPressed=e=>{this.state.isValidAmount?this._onAmountSubmit():this.setState({errorMessage:(0,g.ak)(this.context.locale,{id:m.H.rex_string_error_constants_INVALID_PINCODE_ENTERED}),showErrorMessage:!0})},this._onSubmitPressed=e=>{this._onAmountSubmit()},this._onAmountSubmit=()=>{var e;if(this.state.amount&&this._isValidAmount(this.state.amount)&&this.props.actionDispatcher){const t=(0,o.nS)(this.props.widgetSlotData),i=t&&t.data,n=null===(e=null==i?void 0:i.actionButton)||void 0===e?void 0:e.action;if(n&&n.params){n.params.actionRequestContext=Object.assign({},n.params.actionRequestContext,{amount:this.state.amount});const e=new _.rs(n);e.type=C.Q3.APPLY_CUSTOM_DENOMINATION,this.dispatchActionObject(e)}}s.Keyboard.dismiss()},this._onBlur=()=>{const e=this._isValidAmount(this.state.amount);this.setState({isValidAmount:e,showErrorMessage:!e})},this._onAmountChange=e=>{const t=isNaN(+e)?this.state.amount:e;t!==this.state.amount&&this.setState({amount:t,isValidAmount:this._isValidAmount(t),showErrorMessage:!this._isValidAmount(t)})}}static getWidgetHeight(e){var t;let i=0;const n=null===(t=(0,o.nS)(e.widgetSlotData))||void 0===t?void 0:t.data;return E.isValidData(n)?(i=49,a.A.getAdditionalHeight(e)+i+16+8):i}static isValidData(e){var t,i,n,r;return!!(null===(i=null===(t=null==e?void 0:e.actionButton)||void 0===t?void 0:t.value)||void 0===i?void 0:i.title)&&!!(null===(r=null===(n=null==e?void 0:e.textEditor)||void 0===n?void 0:n.value)||void 0===r?void 0:r.placeHolderText)}shouldComponentUpdate(e,t,i){return t.amount!==this.state.amount||t.isValidAmount!==this.state.isValidAmount||t.showErrorMessage!==this.state.showErrorMessage||super.shouldComponentUpdate(e,t,i)}renderWidget(){var e,t,i,n,a;const d=(0,o.nS)(this.props.widgetSlotData),g=d&&d.data,m=[u.inputContainer,{outline:"none"}];return E.isValidData(g)?r.createElement(s.View,{style:u.baseContainer},r.createElement(s.View,null,r.createElement(s.Text,{ellipsizeMode:"tail",numberOfLines:1,style:[l.XT.fontRegular_16,l.C1.padding_bottom_8]},null===(e=null==g?void 0:g.title)||void 0===e?void 0:e.text)),r.createElement(s.View,{style:[l.C1.row,u.container]},r.createElement(s.View,{style:[l.C1.row,u.inputParentContainer,this.state.showErrorMessage&&!this.state.isValidAmount?l.C1.color_border_maroon:l.C1.color_border_blue,l.C1.alignItemCenter]},r.createElement(s.Text,{style:[l.C1.displayFlex,l.C1.alignItemCenter,l.C1.padding8H]},c.y3o),r.createElement(s.TextInput,{style:m,editable:!0,onChangeText:this._onAmountChange,placeholder:null===(i=null===(t=null==g?void 0:g.textEditor)||void 0===t?void 0:t.value)||void 0===i?void 0:i.placeHolderText,placeholderTextColor:p.Jy.disabled,keyboardType:"numeric",maxLength:E.MAX_LENGTH,value:this.state.amount,numberOfLines:1,underlineColorAndroid:"transparent",onSubmitEditing:this._onEnterPressed,onBlur:this._onBlur})),r.createElement(h.A,{disableFeedback:!0,data:g.actionButton.value,onPress:this.state.isValidAmount?this._onSubmitPressed:void 0,btnTextStyle:[l.XT.buttonText,l.XT.whiteText],btnViewStyle:[l.PH.button,this.state.isValidAmount?l.PH.enableFKBlueButton:l.PH.disableButton]})),!this.state.showErrorMessage&&(!this.state.amount||this.state.isValidAmount)&&g&&g.noteText&&g.noteText.text&&r.createElement(s.Text,{numberOfLines:2,style:u.noteTextStyle},null===(n=null==g?void 0:g.noteText)||void 0===n?void 0:n.text),!this.state.isValidAmount&&this.state.showErrorMessage&&g&&g.errorText&&g.errorText.text&&r.createElement(s.Text,{numberOfLines:2,style:u.errorTextStyle},null===(a=null==g?void 0:g.errorText)||void 0===a?void 0:a.text)):r.createElement(s.View,null)}_isValidAmount(e){var t,i,n,r;const a=(0,o.nS)(this.props.widgetSlotData),s=a&&a.data,l=null===(i=null===(t=null==s?void 0:s.textEditor)||void 0===t?void 0:t.value)||void 0===i?void 0:i.min,d=null===(r=null===(n=null==s?void 0:s.textEditor)||void 0===n?void 0:n.value)||void 0===r?void 0:r.max;return!!e&&(e>=l&&e<=d&&!isNaN(+e))}}E.MAX_LENGTH=6;class T extends n.A{getWidgetClass(e){return E}getWidgetHeight(e){return E.getWidgetHeight(e)}}},938214:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>a});var n=i(90513),r=i(918210);class a{handleAction(e,t,i){if(e.payload&&e.payload.trackingParams){const t=e.payload.trackingParams.getProp47();if(t){const e={};e[n.Ay.PROP47]=t,r.A.addAndTrackEventData(e)}}return!0}}},940273:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>C});var n=i(465420),r=i(296540),a=i(877293);const o=a.StyleSheet.create({certificateWidgetContainer:{flexWrap:"wrap",flexDirection:"column",alignItems:"center",backgroundColor:"transparent"},footerContainer:{justifyContent:"center",borderRadius:20,backgroundColor:"#ffffff",height:40,width:40,marginTop:12},footerIconContainer:{padding:6,marginHorizontal:5},cancelIcon:{width:18,height:18},certificateImage:{backgroundColor:"transparent",borderRadius:8},topContainer:{backgroundColor:"transparent"},loaderAlignCenter:{flex:1,backgroundColor:"transparent",position:"absolute",top:0,bottom:0,left:0,right:0,justifyContent:"center",alignItems:"center",zIndex:Number.MAX_SAFE_INTEGER}});var s=i(52754),l=i(45426),d=i(561310),c=i(492418),u=i(110941),h=i(438993),p=i(479892),g=i(427286),m=i(957775),v=i(547134);class _ extends h.A{constructor(e){super(e),this._certificateImageHeight=0,this._certificateImageWidth=0,this._onCertificateLoadEnd=()=>{this.setState({showLoader:!1})},this._closePopUp=e=>{this.props.actionDispatcher&&this.props.actionDispatcher(new d.iM(d.xH.CLOSE_MODAL))},this._onCertificatePressed=e=>{e.stopPropagation()};const t=(0,s.nS)(this.props.widgetSlotData),i=t&&t.data;this.state=Object.assign(Object.assign({},super.state),{showLoader:!0}),i&&(this._certificateImageWidth=e.appContext.uiContext.windowFrame.width-70,this._certificateImageHeight=u.A.getHeight(this._certificateImageWidth,i.aspectRatio))}static getWidgetHeight(e){const t=(0,s.nS)(e.widgetSlotData),i=t&&t.data,n=e.appContext.uiContext.windowFrame.width-70;return u.A.getHeight(n,i.aspectRatio)+52}componentDidMount(){super.componentDidMount(),this.props.actionDispatcher&&(0,m.dispatchDgAction)(v.A.CERTIFICATE_POP_UP_MODAL,this.props.actionDispatcher)}shouldComponentUpdate(e,t,i){return this.state.showLoader!==t.showLoader}getLayoutDetailsForWidget(e){return p.C1.backgroundClear}renderWidget(){const e=(0,s.nS)(this.props.widgetSlotData),t=e&&e.data;if(t)return r.createElement(l.S,{onPress:this._closePopUp},r.createElement(a.View,{style:[o.topContainer]},r.createElement(a.View,{style:[o.certificateWidgetContainer]},t.dynamicImageUrl&&r.createElement(l.S,{onPress:this._onCertificatePressed},r.createElement(a.Image,{style:[o.certificateImage,{height:this._certificateImageHeight,width:this._certificateImageWidth,resizeMode:"center"}],source:{uri:u.A.generateImageUrl(t,this._certificateImageWidth,this._certificateImageHeight)},onLoadEnd:this._onCertificateLoadEnd,resizeMode:"center"})),this._renderFooter()),this.state.showLoader&&r.createElement(a.View,{style:o.loaderAlignCenter},r.createElement(g.A,{animating:!0,size:"large",color:c.Jyk.white}))));this.props.actionDispatcher&&this.props.actionDispatcher(new d.iM(d.xH.CLOSE_MODAL))}_renderFooter(){return r.createElement(a.View,{style:[o.footerContainer,{opacity:this.state.showLoader?0:1}]},r.createElement(l.S,{onPress:this._closePopUp},r.createElement(a.View,{style:o.footerIconContainer},r.createElement(a.Image,{source:{uri:c.gnF},style:o.cancelIcon}))))}}class C extends n.A{getWidgetClass(e){return _}getWidgetHeight(e){return _.getWidgetHeight(e)}}},945641:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AnnouncementV2ViewType:()=>ce,default:()=>me});var n=i(465420),r=i(296540),a=i(877293),o=i(716249),s=i(52754),l=i(415283),d=i(914944),c=i(887261),u=i(670563);const h=a.StyleSheet.create({container:{flexDirection:"row",justifyContent:"center",alignItems:"center",flex:1,marginVertical:12,marginHorizontal:16},containerWitoutFlex:{flex:1,marginVertical:12,marginHorizontal:16},textHolder:{flexDirection:"column",flex:5,justifyContent:"center",alignItems:"flex-start"},shareButton:{},title:{fontSize:14,lineHeight:20,includeFontPadding:!1,color:u.Jy.blackPrimary},subtitle:{fontSize:12,lineHeight:16,fontFamily:c.A$,color:u.Jy.blackPrimary}});var p=i(155902),g=i(479892),m=i(915742),v=i(492418),_=i(395567),C=i(808584),E=i(45426),T=i(495176);const f="AUTHENTICITY_MARKERS";class A extends o.A{constructor(){super(...arguments),this.imageDimension=56,this.imageDimension_32=32,this._getImageDimension=()=>{const e=(0,s.nS)(this.props.widgetSlotData);return(null==e?void 0:e.viewType)===f?this.imageDimension_32:this.imageDimension},this.handleTapAction=(e,t)=>{this.dispatchMAPIIndexedAction(t.action)},this.handleActionTap=(e,t)=>{if(t){this.dispatchAction(l.Q3.MAPI_ACTION,new d.rs(t));const e=(0,s.nS)(this.props.widgetSlotData);e&&e.tracking&&this.trackOmnitureEvent(new _.aVS(e.tracking.widgetName,e.tracking.widgetType))}},this._onCountDownFinish=()=>{this.setState({timerExpired:!0})}}static getWidgetHeight(e){return 61+this.getAdditionalHeight(e)}shouldComponentUpdate(e,t,i){return super.shouldComponentUpdate(e,t,i)||this.state.timerExpired!==t.timerExpired&&t.timerExpired}renderWidget(){var e,t;const i=(0,s.nS)(this.props.widgetSlotData),n=null==i?void 0:i.data,a=null===(e=null==n?void 0:n.data)||void 0===e?void 0:e.value;if(!a)return;return(null===(t=null==n?void 0:n.data)||void 0===t?void 0:t.action)?r.createElement(E.S,{onPress:this.handleTapAction,onPressParam:null==n?void 0:n.data},this.getView(a)):this.getView(a)}getView(e){var t,i;return r.createElement(a.View,{style:this.getContainerStyle()},e.image&&r.createElement(C.A,{style:g.C1.margin_right_16,imageValue:e.image,height:this._getImageDimension(),width:this._getImageDimension()}),r.createElement(a.View,{style:h.textHolder},(null===(t=null==e?void 0:e.title)||void 0===t?void 0:t.value)&&r.createElement(a.Text,{style:this.getTitleStyle()},e.title.value.text),(null===(i=null==e?void 0:e.subTitle)||void 0===i?void 0:i.value)&&this.showSubtitle(e.subTitle,e.expiryTime)),this.getButtonView(e))}getButtonView(e){var t,i;if(null===(i=null===(t=null==e?void 0:e.button)||void 0===t?void 0:t.value)||void 0===i?void 0:i.title)return r.createElement(p.A,{disableFeedback:!0,btnViewStyle:g.PH.buttonWithoutShadow,btnTextStyle:g.XT.buttonText,data:e.button.value,onPress:this.handleActionTap,onPressParam:e.button.action})}getContainerStyle(){return h.container}getTitleStyle(){return[h.title,g.XT.fontMedium]}showSubtitle(e,t){const i=e.value&&e.value.text;if(i)return t?this.showSubtitleWithTimer(i,t):this.showSubtitleWithoutTimer(e)}showSubtitleWithoutTimer(e){const t=e.value&&e.value.text;if(t)return r.createElement(T.A,{richTextData:e.value},t)}showSubtitleWithTimer(e,t){if(e&&!this.state.timerExpired)return r.createElement(a.Text,{style:h.subtitle},e,r.createElement(m.Ay,{timestampInMillis:t,prependingText:v.u1i,onCountDownFinish:this._onCountDownFinish}))}}var S=i(352254),y=i(692929);class w extends o.A{constructor(){super(...arguments),this.containerStyles=[g.C1.padding16H,g.C1.rowCenter,g.C1.padding_top_16],this.textStyles=[g.XT.fontMedium_16,g.XT.blueText,g.C1.margin_left_16,g.C1.width_250],this.getImageHeight=()=>w.IMAGE_HEIGHT,this._onClick=(e,t)=>{const i=t.action,n=t.trackingData&&t.trackingData.omnitureTracking;i&&(this.trackDiscoveryWidgetClickEvent(this.willCreateNewDwell(i)),n&&this.dispatchAction(l.Q3.OMNITURE_TRACKING,new _.aPm(n,y.l.CLICK)),this.dispatchAction(l.Q3.MAPI_ACTION,new d.rs(i)))}}static getWidgetHeight(e){return this.BUTTON_HEIGHT+this.BUTTON_PADDING}renderWidget(){const e=w._getAnnouncementValue(this.props),t=e&&e.value,i=t&&t.title,n=t&&t.image,o=n&&n.dynamicImageUrl,s=this.getImageHeight(),l=this.getImageWidth();if(e&&t)return r.createElement(E.S,{onPress:this._onClick,onPressParam:e,disableFeedback:!e.action},r.createElement(a.View,{style:this.containerStyles},n&&o&&r.createElement(S.A,{source:o,height:s,width:l}),!!i&&r.createElement(T.A,{style:this.textStyles,richTextData:i.value,onPress:i.action?this._onClick:void 0,onPressParam:i})))}renderDivider(){}getImageWidth(){return w.IMAGE_WIDTH}static _getAnnouncementValue(e){const t=(0,s.nS)(e.widgetSlotData),i=t&&t.data;return i&&i.data}}w.IMAGE_WIDTH=48,w.IMAGE_HEIGHT=48,w.BUTTON_HEIGHT=64,w.BUTTON_PADDING=16;class I extends A{static getWidgetHeight(e){return 120+this.getAdditionalHeight(e)}getContainerStyle(){return[super.getContainerStyle(),g.C1.height_96]}getTitleStyle(){return[super.getTitleStyle(),g.XT.fontRegular]}renderDivider(){}}class b extends A{constructor(){super(...arguments),this._defaultTextStyle={fontSize:16}}renderWidget(){var e,t;const i=(0,s.nS)(this.props.widgetSlotData),n=null==i?void 0:i.data,a=null===(e=null==n?void 0:n.data)||void 0===e?void 0:e.value;if(!a)return;return(null===(t=null==n?void 0:n.data)||void 0===t?void 0:t.action)?r.createElement(E.S,{onPress:this.handleTapAction,onPressParam:null==n?void 0:n.data},this.getView(a)):this.getView(a)}getView(e){var t,i,n;return r.createElement(a.View,{style:this.getContainerStyle()},r.createElement(a.View,{style:g.C1.rowWithoutFlex},(null===(t=null==e?void 0:e.title)||void 0===t?void 0:t.value)&&r.createElement(T.A,{style:[this._defaultTextStyle,g.C1.margin_bottom_18,g.C1.margin_top_8],richTextData:e.title.value},null===(i=e.title.value)||void 0===i?void 0:i.text)),r.createElement(a.View,{style:g.C1.rowWithoutFlex},e.image&&r.createElement(C.A,{style:g.C1.margin_right_16,imageValue:e.image,height:this.imageDimension,width:this.imageDimension}),r.createElement(a.View,{style:h.textHolder},(null===(n=null==e?void 0:e.subTitle)||void 0===n?void 0:n.value)&&this.showSubtitle(e.subTitle,e.expiryTime)),this.getButtonView(e)))}getContainerStyle(){return h.containerWitoutFlex}}class D extends b{static getWidgetHeight(e){return 120+this.getAdditionalHeight(e)}getContainerStyle(){return[super.getContainerStyle(),g.C1.height_96]}getTitleStyle(){return[super.getTitleStyle(),g.XT.fontRegular]}renderDivider(){}}var x=i(841620);class P extends o.A{constructor(){super(...arguments),this.containerStyles=[g.C1.padding16H,g.C1.rowCenter,g.C1.padding_top_16],this.didSelect=e=>{e&&this.dispatchAction(l.Q3.MAPI_ACTION,new d.rs(e))}}static getWidgetHeight(e){const t=P._getAnnouncementValue(e),i=t&&t.value,n=i&&i.title&&i.title.value&&i.title.value.title;return i&&i.button&&i.button.value&&i.button.value.title?x.A.getHeight(n)+o.A.getAdditionalHeight(e):0}renderWidget(){const e=P._getAnnouncementValue(this.props),t=e&&e.value,i=t&&t.title&&t.title.value&&t.title.value.text,n=t&&t.button&&t.button.value&&t.button.value.title;if(e&&t&&n)return r.createElement(a.View,{style:g.C1.padding15V_24H},r.createElement(x.A,{title:n,subtitle:i,didSelectAction:this.didSelect,action:e.value&&e.value.button&&e.value.button.action}))}renderDivider(){}static _getAnnouncementValue(e){const t=(0,s.nS)(e.widgetSlotData),i=t&&t.data;return i&&i.data}}var O=i(198213),R=i(857850);class k extends o.A{constructor(){super(...arguments),this._handleMapiAction=(e,t)=>{this.dispatchAction(R.Q3.MAPI_ACTION,new d.rs(t))}}static getWidgetHeight(e){return o.A.getAdditionalHeight(e)+200}renderWidget(){var e,t;const i=k._getAnnouncementValue(this.props),n=null==i?void 0:i.value,o=null===(t=null===(e=null==n?void 0:n.title)||void 0===e?void 0:e.value)||void 0===t?void 0:t.title,s=null==n?void 0:n.image,l=null==n?void 0:n.descriptions;return r.createElement(a.View,{style:V.container},r.createElement(a.View,{style:V.header},s&&r.createElement(O.Dk,{source:s.dynamicImageUrl,width:16,height:16,style:V.lockIcon,resizeMode:"contain"}),r.createElement(a.Text,{style:V.title},o)),l&&l.length>0&&r.createElement(a.Text,null,l.map((e=>this._renderDescriptions(e.value,e.action)))))}renderDivider(){}static _getAnnouncementValue(e){const t=(0,s.nS)(e.widgetSlotData),i=t&&t.data;return i&&i.data}_renderDescriptions(e,t){return r.createElement(r.Fragment,null,null==e?void 0:e.data.map((e=>r.createElement(T.A,{style:V.descriptions,richTextData:e.value,key:e.value.text,noSpaceAppend:!0,onPressParam:t,onPress:this._handleMapiAction}))))}}const V=a.StyleSheet.create({container:{padding:20,marginTop:20},title:{textAlign:"left",fontSize:14,color:R.Jy.darkGrey64,fontFamily:c.$u,top:2},descriptions:{fontSize:12,color:R.Jy.lightGrey},header:{marginBottom:8,flexDirection:"row",alignItems:"center",justifyContent:"center"},lockIcon:{marginRight:6}});var L=i(708889);const M=a.StyleSheet.create({image:{alignSelf:"flex-start",marginTop:4},description:Object.assign({lineHeight:16,marginBottom:4},a.Platform.select({android:{marginRight:12},ios:{marginRight:12}}))});class N extends o.A{constructor(){super(...arguments),this.bulletText=v.zlg+v.NH,this.handleTapAction=(e,t)=>{this.dispatchMAPIIndexedAction(t.action)}}static getWidgetHeight(e){var t;const i=(0,s.xH)(e.widgetSlotData),n=null===(t=null==i?void 0:i.data)||void 0===t?void 0:t.value,r=null==n?void 0:n.image,a=null==n?void 0:n.descriptions,o=r?C.A.getWidgetHeight(r,56)+24:0,l=(null==a?void 0:a.map((e=>{var t;return(null===(t=e.value)||void 0===t?void 0:t.data.length)||0})).reduce(((e,t)=>e+t),0))||0,d=52+28*l;return Math.max(o,d)+this.getAdditionalHeight(e)}renderWidget(){var e,t,i;const n=(0,s.nS)(this.props.widgetSlotData),o=null==n?void 0:n.data,l=null===(e=null==o?void 0:o.data)||void 0===e?void 0:e.tracking,d=null===(t=null==o?void 0:o.data)||void 0===t?void 0:t.value;if(!d)return;const c=null===(i=null==o?void 0:o.data)||void 0===i?void 0:i.action,u=this.getView(d);return c?r.createElement(E.S,{onPress:this.handleTapAction,onPressParam:null==o?void 0:o.data},this.getTrackableContentView(u,l)):r.createElement(a.View,null,this.getTrackableContentView(u,l))}getView(e){var t;const i=null==e?void 0:e.descriptions;return r.createElement(a.View,{style:this.getContainerStyle()},e.image&&r.createElement(C.A,{style:[g.C1.margin_right_16,M.image],imageValue:e.image,height:56,width:56}),r.createElement(a.View,{style:h.textHolder},(null===(t=null==e?void 0:e.title)||void 0===t?void 0:t.value)&&r.createElement(a.Text,{style:this.getTitleStyle()},e.title.value.text),i&&i.length>0&&i.map((e=>this._renderDescriptions(e.value)))))}_renderDescriptions(e){return r.createElement(r.Fragment,null,null==e?void 0:e.data.map(((e,t)=>{const{text:i,textColor:n}=e.value,o={color:n};if(i)return r.createElement(a.View,{key:t,style:[L.n.bulletContainerStyle,M.description]},r.createElement(a.Text,{style:[L.n.bulletStyle,g.XT.fontMedium_12,o]},this.bulletText),r.createElement(a.Text,{style:[g.XT.fontMedium_12,o]},i))})))}getContainerStyle(){return h.container}getTitleStyle(){return[h.title,g.XT.fontRegular,g.C1.margin_bottom_8]}}var H=i(723372),W=i(110941);class B extends o.A{constructor(){super(...arguments),this.IMAGE_WIDTH=48,this.bulletText=v.zlg+v.NH,this._descriptionOuterContainerStyle=[g.C1.padding12V,g.C1.padding_left_8],this._descriptionInnerContainerStyle=[g.C1.margin_vertical_6,g.C1.rowAlignFlexStart],this._buttonContainerStyle=[g.C1.height_32,g.C1.padding10H,g.C1.border_radius_2,g.C1.border_width_1,g.C1.contentAlignCenter,g.C1.color_border_lightest_grey],this._buttonTextStyle=[g.XT.fkButtonDarkBlueColor,g.XT.fontMedium_14,g.XT.letterSpacing_50,g.XT.alignTextCenter],this._brandTitleStyle=[g.XT.fontMedium_16,g.XT.letterSpacing_15,g.XT.fkBlackPrimaryText],this._brandSubtitleStyle=[g.XT.fontRegular_12,g.XT.lightGreyText],this.renderWidget=()=>{var e,t,i,n,o,l,d,c,u,h;const p=(0,s.xH)(this.props.widgetSlotData),m=null==p?void 0:p.data;if(!p||!m)return;const v=null===(i=null===(t=null===(e=m.value)||void 0===e?void 0:e.title)||void 0===t?void 0:t.value)||void 0===i?void 0:i.text,_=null===(l=null===(o=null===(n=m.value)||void 0===n?void 0:n.subTitle)||void 0===o?void 0:o.value)||void 0===l?void 0:l.text,C=null===(d=m.value)||void 0===d?void 0:d.descriptions,T=null===(c=m.value)||void 0===c?void 0:c.button,f=null===(u=m.value)||void 0===u?void 0:u.image,{aspectRatio:A,dynamicImageUrl:S}=f||{},y=this._getImageDimension(A||"1:1",this.IMAGE_WIDTH);return r.createElement(a.View,{style:g.C1.padding16},r.createElement(a.View,{style:g.C1.rowAlignFlexStart},S?r.createElement(O.Dk,{source:S,height:y,width:this.IMAGE_WIDTH,style:g.C1.margin_right_12}):null,r.createElement(a.View,{style:g.C1.flex},v?r.createElement(a.Text,{style:this._brandTitleStyle,numberOfLines:1},v):null,_?r.createElement(a.Text,{style:this._brandSubtitleStyle},_):null)),r.createElement(a.View,{style:this._descriptionOuterContainerStyle},null==C?void 0:C.map(this._renderDescription)),(null===(h=null==T?void 0:T.value)||void 0===h?void 0:h.title)&&(null==T?void 0:T.action)&&r.createElement(E.S,{onPress:this._onButtonClick,onPressParam:T.action,disableFeedback:!0},r.createElement(a.View,{style:this._buttonContainerStyle},r.createElement(a.Text,{style:this._buttonTextStyle,numberOfLines:1},T.value.title))))},this._onButtonClick=(e,t)=>{t&&this.dispatchAction(l.Q3.MAPI_ACTION,new d.rs(t)),this.trackDiscoveryWidgetClickEvent(this.willCreateNewDwell(t))},this._renderDescription=e=>{const t=null==e?void 0:e.value;if(t)return r.createElement(a.View,{style:this._descriptionInnerContainerStyle},r.createElement(a.Text,{style:g.C1.margin_right_4},this.bulletText),r.createElement(H.A,{messages:t,textDefaultStyle:g.XT.fontRegular_14}))}}static getWidgetHeight(e){return 150+o.A.getAdditionalHeight(e)}renderHeader(e){}_getImageDimension(e,t){const i=W.A.getImageRatio(e);return i?i*t:t}}var U=i(785364),F=i(454334),G=i(427286),z=function(e,t,i,n){return new(i||(i=Promise))((function(r,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};class j extends o.A{constructor(e,t){super(e,t),this.containerStyle=[g.C1.padding_0,g.C1.margin_vertical_16],this.titleStyle=[g.XT.fontMedium_16_padding,g.C1.padding_vertical_6,g.C1.margin_horizontal_16,g.XT.alignTextLeft,g.XT.blackText],this.subtitleStyle=[g.XT.fontMedium_14_padding,g.C1.padding_vertical_6,g.C1.margin_horizontal_16,g.XT.alignTextLeft,g.XT.darkGrey64Text],this.descriptionStyle=[g.XT.fontRegular_12,g.XT.lightGreyText],this.descriptionViewStyle=[g.C1.margin_vertical_6,g.C1.margin_horizontal_16],this.lockIconStyle=[g.C1.margin_horizontal_0,g.C1.margin_vertical_0],this.headerStyle=[g.C1.alignItemFlexStart,g.C1.justifyContentCenter,g.C1.margin_bottom_6],this.loadingContainerStyle=[g.C1.margin_top_0,g.C1.margin_bottom_8,g.C1.padding_left_0,g.C1.padding_right_0,g.C1.flexContentAlignCenter,g.C1.height_236,g.C1.min_height_236],this._renderSelectorWithImage=e=>{var t,i,n,o;const s=null===(i=null===(t=null==e?void 0:e.title)||void 0===t?void 0:t.value)||void 0===i?void 0:i.title,l=null===(o=null===(n=null==e?void 0:e.subTitle)||void 0===n?void 0:n.value)||void 0===o?void 0:o.title,d=null==e?void 0:e.image,c=null==e?void 0:e.descriptions,u=this.getImageDimension();return r.createElement(a.View,{style:this.containerStyle},r.createElement(a.View,{style:this.headerStyle},s&&r.createElement(a.Text,{style:this.titleStyle},s),l&&r.createElement(a.Text,{style:this.subtitleStyle},l),d&&r.createElement(O.Dk,{source:d.dynamicImageUrl,width:u.width,height:u.height,style:this.lockIconStyle,resizeMode:"contain"})),c&&c.length>0&&r.createElement(a.Text,{style:this.descriptionViewStyle},c.map(this._renderDescriptions)))},this._renderSelectorWithoutImage=e=>{var t,i,n,o;const s=null===(i=null===(t=null==e?void 0:e.title)||void 0===t?void 0:t.value)||void 0===i?void 0:i.title,l=null===(o=null===(n=null==e?void 0:e.subTitle)||void 0===n?void 0:n.value)||void 0===o?void 0:o.title;return r.createElement(a.View,{style:this.containerStyle},r.createElement(a.View,{style:this.headerStyle},r.createElement(a.Text,{style:this.titleStyle},s),r.createElement(a.Text,{style:this.subtitleStyle},l)))},this._renderDescriptions=e=>{const t=null==e?void 0:e.value,i=null==e?void 0:e.action;return r.createElement(r.Fragment,null,null==t?void 0:t.data.map((e=>r.createElement(T.A,{style:this.descriptionStyle,richTextData:e.value,key:e.value.text,noSpaceAppend:!0,onPressParam:i,onPress:this._handleMapiAction}))))},this._handleMapiAction=(e,t)=>{this.dispatchAction(R.Q3.MAPI_ACTION,new d.rs(t))},this.setUserOnboardedToImageSearch=()=>{F.A.setValue(j.IMAGESEARCH_ONBOARDING_KEY,j.IS_ONBOARDED)},this.state=Object.assign(Object.assign({},super.getDerivedState(e,void 0)),{isUserOnboardedToImageSearch:"false"})}componentDidMount(){const e=Object.create(null,{componentDidMount:{get:()=>super.componentDidMount}});var t;return z(this,void 0,void 0,(function*(){e.componentDidMount.call(this);const i=null!==(t=yield F.A.getValue(j.IMAGESEARCH_ONBOARDING_KEY))&&void 0!==t?t:"";"false"===this.state.isUserOnboardedToImageSearch&&(this.setUserOnboardedToImageSearch(),this.setState({isUserOnboardedToImageSearch:i}))}))}static getWidgetHeight(e){return o.A.getAdditionalHeight(e)+20}shouldComponentUpdate(e,t,i){return t.isUserOnboardedToImageSearch!==this.state.isUserOnboardedToImageSearch||super.shouldComponentUpdate(e,t,i)}renderWidget(){const e=j._getAnnouncementValue(this.props),t=null==e?void 0:e.value;return"true"===this.state.isUserOnboardedToImageSearch?r.createElement(a.View,null,this._renderSelectorWithoutImage(t)):r.createElement(a.View,null,this._renderSelectorWithImage(t))}_renderLoadingState(){return r.createElement(a.View,{style:this.loadingContainerStyle},r.createElement(G.A,{animating:!0,size:"small",color:u.Cf.fkBlueColor}))}renderDivider(){}static _getAnnouncementValue(e){const t=(0,s.nS)(e.widgetSlotData),i=t&&t.data;return i&&i.data}getImageDimension(){const e=a.Dimensions.get("window").width;return{width:e,height:.56*e}}}j.IMAGESEARCH_ONBOARDING_KEY="@Flipkart:ImageSearchOnboardedUser",j.IS_ONBOARDED="true";const X=a.StyleSheet.create({container:{flex:1,paddingTop:8,paddingBottom:9,minHeight:32,flexDirection:"row",borderRadius:2,alignItems:"center",justifyContent:"center",overflow:"hidden"},containerContentStyle:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center"},innerContainer:{marginHorizontal:12},commonMessageStyle:{fontSize:12,lineHeight:16,letterSpacing:.3}});var Y=i(135789);class q extends o.A{constructor(e){super(e),this.messageListSize=1,this.messagesAreNotUndefined=e=>void 0!==e,this.onAnimationFinish=()=>{this.setState((e=>({socialProofMessageIndex:(e.socialProofMessageIndex+1)%this.messageListSize})))},this.getAnimationConfig=()=>({type:Y.J6.JSON,triggerType:Y.Zr.ON_LOAD,animationConfig:[{transforms:[{key:"translateY",from:25,to:0},{key:"opacity",from:0,to:1}],duration:750,interpolation:{easing:"ease-in-out"}},{transforms:[{key:"translateY",from:0,to:0},{key:"opacity",from:1,to:1}],duration:3500,interpolation:{easing:"ease-in-out"}},{transforms:[{key:"translateY",from:0,to:-15},{key:"opacity",from:1,to:0}],duration:750,interpolation:{easing:"ease-in-out"}}]}),this.state=Object.assign(Object.assign({},super.state),{socialProofMessageIndex:0})}shouldComponentUpdate(e,t,i){return t.socialProofMessageIndex!==this.state.socialProofMessageIndex}renderWidget(){var e;const t=(0,s.nS)(this.props.widgetSlotData),i=null==t?void 0:t.data,n=null===(e=null==i?void 0:i.data)||void 0===e?void 0:e.value,o=n&&n.descriptions;o&&(this.messageListSize=null==o?void 0:o.length);const l=this.state.socialProofMessageIndex,d=[X.container,{backgroundColor:null==n?void 0:n.backgroundColor},this.messageListSize>1?{margin:0,borderTopLeftRadius:0,borderTopRightRadius:0}:{margin:16}],c=null==o?void 0:o[l].value;return this.messagesAreNotUndefined(c)?r.createElement(a.View,{style:d},this.messageListSize>1?r.createElement(Y.tY,{animationConfig:this.getAnimationConfig(),onAnimationFinish:this.onAnimationFinish},r.createElement(a.View,{style:X.containerContentStyle},(null==n?void 0:n.image)&&r.createElement(S.A,{height:10,width:10,source:n.image.dynamicImageUrl}),r.createElement(H.A,{useTextContainer:!0,messages:c,style:X.innerContainer,textDefaultStyle:X.commonMessageStyle}),(null==n?void 0:n.image)&&r.createElement(S.A,{height:10,width:10,source:n.image.dynamicImageUrl}))):r.createElement(a.View,{style:X.containerContentStyle},(null==n?void 0:n.image)&&r.createElement(S.A,{height:10,width:10,source:n.image.dynamicImageUrl}),r.createElement(H.A,{useTextContainer:!0,messages:c,style:X.innerContainer,textDefaultStyle:X.commonMessageStyle}),(null==n?void 0:n.image)&&r.createElement(S.A,{height:10,width:10,source:n.image.dynamicImageUrl}))):void 0}renderDivider(){return this.messageListSize>1?void 0:super.renderDivider()}static getWidgetHeight(e){return 32}}var J=i(229022),K=i(580555),Q=i(97529),Z=i(390437),$=i(812559);class ee extends o.A{constructor(){super(...arguments),this._rootViewStyle=[g.C1.contentAlignCenter,g.C1.margin_horizontal_50],this._greetingTextStyle=[g.XT.fontMedium_16,g.C1.margin_top_32,g.XT.letterSpacing_15,g.XT.lineHeight_24],this._subTextStyle=[g.XT.alignTextCenter,g.XT.fkDimGrey,g.XT.fontRegular_14,g.XT.lineHeight_20,g.XT.letterSpacing_15,g.C1.margin_top_8],this._proceedButtonContainer=[g.C1.padding8V,g.C1.padding_horizontal_16,g.C1.border_radius_2,g.C1.contentAlignCenter,g.C1.margin_top_24],this._proceedButtonText=[g.XT.buttonTextStyle,g.XT.lineHeight_24,g.XT.letterSpacing_50],this._subTextContainer=[g.C1.rowWithoutFlex,g.C1.margin_top_16],this._subTextPrefix=[g.XT.fontRegular_14,g.XT.lineHeight_24,g.XT.letterSpacing_50,g.XT.fkGreyWithSixtyOpacity],this._subTextActionText=[g.XT.fontRegular_14,g.XT.lineHeight_24,g.XT.letterSpacing_50,g.XT.fkRoyalBlueText,g.XT.fontMedium],this._getGreetingTextRc=()=>{const e=ee.getWidgetRenderableComponents(this.props);return null==e?void 0:e[0]},this._renderGreetingText=()=>{var e,t,i;const n=this._getGreetingTextRc(),o=null===(i=null===(t=null===(e=null==n?void 0:n.value)||void 0===e?void 0:e.title)||void 0===t?void 0:t.value)||void 0===i?void 0:i.text;return o?r.createElement(a.Text,{style:this._greetingTextStyle},o):null},this.getSubtextRc=()=>{},this._renderSubtext=()=>{var e,t,i;const n=this.getSubtextRc(),o=null===(i=null===(t=null===(e=null==n?void 0:n.value)||void 0===e?void 0:e.title)||void 0===t?void 0:t.value)||void 0===i?void 0:i.text;return o?r.createElement(a.Text,{style:this._subTextStyle},o):null},this.getProceedButtonRc=()=>{const e=ee.getWidgetRenderableComponents(this.props);return null==e?void 0:e[1]},this._renderProceedButton=()=>{var e,t,i;const n=this.getProceedButtonRc(),a=(null===(e=null==n?void 0:n.value)||void 0===e?void 0:e.richButton)&&r.createElement(J.A,{btnTextStyle:this._proceedButtonText,btnViewStyle:this._proceedButtonContainer,btnData:null===(t=null==n?void 0:n.value)||void 0===t?void 0:t.richButton,disableFeedback:!0,numberOfLines:1,onPress:this._handleProceedButtonClick,onPressParam:n.action});return this.getTrackableContentView(a,null===(i=null==n?void 0:n.action)||void 0===i?void 0:i.tracking)},this.getLoginComponentRc=()=>{const e=ee.getWidgetRenderableComponents(this.props);return null==e?void 0:e[2]},this._renderLoginComponent=()=>{var e,t,i,n,o,s,l,d;const c=this.getLoginComponentRc(),u=null===(i=null===(t=null===(e=null==c?void 0:c.value)||void 0===e?void 0:e.title)||void 0===t?void 0:t.value)||void 0===i?void 0:i.text,h=null===(s=null===(o=null===(n=null==c?void 0:c.value)||void 0===n?void 0:n.subTitle)||void 0===o?void 0:o.value)||void 0===s?void 0:s.text,p=null===(d=null===(l=null==c?void 0:c.value)||void 0===l?void 0:l.subTitle)||void 0===d?void 0:d.action,g=h?r.createElement(E.S,{onPress:this._handleLoginClick,onPressParam:p},r.createElement(a.Text,{style:this._subTextActionText},h)):null,m=this.getTrackableContentView(g,null==p?void 0:p.tracking);return u||h?r.createElement(a.View,{style:this._subTextContainer},u?r.createElement(a.Text,{style:this._subTextPrefix},u," "):null,m):null},this._handleProceedButtonClick=(e,t)=>{var i,n,r,a,o;if(null===(n=(i=this.props).actionDispatcher)||void 0===n||n.call(i,new _.m0(new _.wKV(Q.A.ENTRY_SCREEN_PROCEED_BUTTON_CLICK,new K.Ay(null!==(r=null==t?void 0:t.tracking)&&void 0!==r?r:{})))),this.trackDiscoveryContentClickEvent(null==t?void 0:t.tracking),t){const e=Object.assign(Object.assign({},t),{params:Object.assign(Object.assign({},t.params),{locationPermissionSuccess:()=>{$.jr&&this.trackDiscoveryWidgetEngagementEvent(Z.O.GRANT_PERMISSION_ALWAYS)},locationPermissionFailure:()=>{$.jr&&this.trackDiscoveryWidgetEngagementEvent(Z.O.DENY_PERMISSION)}})});null===(o=(a=this.props).actionDispatcher)||void 0===o||o.call(a,new d.E8(new d.rs(e)))}},this._handleLoginClick=(e,t)=>{var i,n;this.trackDiscoveryContentClickEvent(null==t?void 0:t.tracking),t&&(null===(n=(i=this.props).actionDispatcher)||void 0===n||n.call(i,new d.E8(new d.rs(t))))}}static getWidgetHeight(e){const t=(0,s.nS)(e.widgetSlotData),i=null==t?void 0:t.data;let n=0;return(null==i?void 0:i.renderableComponents)&&i.renderableComponents.length>0&&(n=235),n+this.getAdditionalHeight(e)}getWidgetViewTrackingData(e){}renderWidget(){return r.createElement(a.View,{style:this._rootViewStyle},this._renderGreetingText(),this._renderSubtext(),this._renderProceedButton(),this._renderLoginComponent())}renderDivider(){}}ee.getWidgetRenderableComponents=e=>{const t=(0,s.nS)(e.widgetSlotData),i=null==t?void 0:t.data;return null==i?void 0:i.renderableComponents};class te extends ee{constructor(){super(...arguments),this.getSubtextRc=()=>{const e=ee.getWidgetRenderableComponents(this.props);return null==e?void 0:e[1]},this.getProceedButtonRc=()=>{const e=ee.getWidgetRenderableComponents(this.props);return null==e?void 0:e[2]},this.getLoginComponentRc=()=>{}}}var ie=i(302019),ne=i(408791);class re extends o.A{constructor(){super(...arguments),this.IMAGE_HEIGHT=84,this.IMAGE_WIDTH=84}static getWidgetHeight(e){return 220+o.A.getAdditionalHeight(e)}renderWidget(){var e,t,i,n;const a=re._getAnnouncementComponent(this.props),o=null==a?void 0:a.value,s=null===(t=null===(e=null==o?void 0:o.title)||void 0===e?void 0:e.value)||void 0===t?void 0:t.text,l=null===(n=null===(i=null==o?void 0:o.subTitle)||void 0===i?void 0:i.value)||void 0===n?void 0:n.text,d=null==o?void 0:o.image,c=null==d?void 0:d.dynamicImageUrl;return r.createElement(ie.az,{alignItems:"center",p:"s6",pb:"s9"},r.createElement(ne.n,{speed:1,loop:!1,autoPlay:!0,sourceUrl:v.IMU}),r.createElement(ie.az,{mb:"s6"},c?r.createElement(S.A,{source:c,height:this.IMAGE_HEIGHT,width:this.IMAGE_WIDTH,resizeMode:"contain"}):null),r.createElement(ie.az,{mx:"s13",alignItems:"center",justifyContent:"center"},s?r.createElement(ie.JU,{py:"s2",font:"l_medium",color:"neutral.900"},s):null,l?r.createElement(ie.JU,{textAlign:"center",font:"m",color:"neutral.700"},l):null))}renderDivider(){}static _getAnnouncementComponent(e){const t=(0,s.nS)(e.widgetSlotData),i=t&&t.data;return i&&i.data}}class ae extends o.A{static getWidgetHeight(e){return 66+o.A.getAdditionalHeight(e)}renderWidget(){var e,t,i,n,a,o,l,d,c,u,h;const p=(0,s.xH)(this.props.widgetSlotData),g=null===(n=null===(i=null===(t=null===(e=null==p?void 0:p.data)||void 0===e?void 0:e.value)||void 0===t?void 0:t.title)||void 0===i?void 0:i.value)||void 0===n?void 0:n.text,m=null===(d=null===(l=null===(o=null===(a=null==p?void 0:p.data)||void 0===a?void 0:a.value)||void 0===o?void 0:o.subTitle)||void 0===l?void 0:l.value)||void 0===d?void 0:d.text,v=null===(h=null===(u=null===(c=null==p?void 0:p.data)||void 0===c?void 0:c.value)||void 0===u?void 0:u.image)||void 0===h?void 0:h.dynamicImageUrl;return r.createElement(ie.xM,{px:"s6",py:"s5",alignItems:"center",borderBottomWidth:6,borderColor:"neutral.50"},r.createElement(ie.az,{borderWidth:1,borderRadius:4,borderColor:"v2.neutral.300",overflow:"hidden"},!!v&&r.createElement(S.A,{height:42,width:42,source:v,resizeMode:"contain"})),r.createElement(ie.fv,{flex:1,ml:"s5"},r.createElement(ie.JU,{numberOfLines:1,font:"m_medium"},g),r.createElement(ie.JU,{font:"s"},m)))}renderDivider(){}}var oe=i(664825),se=i(982561),le=i(813652);class de extends oe.A{constructor(){super(...arguments),this.rightContainerStyle=[g.C1.col,g.C1.margin_left_14,g.C1.width_90per]}renderWidget(){var e,t,i,n;const o=(0,s.nS)(this.props.widgetSlotData),l=null==o?void 0:o.data,d=null===(e=null==l?void 0:l.renderableComponents)||void 0===e?void 0:e[0],c=null===(t=null==l?void 0:l.renderableComponents)||void 0===t?void 0:t[1],u=null==d?void 0:d.value,h=null==c?void 0:c.value,p=null===(i=null==h?void 0:h.title)||void 0===i?void 0:i.value,g=null===(n=null==h?void 0:h.image)||void 0===n?void 0:n.dynamicImageUrl;if(u)return p&&g?r.createElement(a.View,{style:this.containerStyle},r.createElement(se.A,{style:{width:"10%"},itemDelay:3e3,itemHeight:35,renderItem:e=>0===e?this.renderImage():this.renderLottie(g),itemCount:2,animateOnlyOnce:!0}),r.createElement(a.View,{style:this.rightContainerStyle},r.createElement(se.A,{itemDelay:3e3,renderItem:e=>0===e?this.renderTitle(u.title):this.renderLottieTitle(p),itemCount:2,animateOnlyOnce:!0}),this.renderSubTitle(u.subTitle))):r.createElement(a.View,{style:this.containerStyle},this.renderImage(),r.createElement(a.View,{style:this.rightContainerStyle},this.renderTitle(u.title),this.renderSubTitle(u.subTitle)))}renderImage(){return r.createElement(S.A,{source:le.blackTickIcon,width:this.IMAGE_HEIGHT,height:this.IMAGE_HEIGHT,resizeMode:"contain",roundedCorner:this.IMAGE_HEIGHT/2})}renderLottie(e){return r.createElement(ne.n,{resizeMode:"contain",style:{height:40},autoPlay:!0,speed:1,loop:!0,sourceUrl:e})}renderLottieTitle(e){return r.createElement(T.A,{richTextData:e,style:this.titleTextStyle,numberOfLines:1,ellipsizeMode:"tail"})}}var ce,ue=i(347924),he=i(690658),pe=i(398581);class ge extends o.A{constructor(){super(...arguments),this.COVER_IMAGE_WIDTH=444,this.COVER_IMAGE_HEIGHT=297,this.COVER_IMAGE_RESIZE_MODE="cover",this.CTA_IMAGE_WIDTH=230,this.CTA_IMAGE_HEIGHT=40,this.GRADIENT_START_POINT=he._.TOP,this.GRADIENT_END_POINT=he._.BOTTOM,this.CONTENT_HEIGHT=500,this._textContainerStyle=[g.C1.displayFlex,g.C1.contentAlignCenter,g.C1.colWithoutFlex],this._titleStyle=[g.XT.fontFamilyInterSemiBold_20,g.XT.letterSpacing_15,g.XT.alignTextCenter,g.XT.whiteText,g.XT.lineHeight_28],this._subtitleStyle=[g.XT.fontFamilyInter_14,g.XT.whiteText,g.XT.alignTextCenter,g.XT.lineHeight_20,g.C1.margin_bottom_40,g.C1.margin_top_12,g.C1.width_260],this._containerStyle=[g.C1.displayFlex,g.C1.flexAuto,g.C1.alignItemCenter,g.C1.justifyContentCenter],this.renderWidget=()=>{var e,t,i,n,a,o,l,d,c,u,h,p,g,m,v,_,C,T,f;const A=(0,s.xH)(this.props.widgetSlotData),S=(0,s.I2)(this.props.widgetSlotData),y=S&&S.bleedingColor,w=S&&S.stopBleedingColor,I=null==A?void 0:A.data;if(!I)return;const b=null===(i=null===(t=null===(e=I.value)||void 0===e?void 0:e.title)||void 0===t?void 0:t.value)||void 0===i?void 0:i.text,D=null===(o=null===(a=null===(n=I.value)||void 0===n?void 0:n.subTitle)||void 0===a?void 0:a.value)||void 0===o?void 0:o.text,x=null===(l=I.value)||void 0===l?void 0:l.richButton,P=null===(c=null===(d=I.value)||void 0===d?void 0:d.image)||void 0===c?void 0:c.dynamicImageUrl,R=(null===(h=null===(u=I.value)||void 0===u?void 0:u.image)||void 0===h?void 0:h.height)||this.COVER_IMAGE_HEIGHT,k=(null===(g=null===(p=I.value)||void 0===p?void 0:p.image)||void 0===g?void 0:g.width)||this.COVER_IMAGE_WIDTH,V=null===(v=null===(m=null==x?void 0:x.value)||void 0===m?void 0:m.image)||void 0===v?void 0:v.dynamicImageUrl,L=(null===(C=null===(_=null==x?void 0:x.value)||void 0===_?void 0:_.image)||void 0===C?void 0:C.height)||this.CTA_IMAGE_HEIGHT,M=(null===(f=null===(T=null==x?void 0:x.value)||void 0===T?void 0:T.image)||void 0===f?void 0:f.width)||this.CTA_IMAGE_WIDTH,N=r.createElement(ue.az,{style:this._containerStyle},P&&r.createElement(O.Dk,{resizeMode:this.COVER_IMAGE_RESIZE_MODE,source:P,height:R,width:k}),r.createElement(ue.az,{style:this._textContainerStyle},b&&r.createElement(ue.JU,{style:this._titleStyle,numberOfLines:1},b),D&&r.createElement(ue.JU,{style:this._subtitleStyle},D)),V&&(null==x?void 0:x.action)&&r.createElement(E.S,{onPress:this._onButtonClick,onPressParam:x.action,disableFeedback:!1},r.createElement(O.Dk,{source:V,height:L,width:M})));return y&&w?r.createElement(pe.W,{style:{height:this.CONTENT_HEIGHT},gradientColors:[y,w],gradientStart:this.GRADIENT_START_POINT,gradientEnd:this.GRADIENT_END_POINT},N):N},this._onButtonClick=(e,t)=>{t&&this.dispatchAction(l.Q3.MAPI_ACTION,new d.rs(t)),this.trackDiscoveryWidgetClickEvent(this.willCreateNewDwell(t))}}static getWidgetHeight(e){return 500+o.A.getAdditionalHeight(e)}}!function(e){e.TIMER="TIMER",e.BS_CREATE_COLLECTION="BS_CREATE_COLLECTION",e.HYPERLOCAL="HYPERLOCAL",e.HYPERLOCAL_ADD_ADDRESS="HYPERLOCAL_ADD_ADDRESS",e.QNA="QNA",e.TRY_ON_SAFETY="TRY_ON_SAFETY",e.VERTICAL_BOTTOM_SHEET="VERTICAL_BOTTOM_SHEET",e.BRAND_ANNOUNCEMENT="BRAND_ANNOUNCEMENT",e.IMAGE_SELECTOR_MESSAGES="IMAGE_SELECTOR_MESSAGES",e.REFERRAL_SOCIAL_PROOF_ANNOUNCEMENT="REFERRAL_SOCIAL_PROOF_ANNOUNCEMENT",e.HYPERLOCAL_LOGOUT="HYPERLOCAL_LOGOUT",e.HYPERLOCAL_LOGIN_ENTRY="HYPERLOCAL_LOGIN_ENTRY",e.DYR_SAFETY_MESSAGE="DYR_SAFETY_MESSAGE",e.BRAND_ANNOUNCEMENT_V2_VERTICAL_VIEW="BRAND_ANNOUNCEMENT_V2_VERTICAL_VIEW",e.BRAND_ANNOUNCEMENT_V2_HORIZONTAL_VIEW="BRAND_ANNOUNCEMENT_V2_HORIZONTAL_VIEW",e.WRITE_REVIEW_PRODUCT_CARD="WRITE_REVIEW_PRODUCT_CARD",e.THANK_YOU_PAGE_CARD="THANK_YOU_PAGE_CARD",e.POST_ATC_PAGE="POST_ATC_PAGE",e.IMAGE_CARD_WITH_ACTION="IMAGE_CARD_WITH_ACTION"}(ce||(ce={}));class me extends n.A{getWidgetClass(e){switch(s.KJ(e.widgetSlotData)){case"BS_CREATE_COLLECTION":return w;case"HYPERLOCAL":return I;case"POST_ATC_PAGE":return de;case"HYPERLOCAL_ADD_ADDRESS":return D;case"QNA":return P;case"DYR_SAFETY_MESSAGE":case"TRY_ON_SAFETY":return k;case"VERTICAL_BOTTOM_SHEET":return N;case"BRAND_ANNOUNCEMENT":return B;case"BRAND_ANNOUNCEMENT_V2_VERTICAL_VIEW":case"BRAND_ANNOUNCEMENT_V2_HORIZONTAL_VIEW":return U.A;case"IMAGE_SELECTOR_MESSAGES":return j;case"REFERRAL_SOCIAL_PROOF_ANNOUNCEMENT":return q;case"HYPERLOCAL_LOGOUT":return ee;case"HYPERLOCAL_LOGIN_ENTRY":return te;case"THANK_YOU_PAGE_CARD":return re;case"WRITE_REVIEW_PRODUCT_CARD":return ae;case"IMAGE_CARD_WITH_ACTION":return ge;default:return A}}getWidgetHeight(e){const t=s.nS(e.widgetSlotData);switch(t?t.viewType:void 0){case"HYPERLOCAL":case"HYPERLOCAL_ADD_ADDRESS":return I.getWidgetHeight(e);case"QNA":return P.getWidgetHeight(e);case"POST_ATC_PAGE":return de.getWidgetHeight(e);case"VERTICAL_BOTTOM_SHEET":return N.getWidgetHeight(e);case"BRAND_ANNOUNCEMENT":return B.getWidgetHeight(e);case"BRAND_ANNOUNCEMENT_V2_VERTICAL_VIEW":case"BRAND_ANNOUNCEMENT_V2_HORIZONTAL_VIEW":return U.A.getWidgetHeight(e);case"IMAGE_SELECTOR_MESSAGES":return j.getWidgetHeight(e);case"REFERRAL_SOCIAL_PROOF_ANNOUNCEMENT":return q.getWidgetHeight(e);case"HYPERLOCAL_LOGOUT":return ee.getWidgetHeight(e);case"HYPERLOCAL_LOGIN_ENTRY":return te.getWidgetHeight(e);case"THANK_YOU_PAGE_CARD":return re.getWidgetHeight(e);case"WRITE_REVIEW_PRODUCT_CARD":return ae.getWidgetHeight(e);case"IMAGE_CARD_WITH_ACTION":return ge.getWidgetHeight(e);default:return A.getWidgetHeight(e)}}}},947135:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(395567),r=i(90513),a=i(918210);class o{handleAction(e,t,i){if(e.payload instanceof n.YnD){const i=e.payload,n=t.pageDataResponse&&t.pageDataResponse.pageContext&&t.pageDataResponse.pageContext,o=n&&n.analyticsData&&n.analyticsData.category?n.analyticsData.category:"",s=t.appContext.userManager.isPresentInWishlist(i.productId),l={};return l[r.Ay.PRODUCTS]=";"+i.productId+";;;;eVar22="+o,s?(l[r.fM.EVENT23]="1",a.A.addEventData(l),a.A.trackEventUnderName("RemoveFromWishlist")):(l[r.fM.EVENT21]="1",a.A.addEventData(l),a.A.trackEventUnderName("AddToWishlist")),!0}return!1}}},948017:(e,t,i)=>{"use strict";i.d(t,{A:()=>g});var n=i(296540),r=i(45426),a=i(877293),o=i(420721),s=i(410752),l=i(501886),d=i(302019),c=i(339599),u=i(727e3),h=i(257246),p=i(879052);class g extends n.PureComponent{constructor(){super(...arguments),this.DEFAULT_TRUNCATE_TEXT=(0,o.ak)(this.context.locale,{id:s.H.rex_string_MORE_TEXT}),this._highlightTextRender=e=>{let t=this.props.highlightStyle;t&&"font"in t&&(t=Object.assign(Object.assign({},t),{font:(0,c.getMediumVariant)(t.font||"m")}));const i=e.isBold?Object.assign(Object.assign({},this.props.containerStyle),t):this.props.containerStyle;return n.createElement(d.JU,Object.assign({},i),e.text)},this._onPress=(e,t)=>{this.props&&this.props.onPress&&this.props.onPress(t)},this._onPressExpanded=(e,t)=>{t&&this._onPress(e)},this._onTextLayout=e=>{var t;(null===(t=this.props)||void 0===t?void 0:t.onTextLayout)&&this.props.onTextLayout(e)}}shouldTruncate(e){const t=this.props.textAfterTruncate?this.props.textAfterTruncate:this.DEFAULT_TRUNCATE_TEXT,i=this.props.truncateAfterCharLimit?this.props.truncateAfterCharLimit:200;return{textAfterTruncate:t,truncateAfterCharLimit:i,shouldTruncate:e.length>i+t.length+3}}render(){const{textAfterTruncate:e,truncateAfterCharLimit:t,shouldTruncate:i}=this.shouldTruncate(this.props.text);return i?this.props.isExpanded&&i?n.createElement(d.JU,Object.assign({},(0,p.Z)("Product_Summary_Title_Truncatable"),this.props.containerStyle,{suppressHighlighting:!0,onPress:this._onPress,onLayout:this._onTextLayout}),this._getText(this.props.text),this.props.suffixText&&n.createElement(d.JU,Object.assign({},(0,p.Z)("Product_Summary_Title_Suffix"),this.props.suffixStyle),this.props.suffixText)):n.createElement(r.S,Object.assign({},(0,p.Z)("Product_Summary_Title_Truncatable"),{onPress:this._onPressExpanded,onPressParam:i,disableFeedback:!0}),n.createElement(d.JU,Object.assign({suppressHighlighting:!0},this.props.containerStyle,{onLayout:this._onTextLayout}),this._getText(this.props.text.substring(0,t)+(i?"...":""))," ",i?n.createElement(u.w.Consumer,null,(t=>{var i,r;return n.createElement(d.JU,Object.assign({},(0,p.Z)("Product_Summary_Title_Suffix"),{font:(0,c.getMediumVariant)((null===(i=this.props.containerStyle)||void 0===i?void 0:i.font)||"m")},this.props.textAfterTruncateStyle,{color:null!==(r=(0,h.o0)(t))&&void 0!==r?r:"primary.main",suppressHighlighting:!0,style:(0,h.aO)("textUnderline",t)}),e)})):void 0,this.props.suffixText&&n.createElement(d.JU,Object.assign({},(0,p.Z)("Product_Summary_Title_Suffix"),this.props.suffixStyle),this.props.suffixText))):n.createElement(d.JU,Object.assign({},(0,p.Z)("Product_Summary_Title_Truncatable"),this.props.containerStyle,{suppressHighlighting:!0,onLayout:this._onTextLayout}),this._getText(this.props.text),this.props.suffixText&&n.createElement(a.Text,Object.assign({},(0,p.Z)("Product_Summary_Title_Suffix"),this.props.suffixStyle),this.props.suffixText))}_getText(e){const t=this.props.offset?this.props.offset:0;return n.createElement(d.JU,Object.assign({},(0,p.Z)("Product_Summary_Title_Truncatable_Text"),this.props.textStyle),this.props.highlights?(0,l.w$)(e,this.props.highlights,0,e.length,t).map(this._highlightTextRender):e)}}g.contextType=o.V8},949520:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(918210),r=i(90513),a=i(530136);class o{handleAction(e,t,i){if(e.payload&&t){if(e.payload.trackingParams){const i={},o=e.payload.trackingParams.getSProduct(),s=e.payload.trackingParams.getProp41(),l=e.payload.trackingParams.getProp42();i[r.Ay.PRODUCTS]=o||"",i[r.Ay.PROP41]=s||"",i[r.Ay.PROP42]=l||"",i[r.Ay.PROP3]=t.pageMeta.marketPlace+":"+t.pageMeta.pageType,n.A.addAndtrackEventUnderName(a.A.SellerInfo_BottomSheet_Open,i)}return!0}return!1}}},950534:(e,t,i)=>{"use strict";i.d(t,{G:()=>E});var n=i(877293),r=i(492418),a=i(329379),o=i(887261);const s=n.StyleSheet.create({ratingContainer:{flexDirection:"row",flex:1,marginLeft:16,marginRight:16,marginTop:0,marginBottom:24},ratingValueContainer:{height:32,borderRadius:4,paddingHorizontal:8,paddingVertical:4,justifyContent:"center",alignItems:"center",overflow:"hidden",maxWidth:55},largeRatingValueContainer:{height:32,borderRadius:16,paddingHorizontal:6,justifyContent:"center",alignItems:"center",overflow:"hidden"},ratingValueText:{lineHeight:24,fontSize:16,fontFamily:o.oF,includeFontPadding:!1,textAlign:"center",textAlignVertical:"center",alignSelf:"center",color:r.Jyk.white,display:"flex"},ratingPillValue:{lineHeight:20,fontSize:16,paddingLeft:2,paddingBottom:2},ratingReviewsCountText:{flex:1,flexWrap:"wrap",color:r.M1q,fontSize:14,marginLeft:16,textAlignVertical:"center",alignSelf:"center"},adjectiveViewContainer:{flexDirection:"row",marginLeft:16,marginRight:16,marginTop:0,paddingBottom:24,borderBottomWidth:1,borderBottomColor:r.OKH.greySecondary,marginBottom:16},adjectiveViewBaseTextStyle:{marginTop:4,color:r.M1q,fontSize:14,maxWidth:80,textAlign:"center"},adjectiveViewReviewsCountText:{color:r.M1q,fontSize:14},adjectiveViewRatingContainer:{paddingRight:20,borderRightWidth:1,borderRightColor:r.Jyk.separator,display:"flex",alignItems:"center"},adjectiveViewRoundedRatingContainer:{minWidth:55,paddingHorizontal:8,paddingVertical:4},adjectiveViewRoundedRatingText:{fontSize:16,display:"flex",alignItems:"center",lineHeight:24},ratingAdjectiveContainer:{width:"70%",marginLeft:16},ratingAdjectiveText:{fontFamily:o.$u,fontSize:20,lineHeight:a.A.getLineHeight(20)}});var l,d=i(296540),c=i(927443),u=i(410752),h=i(420721),p=i(708902),g=i(632518),m=i(988287),v=i(479892),_=i(727e3),C=i(879052);!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.WITH_ADJECTIVE=1]="WITH_ADJECTIVE"}(l||(l={}));class E extends d.PureComponent{constructor(){super(...arguments),this.ratingAdjectiveStyle=[v.C1.padding_bottom_3,v.C1.alignSelfCenter,v.XT.lightGreyText,v.XT.fontMedium],this.starContainerStyle=[v.C1.dimension_16,v.C1.alignItemCenter]}render(){const{ratingCount:e,reviewCount:t,averageRating:i}=this.props,{locale:a}=this.context,o=(0,c.m3)(e),l=(0,c.m3)(t),p=e>1?(0,h.ak)(a,{id:u.H.rex_string_RATINGS}):(0,h.ak)(a,{id:u.H.rex_string_RATING}),E=t>1?(0,h.ak)(a,{id:u.H.rex_string_REVIEWS}):(0,h.ak)(a,{id:u.H.rex_string_REVIEW}),T=o+r.NH+p+r.NH+(0,h.ak)(a,{id:u.H.rex_string_AND_TEXT})+r.NH+l+r.NH+E;return d.createElement(_.w.Consumer,null,(e=>d.createElement(n.View,Object.assign({},(0,C.Z)("Aspect_Rating_Stars_Container"),{style:[s.ratingContainer,this.props.containerStyle]}),d.createElement(n.View,{style:v.C1.colWithoutFlex},this.props.ratingAdjective&&d.createElement(n.Text,{style:this.ratingAdjectiveStyle},this.props.ratingAdjective),d.createElement(m.A,{starScaleFactor:1.3,rating:i,starContainerStyle:this.starContainerStyle,themeContext:e})),d.createElement(g.g,Object.assign({},(0,C.Z)("Aspect_Rating_Review_Text"),{style:[s.ratingReviewsCountText,this.props.textStyle],numberOfLines:2,text:T})))))}}E.contextType=p.Ay},950555:(e,t,i)=>{"use strict";i.d(t,{B0:()=>o,Xj:()=>l,fj:()=>s,uK:()=>d});var n=i(347924),r=i(877293),a=i(492418);const o=n.eH.extendComponent({name:"CircularView",defaultProps:{width:64,height:64,borderRadius:32,right:-4,p:"s2",bg:"#084E1D"}}),s=n.fI.extendComponent({name:"ContainerView",defaultProps:{bg:a.Jyk.successGreen,overflow:"hidden",alignItems:"center",height:32}}),l=n.fI.extendComponent({name:"ContainerViewV2",defaultProps:{alignItems:"center"}}),d=r.StyleSheet.create({verticalTickerStyles:{flex:1,alignSelf:"center",marginLeft:4,justifyContent:"center"},verticalTickerStylesV2:{alignSelf:"center",marginLeft:4,justifyContent:"center"},lottieStyles:{height:18,width:18,marginRight:8},progressBackgroundStyle:{width:"100%",height:4,backgroundColor:"#0B6024"},progressStyles:{height:4,backgroundColor:a.Cf1.fkYellowDisabledColor},incompleteProgressStyles:{height:4}})},950617:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var n=i(296540),r=i(800303),a=i(50745),o=i(352254),s=i(45426),l=i(468248),d=i(410752),c=i(420721);class u extends n.PureComponent{constructor(){super(...arguments),this.MORE_TEXT=(0,c.ak)(this.context.locale,{id:d.H.rex_string_MORE_OFFERS}),this._handleClick=(e,t)=>{t&&this.props.onChevronClick?this.props.onChevronClick(t.position,t.action):this.props.onNonChevronItemClick&&this.props.onNonChevronItemClick(e)}}static getHeight(e){const t=e.offerSummaryRC,i=t.value&&t.value.offerSummaries;if(!i)return 0;return 35*Math.min(i.length,3)+8+(i.length>3?20:0)}render(){const e=this.props.offerSummaryRC,t=e.value&&e.value.offerSummaries;if(!t)return null;const i="+"+(t.length>3?t.length-3:"");return t.map(((e,l)=>{const d=void 0!==e.chevronAction;return l<3?d?this.renderOfferTextWithChevron(e,l,d):n.createElement(s.S,{onPress:this._handleClick,disableFeedback:!0,key:l},n.createElement(r.DlsView,{style:a.Ys.holder},e.iconUrl&&n.createElement(o.A,{style:a.Ys.offerSummaryImage,source:e.iconUrl,height:16,width:16}),e.title&&n.createElement(r.Label,{style:a.Ys.headerTitleStyle,numberOfLines:2},e.title))):3===l&&t.length>3&&n.createElement(r.Label,{style:a.Ys.moreOffersText,key:l},`${i} ${this.MORE_TEXT}`)}))}renderOfferTextWithChevron(e,t,i){return n.createElement(s.S,{onPress:this._handleClick,onPressParam:{action:e.chevronAction,position:t},disableFeedback:!0,key:t},n.createElement(r.DlsView,{style:a.Ys.holder,key:t},e.iconUrl&&n.createElement(o.A,{style:a.Ys.offerSummaryImage,source:e.iconUrl,height:16,width:16}),e.title&&n.createElement(r.Label,{style:a.Ys.headerTitleStyle,numberOfLines:2},e.title),i&&n.createElement(r.DlsView,{style:a.Ys.chevronImageContainer},n.createElement(o.A,{source:l.j.getChevronSrc().uri,height:12,width:12}))))}}u.contextType=c.V8},951823:(e,t,i)=>{"use strict";i.d(t,{H:()=>g});var n=i(241598),r=i(296540),a=i(624801),o=i(815946),s=i(383049),l=i(901070),d=i(166057),c=i(976321),u=i(637990),h=i(877293),p=i(415283);const g=({value:e,isEmiBottomSheet:t})=>{const{isLoading:i,setLoading:h}=(0,s.o)(),{applied:g,actionCta:v}=e,{dispatcher:_,updateWidgetInfo:C,selectedTab:E,nepContext:T,trackDiscoveryContentClickEvent:f,scrollToSlotPosition:A,isLoggedIn:S,pageUID:y}=(0,l.a)();if(!v)return null;const w=()=>{let e=null==v?void 0:v.action;if(e){if(e.type===p.Q3.SHOW_SWATCH_WARNING){const t={action:e,scrollToSlotPosition:A},i={type:p.Q3.SHOW_SWATCH_WARNING,payload:t};_&&(0,c.co)(_),setTimeout((()=>{_&&_(i)}),500)}else e.type===d.a.NEP_OFFER?(e=(0,c.Ni)(e,g,C,E,T),(null==e?void 0:e.params)&&(e.params.fromBottomSheet=!0),S?(h(!0),(0,c.pN)(C,_,e)):(_&&(0,c.co)(_),(0,c.Au)(y))):(0,c.pN)(C,_,e);(null==e?void 0:e.tracking)&&(t?(0,c.aZ)(e.tracking,_,!1):f&&f(e.tracking))}};return g?r.createElement(n.h1,{borderRadius:a.CRKeysBasic.cr6,borderWidth:a.OutlineKeysBasic.o2,borderColor:"outline.brandPrimary.highlight",activeOpacity:.8,alignItems:"center",paddingVertical:"s5",minHeight:"s5",onPress:w},i?r.createElement(n.az,{mr:"s2",mt:"s4",py:"s2"},r.createElement(u.A,{dotStyle:m.dotStyleRemove,animationDuration:280})):r.createElement(n.JU,{color:"foreground.brandPrimary.link",typography:"heading"},null!==(b=null===(I=null==v?void 0:v.value)||void 0===I?void 0:I.ctaText)&&void 0!==b?b:"")):r.createElement(n.az,{overflow:"hidden",borderRadius:a.CRKeysBasic.cr6},r.createElement(n.W4,{gradientColor:"brand.500To700",gradientDirection:a.GradientDirection.HORIZONTAL,NativeLinearGradient:o.d},(()=>{var e,t;return r.createElement(n.h1,{activeOpacity:.8,alignItems:"center",paddingVertical:"s5",minHeight:"s5",onPress:w},i?r.createElement(n.az,{mr:"s2",mt:"s4",py:"s2"},r.createElement(u.A,{dotStyle:m.dotStyleApply,animationDuration:280})):r.createElement(n.JU,{color:"foreground.constant.white",typography:"heading"},null!==(t=null===(e=null==v?void 0:v.value)||void 0===e?void 0:e.ctaText)&&void 0!==t?t:""))})()));var I,b},m=h.StyleSheet.create({dotStyleApply:{backgroundColor:"#FFFFFF",width:6,height:6,borderRadius:3},dotStyleRemove:{backgroundColor:"#1254E7",width:6,height:6,borderRadius:3}})},953027:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>T});var n=i(465420),r=i(296540),a=i(716249),o=i(302019),s=i(398581),l=i(495176),d=i(877293),c=i(408791),u=i(52754),h=i(479892),p=i(695276),g=i.n(p),m=i(331547),v=i(727e3),_=i(257246),C=i(857850);class E extends a.A{constructor(){super(...arguments),this.lottieStyle={width:28,height:28},this.lottiContainerStyle={display:"flex",alignItems:"center",justifyContent:"center"},this.SUBTITLE_PILL_WIDTH=108,this.PILL_WIDTH=124,this.GRADIENT_END=[0,.8],this.DEFAULT_BORDER_COLOR="#EEEEEE",this.DEFAULT_BORDER_WIDTH=1,this.DEFAULT_BORDER_RADIUS=6,this.renderStarAndRating=e=>r.createElement(v.w.Consumer,null,(t=>{var i;const n=null!==(i=(0,_.vZ)(t))&&void 0!==i?i:e>=3.5?C.Jy.successGreen:C.Jy.warningYellow;return r.createElement(o.fI,null,r.createElement(o.fI,{bg:n,px:"s2",mb:"s4",borderRadius:2,justifyContent:"center",alignItems:"center"},this.renderStarSvg(),r.createElement(o.JU,{color:"v2.neutral.0",font:"xs_medium",ml:"s1"},e.toFixed(1))))})),this.renderMlAspectPill=(e,t)=>{if(!e)return;const{title:i,averageRating:n,containerStyle:a,aspectSummary:s}=e,{borderColor:d=this.DEFAULT_BORDER_COLOR,borderRadius:c=this.DEFAULT_BORDER_RADIUS,borderWidth:u=this.DEFAULT_BORDER_WIDTH}=a||{};return r.createElement(o.az,{key:t,p:"s4",bg:"v2.neutral.50",borderWidth:u,borderColor:d,mr:"s5",borderRadius:c,width:this.PILL_WIDTH},r.createElement(l.A,{richTextData:i,style:h.C1.padding_bottom_4,numberOfLines:1}),this.renderStarAndRating(n),r.createElement(l.A,{richTextData:s,style:{width:this.SUBTITLE_PILL_WIDTH},numberOfLines:8}))},this.handleMlAspectPillClick=(e,t)=>{(null==t?void 0:t.action)&&this.dispatchMAPIIndexedAction(t.action)},this.renderMlAspectSection=e=>r.createElement(d.ScrollView,{horizontal:!0,showsHorizontalScrollIndicator:!1},null==e?void 0:e.map(((e,t)=>r.createElement(o.SB,{onPress:this.handleMlAspectPillClick,onPressParam:e,key:t},this.renderMlAspectPill(e.value,t))))),this.renderMlAspectHeader=e=>{var t,i,n;if(!e||!e.header)return;const{title:a,subtitle:d,valueAnimation:u}=e.header;if(!u)return;const p=null===(t=null==a?void 0:a.data[0])||void 0===t?void 0:t.value,g=null===(i=null==d?void 0:d.data[0])||void 0===i?void 0:i.value,{url:v,loop:_,autoplay:C}=u,E=null===(n=e.header.backgroundDetails)||void 0===n?void 0:n.gradientColors;if(!v&&!p)return;const T=r.createElement(o.fI,{p:"s6"},v?r.createElement(o.az,{display:"flex",justifyContent:"center",mr:"s4"},r.createElement(c.n,{speed:1,loop:_,autoPlay:C,sourceUrl:v,style:this.lottieStyle,containerStyle:this.lottiContainerStyle})):void 0,p?r.createElement(o.az,null,r.createElement(l.A,{richTextData:p,style:h.C1.padding_bottom_2}),g?r.createElement(l.A,{richTextData:g}):void 0):void 0);return E?r.createElement(s.W,{gradientColors:E,gradientStart:m._.TOP,gradientEnd:this.GRADIENT_END,renderInWeb:!0},T):{content:T}}}static getWidgetHeight(e){let t=0;const i=(0,u.xH)(e.widgetSlotData);if(!i)return t;const{header:n,aspectSummaries:r}=i,a=e=>{var t;let i=0;if(!e)return i;const n=null===(t=e[0])||void 0===t?void 0:t.value;if(!n)return i;const{title:r,averageRating:a,aspectSummary:o}=n;return r&&(i+=this.TITLE_LINE_HEIGHT+this.TITLE_PADDING_BOTTOM),a&&(i+=this.AVERAGE_RATING_LINE_HEIGHT+this.AVERAGE_RATING_PADDING_BOTTOM),o&&(i+=this.ASPECT_SUMMARY_HEIGHT),this.WIDGET_PADDING_TOP+i+this.WIDGTE_PADDING_BOTTOM};return n&&(t+=(e=>{let t=0;if(!e)return t;const{title:i,subtitle:n}=e;return i&&(t+=this.HEADER_TITLE_LINE_HEIGHT+this.HEADER_TITLE_PADDING_BOTTOM),n&&(t+=this.HEADER_SUBTITLE_LINE_HEIGHT),this.HEADER_PADDING_TOP+t+this.HEADER_PADDING_BOTTOM})(n)),r&&(t+=a(r)),t}renderDivider(){}renderStarSvg(){return r.createElement(g(),{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none"},r.createElement(p.Path,{d:"M5.17231 7.45049L7.14244 8.69869C7.39428 8.85824 7.70694 8.62094 7.63222 8.32698L7.063 6.08782C7.04697 6.02546 7.04887 5.95983 7.06848 5.8985C7.08809 5.83716 7.12461 5.78261 7.17384 5.74111L8.94053 4.27066C9.17267 4.07745 9.05285 3.69219 8.75461 3.67284L6.44743 3.5231C6.38528 3.51866 6.32568 3.49666 6.27556 3.45966C6.22543 3.42265 6.18685 3.37217 6.16431 3.31409L5.30382 1.14718C5.28043 1.08553 5.23884 1.03246 5.18458 0.995008C5.13031 0.957557 5.06594 0.9375 5 0.9375C4.93407 0.9375 4.86969 0.957557 4.81543 0.995008C4.76116 1.03246 4.71957 1.08553 4.69618 1.14718L3.8357 3.31409C3.81315 3.37217 3.77457 3.42265 3.72445 3.45966C3.67432 3.49666 3.61472 3.51866 3.55258 3.5231L1.24539 3.67284C0.947147 3.69219 0.827332 4.07745 1.05947 4.27066L2.82616 5.74111C2.87539 5.78261 2.91192 5.83716 2.93152 5.8985C2.95113 5.95983 2.95303 6.02546 2.937 6.08782L2.40912 8.16439C2.31944 8.51715 2.69465 8.8019 2.99685 8.61044L4.82769 7.45049C4.87919 7.41771 4.93896 7.4003 5 7.4003C5.06104 7.4003 5.12082 7.41771 5.17231 7.45049V7.45049Z",fill:"white"}))}renderWidget(){const e=(0,u.xH)(this.props.widgetSlotData);if(!e)return;const t=null==e?void 0:e.aspectSummaries;return r.createElement(r.Fragment,null,this.renderMlAspectHeader(e),t?r.createElement(o.az,{px:"s6",pb:"s6"},this.renderMlAspectSection(t)):void 0)}}E.HEADER_TITLE_LINE_HEIGHT=24,E.HEADER_SUBTITLE_LINE_HEIGHT=20,E.TITLE_LINE_HEIGHT=18,E.AVERAGE_RATING_LINE_HEIGHT=16,E.HEADER_TITLE_PADDING_BOTTOM=2,E.AVERAGE_RATING_PADDING_BOTTOM=8,E.HEADER_PADDING_TOP=16,E.WIDGET_PADDING_TOP=8,E.HEADER_PADDING_BOTTOM=16,E.TITLE_PADDING_BOTTOM=4,E.WIDGTE_PADDING_BOTTOM=8,E.ASPECT_SUMMARY_HEIGHT=92;class T extends n.A{getWidgetClass(){return E}getWidgetHeight(e){return E.getWidgetHeight(e)}}},967495:e=>{e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},968176:(e,t,i)=>{"use strict";i.d(t,{L:()=>r});var n=i(57522);class r{constructor(e,t,i,r){this.type=n.j.LIVESTREAM_VOLATITLE_DATA,this.rewardmachineState=e,this.taggedProducts=t,this.scrollPosition=i,this.addedProducts=r}}},973832:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(918210),r=i(90513),a=i(532655),o=i(229833),s=i(938777),l=i(530136);class d{handleAction(e,t,i){const d=t.pageDataResponse&&t.pageDataResponse.pageContext?t.pageDataResponse.pageContext:void 0,c=d&&d.analyticsData?d.analyticsData:void 0,u={},h=e.payload;let p,g="",m="";return c&&(g=c.category?c.category:"",m=c.vertical?c.vertical:""),p=d&&d.marketplace?d.marketplace:s.fOd.MARKETPLACE_FLIPKART,u[r.Ay.PROP3]=a.A.Product,u[r.Ay.PROP4]=l.A.ProductPage,d&&(u[r.Ay.PRODUCTS]=o.A.getProductString(d.productId?d.productId:a.A.Product,g,m,p)),o.A.addEvent(u,r.fM.EVENT187),h&&h.trackCnC&&o.A.addEvent(u,r.fM.EVENT424),u[r.Ay.PROP41]="BottomSheet_PPOffersClick",n.A.addEventData(u),n.A.trackEventUnderName("PP_offers_click"),!0}}},976885:(e,t,i)=>{"use strict";i.d(t,{A:()=>v});var n=i(296540),r=i(877293),a=i(52199),o=i(911294),s=i(410752),l=i(420721),d=i(479892),c=i(432160),u=i(927443),h=i(495176),p=i(879052),g=i(411678),m=i(438870);class v extends n.PureComponent{constructor(){super(...arguments),this.isCartRecoPriceText=!!this.props.isCartRecoPriceText,this._discountTextStyle=[d.XT.fontMedium_12,d.XT.alignTextVertical,d.XT.fkGreenText,this.props.discountStyle||null],this._priceTextContainerStyle=[a.w.priceTextComponentContainer,d.C1.justifyContentStart,this.props.priceBreakUpStyle||null],this._priceTextSwapContainerStyle=[a.w.priceTextSwapComponentContainer,d.C1.justifyContentStart],this._priceTextWrapContainerStyle=[this._priceTextContainerStyle,d.C1.wrap,this.props.priceBreakUpStyle||null],this._priceStrikeoffTextWrapContainerStyle=[this.props.showMrpBeforeFSPExperience||this.props.showMrpSwapTagExperience?this._priceTextSwapContainerStyle:this._priceTextContainerStyle,d.C1.wrap,this.props.priceBreakUpStyle||null],this._priceActualValTextStyle=[d.XT.fontMedium_12,d.XT.fkBlackPrimaryText,d.XT.alignTextVertical,this.isCartRecoPriceText?d.XT.lineHeight_24:d.XT.lineHeight_20,this.props.priceBreakUpStyle||null],this._strikeOffPriceStyle=[d.XT.fontMedium_12,d.XT.lightGreyText,d.XT.strikeTextStyle,d.XT.textDecorationStyleSolid,d.C1.margin_right_6,this.isCartRecoPriceText?d.XT.lineHeight_16:d.XT.lineHeight_20],this._mrpStrikeoffContainerStyle=d.C1.rowFlexStart,this._mrpTextStyle=[d.XT.fontMedium_12,d.XT.lightGreyText,d.XT.lineHeight_20],this._breakDiscountTextStyle=[this._priceTextContainerStyle,this.isCartRecoPriceText?d.C1.height_16:d.C1.height_14,this.props.discountContainerStyle||null],this._renderXtraSaver=()=>{const e=this.props.xtraSaver,t=(0,m.n_)(this.props.xsState)?null==e?void 0:e.locked:null==e?void 0:e.unlocked;return t?n.createElement(g.GR,{xtraSaverData:t,xsState:this.props.xsState,dispatchAction:this.props.dispatchAction}):null}}render(){var e,t,i,g;const v=(0,l.ak)(this.context.locale,{id:s.H.rex_string_Off}),_=(0,l.ak)(l.Vn.EN,{id:s.H.rex_string_MRP_short}),C=this.props.prices.length,{discountPrice:E,showDiscountAsAmount:T,totalDiscount:f,breakDiscountText:A,showDiscountAtTop:S,hideTag:y,showFormattedPriceValue:w}=this.props,I=`${this.props.prices[C-1].value}`,b=I&&parseInt(I)&&w?(0,u.m3)(parseInt(I)):I,D=`${o.y3}${b}`,x=this.props.prices[0]&&this.props.prices[0].value,P=(0,m.E9)(this.props.xsState)?null===(t=null===(e=this.props.xtraSaver)||void 0===e?void 0:e.unlocked)||void 0===t?void 0:t.discountPercentage:null,O=P&&P>0?`${P}${o.NP} ${v}`:null,R=T?`${o.y3}${E} ${v}`:`${f}${o.NP} ${v}`,k=(0,m.E9)(this.props.xsState)&&this.props.xtraSaver?O:R,V=!(null===(g=null===(i=this.props.xtraSaver)||void 0===i?void 0:i.unlocked)||void 0===g?void 0:g.price)||(0,m.n_)(this.props.xsState);let L=null;return(E||f)&&k&&(L=n.createElement(r.Text,Object.assign({},(0,p.Z)("Cart_Reco_Discount"),{style:this._discountTextStyle}),k)),n.createElement(r.View,{style:a.w.priceTextContainer},n.createElement(r.View,{style:d.C1.col},n.createElement(r.View,{style:this._priceTextWrapContainerStyle},n.createElement(r.View,{style:this._priceStrikeoffTextWrapContainerStyle},V?n.createElement(h.A,Object.assign({},(0,p.Z)("Cart_Reco_Selling_Price"),{text:D,style:this._priceActualValTextStyle})):null,n.createElement(r.View,{style:this._mrpStrikeoffContainerStyle},C>1&&x&&n.createElement(n.Fragment,null,!y&&this.props.showMrpSwapTagExperience&&n.createElement(h.A,Object.assign({},(0,p.Z)("Cart_Reco_Mrp"),{text:_,style:this._mrpTextStyle})),n.createElement(h.A,Object.assign({},(0,p.Z)("Cart_Reco_Striked_Price"),{text:w?(0,u.m3)(x):`${x}`,style:this._strikeOffPriceStyle}))))),!E||A||S?null:L),this.isCartRecoPriceText?n.createElement(r.View,{style:[d.C1.row,d.C1.alignItemCenter,d.C1.margin_top_8]},n.createElement(r.View,{style:this._breakDiscountTextStyle},L),this.props.showFAssured&&n.createElement(c.A,null)):A&&!S?n.createElement(r.View,{style:this._breakDiscountTextStyle},L):null,this._renderXtraSaver()))}}v.contextType=l.V8},977717:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var n=i(97529),r=i(918210),a=i(90513);class o{handleAction(e,t){var i,s;if(e.payload&&e.payload.type===n.A.BUY_NOW_V2_CLICK){const t=e.payload,n=null==t?void 0:t.parentTrackingMap,l=null==t?void 0:t.attachedItemsTrackingMap,d=null==t?void 0:t.checkoutResponse;if(null==t?void 0:t.isCheckoutCallFailed)return r.A.addAndtrackEventUnderName("BuyNow_Error",{[a.Ay.PROP37]:"PP_ACTA_BuyNowError_ParentOOS_ChildOOS"}),!0;const c={products:o.getProductString(n,l)},u={event10:"1",[a.Ay.EVAR28]:o.getSellerType(n)};if(null===(i=null==d?void 0:d.RESPONSE)||void 0===i?void 0:i.partialFailure){const e=d.RESPONSE.partialFailure,t=a.Ay.PROP37;(null===(s=null==e?void 0:e.tracking)||void 0===s?void 0:s.errorContext)&&(c[t]=`PP_ACTA_${e.tracking.errorContext}`)}return r.A.addPageData(u),r.A.addEventData(c),r.A.trackEventUnderName("BuyNow"),!0}return!1}static getProductString(e,t){var i,n;let r="";const a=null==e?void 0:e.addCartLocation;if((null===(i=null==e?void 0:e.trackingDataV2)||void 0===i?void 0:i.sproduct)&&(r=`${e.trackingDataV2.sproduct}|eVar18:${a}`),t)for(const e in t)if(t.hasOwnProperty(e)){const i=t[e];(null===(n=null==i?void 0:i.trackingParams)||void 0===n?void 0:n.sProduct)&&(r=r?`${r},`:r,r+=`${i.trackingParams.sProduct}|eVar18:${a}`)}return r}static getSellerType(e){if(null==e?void 0:e.trackingDataV2){const t=e.trackingDataV2;return`${t.wsrSellerPresent?"WSR":"NWSR"}_${t.sellerCount>1?"MULTIPLE":"SINGLE"}`}return(null==e?void 0:e.isCollectionCheckout)?"NWSR_SINGLE":""}}},989411:(e,t,i)=>{"use strict";i.d(t,{A:()=>m});var n=i(347924),r=i(296540),a=i(735546),o=i(352254),s=i(492418),l=i(420721),d=i(45426),c=i(410752),u=i(927443),h=i(257246),p=i(879052);const g=112;class m extends r.PureComponent{constructor(){super(...arguments),this.onAddtoCartTap=e=>{e&&this.props.actionTapped(e)},this._getOfferLabel=e=>{if(e)return r.createElement(a.Jc,Object.assign({},(0,p.Z)("PMU_Combo_Card_Offer_Text")),`${e}`)},this.renderAddToCart=()=>{var e,t,i,n,o;const s=(0,h.C_)(this.props.themeContext)||"primary.500",u=this.props.isProductinCart?(0,l.ak)(this.context.locale,{id:c.H.rex_string_GO_TO_CART_BROWSE}):null===(i=null===(t=null===(e=this.props.cardData)||void 0===e?void 0:e.addComboToCart)||void 0===t?void 0:t.value)||void 0===i?void 0:i.text,g=null===(o=null===(n=this.props.cardData)||void 0===n?void 0:n.addComboToCart)||void 0===o?void 0:o.action;return r.createElement(d.S,Object.assign({},(0,p.Z)("PMU_Combo_Card_Add_To_Cart"),{onPress:()=>this.onAddtoCartTap(g)}),r.createElement(a.Wb,null,r.createElement(a.VL,{color:s},u)))}}getSecondryImages(e){const t=e&&e.length>1;return r.createElement(n.az,{flex:1,ml:"s2"},r.createElement(a.VI,{mb:t?"s2":"s0"},r.createElement(o.A,Object.assign({},(0,p.Z)("PMU_Combo_Card_Image"),{height:t?56:g,width:t?56:g,source:e[0]}))),t&&r.createElement(a.VI,null,r.createElement(o.A,Object.assign({},(0,p.Z)("PMU_Combo_Card_Image_Secondary"),{height:54,width:54,source:e[1]}))))}getHeadingView(e){var t,i;if(!e)return null;const{title:o}=(null===(t=e.primaryProductCard)||void 0===t?void 0:t.titles)||{};return r.createElement(n.az,{mt:"s4",width:"100%"},r.createElement(a.a9,Object.assign({},(0,p.Z)("PMU_Combo_Card_Title"),{numberOfLines:1,ellipsizeMode:"tail"}),o),null===(i=e.secondaryProductCards)||void 0===i?void 0:i.map((e=>{if(e.titles.title)return r.createElement(a.a9,Object.assign({},(0,p.Z)("PMU_Combo_Card_Secondary_Title"),{numberOfLines:1,ellipsizeMode:"tail"}),`+ ${e.titles.title}`)})))}render(){var e,t,i,l,c,h,m,v,_,C,E;const{cardData:T}=this.props;if(!T)return null;const{primaryProductCard:f,secondaryProductCards:A}=T,S=null===(e=null==f?void 0:f.images)||void 0===e?void 0:e[0].imageUrl,y=[],w=null===(t=null==A?void 0:A[0].images)||void 0===t?void 0:t[0].imageUrl;if(w&&y.push(w),A){const e=A.length>1?null===(i=null==A?void 0:A[1].images)||void 0===i?void 0:i[0].imageUrl:void 0;e&&y.push(e)}const I={value:T.tag},b=null===(l=T.priceBreakup)||void 0===l?void 0:l.text,D=null===(h=null===(c=T.callout)||void 0===c?void 0:c.data)||void 0===h?void 0:h.value.text,x=(null===(m=null==I?void 0:I.value)||void 0===m?void 0:m.data.value.textColor)||"v2.success.500";return r.createElement(d.S,Object.assign({},(0,p.Z)(`PMU_Combo_Card_Container_${this.props.index}`),{onPress:this.props.cardTapped}),r.createElement(a.Q_,null,r.createElement(n.fI,null,r.createElement(a.VI,null,r.createElement(o.A,Object.assign({},(0,p.Z)("PMU_Combo_Card_Image_Secondary"),{height:g,width:g,source:S}))),this.getSecondryImages(y)),r.createElement(a.hw,null,this.getHeadingView(T),(null===(v=I.value)||void 0===v?void 0:v.data)&&r.createElement(a.Im,{bgColor:(null===(_=I.value.style)||void 0===_?void 0:_.backgroundColor)||"v2.success.50"},r.createElement(a.d1,Object.assign({},(0,p.Z)("PMU_Combo_Card_Tag"),{color:x}),I.value.data.value.text)),(null===(C=T.pricing)||void 0===C?void 0:C.displayPrice)&&r.createElement(a.XZ,Object.assign({},(0,p.Z)("PMU_Combo_Price")),`${s.y3o}${(0,u.m3)(null===(E=T.pricing)||void 0===E?void 0:E.displayPrice)}`),r.createElement(a.lT,Object.assign({},(0,p.Z)("PMU_Combo_Card_Price_Breakup")),b),this._getOfferLabel(D),this.renderAddToCart())))}}m.BUTTON_HIT_SLOP={},m.contextType=l.V8},990543:(e,t,i)=>{"use strict";i.d(t,{T2:()=>u,Vt:()=>s,f9:()=>c,vi:()=>l});var n=i(296540),r=i(877293),a=i(585935),o=i(24204);const s={machineState:"IDLE",command:"NONE",displayData:void 0,timerDetails:void 0,timerEndTime:void 0,isPostDisbursal:!1,isAllocationFailed:!1};function l(e,t){const{rewardDisplayAttributes:i,challengeTask:n,allocationStatus:r}=t;switch(e){case"SHOWING_PRE_DISBURSAL":return{displayData:null==i?void 0:i.preDisbursalMessage,timerDetails:(null==n?void 0:n.taskType)===o.o.CONTENT_WATCH?n.timerDetails:void 0,isPostDisbursal:!1};case"SHOWING_DISBURSAL_IN_PROGRESS":return{displayData:null==i?void 0:i.disbursalInProgressMessage,isPostDisbursal:!1};case"CENTERING_REWARD":case"SHOWING_TICKER":case"RETURNING_REWARD":return{displayData:null==i?void 0:i.postDisbursalMessage,isPostDisbursal:!0};case"SHOWING_STATIC_POST_MESSAGE":{const e=r===a.P.FAILED,t=e?(null==i?void 0:i.postDisbursalMessage)||(null==i?void 0:i.contentEndMessage):null==i?void 0:i.postDisbursalMessage;return{displayData:t,isPostDisbursal:t===(null==i?void 0:i.postDisbursalMessage),allocationStatus:e}}case"SHOWING_CONTENT_END_MESSAGE":return{displayData:null==i?void 0:i.contentEndMessage,isPostDisbursal:!1};default:return{displayData:void 0,timerDetails:void 0,isPostDisbursal:!1}}}const d=500,c=1.3;function u(e,t=!0,i,a,o,s){const l=(0,n.useRef)({translateX:new r.Animated.Value(0),translateY:new r.Animated.Value(0),scale:new r.Animated.Value(1)}).current;return(0,n.useEffect)((()=>{const n=e=>{e.finished&&i()};if("PLAY_CENTERING_ANIMATION"===e&&t&&a.current&&s){const e=s+16;a.current.measure(((t,i,a,s,u,h)=>{const p=o.width/2,g=o.height/2,m=p-(u+e/2),v=g-(h+s/2)-36;r.Animated.parallel([r.Animated.timing(l.translateX,{toValue:m,duration:d,useNativeDriver:!0,easing:r.Easing.bezier(.25,.1,.25,1)}),r.Animated.timing(l.translateY,{toValue:v,duration:d,useNativeDriver:!0,easing:r.Easing.bezier(.25,.1,.25,1)}),r.Animated.timing(l.scale,{toValue:c,duration:d,useNativeDriver:!0,easing:r.Easing.bezier(.25,.1,.25,1)})]).start(n)}))}else"PLAY_RETURN_ANIMATION"===e&&t&&r.Animated.parallel([r.Animated.timing(l.translateX,{toValue:0,duration:d,useNativeDriver:!0,easing:r.Easing.bezier(.25,.1,.25,1)}),r.Animated.timing(l.translateY,{toValue:0,duration:d,useNativeDriver:!0,easing:r.Easing.bezier(.25,.1,.25,1)}),r.Animated.timing(l.scale,{toValue:1,duration:d,useNativeDriver:!0,easing:r.Easing.bezier(.25,.1,.25,1)})]).start(n)}),[e,t,i,o,l,a]),{transform:[{translateX:l.translateX},{translateY:l.translateY},{scale:l.scale}]}}},996213:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});class n{constructor(e){this.color=e}}},996534:(e,t,i)=>{"use strict";i.d(t,{CF:()=>d,Dz:()=>I,HW:()=>A,HX:()=>f,MS:()=>c,Nc:()=>u,OX:()=>w,Q6:()=>o,Tq:()=>g,Uo:()=>T,VN:()=>s,W5:()=>C,W_:()=>a,ac:()=>E,cM:()=>m,dL:()=>y,e_:()=>v,eb:()=>l,jD:()=>h,n6:()=>_,oV:()=>p,yT:()=>S});var n=i(302019);const r=n.JU.extendComponent({name:"NoFontPadding",defaultProps:{includeFontPadding:!1}}),a=n.fv.extendComponent({name:"SellerWidgetOuterContainer",defaultProps:{flex:1,p:"s5"}}),o=n.fI.extendComponent({name:"SellerDetailsOuterContainer",defaultProps:{pb:"s5",alignItems:"center",justifyContent:"space-between",marginRight:"s2"}}),s=n.fI.extendComponent({name:"SellerDetailsInnerContainer",defaultProps:{alignItems:"center"}}),l=r.extendComponent({name:"SellerNameText",defaultProps:{paddingRight:"s4",font:"m_medium"}}),d=(n.eH.extendComponent({name:"SellerLabelViewContainer",defaultProps:{bg:"raw.teal.50",borderRadius:2}}),r.extendComponent({name:"SellerLabelText",defaultProps:{color:"raw.teal.600",lineHeight:16,px:"s2",letterSpacing:.5,font:"xs_medium"}}),r.extendComponent({name:"RatingNumberText",defaultProps:{color:"text.primary",marginLeft:"s3",lineHeight:20,font:"s_sb"}})),c=r.extendComponent({name:"BulletStyle",defaultProps:{color:"raw.grey.400",marginLeft:"s3",lineHeight:20,font:"xl_sb"}}),u=r.extendComponent({name:"SellerDurationText",defaultProps:{color:"raw.grey.400",marginLeft:"s2",lineHeight:20,font:"s"}}),h=n.fI.extendComponent({name:"SellerScoreBox",defaultProps:{borderWidth:1,borderColor:"raw.grey.100",borderRadius:8,alignItems:"center",justifyContent:"space-around",py:"s6"}}),p=r.extendComponent({name:"SellerQuantityText",defaultProps:{lineHeight:20,font:"m_sb",color:"text.primary",pb:"s2"}}),g=r.extendComponent({name:"SellerDescriptionText",defaultProps:{color:"raw.grey.300",font:"s"}}),m=n.fv.extendComponent({name:"SellerWidgetOuterContainer",defaultProps:{px:"s6",py:"s5"}}),v=r.extendComponent({name:"SellerNameText",defaultProps:{paddingRight:"s4",font:"l_sb"}}),_=n.fI.extendComponent({name:"AccordionHeaderContainer",defaultProps:{alignItems:"center",justifyContent:"space-between",py:"s4"}}),C=n.az.extendComponent({name:"AccordionHeaderChevronContainer",defaultProps:{mt:"s2"}}),E=n.az.extendComponent({name:"CollapsedChevronContainer",defaultProps:{transform:[{rotate:"90deg"}]}}),T=n.az.extendComponent({name:"ExpandedChevronContainer",defaultProps:{transform:[{rotate:"-90deg"}]}}),f=r.extendComponent({name:"AccordianHeaderText",defaultProps:{font:"m_sb",mt:"s3",mb:"s2"}}),A=n.fI.extendComponent({name:"SellerScoreContainer",defaultProps:{alignItems:"center",justifyContent:"space-between",py:"s1"}}),S=r.extendComponent({name:"SellerScoreLabel",defaultProps:{maxWidth:200,lineHeight:16,font:"s",color:"raw.grey.900"}}),y=n.az.extendComponent({name:"LicenceContainer",defaultProps:{alignItems:"center",justifyContent:"center",marginTop:"s5",bg:"raw.grey.50",borderRadius:4,p:"s4"}}),w=r.extendComponent({name:"FSSAILabelText",defaultProps:{font:"s_sb"}}),I=r.extendComponent({name:"PharmaLabelText",defaultProps:{font:"s_sb",textAlign:"center"}})},997282:(e,t,i)=>{"use strict";i.d(t,{a:()=>o});var n=i(492418),r=i(877293),a=i(887261);const o=r.StyleSheet.create({singleReviewLayout:{paddingLeft:16,paddingVertical:16},reviewHeading:{flexDirection:"row",alignItems:"center",paddingRight:16},reviewTitle:{flex:1,color:n.mUU,fontFamily:a.$u,includeFontPadding:!1,fontSize:14,marginLeft:8,paddingRight:16,marginTop:1},reportAbuseMenuContainer:{bottom:60},reviewLanguageIndicator:{fontSize:12,color:n.Jyk.fkGrayForty},singleReviewContainer:{width:280,maxHeight:430,minHeight:220},containerMinHeight:{minHeight:220},cardMaxHeight:{maxHeight:430},maxHeight:{maxHeight:120},swatchReviewStringStyle:{fontFamily:a.A$,includeFontPadding:!1,fontSize:12,lineHeight:16,paddingRight:16,paddingTop:8,color:n.Jyk.dimGray}})},999855:(e,t,i)=>{"use strict";i.d(t,{HF:()=>a,Vl:()=>o,aH:()=>r,aU:()=>l,py:()=>s});var n=i(877293);const r={WIDGET_HEIGHT:48,IMAGE_DIMEN:24,VC_IMAGE_DIMEN:40,RIPPLE_SCALE:1.8},a=14,o=48,s=n.StyleSheet.create({announcementContainer:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",paddingVertical:12,paddingHorizontal:16,backgroundColor:"#FEF7E9"},messageView:{marginStart:16,flex:1}}),l=n.StyleSheet.create({announcementContainer:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",paddingVertical:12},messageView:{flex:1}})}}]);
//# sourceMappingURL=ProductPageTS.js.map